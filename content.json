[{"title":"Maven学习总结(4)--构建web项目","date":"2018-05-25T03:16:00.000Z","path":"Maven/Maven/Maven学习总结(4)--构建web项目/","text":"Maven &#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x9AD8;&#x5EA6;&#x81EA;&#x52A8;&#x5316;&#x6784;&#x5EFA;&#x5DE5;&#x5177;&#xFF0C;&#x672C;&#x8EAB;&#x63D0;&#x4F9B;&#x4E86;&#x6784;&#x5EFA;&#x9879;&#x76EE;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4E0B;&#x9762;&#x5C31;&#x6765;&#x4F53;&#x9A8C;&#x4E00;&#x4E0B;&#x4F7F;&#x7528; Maven &#x6784;&#x5EFA;&#x9879;&#x76EE;&#x7684;&#x8FC7;&#x7A0B;&#x3002; &#x6253;&#x5F00;IDEA&#xFF0C;&#x9009;&#x62E9;&#x65B0;&#x5EFA;&#x9879;&#x76EE;&#x65B9;&#x5F0F;&#x4E00; &#x65B9;&#x5F0F;&#x4E8C; &#x9009;&#x62E9; Maven &#x65B9;&#x5F0F;&#xFF0C;&#x7C7B;&#x578B;&#x9009;&#x62E9; maven-archetype-webapp &#x8F93;&#x5165;&#x7EC4;&#x7EC7;id&#x3001;&#x9879;&#x76EE;&#x540D;&#x79F0;&#x548C;&#x7248;&#x672C;&#x4FE1;&#x606F; &#x786E;&#x8BA4; Maven &#x4FE1;&#x606F;(&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x3001;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3001;maven &#x7248;&#x672C;)&#xFF0C;&#x4E00;&#x822C;&#x6765;&#x8BF4;&#x4E0D;&#x9700;&#x8981;&#x6539;&#x53D8; &#x786E;&#x8BA4;&#x9879;&#x76EE;&#x540D;&#x79F0;&#x53CA;&#x5B58;&#x50A8;&#x4F4D;&#x7F6E; &#x7B49;&#x5F85; Maven &#x6784;&#x5EFA;&#xFF0C;&#x6784;&#x5EFA;&#x540E;&#x9879;&#x76EE;&#x7ED3;&#x6784;&#x5982;&#x56FE;&#x6240;&#x793A; &#x53EF;&#x4EE5;&#x770B;&#x5230; src/main &#x76EE;&#x5F55;&#x4E0B;&#x53EA;&#x6709; webapp &#x76EE;&#x5F55;&#xFF0C;&#x6211;&#x4EEC;&#x6765;&#x624B;&#x5DE5;&#x5EFA;&#x7ACB;&#x4E0B;&#x5176;&#x4ED6;&#x76EE;&#x5F55; &#x65B0;&#x5EFA;&#x76EE;&#x5F55; &#x76EE;&#x5F55;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; maven &#x914D;&#x7F6E; pom.xml &#x914D;&#x7F6E; tomcat7&#x63D2;&#x4EF6;123456789101112131415161718192021222324252627&lt;build&gt; &lt;finalName&gt;platform&lt;/finalName&gt; &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt; &lt;plugins&gt; &lt;!-- tomcat &#x63D2;&#x4EF6;--&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt; &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt; &lt;version&gt;2.2&lt;/version&gt; &lt;configuration&gt; &lt;uriEncoding&gt;UTF-8&lt;/uriEncoding&gt; &lt;path&gt;/&lt;/path&gt; &lt;port&gt;8080&lt;/port&gt; &lt;server&gt;tomcat7&lt;/server&gt; &lt;/configuration&gt; &lt;executions&gt; &lt;execution&gt; &lt;phase&gt;package&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;run&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/pluginManagement&gt;&lt;/build&gt; &#x9009;&#x62E9; run &#x83DC;&#x5355;&#xFF0C;&#x7F16;&#x8F91;&#x914D;&#x7F6E; &#x70B9;&#x51FB;&#x6DFB;&#x52A0;&#x6309;&#x94AE;&#xFF0C;&#x9009;&#x62E9; mavne &#x5982;&#x56FE;&#x914D;&#x7F6E;&#x540D;&#x79F0;&#x548C;&#x542F;&#x52A8;&#x547D;&#x4EE4; &#x542F;&#x52A8;&#x9879;&#x76EE;&#xFF0C;&#x5E76;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8BBF;&#x95EE; http://localhost:8080","tags":[{"name":"Maven","slug":"Maven","permalink":"https://marklogzhu.github.io/tags/Maven/"},{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"}]},{"title":"Shiro学习总结(六)--Shiro并发登录","date":"2018-05-23T07:02:00.000Z","path":"Shiro/后台/Java/Shiro/Shiro学习总结(六)--Shiro并发登录/","text":"&#x4EC0;&#x4E48;&#x662F;&#x5E76;&#x53D1;&#x767B;&#x5F55;&#x5E76;&#x53D1;&#x767B;&#x5F55;&#x6307;&#x7684;&#x662F;&#x540C;&#x4E00;&#x4E2A;&#x8D26;&#x53F7;&#x5728;&#x591A;&#x4E2A;&#x5730;&#x65B9;&#x540C;&#x65F6;&#x767B;&#x5F55;&#xFF0C;&#x6709;&#x4E9B;&#x9879;&#x76EE;&#x5141;&#x8BB8;&#x540C;&#x65F6;&#x540C;&#x7C7B;&#xFF0C;&#x6709;&#x4E9B;&#x9879;&#x76EE;&#x4E3A;&#x4E86;&#x5B89;&#x5168;&#x8003;&#x8651;&#x53EA;&#x5141;&#x8BB8;&#x4E00;&#x4E2A;&#x4EBA;&#x767B;&#x5F55;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x8981;&#x4E48;&#x4E0D;&#x8BA9;&#x540E;&#x8005;&#x767B;&#x5F55;&#xFF1B;&#x8981;&#x4E48;&#x8E22;&#x51FA;&#x524D;&#x8005;&#x767B;&#x5F55;&#xFF08;&#x5F3A;&#x5236;&#x9000;&#x51FA;&#xFF09;&#x3002;Shiro &#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x9ED8;&#x8BA4;&#x5B9E;&#x73B0;&#xFF0C;&#x4E0D;&#x8FC7;&#x53EF;&#x4EE5;&#x5F88;&#x5BB9;&#x6613;&#x7684;&#x5728; Shiro &#x4E2D;&#x52A0;&#x5165;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x3002;&#x901A;&#x8FC7; Shiro Filter &#x673A;&#x5236;&#x6269; KickoutSessionControlFilter &#x5B8C;&#x6210;&#x3002; &#x6838;&#x5FC3;&#x4F9D;&#x8D56;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt; &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;artifactId&gt;ehcache-core&lt;/artifactId&gt; &lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt; &lt;version&gt;2.5.0&lt;/version&gt;&lt;/dependency&gt;``` ### &#x5728; com.marklogzhu.ssm.shiro &#x4E0B;&#x65B0;&#x5EFA; SpringCacheManagerWrapper.java &#x6587;&#x4EF6;``` javapublic class SpringCacheManagerWrapper implements CacheManager { private org.springframework.cache.CacheManager cacheManager; /** * &#x8BBE;&#x7F6E;spring cache manager * * @param cacheManager */ public void setCacheManager(org.springframework.cache.CacheManager cacheManager) { this.cacheManager = cacheManager; } @Override public &lt;K, V&gt; Cache&lt;K, V&gt; getCache(String name) throws CacheException { org.springframework.cache.Cache springCache = cacheManager.getCache(name); return new SpringCacheWrapper(springCache); } static class SpringCacheWrapper implements Cache { private org.springframework.cache.Cache springCache; SpringCacheWrapper(org.springframework.cache.Cache springCache) { this.springCache = springCache; } @Override public Object get(Object key) throws CacheException { Object value = springCache.get(key); if (value instanceof SimpleValueWrapper) { return ((SimpleValueWrapper) value).get(); } return value; } @Override public Object put(Object key, Object value) throws CacheException { springCache.put(key, value); return value; } @Override public Object remove(Object key) throws CacheException { springCache.evict(key); return null; } @Override public void clear() throws CacheException { springCache.clear(); } @Override public int size() { if(springCache.getNativeCache() instanceof Ehcache) { Ehcache ehcache = (Ehcache) springCache.getNativeCache(); return ehcache.getSize(); } throw new UnsupportedOperationException(&quot;invoke spring cache abstract size method not supported&quot;); } @Override public Set keys() { if(springCache.getNativeCache() instanceof Ehcache) { Ehcache ehcache = (Ehcache) springCache.getNativeCache(); return new HashSet(ehcache.getKeys()); } throw new UnsupportedOperationException(&quot;invoke spring cache abstract keys method not supported&quot;); } @Override public Collection values() { if(springCache.getNativeCache() instanceof Ehcache) { Ehcache ehcache = (Ehcache) springCache.getNativeCache(); List keys = ehcache.getKeys(); if (!CollectionUtils.isEmpty(keys)) { List values = new ArrayList(keys.size()); for (Object key : keys) { Object value = get(key); if (value != null) { values.add(value); } } return Collections.unmodifiableList(values); } else { return Collections.emptyList(); } } throw new UnsupportedOperationException(&quot;invoke spring cache abstract values method not supported&quot;); } }} &#x5728; com.marklogzhu.ssm.shiro&#x65B0;&#x5EFA; KickoutSessionControlFilter.java &#x6587;&#x4EF6;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596@Slf4jpublic class KickoutSessionControlFilter extends AccessControlFilter { // &#x8FD9;&#x91CC;&#x5148;&#x5199;&#x6B7B;&#xFF0C;&#x540E;&#x671F;&#x8C03;&#x6574;&#x5230;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x53BB; private String kickout = &quot;true&quot;; private String kickoutUrl; private boolean kickoutAfter = false; private int maxSession = 1; private Cache&lt;String, Deque&lt;Session&gt;&gt; cache; public void setKickoutUrl(String kickoutUrl) { this.kickoutUrl = kickoutUrl; } public void setKickoutAfter(boolean kickoutAfter) { this.kickoutAfter = kickoutAfter; } public void setMaxSession(int maxSession) { this.maxSession = maxSession; } public void setCacheManager(CacheManager cacheManager) { this.cache = cacheManager.getCache(&quot;shiro-kickout-session&quot;); } @Override protected boolean isAccessAllowed(ServletRequest request, ServletResponse response, Object mappedValue) throws Exception { return false; } @Override protected boolean onAccessDenied(ServletRequest request, ServletResponse response) throws Exception { // &#x5982;&#x679C;&#x4E0D;&#x9700;&#x8981;&#x5355;&#x7528;&#x6237;&#x767B;&#x5F55;&#x7684;&#x9650;&#x5236; if (!&quot;true&quot;.equals(kickout)) { return Boolean.TRUE; } Subject subject = getSubject(request, response); // &#x5982;&#x679C;&#x6CA1;&#x767B;&#x5F55;&#xFF0C;&#x76F4;&#x63A5;&#x8FDB;&#x884C;&#x4E4B;&#x540E;&#x7684;&#x6D41;&#x7A0B; if (!subject.isAuthenticated() &amp;&amp; !subject.isRemembered()) { return Boolean.TRUE; } Session session = subject.getSession(); Serializable sessionId = session.getId(); // &#x53D6;&#x51FA;&#x767B;&#x9646;&#x65F6;&#x8BBE;&#x7F6E;&#x7684;&#x5C5E;&#x6027; String usernameTenant = (String) session.getAttribute(&quot;loginName&quot;); synchronized (this.cache) { if (cache == null) { throw new Exception(&quot;cache &#x4E3A;&#x7A7A;&quot;); } Deque&lt;Session&gt; deque = cache.get(usernameTenant); if (deque == null) { deque = new LinkedList&lt;Session&gt;(); cache.put(usernameTenant, deque); } // &#x5982;&#x679C;&#x961F;&#x5217;&#x91CC;&#x6CA1;&#x6709;&#x6B64; sessionId&#xFF0C;&#x4E14;&#x7528;&#x6237;&#x6CA1;&#x6709;&#x88AB;&#x8E22;&#x51FA;&#xFF1B;&#x653E;&#x5165;&#x961F;&#x5217; boolean whetherPutDeQue = true; if (deque.isEmpty()) { whetherPutDeQue = true; } else { for (Session sessionInqueue : deque) { if (sessionId.equals(sessionInqueue.getId())) { whetherPutDeQue = false; break; } } } if (whetherPutDeQue) { deque.push(session); } log.debug(&quot;logged user:&quot; + usernameTenant + &quot;, deque size = &quot; + deque.size()); log.debug(&quot;deque = &quot; + deque); //&#x5982;&#x679C;&#x961F;&#x5217;&#x91CC;&#x7684;sessionId&#x6570;&#x8D85;&#x51FA;&#x6700;&#x5927;&#x4F1A;&#x8BDD;&#x6570;&#xFF0C;&#x5F00;&#x59CB;&#x8E22;&#x4EBA; while (deque.size() &gt; maxSession) { Session kickoutSession = null; if (kickoutAfter) { //&#x5982;&#x679C;&#x8E22;&#x51FA;&#x540E;&#x8005; kickoutSession = deque.removeFirst(); log.debug(&quot;&#x8E22;&#x51FA;&#x540E;&#x767B;&#x5F55;&#x7684;&#xFF0C;&#x88AB;&#x8E22;&#x51FA;&#x7684;sessionId&#x4E3A;: &quot; + kickoutSession.getId()); } else { //&#x5426;&#x5219;&#x8E22;&#x51FA;&#x524D;&#x8005; kickoutSession = deque.removeLast(); log.debug(&quot;&#x8E22;&#x51FA;&#x5148;&#x767B;&#x5F55;&#x7684;&#xFF0C;&#x88AB;&#x8E22;&#x51FA;&#x7684;sessionId&#x4E3A;&#xFF1A; &quot; + kickoutSession.getId()); } if (kickoutSession != null) { kickoutSession.stop(); } } } return Boolean.TRUE; }} &#x5728; resources/ehcache &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; ehcache.xml &#x6587;&#x4EF6;123456789101112131415161718192021222324252627282930313233343536373839404142434445&lt;ehcache&gt; &lt;!-- &#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x76EE;&#x5F55;&#xFF0C;&#x5F53;EhCache&#x628A;&#x6570;&#x636E;&#x5199;&#x5230;&#x786C;&#x76D8;&#x4E0A;&#x65F6;&#xFF0C;&#x5C06;&#x628A;&#x6570;&#x636E;&#x5199;&#x5230;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x76EE;&#x5F55;&#x4E0B; --&gt; &lt;diskStore path=&quot;java.io.tmpdir&quot;/&gt; &lt;!-- &#x8BBE;&#x5B9A;&#x7F13;&#x5B58;&#x7684;&#x9ED8;&#x8BA4;&#x6570;&#x636E;&#x8FC7;&#x671F;&#x7B56;&#x7565; --&gt; &lt;defaultCache maxElementsInMemory=&quot;10000&quot; eternal=&quot;false&quot; overflowToDisk=&quot;true&quot; timeToIdleSeconds=&quot;10&quot; timeToLiveSeconds=&quot;20&quot; diskPersistent=&quot;false&quot; diskExpiryThreadIntervalSeconds=&quot;120&quot;/&gt; &lt;cache name=&quot;shiro-kickout-session&quot; eternal=&quot;false&quot; timeToIdleSeconds=&quot;3600&quot; maxBytesLocalHeap=&quot;500M&quot; timeToLiveSeconds=&quot;0&quot; overflowToDisk=&quot;false&quot; statistics=&quot;true&quot;&gt; &lt;/cache&gt;&lt;/ehcache&gt;``` ### &#x5728; resources/spring &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; applicationContext-cache.xml &#x6587;&#x4EF6;``` xml&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt; &lt;!--&lt;cache:annotation-driven cache-manager=&quot;cacheManager&quot; proxy-target-class=&quot;true&quot;/&gt;--&gt; &lt;bean id=&quot;springCacheManager&quot; class=&quot;org.springframework.cache.ehcache.EhCacheCacheManager&quot;&gt; &lt;property name=&quot;cacheManager&quot; ref=&quot;ehcacheManager&quot;/&gt; &lt;/bean&gt; &lt;!--ehcache--&gt; &lt;bean id=&quot;ehcacheManager&quot; class=&quot;org.springframework.cache.ehcache.EhCacheManagerFactoryBean&quot;&gt; &lt;property name=&quot;configLocation&quot; value=&quot;classpath:ehcache/ehcache.xml&quot;/&gt; &lt;/bean&gt;&lt;/beans&gt; &#x5728; resources/spring &#x76EE;&#x5F55;&#x4E0B;&#x7F16;&#x8F91; applicationContext-shiro.xml12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xsi:schemaLocation=&quot; http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt; &lt;bean id=&quot;shiroFilter&quot; class=&quot;com.marklogzhu.ssm.shiro.MyShiroFilterFactoryBean&quot;&gt; &lt;!--shiro &#x6838;&#x5FC3;&#x5B89;&#x5168;&#x63A5;&#x53E3; --&gt; &lt;property name=&quot;securityManager&quot; ref=&quot;securityManager&quot;&gt;&lt;/property&gt; &lt;!--&#x767B;&#x5F55;&#x65F6;&#x7684;&#x8FDE;&#x63A5; --&gt; &lt;property name=&quot;loginUrl&quot; value=&quot;/login&quot;&gt;&lt;/property&gt; &lt;!--&#x672A;&#x6388;&#x6743;&#x65F6;&#x8DF3;&#x8F6C;&#x7684;&#x8FDE;&#x63A5; --&gt; &lt;property name=&quot;unauthorizedUrl&quot; value=&quot;/unauthorized.jsp&quot;&gt;&lt;/property&gt; &lt;!-- &#x5176;&#x4ED6;&#x8FC7;&#x6EE4;&#x5668; --&gt; &lt;property name=&quot;filters&quot;&gt; &lt;map&gt; &lt;!-- &lt;entry key=&quot;rememberMe&quot; value-ref=&quot;RememberMeFilter&quot;&gt;&lt;/entry&gt; --&gt; &lt;!--&#x5E76;&#x53D1;&#x63A7;&#x5236;&#x8FC7;&#x6EE4;&#x5668;--&gt; &lt;entry key=&quot;kickout&quot; value-ref=&quot;KickoutSessionControlFilter&quot;/&gt; &lt;/map&gt; &lt;/property&gt; &lt;property name=&quot;filterChainDefinitions&quot; value=&quot;&quot;/&gt; &lt;/bean&gt; &lt;!-- Shiro&#x751F;&#x547D;&#x5468;&#x671F;&#x5904;&#x7406;&#x5668;--&gt; &lt;bean id=&quot;lifecycleBeanPostProcessor&quot; class=&quot;org.apache.shiro.spring.LifecycleBeanPostProcessor&quot;/&gt; &lt;!-- &#x5B89;&#x5168;&#x7BA1;&#x7406;&#x5668; --&gt; &lt;bean id=&quot;securityManager&quot; class=&quot;org.apache.shiro.web.mgt.DefaultWebSecurityManager&quot;&gt; &lt;property name=&quot;realm&quot; ref=&quot;MyRealm&quot;/&gt; &lt;property name=&quot;rememberMeManager&quot; ref=&quot;rememberMeManager&quot;/&gt; &lt;property name=&quot;cacheManager&quot; ref=&quot;cacheManager&quot;/&gt; &lt;/bean&gt; &lt;!--&#x81EA;&#x5B9A;&#x4E49;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x4E0E;&#x6388;&#x6743;--&gt; &lt;bean id=&quot;MyRealm&quot; class=&quot;com.marklogzhu.ssm.shiro.MyRealm&quot;&gt; &lt;property name=&quot;cachingEnabled&quot; value=&quot;false&quot;/&gt; &lt;/bean&gt; &lt;!-- rememberMe&#x7BA1;&#x7406;&#x5668; --&gt; &lt;bean id=&quot;rememberMeManager&quot; class=&quot;org.apache.shiro.web.mgt.CookieRememberMeManager&quot;&gt; &lt;!-- rememberMe cookie&#x52A0;&#x5BC6;&#x7684;&#x5BC6;&#x94A5; &#x5EFA;&#x8BAE;&#x6BCF;&#x4E2A;&#x9879;&#x76EE;&#x90FD;&#x4E0D;&#x4E00;&#x6837; &#x9ED8;&#x8BA4;AES&#x7B97;&#x6CD5; &#x5BC6;&#x94A5;&#x957F;&#x5EA6;&#xFF08;128 256 512 &#x4F4D;&#xFF09;--&gt; &lt;property name=&quot;cipherKey&quot; value=&quot;#{T(org.apache.shiro.codec.Base64).decode(&apos;3AvVhmFLUs0KTA3Kprsdag==&apos;)}&quot;/&gt; &lt;property name=&quot;cookie&quot; ref=&quot;rememberMeCookie&quot;/&gt; &lt;/bean&gt; &lt;!-- &#x7528;&#x6237;&#x4FE1;&#x606F;&#x8BB0;&#x4F4F;&#x6211;&#x529F;&#x80FD;&#x7684;&#x76F8;&#x5173;&#x914D;&#x7F6E; --&gt; &lt;bean id=&quot;rememberMeCookie&quot; class=&quot;org.apache.shiro.web.servlet.SimpleCookie&quot;&gt; &lt;constructor-arg value=&quot;rememberMe&quot;/&gt; &lt;property name=&quot;httpOnly&quot; value=&quot;true&quot;/&gt; &lt;!-- &#x914D;&#x7F6E;&#x5B58;&#x50A8;rememberMe Cookie&#x7684;domain&#x4E3A; &#x4E00;&#x7EA7;&#x57DF;&#x540D; &#x8FD9;&#x91CC;&#x5982;&#x679C;&#x914D;&#x7F6E;&#x9700;&#x8981;&#x548C;Session&#x56DE;&#x8BDD;&#x4E00;&#x81F4;&#x66F4;&#x597D;&#x3002;--&gt; &lt;property name=&quot;maxAge&quot; value=&quot;604800&quot;/&gt;&lt;!-- &#x8BB0;&#x4F4F;&#x6211;==&#x4FDD;&#x7559;Cookie&#x6709;&#x6548;7&#x5929; --&gt; &lt;/bean&gt; &lt;!-- &#x76F8;&#x5F53;&#x4E8E;&#x8C03;&#x7528;SecurityUtils.setSecurityManager(securityManager) --&gt; &lt;bean class=&quot;org.springframework.beans.factory.config.MethodInvokingFactoryBean&quot;&gt; &lt;property name=&quot;staticMethod&quot; value=&quot;org.apache.shiro.SecurityUtils.setSecurityManager&quot;/&gt; &lt;property name=&quot;arguments&quot; ref=&quot;securityManager&quot;/&gt; &lt;/bean&gt; &lt;!-- sessionIdCookie&#xFF1A;maxAge=-1&#x8868;&#x793A;&#x6D4F;&#x89C8;&#x5668;&#x5173;&#x95ED;&#x65F6;&#x5931;&#x6548;&#x6B64;Cookie --&gt; &lt;bean id=&quot;sessionIdCookie&quot; class=&quot;org.apache.shiro.web.servlet.SimpleCookie&quot;&gt; &lt;constructor-arg value=&quot;rememberMe&quot;/&gt; &lt;property name=&quot;httpOnly&quot; value=&quot;true&quot;/&gt; &lt;property name=&quot;maxAge&quot; value=&quot;-1&quot;/&gt; &lt;/bean&gt; &lt;!--&#x5E76;&#x53D1;&#x767B;&#x5F55;&#x63A7;&#x5236;--&gt; &lt;bean id=&quot;KickoutSessionControlFilter&quot; class=&quot;com.marklogzhu.ssm.shiro.KickoutSessionControlFilter&quot;&gt; &lt;!--&#x7F13;&#x5B58;&#x7BA1;&#x7406;&#x5668;--&gt; &lt;property name=&quot;cacheManager&quot; ref=&quot;cacheManager&quot;/&gt; &lt;!--&#x662F;&#x5426;&#x8E22;&#x51FA;&#x540E;&#x6765;&#x767B;&#x5F55;&#x7684;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;false&#xFF0C;&#x5373;&#x540E;&#x6765;&#x767B;&#x5F55;&#x7684;&#x8E22;&#x51FA;&#x524D;&#x8005;&#x3002;--&gt; &lt;property name=&quot;kickoutAfter&quot; value=&quot;false&quot;/&gt; &lt;!--&#x540C;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x7684;&#x6700;&#x5927;&#x4F1A;&#x8BDD;&#x6570;&#xFF0C;&#x9ED8;&#x8BA4;1&#xFF0C;&#x8868;&#x793A;&#x540C;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x6700;&#x591A;&#x540C;&#x65F6;&#x4E00;&#x4E2A;&#x4EBA;&#x767B;&#x5F55;&#x3002;--&gt; &lt;property name=&quot;maxSession&quot; value=&quot;1&quot;/&gt; &lt;!--&#x88AB;&#x8E22;&#x51FA;&#x540E;&#x91CD;&#x5B9A;&#x5411;&#x7684;&#x5730;&#x5740;--&gt; &lt;property name=&quot;kickoutUrl&quot; value=&quot;/user/login.page&quot;/&gt; &lt;/bean&gt; &lt;bean id=&quot;cacheManager&quot; class=&quot;com.marklogzhu.ssm.shiro.SpringCacheManagerWrapper&quot;&gt; &lt;property name=&quot;cacheManager&quot; ref=&quot;springCacheManager&quot;/&gt; &lt;/bean&gt;&lt;/beans&gt; &#x542F;&#x52A8;&#x9879;&#x76EE;&#x5E76;&#x8FD0;&#x884C;&#x5206;&#x522B;&#x5728;&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8BBF;&#x95EE; http://localhost:8080/test/login?userName=&#x5F20;&#x4E09;&amp;password=123456 &#xFF0C;&#x89C2;&#x5BDF;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;&#xFF1A; 12018-05-23 14:48:37.008 [http-bio-8080-exec-7] DEBUG c.marklogzhu.ssm.shiro.KickoutSessionControlFilter - &#x8E22;&#x51FA;&#x5148;&#x767B;&#x5F55;&#x7684;&#xFF0C;&#x88AB;&#x8E22;&#x51FA;&#x7684;sessionId&#x4E3A;&#xFF1A; E7E6362159C529C152C1CECEE3D61AB6 &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5148;&#x767B;&#x9646;&#x7684;&#x88AB;&#x8E22;&#x51FA;&#x4E86;&#xFF01;","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"Shiro","slug":"Shiro","permalink":"https://marklogzhu.github.io/tags/Shiro/"}]},{"title":"Shiro学习总结(五)--Shiro动态加载权限","date":"2018-05-23T01:53:00.000Z","path":"Shiro/后台/Java/Shiro/Shiro学习总结(五)--Shiro动态加载权限/","text":"&#x5728;&#x4E0A;&#x4E00;&#x7AE0;&#x8282;&#x4E2D;&#x6211;&#x4EEC;&#x662F;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x914D;&#x7F6E;&#x6743;&#x9650;&#x7684;&#xFF0C;&#x5B9E;&#x9645;&#x9879;&#x76EE;&#x4E2D;&#x91C7;&#x7528;&#x8FD9;&#x79CD;&#x5F62;&#x5F0F;&#x914D;&#x7F6E;&#x5F88;&#x4E0D;&#x7075;&#x6D3B;&#xFF0C;&#x4ECA;&#x5929;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x5B9E;&#x73B0;&#x4E0B;&#x52A8;&#x6001;&#x52A0;&#x8F7D;&#x6743;&#x9650;&#x3002; &#x9996;&#x5148;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x770B;&#x4E4B;&#x524D;&#x662F;&#x600E;&#x4E48;&#x52A0;&#x8F7D;&#x7684;1234567891011121314151617181920212223242526272829303132333435&lt;bean id=&quot;shiroFilter&quot; class=&quot;org.apache.shiro.spring.web.ShiroFilterFactoryBean&quot;&gt; &lt;!--shiro &#x6838;&#x5FC3;&#x5B89;&#x5168;&#x63A5;&#x53E3; --&gt; &lt;property name=&quot;securityManager&quot; ref=&quot;securityManager&quot;&gt;&lt;/property&gt; &lt;!--&#x767B;&#x5F55;&#x65F6;&#x7684;&#x8FDE;&#x63A5; --&gt; &lt;property name=&quot;loginUrl&quot; value=&quot;/login&quot;&gt;&lt;/property&gt; &lt;!--&#x767B;&#x5F55;&#x6210;&#x529F;&#x8DF3;&#x8F6C;&#x7684;&#x5730;&#x5740;--&gt; &lt;!--&lt;property name=&quot;successUrl&quot; value=&quot;/&quot;&gt;--&gt; &lt;!--&#x672A;&#x6388;&#x6743;&#x65F6;&#x8DF3;&#x8F6C;&#x7684;&#x8FDE;&#x63A5; --&gt; &lt;property name=&quot;unauthorizedUrl&quot; value=&quot;/unauthorized.jsp&quot;&gt;&lt;/property&gt; &lt;!-- &#x5176;&#x4ED6;&#x8FC7;&#x6EE4;&#x5668; --&gt; &lt;property name=&quot;filters&quot;&gt; &lt;map&gt; &lt;!-- &lt;entry key=&quot;rememberMe&quot; value-ref=&quot;RememberMeFilter&quot;&gt;&lt;/entry&gt; --&gt; &lt;/map&gt; &lt;/property&gt; &lt;!-- &#x8BFB;&#x53D6;&#x521D;&#x59CB;&#x81EA;&#x5B9A;&#x4E49;&#x6743;&#x9650;&#x5185;&#x5BB9;--&gt; &lt;property name=&quot;filterChainDefinitions&quot;&gt; &lt;value&gt; /js/**=anon /css/**=anon /images/**=anon /skin/**=anon /lib/**=anon /nodel/**=anon /WEB-INF/jsp/**=anon /adminUserLogin/**=anon /test/login=anon /test/logout=anon /test/isLogin=anon /**/submitLogin.do=anon /**=user &lt;/value&gt; &lt;/property&gt;&lt;/bean&gt; &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x914D;&#x7F6E;&#x5C5E;&#x6027;&#x7684;&#x5BF9;&#x8C61;&#x662F; ShiroFilterFactoryBean&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x770B; ShiroFilterFactoryBean &#x91CC;&#x9762;&#x662F;&#x600E;&#x4E48;&#x8BBE;&#x7F6E;&#x503C;&#x7684;&#xFF1A; 12345678910111213public void setFilterChainDefinitions(String definitions) { Ini ini = new Ini(); ini.load(definitions); Section section = ini.getSection(&quot;urls&quot;); if (CollectionUtils.isEmpty(section)) { section = ini.getSection(&quot;&quot;); } this.setFilterChainDefinitionMap(section);}public void setFilterChainDefinitionMap(Map&lt;String, String&gt; filterChainDefinitionMap) { this.filterChainDefinitionMap = filterChainDefinitionMap;} &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x662F;&#x901A;&#x8FC7;&#x8C03;&#x7528; setFilterChainDefinitionMap &#x65B9;&#x6CD5;&#x6765;&#x521D;&#x59CB;&#x5316;&#x6743;&#x9650;&#x914D;&#x7F6E;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7EE7;&#x627F; ShiroFilterFactoryBean &#x5B9E;&#x73B0; setFilterChainDefinitionMap &#x65B9;&#x6CD5;&#x6765;&#x8FBE;&#x5230;&#x52A8;&#x6001;&#x52A0;&#x8F7D;&#x6743;&#x9650;&#x7684;&#x9700;&#x6C42;&#x3002; &#x52A8;&#x6001;&#x521D;&#x59CB;&#x5316;&#x6743;&#x9650;&#x81EA;&#x5B9A;&#x4E49; MyShiroFilterFactoryBean1234567891011121314151617public class MyShiroFilterFactoryBean extends ShiroFilterFactoryBean { public void setFilterChainDefinitionMap(Map&lt;String, String&gt; filterChainDefinitionMap) { LinkedHashMap&lt;String, String&gt; filterMap = new LinkedHashMap&lt;&gt;(); // &#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x91C7;&#x7528;&#x786C;&#x7F16;&#x7801;&#x5F62;&#x5F0F;&#x6F14;&#x793A;&#xFF0C;&#x5B9E;&#x9645;&#x9879;&#x76EE;&#x4E2D;&#x5E94;&#x8BE5;&#x8C03;&#x7528;service &#x65B9;&#x6CD5;&#x901A;&#x8FC7;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x5E93; for &#x62FC;&#x63A5; filterMap.put(&quot;/js/**&quot;,&quot;anon&quot;); filterMap.put(&quot;/css/**&quot;,&quot;anon&quot;); filterMap.put(&quot;/images/**&quot;,&quot;anon&quot;); filterMap.put(&quot;/lib/**&quot;,&quot;anon&quot;); filterMap.put(&quot;/WEB-INF/jsp/**&quot;,&quot;anon&quot;); filterMap.put(&quot;/test/login&quot;,&quot;anon&quot;); filterMap.put(&quot;/test/logout*&quot;,&quot;anon&quot;); filterMap.put(&quot;/test/isLogin&quot;,&quot;anon&quot;); filterMap.put(&quot;/**&quot;,&quot;user&quot;); super.setFilterChainDefinitionMap(filterMap); }} &#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;12345678910111213141516 &lt;bean id=&quot;shiroFilter&quot; class=&quot;com.marklogzhu.ssm.shiro.MyShiroFilterFactoryBean&quot;&gt; &lt;!--shiro &#x6838;&#x5FC3;&#x5B89;&#x5168;&#x63A5;&#x53E3; --&gt; &lt;property name=&quot;securityManager&quot; ref=&quot;securityManager&quot;&gt;&lt;/property&gt; &lt;!--&#x767B;&#x5F55;&#x65F6;&#x7684;&#x8FDE;&#x63A5; --&gt; &lt;property name=&quot;loginUrl&quot; value=&quot;/login&quot;&gt;&lt;/property&gt; &lt;!--&#x672A;&#x6388;&#x6743;&#x65F6;&#x8DF3;&#x8F6C;&#x7684;&#x8FDE;&#x63A5; --&gt; &lt;property name=&quot;unauthorizedUrl&quot; value=&quot;/unauthorized.jsp&quot;&gt;&lt;/property&gt; &lt;!-- &#x5176;&#x4ED6;&#x8FC7;&#x6EE4;&#x5668; --&gt; &lt;property name=&quot;filters&quot;&gt; &lt;map&gt; &lt;!-- &lt;entry key=&quot;rememberMe&quot; value-ref=&quot;RememberMeFilter&quot;&gt;&lt;/entry&gt; --&gt; &lt;/map&gt; &lt;/property&gt;&lt;!--&#x8FD8;&#x662F;&#x9700;&#x8981;&#x4FDD;&#x7559;&#x8FD9;&#x4E00;&#x5C5E;&#x6027;&#xFF0C;&#x5426;&#x5219;&#x4E0D;&#x4F1A;&#x8C03;&#x7528; setFilterChainDefinitionMap &#x65B9;&#x6CD5;--&gt; &lt;property name=&quot;filterChainDefinitions&quot; value=&quot;&quot;/&gt; &lt;/bean&gt; &#x542F;&#x52A8;&#x8FD0;&#x884C;&#x9879;&#x76EE; &#x8BBF;&#x95EE; http://localhost:8080/test/print&#x7ED3;&#x679C;&#xFF1A; 1&#x53D1;&#x73B0;url &#x8DF3;&#x8F6C;&#x5230; http://localhost:8080/login, &#x4F46;&#x662F;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x9879;&#x76EE;&#x4E2D;&#x6CA1;&#x6709;&#x914D;&#x7F6E;&#x5BFC;&#x81F4;&#x62A5; 404 &#x9519;&#x8BEF; &#x8BBF;&#x95EE; http://localhost:8080/test/isLogin?userName=&#x5F20;&#x4E09;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF1A; 12345{ status: 0, msg: null, data: &quot;&#x5F20;&#x4E09;&#x672A;&#x767B;&#x5F55;&quot;} &#x8BBF;&#x95EE; http://localhost:8080/test/login?userName=&#x5F20;&amp;password=123456&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF1A; 12345{ status: 500216, msg: &quot;&#x767B;&#x5F55;&#x5931;&#x8D25;&#xFF0C;&#x9519;&#x8BEF;&#x539F;&#x56E0;&#xFF1A;&#x5E10;&#x53F7;&#x6216;&#x5BC6;&#x7801;&#x9519;&#x8BEF;!&quot;, data: null} &#x8BBF;&#x95EE; http://localhost:8080/test/login?userName=&#x5F20;&#x4E09;&amp;password=123456&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF1A; 12345{ status: 0, msg: &quot;&#x767B;&#x5F55;&#x6210;&#x529F;&quot;, data: null} &#x8BBF;&#x95EE; http://localhost:8080/test/isLogin?userName=&#x5F20;&#x4E09;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF1A; 12345{ status: 0, msg: null, data: &quot;&#x5F20;&#x4E09;&#x5DF2;&#x767B;&#x5F55;&quot;} &#x8BBF;&#x95EE; http://localhost:8080/test/print&#x7ED3;&#x679C;&#xFF1A; 12345{ status: 0, msg: null, data: null} &#x8BBF;&#x95EE; http://localhost:8080/test/logout?userName=&#x5F20;&#x4E09;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF1A; 12345{ status: 0, msg: null, data: &quot;&#x5F20;&#x4E09;&#x5DF2;&#x767B;&#x51FA;&quot;} &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x7ED3;&#x679C;&#x8DDF;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x52A0;&#x8F7D;&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x8BF4;&#x660E;&#x52A8;&#x6001;&#x52A0;&#x8F7D;&#x6743;&#x9650;&#x6210;&#x529F;&#x4E86;&#x3002;&#x90A3;&#x6211;&#x4EEC;&#x5C1D;&#x8BD5;&#x4E0B;&#x5728;&#x9879;&#x76EE;&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x52A8;&#x6001;&#x52A0;&#x8F7D;&#x6743;&#x9650;&#x914D;&#x7F6E;&#x3002; &#x52A8;&#x6001;&#x52A0;&#x8F7D;&#x6743;&#x9650;&#x5728; TestController &#x4E2D;&#x589E;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677@Autowiredprivate MyShiroFilterFactoryBean myShiroFilterFactoryBean;@RequestMapping(&quot;/change&quot;)@ResponseBodypublic Map&lt;String, String&gt; updateFilter() { Map&lt;String, String&gt; filterMap = new LinkedHashMap&lt;&gt;(); filterMap.put(&quot;/js/**&quot;, &quot;anon&quot;); filterMap.put(&quot;/css/**&quot;, &quot;anon&quot;); filterMap.put(&quot;/images/**&quot;, &quot;anon&quot;); filterMap.put(&quot;/lib/**&quot;, &quot;anon&quot;); filterMap.put(&quot;/WEB-INF/jsp/**&quot;, &quot;anon&quot;); filterMap.put(&quot;/test/login&quot;, &quot;anon&quot;); filterMap.put(&quot;/test/logout*&quot;, &quot;anon&quot;); filterMap.put(&quot;/test/isLogin&quot;, &quot;anon&quot;); filterMap.put(&quot;/test/change&quot;, &quot;anon&quot;); filterMap.put(&quot;/test/print&quot;, &quot;anon&quot;); // &#x628A; print &#x65B9;&#x6CD5;&#x8BBE;&#x7F6E;&#x4E3A;&#x4E0D;&#x9700;&#x8981;&#x7528;&#x6237;&#x767B;&#x5F55; filterMap.put(&quot;/**&quot;, &quot;user&quot;); updatePermission(filterMap); return myShiroFilterFactoryBean.getFilterChainDefinitionMap();}/** * &#x52A8;&#x6001;&#x66F4;&#x65B0;&#x65B0;&#x7684;&#x6743;&#x9650; * * @param filterMap */private synchronized void updatePermission(Map&lt;String, String&gt; filterMap) { AbstractShiroFilter shiroFilter = null; try { shiroFilter = (AbstractShiroFilter) myShiroFilterFactoryBean.getObject(); // &#x83B7;&#x53D6;&#x8FC7;&#x6EE4;&#x7BA1;&#x7406;&#x5668; PathMatchingFilterChainResolver filterChainResolver = (PathMatchingFilterChainResolver) shiroFilter .getFilterChainResolver(); DefaultFilterChainManager filterManager = (DefaultFilterChainManager) filterChainResolver.getFilterChainManager(); //&#x6E05;&#x7A7A;&#x62E6;&#x622A;&#x7BA1;&#x7406;&#x5668;&#x4E2D;&#x7684;&#x5B58;&#x50A8; filterManager.getFilterChains().clear(); /* &#x6E05;&#x7A7A;&#x62E6;&#x622A;&#x5DE5;&#x5382;&#x4E2D;&#x7684;&#x5B58;&#x50A8;,&#x5982;&#x679C;&#x4E0D;&#x6E05;&#x7A7A;&#x8FD9;&#x91CC;,&#x8FD8;&#x4F1A;&#x628A;&#x4E4B;&#x524D;&#x7684;&#x5E26;&#x8FDB;&#x53BB; ps:&#x5982;&#x679C;&#x4EC5;&#x4EC5;&#x662F;&#x66F4;&#x65B0;&#x7684;&#x8BDD;,&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x8FD9;&#x91CC;&#x7684; map &#x904D;&#x5386;&#x6570;&#x636E;&#x4FEE;&#x6539;,&#x91CD;&#x65B0;&#x6574;&#x7406;&#x597D;&#x6743;&#x9650;&#x518D;&#x4E00;&#x8D77;&#x6DFB;&#x52A0; */ myShiroFilterFactoryBean.getFilterChainDefinitionMap().clear(); // &#x76F8;&#x5F53;&#x4E8E;&#x65B0;&#x5EFA;&#x7684; map, &#x56E0;&#x4E3A;&#x5DF2;&#x7ECF;&#x6E05;&#x7A7A;&#x4E86; Map&lt;String, String&gt; chains = myShiroFilterFactoryBean.getFilterChainDefinitionMap(); //&#x628A;&#x4FEE;&#x6539;&#x540E;&#x7684; map &#x653E;&#x8FDB;&#x53BB; chains.putAll(filterMap); //&#x8FD9;&#x4E2A;&#x76F8;&#x5F53;&#x4E8E;&#x662F;&#x5168;&#x91CF;&#x6DFB;&#x52A0; for (Map.Entry&lt;String, String&gt; entry : filterMap.entrySet()) { //&#x8981;&#x62E6;&#x622A;&#x7684;&#x5730;&#x5740; String url = entry.getKey().trim().replace(&quot; &quot;, &quot;&quot;); //&#x5730;&#x5740;&#x6301;&#x6709;&#x7684;&#x6743;&#x9650; String chainDefinition = entry.getValue().trim().replace(&quot; &quot;, &quot;&quot;); //&#x751F;&#x6210;&#x62E6;&#x622A; filterManager.createChain(url, chainDefinition); } } catch (Exception e) { log.error(&quot;updatePermission error,filterMap=&quot; + filterMap, e); }}``` ### &#x4FEE;&#x6539; MyShiroFilterFactoryBean &#x589E;&#x52A0;&#x4E00;&#x4E2A; URL``` javafilterMap.put(&quot;/test/change&quot;,&quot;anon&quot;);``` ### &#x542F;&#x52A8;&#x9879;&#x76EE;&#x5E76;&#x8FD0;&#x884C;* &#x8BBF;&#x95EE; `http://localhost:8080/test/print`&#x7ED3;&#x679C;&#xFF1A;``` &#x53D1;&#x73B0;url &#x8DF3;&#x8F6C;&#x5230; http://localhost:8080/login, &#x4F46;&#x662F;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x9879;&#x76EE;&#x4E2D;&#x6CA1;&#x6709;&#x914D;&#x7F6E;&#x5BFC;&#x81F4;&#x62A5; 404 &#x9519;&#x8BEF; &#x8BBF;&#x95EE; http://localhost:8080/test/change&#x7ED3;&#x679C;&#xFF1A; 12345678910111213{ /js/**: &quot;anon&quot;, /css/**: &quot;anon&quot;, /images/**: &quot;anon&quot;, /lib/**: &quot;anon&quot;, /WEB-INF/jsp/**: &quot;anon&quot;, /test/login: &quot;anon&quot;, /test/logout*: &quot;anon&quot;, /test/isLogin: &quot;anon&quot;, /test/change: &quot;anon&quot;, /test/print: &quot;anon&quot;, /**: &quot;user&quot;} &#x8BBF;&#x95EE; http://localhost:8080/test/print&#x7ED3;&#x679C;&#xFF1A; 12345{ status: 0, msg: null, data: null} &#x53D1;&#x73B0;&#x7B2C;&#x4E00;&#x6B21;&#x8BBF;&#x95EE; /test/print &#x7684;&#x65F6;&#x5019;&#x65E0;&#x6CD5;&#x8BBF;&#x95EE;&#xFF0C;&#x8C03;&#x7528; /test/change &#x65B9;&#x6CD5;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x4E86;&#xFF0C;&#x8BF4;&#x660E;&#x66F4;&#x6539;&#x6743;&#x9650;&#x6210;&#x529F;&#x3002;","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"Shiro","slug":"Shiro","permalink":"https://marklogzhu.github.io/tags/Shiro/"}]},{"title":"Shiro学习总结(四)--Shiro+SSM整合","date":"2018-05-22T07:41:00.000Z","path":"Shiro/后台/Java/Shiro/Shiro学习总结(四)--Shiro+SSM整合/","text":"&#x4E4B;&#x524D;&#x6211;&#x4EEC;&#x5206;&#x522B;&#x8BB2;&#x89E3;&#x4E86;&#x4E0B; Shiro &#x7684;&#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1;&#x8DDF;&#x6388;&#x6743;&#xFF0C;&#x4F46;&#x662F;&#x5B9E;&#x9645;&#x9879;&#x76EE;&#x4E2D;&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x5462;&#xFF1F;&#x4ECA;&#x5929;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x505A;&#x4E00;&#x4E2A; Shiro + SSM &#x7684;&#x6574;&#x5408;&#x3002; &#x672C;&#x6B21;&#x9879;&#x76EE;&#x662F;&#x5728; SSM &#x6846;&#x67B6;&#x96C6;&#x6210; &#x4E4B;&#x4E0A;&#x5B8C;&#x6210;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x77E5;&#x9053;&#x600E;&#x4E48;&#x642D;&#x5EFA; SSM &#x7684;&#x8BDD;&#xFF0C;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x3002; maven &#x4F9D;&#x8D56;12345678910111213&lt;!-- shiro --&gt;&lt;!-- &#x6DFB;&#x52A0; shiro web&#x652F;&#x6301; --&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt; &lt;artifactId&gt;shiro-web&lt;/artifactId&gt; &lt;version&gt;1.2.5&lt;/version&gt;&lt;/dependency&gt;&lt;!-- &#x6DFB;&#x52A0; shiro spring&#x652F;&#x6301; --&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt; &lt;artifactId&gt;shiro-spring&lt;/artifactId&gt; &lt;version&gt;1.2.5&lt;/version&gt;&lt;/dependency&gt; &#x5728; resources/spring &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; applicationContext-shiro.xml &#x6587;&#x4EF6;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xsi:schemaLocation=&quot; http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt; &lt;bean id=&quot;shiroFilter&quot; class=&quot;org.apache.shiro.spring.web.ShiroFilterFactoryBean&quot;&gt; &lt;!--shiro &#x6838;&#x5FC3;&#x5B89;&#x5168;&#x63A5;&#x53E3; --&gt; &lt;property name=&quot;securityManager&quot; ref=&quot;securityManager&quot;&gt;&lt;/property&gt; &lt;!--&#x767B;&#x5F55;&#x65F6;&#x7684;&#x8FDE;&#x63A5; --&gt; &lt;property name=&quot;loginUrl&quot; value=&quot;/login&quot;&gt;&lt;/property&gt; &lt;!--&#x672A;&#x6388;&#x6743;&#x65F6;&#x8DF3;&#x8F6C;&#x7684;&#x8FDE;&#x63A5; --&gt; &lt;property name=&quot;unauthorizedUrl&quot; value=&quot;/unauthorized.jsp&quot;&gt;&lt;/property&gt; &lt;!-- &#x5176;&#x4ED6;&#x8FC7;&#x6EE4;&#x5668; --&gt; &lt;property name=&quot;filters&quot;&gt; &lt;map&gt; &lt;!-- &lt;entry key=&quot;rememberMe&quot; value-ref=&quot;RememberMeFilter&quot;&gt;&lt;/entry&gt; --&gt; &lt;/map&gt; &lt;/property&gt; &lt;!-- &#x8BFB;&#x53D6;&#x521D;&#x59CB;&#x81EA;&#x5B9A;&#x4E49;&#x6743;&#x9650;&#x5185;&#x5BB9;--&gt; &lt;!-- &#x5982;&#x679C;&#x4F7F;&#x7528;authc&#x9A8C;&#x8BC1;,&#x9700;&#x91CD;&#x5199;&#x5B9E;&#x73B0;rememberMe&#x7684;&#x8FC7;&#x6EE4;&#x5668;,&#x6216;&#x914D;&#x7F6E;formAuthenticationFilter&#x7684;Bean --&gt; &lt;property name=&quot;filterChainDefinitions&quot;&gt; &lt;value&gt; /js/**=anon /css/**=anon /images/**=anon /skin/**=anon /lib/**=anon /nodel/**=anon /WEB-INF/jsp/**=anon /adminUserLogin/**=anon /test/login=anon /test/logout=anon /test/isLogin=anon /**/submitLogin.do=anon /**=user &lt;/value&gt; &lt;/property&gt; &lt;/bean&gt; &lt;!-- Shiro&#x751F;&#x547D;&#x5468;&#x671F;&#x5904;&#x7406;&#x5668;--&gt; &lt;bean id=&quot;lifecycleBeanPostProcessor&quot; class=&quot;org.apache.shiro.spring.LifecycleBeanPostProcessor&quot; /&gt; &lt;!-- &#x5B89;&#x5168;&#x7BA1;&#x7406;&#x5668; --&gt; &lt;bean id=&quot;securityManager&quot; class=&quot;org.apache.shiro.web.mgt.DefaultWebSecurityManager&quot;&gt; &lt;property name=&quot;realm&quot; ref=&quot;MyRealm&quot;/&gt; &lt;property name=&quot;rememberMeManager&quot; ref=&quot;rememberMeManager&quot;/&gt; &lt;/bean&gt; &lt;!--&#x81EA;&#x5B9A;&#x4E49;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x4E0E;&#x6388;&#x6743;--&gt; &lt;bean id=&quot;MyRealm&quot; class=&quot;com.marklogzhu.ssm.shiro.MyRealm&quot; &gt; &lt;property name=&quot;cachingEnabled&quot; value=&quot;false&quot;/&gt; &lt;/bean&gt; &lt;!-- &#x76F8;&#x5F53;&#x4E8E;&#x8C03;&#x7528;SecurityUtils.setSecurityManager(securityManager) --&gt; &lt;bean class=&quot;org.springframework.beans.factory.config.MethodInvokingFactoryBean&quot;&gt; &lt;property name=&quot;staticMethod&quot; value=&quot;org.apache.shiro.SecurityUtils.setSecurityManager&quot;/&gt; &lt;property name=&quot;arguments&quot; ref=&quot;securityManager&quot;/&gt; &lt;/bean&gt; &lt;!-- sessionIdCookie&#xFF1A;maxAge=-1&#x8868;&#x793A;&#x6D4F;&#x89C8;&#x5668;&#x5173;&#x95ED;&#x65F6;&#x5931;&#x6548;&#x6B64;Cookie --&gt; &lt;bean id=&quot;sessionIdCookie&quot; class=&quot;org.apache.shiro.web.servlet.SimpleCookie&quot;&gt; &lt;constructor-arg value=&quot;rememberMe&quot;/&gt; &lt;property name=&quot;httpOnly&quot; value=&quot;true&quot;/&gt; &lt;property name=&quot;maxAge&quot; value=&quot;-1&quot;/&gt; &lt;/bean&gt; &lt;!-- &#x7528;&#x6237;&#x4FE1;&#x606F;&#x8BB0;&#x4F4F;&#x6211;&#x529F;&#x80FD;&#x7684;&#x76F8;&#x5173;&#x914D;&#x7F6E; --&gt; &lt;bean id=&quot;rememberMeCookie&quot; class=&quot;org.apache.shiro.web.servlet.SimpleCookie&quot;&gt; &lt;constructor-arg value=&quot;rememberMe&quot;/&gt; &lt;property name=&quot;httpOnly&quot; value=&quot;true&quot;/&gt; &lt;!-- &#x914D;&#x7F6E;&#x5B58;&#x50A8;rememberMe Cookie&#x7684;domain&#x4E3A; &#x4E00;&#x7EA7;&#x57DF;&#x540D; &#x8FD9;&#x91CC;&#x5982;&#x679C;&#x914D;&#x7F6E;&#x9700;&#x8981;&#x548C;Session&#x56DE;&#x8BDD;&#x4E00;&#x81F4;&#x66F4;&#x597D;&#x3002;--&gt; &lt;property name=&quot;maxAge&quot; value=&quot;604800&quot;/&gt;&lt;!-- &#x8BB0;&#x4F4F;&#x6211;==&#x4FDD;&#x7559;Cookie&#x6709;&#x6548;7&#x5929; --&gt; &lt;/bean&gt; &lt;!-- rememberMe&#x7BA1;&#x7406;&#x5668; --&gt; &lt;bean id=&quot;rememberMeManager&quot; class=&quot;org.apache.shiro.web.mgt.CookieRememberMeManager&quot;&gt; &lt;!-- rememberMe cookie&#x52A0;&#x5BC6;&#x7684;&#x5BC6;&#x94A5; &#x5EFA;&#x8BAE;&#x6BCF;&#x4E2A;&#x9879;&#x76EE;&#x90FD;&#x4E0D;&#x4E00;&#x6837; &#x9ED8;&#x8BA4;AES&#x7B97;&#x6CD5; &#x5BC6;&#x94A5;&#x957F;&#x5EA6;&#xFF08;128 256 512 &#x4F4D;&#xFF09;--&gt; &lt;property name=&quot;cipherKey&quot; value=&quot;#{T(org.apache.shiro.codec.Base64).decode(&apos;3AvVhmFLUs0KTA3Kprsdag==&apos;)}&quot;/&gt; &lt;property name=&quot;cookie&quot; ref=&quot;rememberMeCookie&quot;/&gt; &lt;/bean&gt; &lt;!-- rememberMeParam&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#x662F; boolean &#x7C7B;&#x578B;&#xFF0C;true &#x8868;&#x793A; rememberMe --&gt; &lt;!-- shiro&#x89C4;&#x5B9A;&#x8BB0;&#x4F4F;&#x6211;&#x529F;&#x80FD;&#x6700;&#x591A;&#x5F97;user&#x7EA7;&#x522B;&#x7684;&#xFF0C;&#x4E0D;&#x80FD;&#x5230;authc&#x7EA7;&#x522B;.&#x6240;&#x4EE5;&#x5982;&#x679C;&#x4F7F;&#x7528;authc&#xFF0C;&#x9700;&#x6253;&#x5F00;&#x6B64;&#x914D;&#x7F6E;&#x6216;&#x91CD;&#x5199;&#x5B9E;&#x73B0;rememberMe&#x7684;&#x8FC7;&#x6EE4;&#x5668; --&gt; &lt;!-- &lt;bean id=&quot;formAuthenticationFilter&quot; class=&quot;org.apache.shiro.web.filter.authc.FormAuthenticationFilter&quot;&gt; &lt;property name=&quot;rememberMeParam&quot; value=&quot;rememberMe&quot;/&gt; &lt;/bean&gt; --&gt;&lt;/beans&gt; web.xml &#x914D;&#x7F6E; shiroFilter123456789&lt;!--filter-name &#x4E0E; applicationContext-shiro.xml&#x4E2D;&#x7684; &apos;shiroFilter&apos; bean&#x7684;&#x540D;&#x79F0;&#x5339;&#x914D;--&gt;&lt;filter&gt; &lt;filter-name&gt;shiroFilter&lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt; &lt;init-param&gt; &lt;param-name&gt;targetFilterLifecycle&lt;/param-name&gt; &lt;param-value&gt;true&lt;/param-value&gt; &lt;/init-param&gt;&lt;/filter&gt; &#x5728; com.marklogzhu.ssm.shiro &#x5305;&#x4E0B;&#x65B0;&#x5EFA; MyRealm.java &#x6587;&#x4EF6;12345678910111213141516171819202122232425262728293031public class MyRealm extends AuthorizingRealm { @Autowired private UserService userService; /** * &#x83B7;&#x53D6;&#x6388;&#x6743;&#x4FE1;&#x606F;,&#x5373;&#x6388;&#x6743;&#x9A8C;&#x8BC1; * @param principalCollection * @return */ @Override protected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principalCollection) { return null; } /** * &#x83B7;&#x53D6;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x4FE1;&#x606F;,&#x5373;&#x767B;&#x5F55;&#x9A8C;&#x8BC1; * @param token * @return * @throws AuthenticationException */ @Override protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken token) throws AuthenticationException { String userName = (String) token.getPrincipal(); String password = new String((char[])token.getCredentials()); User user = userService.login(userName,password); if(user == null){ throw new AccountException(&quot;&#x5E10;&#x53F7;&#x6216;&#x5BC6;&#x7801;&#x4E0D;&#x6B63;&#x786E;&#xFF01;&quot;); } return new SimpleAuthenticationInfo(user.getUserName(), user.getPassword(), getName()); }} &#x5728; com.marklogzhu.ssm.service &#x5305;&#x4E0B;&#x65B0;&#x5EFA; UserService.java &#x6587;&#x4EF6;12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273@Servicepublic class UserService { @Autowired private UserMapper userMapper; public User login(String userName,String password){ UserExample example = new UserExample(); UserExample.Criteria criteria = example.createCriteria(); criteria.andUserNameEqualTo(userName); criteria.andPasswordEqualTo(password); List&lt;User&gt; userList = userMapper.selectByExample(example); return userList.size() &gt; 0 ? userList.get(0) : null; }}``` ### &#x5728; TestController.java &#x6587;&#x4EF6;&#x4E2D;&#x7F16;&#x8F91;&#x5982;&#x4E0B;&#x6D4B;&#x8BD5;&#x65B9;&#x6CD5;``` java@Controller@RequestMapping(&quot;/test&quot;)public class TestController { @RequestMapping(&quot;/login&quot;) @ResponseBody public JsonData login(String userName, String password) { Subject subject = SecurityUtils.getSubject(); UsernamePasswordToken token = new UsernamePasswordToken(userName, MD5Utils.encryptPassword(password)); try { subject.login(token); subject.getSession().setAttribute(&quot;loginName&quot;,userName); return JsonData.createBySuccessMessage(CodeMsg.SUCCESS_LOGIN); } catch (DisabledAccountException e) { return JsonData.createByErrorMessage(CodeMsg.ERROR_LOGIN.fillArgs(&quot;&#x5E10;&#x53F7;&#x5DF2;&#x88AB;&#x7981;&#x7528;!&quot;)); } catch (ExcessiveAttemptsException e) { return JsonData.createByErrorMessage(CodeMsg.ERROR_LOGIN.fillArgs(&quot;&#x7528;&#x6237;&#x767B;&#x5F55;&#x6B21;&#x6570;&#x8FC7;&#x591A;&#xFF0C;&#x6709;&#x66B4;&#x529B;&#x7834;&#x89E3;&#x7684;&#x5ACC;&#x7591;!&quot;)); } catch (AccountException e) { return JsonData.createByErrorMessage(CodeMsg.ERROR_LOGIN.fillArgs(&quot;&#x5E10;&#x53F7;&#x6216;&#x5BC6;&#x7801;&#x9519;&#x8BEF;!&quot;)); } catch (AuthenticationException e) { return JsonData.createByErrorMessage(CodeMsg.ERROR_LOGIN.fillArgs(&quot;&#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1;&#x5931;&#x8D25;!&quot;)); } catch (Exception e) { return JsonData.createByErrorMessage(CodeMsg.ERROR_LOGIN.fillArgs(e.toString())); } } @RequestMapping(&quot;/isLogin&quot;) @ResponseBody public JsonData isLogin(String userName){ Subject subject = SecurityUtils.getSubject(); if(subject.isAuthenticated()){ return JsonData.createBySuccess(userName +&quot;&#x5DF2;&#x767B;&#x5F55;&quot;); }else { return JsonData.createBySuccess(userName +&quot;&#x672A;&#x767B;&#x5F55;&quot;); } } @RequestMapping(&quot;/logout&quot;) @ResponseBody public JsonData logout(String userName){ Subject subject = SecurityUtils.getSubject(); subject.logout(); return JsonData.createBySuccess(userName +&quot;&#x5DF2;&#x767B;&#x51FA;&quot;); } @RequestMapping(&quot;/print&quot;) @ResponseBody public JsonData print(){ return JsonData.createBySuccess(); }} &#x542F;&#x52A8;&#x8FD0;&#x884C;&#x9879;&#x76EE; &#x8BBF;&#x95EE; http://localhost:8080/test/print&#x7ED3;&#x679C;&#xFF1A; 1&#x53D1;&#x73B0;url &#x8DF3;&#x8F6C;&#x5230; http://localhost:8080/login, &#x4F46;&#x662F;&#x56E0;&#x4E3A;&#x6CA1;&#x6709;&#x9879;&#x76EE;&#x4E2D;&#x6CA1;&#x6709;&#x914D;&#x7F6E;&#x5BFC;&#x81F4;&#x62A5; 404 &#x9519;&#x8BEF; &#x8BBF;&#x95EE; http://localhost:8080/test/isLogin?userName=&#x5F20;&#x4E09;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF1A; 12345{ status: 0, msg: null, data: &quot;&#x5F20;&#x4E09;&#x672A;&#x767B;&#x5F55;&quot;} &#x8BBF;&#x95EE; http://localhost:8080/test/login?userName=&#x5F20;&amp;password=123456&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF1A; 12345{ status: 500216, msg: &quot;&#x767B;&#x5F55;&#x5931;&#x8D25;&#xFF0C;&#x9519;&#x8BEF;&#x539F;&#x56E0;&#xFF1A;&#x5E10;&#x53F7;&#x6216;&#x5BC6;&#x7801;&#x9519;&#x8BEF;!&quot;, data: null} &#x8BBF;&#x95EE; http://localhost:8080/test/login?userName=&#x5F20;&#x4E09;&amp;password=123456&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF1A; 12345{ status: 0, msg: &quot;&#x767B;&#x5F55;&#x6210;&#x529F;&quot;, data: null} &#x8BBF;&#x95EE; http://localhost:8080/test/isLogin?userName=&#x5F20;&#x4E09;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF1A; 12345{ status: 0, msg: null, data: &quot;&#x5F20;&#x4E09;&#x5DF2;&#x767B;&#x5F55;&quot;} &#x8BBF;&#x95EE; http://localhost:8080/test/print&#x7ED3;&#x679C;&#xFF1A; 12345{ status: 0, msg: null, data: null} &#x8BBF;&#x95EE; http://localhost:8080/test/logout?userName=&#x5F20;&#x4E09;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF1A; 12345{ status: 0, msg: null, data: &quot;&#x5F20;&#x4E09;&#x5DF2;&#x767B;&#x51FA;&quot;} &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x672A;&#x767B;&#x5F55;&#x524D;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x8BBF;&#x95EE; /test/isLogin&#x3001; /test/login&#x548C;/test/logout &#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x80FD;&#x8BBF;&#x95EE; /test/print&#xFF0C; &#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x5728; applicationContext-shiro.xml &#x4E2D;&#x914D;&#x7F6E;&#x4E86; url &#x6743;&#x9650; 1234567891011121314151617&lt;property name=&quot;filterChainDefinitions&quot;&gt; &lt;value&gt; /js/**=anon /css/**=anon /images/**=anon /skin/**=anon /lib/**=anon /nodel/**=anon /WEB-INF/jsp/**=anon /adminUserLogin/**=anon /test/login=anon /test/logout=anon /test/isLogin=anon /**/submitLogin.do=anon /**=user &lt;/value&gt;&lt;/property&gt; &#x6743;&#x9650;&#x914D;&#x7F6E;&#x542B;&#x4E49;anon&#x542B;&#x4E49;&#xFF1A;1&#x8868;&#x793A;&#x53EF;&#x4EE5;&#x533F;&#x540D;&#x4F7F;&#x7528;&#x3002; &#x5B9E;&#x4F8B;&#xFF1A;1/admins/**=anon authc&#x542B;&#x4E49;&#xFF1A;1&#x8868;&#x793A;&#x9700;&#x8981;&#x8BA4;&#x8BC1;(&#x767B;&#x5F55;)&#x624D;&#x80FD;&#x4F7F;&#x7528;&#xFF0C;&#x6CA1;&#x6709;&#x53C2;&#x6570; &#x5B9E;&#x4F8B;&#xFF1A;1/admins/user/**=authc roles(&#x89D2;&#x8272;)&#x542B;&#x4E49;&#xFF1A;1&#x6307;&#x5B9A;&#x7684;&#x89D2;&#x8272;&#x624D;&#x80FD;&#x8BBF;&#x95EE;&#xFF0C;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x5199;&#x591A;&#x4E2A;&#xFF0C;&#x591A;&#x4E2A;&#x65F6;&#x5FC5;&#x987B;&#x52A0;&#x4E0A;&#x5F15;&#x53F7;&#xFF0C;&#x5E76;&#x4E14;&#x53C2;&#x6570;&#x4E4B;&#x95F4;&#x7528;&#x9017;&#x53F7;&#x5206;&#x5272;&#xFF0C;&#x5F53;&#x6709;&#x591A;&#x4E2A;&#x53C2;&#x6570;&#x65F6;&#xFF0C;&#x6BCF;&#x4E2A;&#x53C2;&#x6570;&#x901A;&#x8FC7;&#x624D;&#x7B97;&#x901A;&#x8FC7;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;hasAllRoles()&#x65B9;&#x6CD5;&#x3002; &#x5B9E;&#x4F8B;&#xFF1A;12/admins/user/**=roles[admin]/admins/user/**=roles[&quot;admin,guest&quot;] perms&#xFF08;&#x6743;&#x9650;&#xFF09;&#x542B;&#x4E49;&#xFF1A;1&#x62E5;&#x6709;&#x6307;&#x5B9A;&#x6743;&#x9650;&#x624D;&#x80FD;&#x8BBF;&#x95EE;&#xFF0C;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x5199;&#x591A;&#x4E2A;&#xFF0C;&#x591A;&#x4E2A;&#x65F6;&#x5FC5;&#x987B;&#x52A0;&#x4E0A;&#x5F15;&#x53F7;&#xFF0C;&#x5E76;&#x4E14;&#x53C2;&#x6570;&#x4E4B;&#x95F4;&#x7528;&#x9017;&#x53F7;&#x5206;&#x5272;&#x3002;&#x5F53;&#x6709;&#x591A;&#x4E2A;&#x53C2;&#x6570;&#x65F6;&#x5FC5;&#x987B;&#x6BCF;&#x4E2A;&#x53C2;&#x6570;&#x90FD;&#x901A;&#x8FC7;&#x624D;&#x901A;&#x8FC7;&#xFF0C;&#x60F3;&#x5F53;&#x4E8E;isPermitedAll()&#x65B9;&#x6CD5; &#x5B9E;&#x4F8B;&#xFF1A;12/admins/user/**=perms[user:add:*]/admins/user/**=perms[&quot;user:add:*,user:modify:*&quot;] rest&#x542B;&#x4E49;&#xFF1A;1&#x6839;&#x636E;&#x8BF7;&#x6C42;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;/admins/user/**=perms[user:method] ,&#x5176;&#x4E2D;method&#x4E3A;post&#xFF0C;get&#xFF0C;delete&#x7B49;&#x3002; &#x5B9E;&#x4F8B;&#xFF1A;1/admins/user/**=rest[user] port&#x542B;&#x4E49;&#xFF1A;1&#x6839;&#x636E;&#x8BF7;&#x6C42;&#x7684;&#x7AEF;&#x53E3;&#xFF0C;&#x5F53;&#x8BF7;&#x6C42;&#x7684;url&#x7684;&#x7AEF;&#x53E3;&#x4E0D;&#x662F;8081&#x65F6;&#x8DF3;&#x8F6C;&#x5230; schemal://serverName:8081?queryString ,&#x5176;&#x4E2D; schmal &#x662F;&#x534F;&#x8BAE;http&#x6216;https&#x7B49;&#xFF0C;serverName &#x662F;&#x4F60;&#x8BBF;&#x95EE;&#x7684;host,8081&#x662F; url &#x914D;&#x7F6E;&#x91CC; port &#x7684;&#x7AEF;&#x53E3;&#xFF0C;queryString &#x662F;&#x4F60;&#x8BBF;&#x95EE;&#x7684;url&#x91CC;&#x7684;&#xFF1F;&#x540E;&#x9762;&#x7684;&#x53C2;&#x6570;&#x3002; &#x5B9E;&#x4F8B;&#xFF1A;1/admins/user/**=port[8081] authcBasic&#x542B;&#x4E49;&#xFF1A;1&#x8868;&#x793A;httpBasic&#x8BA4;&#x8BC1; &#x5B9E;&#x4F8B;&#xFF1A;1/admins/user/**=authcBasic ssl&#x542B;&#x4E49;&#xFF1A;1&#x8868;&#x793A;&#x5B89;&#x5168;&#x7684;url&#x8BF7;&#x6C42;&#xFF0C;&#x534F;&#x8BAE;&#x4E3A;https &#x5B9E;&#x4F8B;&#xFF1A;1/admins/user/**=ssl user&#x542B;&#x4E49;&#xFF1A;1&#x8868;&#x793A;&#x5FC5;&#x987B;&#x5B58;&#x5728;&#x7528;&#x6237;&#xFF0C;&#x5F53;&#x767B;&#x5165;&#x64CD;&#x4F5C;&#x65F6;&#x4E0D;&#x505A;&#x68C0;&#x67E5; &#x5B9E;&#x4F8B;&#xFF1A;1/admins/user/**=user","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"Shiro","slug":"Shiro","permalink":"https://marklogzhu.github.io/tags/Shiro/"}]},{"title":"Shiro学习总结(三)--授权","date":"2018-05-22T01:17:00.000Z","path":"Shiro/后台/Java/Shiro/Shiro学习总结(三)--授权/","text":"&#x540D;&#x8BCD;&#x89E3;&#x6790;&#x6388;&#x6743;&#x6388;&#x6743;&#xFF0C;&#x4E5F;&#x53EB;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#xFF0C;&#x5373;&#x5728;&#x5E94;&#x7528;&#x4E2D;&#x63A7;&#x5236;&#x8C01;&#x80FD;&#x8BBF;&#x95EE;&#x54EA;&#x4E9B;&#x8D44;&#x6E90;&#xFF08;&#x5982;&#x8BBF;&#x95EE;&#x9875;&#x9762;/&#x7F16;&#x8F91;&#x6570;&#x636E;/&#x9875;&#x9762;&#x64CD;&#x4F5C;&#x7B49;&#xFF09;&#x3002;&#x5728;&#x6388;&#x6743;&#x4E2D;&#x9700;&#x4E86;&#x89E3;&#x7684;&#x51E0;&#x4E2A;&#x5173;&#x952E;&#x5BF9;&#x8C61;&#xFF1A;&#x4E3B;&#x4F53;&#xFF08;Subject&#xFF09;&#x3001;&#x8D44;&#x6E90;&#xFF08;Resource&#xFF09;&#x3001;&#x6743;&#x9650;&#xFF08;Permission&#xFF09;&#x3001;&#x89D2;&#x8272;&#xFF08;Role&#xFF09;&#x3002; &#x4E3B;&#x4F53;&#x4E3B;&#x4F53;&#xFF0C;&#x5373;&#x8BBF;&#x95EE;&#x5E94;&#x7528;&#x7684;&#x7528;&#x6237;&#xFF0C;&#x5728; Shiro &#x4E2D;&#x4F7F;&#x7528; Subject &#x4EE3;&#x8868;&#x8BE5;&#x7528;&#x6237;&#x3002;&#x7528;&#x6237;&#x53EA;&#x6709;&#x6388;&#x6743;&#x540E;&#x624D;&#x5141;&#x8BB8;&#x8BBF;&#x95EE;&#x76F8;&#x5E94;&#x7684;&#x8D44;&#x6E90;&#x3002; &#x8D44;&#x6E90;&#x5728;&#x5E94;&#x7528;&#x4E2D;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x7684;&#x4EFB;&#x4F55;&#x4E1C;&#x897F;&#xFF0C;&#x6BD4;&#x5982;&#x8BBF;&#x95EE; JSP &#x9875;&#x9762;&#x3001;&#x67E5;&#x770B;/&#x7F16;&#x8F91;&#x67D0;&#x4E9B;&#x6570;&#x636E;&#x3001;&#x8BBF;&#x95EE;&#x67D0;&#x4E2A;&#x4E1A;&#x52A1;&#x65B9;&#x6CD5;&#x3001;&#x6253;&#x5370;&#x6587;&#x672C;&#x7B49;&#x7B49;&#x90FD;&#x662F;&#x8D44;&#x6E90;&#x3002;&#x7528;&#x6237;&#x53EA;&#x8981;&#x6388;&#x6743;&#x540E;&#x624D;&#x80FD;&#x8BBF;&#x95EE;&#x3002; &#x6743;&#x9650;&#x5B89;&#x5168;&#x7B56;&#x7565;&#x4E2D;&#x7684;&#x539F;&#x5B50;&#x6388;&#x6743;&#x5355;&#x4F4D;&#xFF0C;&#x901A;&#x8FC7;&#x6743;&#x9650;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8868;&#x793A;&#x5728;&#x5E94;&#x7528;&#x4E2D;&#x7528;&#x6237;&#x6709;&#x6CA1;&#x6709;&#x64CD;&#x4F5C;&#x67D0;&#x4E2A;&#x8D44;&#x6E90;&#x7684;&#x6743;&#x529B;&#x3002;&#x5373;&#x6743;&#x9650;&#x8868;&#x793A;&#x5728;&#x5E94;&#x7528;&#x4E2D;&#x7528;&#x6237;&#x80FD;&#x4E0D;&#x80FD;&#x8BBF;&#x95EE;&#x67D0;&#x4E2A;&#x8D44;&#x6E90;&#xFF0C;&#x5982;&#xFF1A; &#x8BBF;&#x95EE;&#x7528;&#x6237;&#x5217;&#x8868;&#x9875;&#x9762; ,&#x67E5;&#x770B;/&#x65B0;&#x589E;/&#x4FEE;&#x6539;/&#x5220;&#x9664;&#x7528;&#x6237;&#x6570;&#x636E;&#xFF08;&#x5373;&#x5F88;&#x591A;&#x65F6;&#x5019;&#x90FD;&#x662F; CRUD&#xFF08;&#x589E;&#x67E5;&#x6539;&#x5220;&#xFF09;&#x5F0F;&#x6743;&#x9650;&#x63A7;&#x5236;&#xFF09;,&#x6253;&#x5370;&#x6587;&#x6863;&#x7B49;&#x7B49;&#x3002;&#x3002;&#x3002; &#x5982;&#x4E0A;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x6743;&#x9650;&#x4EE3;&#x8868;&#x4E86;&#x7528;&#x6237;&#x6709;&#x6CA1;&#x6709;&#x64CD;&#x4F5C;&#x67D0;&#x4E2A;&#x8D44;&#x6E90;&#x7684;&#x6743;&#x5229;&#xFF0C;&#x5373;&#x53CD;&#x6620;&#x5728;&#x67D0;&#x4E2A;&#x8D44;&#x6E90;&#x4E0A;&#x7684;&#x64CD;&#x4F5C;&#x5141;&#x4E0D;&#x5141;&#x8BB8;&#xFF0C;&#x4E0D;&#x53CD;&#x6620;&#x8C01;&#x53BB;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x64CD;&#x4F5C;&#x3002;&#x6240;&#x4EE5;&#x540E;&#x7EED;&#x8FD8;&#x9700;&#x8981;&#x628A;&#x6743;&#x9650;&#x8D4B;&#x4E88;&#x7ED9;&#x7528;&#x6237;&#xFF0C;&#x5373;&#x5B9A;&#x4E49;&#x54EA;&#x4E2A;&#x7528;&#x6237;&#x5141;&#x8BB8;&#x5728;&#x67D0;&#x4E2A;&#x8D44;&#x6E90;&#x4E0A;&#x505A;&#x4EC0;&#x4E48;&#x64CD;&#x4F5C;&#xFF08;&#x6743;&#x9650;&#xFF09;&#xFF0C;Shiro &#x4E0D;&#x4F1A;&#x53BB;&#x505A;&#x8FD9;&#x4EF6;&#x4E8B;&#x60C5;&#xFF0C;&#x800C;&#x662F;&#x7531;&#x5B9E;&#x73B0;&#x4EBA;&#x5458;&#x63D0;&#x4F9B;&#x3002; Shiro &#x652F;&#x6301;&#x7C97;&#x7C92;&#x5EA6;&#x6743;&#x9650;&#xFF08;&#x5982;&#x7528;&#x6237;&#x6A21;&#x5757;&#x7684;&#x6240;&#x6709;&#x6743;&#x9650;&#xFF09;&#x548C;&#x7EC6;&#x7C92;&#x5EA6;&#x6743;&#x9650;&#xFF08;&#x64CD;&#x4F5C;&#x67D0;&#x4E2A;&#x7528;&#x6237;&#x7684;&#x6743;&#x9650;&#xFF0C;&#x5373;&#x5B9E;&#x4F8B;&#x7EA7;&#x522B;&#x7684;&#xFF09;&#xFF0C;&#x540E;&#x7EED;&#x90E8;&#x5206;&#x4ECB;&#x7ECD;&#x3002; &#x89D2;&#x8272;&#x89D2;&#x8272;&#x4EE3;&#x8868;&#x4E86;&#x64CD;&#x4F5C;&#x96C6;&#x5408;&#xFF0C;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x6743;&#x9650;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x6211;&#x4EEC;&#x4F1A;&#x8D4B;&#x4E88;&#x7528;&#x6237;&#x89D2;&#x8272;&#x800C;&#x4E0D;&#x662F;&#x6743;&#x9650;&#xFF0C;&#x5373;&#x8FD9;&#x6837;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x62E5;&#x6709;&#x4E00;&#x7EC4;&#x6743;&#x9650;&#xFF0C;&#x8D4B;&#x4E88;&#x6743;&#x9650;&#x65F6;&#x6BD4;&#x8F83;&#x65B9;&#x4FBF;&#x3002;&#x5178;&#x578B;&#x7684;&#x5982;&#xFF1A;&#x9879;&#x76EE;&#x7ECF;&#x7406;&#x3001;&#x6280;&#x672F;&#x603B;&#x76D1;&#x3001;CTO&#x3001;&#x5F00;&#x53D1;&#x5DE5;&#x7A0B;&#x5E08;&#x7B49;&#x90FD;&#x662F;&#x89D2;&#x8272;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x89D2;&#x8272;&#x62E5;&#x6709;&#x4E00;&#x7EC4;&#x4E0D;&#x540C;&#x7684;&#x6743;&#x9650;&#x3002; &#x6388;&#x6743;&#x65B9;&#x5F0F;Shiro &#x652F;&#x6301;&#x4E09;&#x79CD;&#x65B9;&#x5F0F;&#x7684;&#x6388;&#x6743;&#xFF1A; * &#x7F16;&#x7A0B;&#x5F0F; * &#x6CE8;&#x89E3;&#x5F0F; * &#x6807;&#x7B7E;&#x5F0F; &#x7F16;&#x7A0B;&#x5F0F;&#x901A;&#x8FC7;&#x5199; if/else &#x6388;&#x6743;&#x4EE3;&#x7801;&#x5757;&#x5B8C;&#x6210;&#xFF1A; 123456Subject subject = SecurityUtils.getSubject();if(subject.hasRole(&#x201C;admin&#x201D;)) { //&#x6709;&#x6743;&#x9650;} else { //&#x65E0;&#x6743;&#x9650;} &#x6CE8;&#x89E3;&#x5F0F;&#x901A;&#x8FC7;&#x5728;&#x6267;&#x884C;&#x7684; Java &#x65B9;&#x6CD5;&#x4E0A;&#x653E;&#x7F6E;&#x76F8;&#x5E94;&#x7684;&#x6CE8;&#x89E3;&#x5B8C;&#x6210;&#xFF1A; 1234@RequiresRoles(&quot;admin&quot;)public void hello() { //&#x6709;&#x6743;&#x9650;} &#x6CA1;&#x6709;&#x6743;&#x9650;&#x5C06;&#x629B;&#x51FA;&#x76F8;&#x5E94;&#x7684;&#x5F02;&#x5E38;&#xFF1B; &#x6807;&#x7B7E;&#x5F0F;&#x5728; JSP &#x9875;&#x9762;&#x901A;&#x8FC7;&#x76F8;&#x5E94;&#x7684;&#x6807;&#x7B7E;&#x5B8C;&#x6210;&#xFF1A; 12345&lt;!--&#x5728;jsp&#x9875;&#x9762;&#x4E2D;&#x5F15;&#x5165;shiro&#x6807;&#x7B7E;&#x5E93;--&gt;&lt;%@ taglib prefix=&quot;shiro&quot; uri=&quot;http://shiro.apache.org/tags&quot; %&gt;&lt;shiro:hasRole name=&quot;admin&quot;&gt;&lt;!&#x2014; &#x6709;&#x6743;&#x9650; &#x2014;&gt;&lt;/shiro:hasRole&gt; &#x57FA;&#x4E8E;&#x89D2;&#x8272;&#x7684;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x5728; ini &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x914D;&#x7F6E;&#x7528;&#x6237;&#x62E5;&#x6709;&#x7684;&#x89D2;&#x8272;&#xFF08;shiro-role.ini&#xFF09;123[users]admin=123,role1,role2marklogzhu=123,role1 &#x6D4B;&#x8BD5;&#x7528;&#x4F8B;123456789101112131415161718192021222324252627282930313233343536373839404142public class ShiroRoleTest { private Subject subject; private void login(String filePath,String userName,String password){ // 1&#x3001;&#x83B7;&#x53D6;SecurityManager&#x5DE5;&#x5382;&#xFF0C;&#x6B64;&#x5904;&#x4F7F;&#x7528;Ini&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x521D;&#x59CB;&#x5316;SecurityManager Factory&lt;SecurityManager&gt; factory = new IniSecurityManagerFactory(filePath); // 2&#x3001;&#x5F97;&#x5230;SecurityManager&#x5B9E;&#x4F8B; &#x5E76;&#x7ED1;&#x5B9A;&#x7ED9;SecurityUtils SecurityManager securityManager = factory.getInstance(); SecurityUtils.setSecurityManager(securityManager); // 3&#x3001;&#x5F97;&#x5230;Subject&#x53CA;&#x521B;&#x5EFA;&#x7528;&#x6237;&#x540D;/&#x5BC6;&#x7801;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;Token&#xFF08;&#x5373;&#x7528;&#x6237;&#x8EAB;&#x4EFD;/&#x51ED;&#x8BC1;&#xFF09; subject = SecurityUtils.getSubject(); UsernamePasswordToken token = new UsernamePasswordToken(userName, password); try { // 4&#x3001;&#x767B;&#x5F55;&#xFF0C;&#x5373;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1; subject.login(token); } catch (AuthenticationException e) { // 5&#x3001;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x5931;&#x8D25; System.out.println(&quot;&#x767B;&#x9646;&#x5931;&#x8D25;,&#x9519;&#x8BEF;&#x539F;&#x56E0;&#xFF1A;&quot; + e ); } } @Test public void testHasRole() { login(&quot;classpath:shiro/shiro-role.ini&quot;, &quot;admin&quot;, &quot;123&quot;); //&#x5224;&#x65AD;&#x62E5;&#x6709;&#x89D2;&#x8272;&#xFF1A;role1 Assert.assertTrue(subject.hasRole(&quot;role1&quot;)); //&#x5224;&#x65AD;&#x62E5;&#x6709;&#x89D2;&#x8272;&#xFF1A;role1 and role2 Assert.assertTrue(subject.hasAllRoles(Arrays.asList(&quot;role1&quot;, &quot;role2&quot;))); //&#x5224;&#x65AD;&#x62E5;&#x6709;&#x89D2;&#x8272;&#xFF1A;role1 and role2 and !role3 boolean[] result = subject.hasRoles(Arrays.asList(&quot;role1&quot;, &quot;role2&quot;, &quot;role3&quot;)); Assert.assertEquals(true, result[0]); Assert.assertEquals(true, result[1]); Assert.assertEquals(false, result[2]); } @Test public void testCheckRole() { login(&quot;classpath:shiro-role.ini&quot;, &quot;zhang&quot;, &quot;123&quot;); //&#x65AD;&#x8A00;&#x62E5;&#x6709;&#x89D2;&#x8272;&#xFF1A;role1 subject.checkRole(&quot;role1&quot;); //&#x65AD;&#x8A00;&#x62E5;&#x6709;&#x89D2;&#x8272;&#xFF1A;role1 and role3 &#x5931;&#x8D25;&#x629B;&#x51FA;&#x5F02;&#x5E38; subject.checkRoles(&quot;role1&quot;, &quot;role3&quot;); }} Shiro &#x63D0;&#x4F9B;&#x7684; checkRole/checkRoles &#x548C; hasRole/hasAllRoles &#x4E0D;&#x540C;&#x7684;&#x5730;&#x65B9;&#x662F;&#x5B83;&#x5728;&#x5224;&#x65AD;&#x4E3A;&#x5047;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x4F1A;&#x629B;&#x51FA; UnauthorizedException &#x5F02;&#x5E38;&#x3002; &#x5230;&#x6B64;&#x57FA;&#x4E8E;&#x89D2;&#x8272;&#x7684;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x7684;&#x7F3A;&#x70B9;&#x5C31;&#x662F;&#x5982;&#x679C;&#x5F88;&#x591A;&#x5730;&#x65B9;&#x8FDB;&#x884C;&#x4E86;&#x89D2;&#x8272;&#x5224;&#x65AD;&#xFF0C;&#x4F46;&#x662F;&#x6709;&#x4E00;&#x5929;&#x4E0D;&#x9700;&#x8981;&#x4E86;&#x90A3;&#x4E48;&#x5C31;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x76F8;&#x5E94;&#x4EE3;&#x7801;&#x628A;&#x6240;&#x6709;&#x76F8;&#x5173;&#x7684;&#x5730;&#x65B9;&#x8FDB;&#x884C;&#x5220;&#x9664;&#xFF1B;&#x8FD9;&#x5C31;&#x662F;&#x7C97;&#x7C92;&#x5EA6;&#x9020;&#x6210;&#x7684;&#x95EE;&#x9898;&#x3002; &#x57FA;&#x4E8E;&#x8D44;&#x6E90;&#x7684;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x5728; ini &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x914D;&#x7F6E;&#x7528;&#x6237;&#x62E5;&#x6709;&#x7684;&#x89D2;&#x8272;&#x53CA;&#x89D2;&#x8272;-&#x6743;&#x9650;&#x5173;&#x7CFB;&#xFF08;shiro-permission.ini&#xFF09;123456[users]admin=123,role1,role2marklogzhu=123,role1[roles]role1=user:create,user:updaterole2=user:create,user:delete &#x6D4B;&#x8BD5;&#x7528;&#x4F8B;12345678910111213141516171819202122232425262728293031323334353637383940public class ShiroPermissionTest { private Subject subject; private void login(String filePath,String userName,String password){ // 1&#x3001;&#x83B7;&#x53D6;SecurityManager&#x5DE5;&#x5382;&#xFF0C;&#x6B64;&#x5904;&#x4F7F;&#x7528;Ini&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x521D;&#x59CB;&#x5316;SecurityManager Factory&lt;SecurityManager&gt; factory = new IniSecurityManagerFactory(filePath); // 2&#x3001;&#x5F97;&#x5230;SecurityManager&#x5B9E;&#x4F8B; &#x5E76;&#x7ED1;&#x5B9A;&#x7ED9;SecurityUtils SecurityManager securityManager = factory.getInstance(); SecurityUtils.setSecurityManager(securityManager); // 3&#x3001;&#x5F97;&#x5230;Subject&#x53CA;&#x521B;&#x5EFA;&#x7528;&#x6237;&#x540D;/&#x5BC6;&#x7801;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;Token&#xFF08;&#x5373;&#x7528;&#x6237;&#x8EAB;&#x4EFD;/&#x51ED;&#x8BC1;&#xFF09; subject = SecurityUtils.getSubject(); UsernamePasswordToken token = new UsernamePasswordToken(userName, password); try { // 4&#x3001;&#x767B;&#x5F55;&#xFF0C;&#x5373;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1; subject.login(token); } catch (AuthenticationException e) { // 5&#x3001;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x5931;&#x8D25; System.out.println(&quot;&#x767B;&#x9646;&#x5931;&#x8D25;,&#x9519;&#x8BEF;&#x539F;&#x56E0;&#xFF1A;&quot; + e ); } } @Test public void testIsPermitted() { login(&quot;classpath:shiro/shiro-permission.ini&quot;, &quot;admin&quot;, &quot;123&quot;); //&#x5224;&#x65AD;&#x62E5;&#x6709;&#x6743;&#x9650;&#xFF1A;user:create Assert.assertTrue(subject.isPermitted(&quot;user:create&quot;)); //&#x5224;&#x65AD;&#x62E5;&#x6709;&#x6743;&#x9650;&#xFF1A;user:update and user:delete Assert.assertTrue(subject.isPermittedAll(&quot;user:update&quot;, &quot;user:delete&quot;)); //&#x5224;&#x65AD;&#x6CA1;&#x6709;&#x6743;&#x9650;&#xFF1A;user:view Assert.assertFalse(subject.isPermitted(&quot;user:view&quot;)); } @Test public void testCheckPermission () { login(&quot;classpath:shiro/shiro-permission.ini&quot;, &quot;admin&quot;, &quot;123&quot;); //&#x65AD;&#x8A00;&#x62E5;&#x6709;&#x6743;&#x9650;&#xFF1A;user:create subject.checkPermission(&quot;user:create&quot;); //&#x65AD;&#x8A00;&#x62E5;&#x6709;&#x6743;&#x9650;&#xFF1A;user:delete and user:update subject.checkPermissions(&quot;user:delete&quot;, &quot;user:update&quot;); //&#x65AD;&#x8A00;&#x62E5;&#x6709;&#x6743;&#x9650;&#xFF1A;user:view &#x5931;&#x8D25;&#x629B;&#x51FA;&#x5F02;&#x5E38; subject.checkPermissions(&quot;user:view&quot;); }} Shiro &#x63D0;&#x4F9B;&#x7684; checkPermission/checkPermissions &#x548C; isPermitted/delete &#x4E0D;&#x540C;&#x7684;&#x5730;&#x65B9;&#x662F;&#x5B83;&#x5728;&#x5224;&#x65AD;&#x4E3A;&#x5047;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x4F1A;&#x629B;&#x51FA; UnauthorizedException &#x5F02;&#x5E38;&#x3002; &#x57FA;&#x4E8E;&#x8D44;&#x6E90;&#x7684;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x7684;&#x4E00;&#x822C;&#x89C4;&#x5219;&#x662F;&#x201C;&#x8D44;&#x6E90;&#x6807;&#x8BC6;&#x7B26;&#xFF1A;&#x64CD;&#x4F5C;&#x201D;&#xFF0C;&#x5373;&#x662F;&#x8D44;&#x6E90;&#x7EA7;&#x522B;&#x7684;&#x7C92;&#x5EA6;&#xFF1B;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x7684;&#x597D;&#x5904;&#x5C31;&#x662F;&#x5982;&#x679C;&#x8981;&#x4FEE;&#x6539;&#x57FA;&#x672C;&#x90FD;&#x662F;&#x4E00;&#x4E2A;&#x8D44;&#x6E90;&#x7EA7;&#x522B;&#x7684;&#x4FEE;&#x6539;&#xFF0C;&#x4E0D;&#x4F1A;&#x5BF9;&#x5176;&#x4ED6;&#x6A21;&#x5757;&#x4EE3;&#x7801;&#x4EA7;&#x751F;&#x5F71;&#x54CD;&#xFF0C;&#x7C92;&#x5EA6;&#x5C0F;&#x3002;&#x4F46;&#x662F;&#x5B9E;&#x73B0;&#x8D77;&#x6765;&#x53EF;&#x80FD;&#x7A0D;&#x5FAE;&#x590D;&#x6742;&#x70B9;&#xFF0C;&#x9700;&#x8981;&#x7EF4;&#x62A4;&#x201C;&#x7528;&#x6237;&#x2014;&#x2014;&#x89D2;&#x8272;&#xFF0C;&#x89D2;&#x8272;&#x2014;&#x2014;&#x6743;&#x9650;&#xFF08;&#x8D44;&#x6E90;&#xFF1A;&#x64CD;&#x4F5C;&#xFF09;&#x201D;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;&#x3002; Permission&#x5B57;&#x7B26;&#x4E32;&#x901A;&#x914D;&#x7B26;&#x6743;&#x9650;&#x89C4;&#x5219;&#xFF1A;&#x201C;&#x8D44;&#x6E90;&#x6807;&#x8BC6;&#x7B26;&#xFF1A;&#x64CD;&#x4F5C;&#xFF1A;&#x5BF9;&#x8C61;&#x5B9E;&#x4F8B; ID&#x201D; &#x5373;&#x5BF9;&#x54EA;&#x4E2A;&#x8D44;&#x6E90;&#x7684;&#x54EA;&#x4E2A;&#x5B9E;&#x4F8B;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x4EC0;&#x4E48;&#x64CD;&#x4F5C;&#x3002;&#x5176;&#x9ED8;&#x8BA4;&#x652F;&#x6301;&#x901A;&#x914D;&#x7B26;&#x6743;&#x9650;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x201C;:&#x201D;&#x8868;&#x793A;&#x8D44;&#x6E90;/&#x64CD;&#x4F5C;/&#x5B9E;&#x4F8B;&#x7684;&#x5206;&#x5272;&#xFF1B;&#x201C;,&#x201D;&#x8868;&#x793A;&#x64CD;&#x4F5C;&#x7684;&#x5206;&#x5272;&#xFF1B;&#x201C;*&#x201D;&#x8868;&#x793A;&#x4EFB;&#x610F;&#x8D44;&#x6E90;/&#x64CD;&#x4F5C;/&#x5B9E;&#x4F8B;&#x3002; &#x5355;&#x4E2A;&#x8D44;&#x6E90;&#x5355;&#x4E2A;&#x6743;&#x9650;1subject.checkPermissions(&quot;system:user:update&quot;); &#x7528;&#x6237;&#x62E5;&#x6709;&#x8D44;&#x6E90;&#x201C;system:user&#x201D;&#x7684;&#x201C;update&#x201D;&#x6743;&#x9650;&#x3002; &#x5355;&#x4E2A;&#x8D44;&#x6E90;&#x591A;&#x4E2A;&#x6743;&#x9650;ini &#x914D;&#x7F6E;: 1role42=&quot;system:user:update,delete&quot; &#x4EE3;&#x7801;&#x5224;&#x65AD;&#xFF1A;1subject.checkPermissions(&quot;system:user:update,delete&quot;); &#x5355;&#x4E2A;&#x8D44;&#x6E90;&#x5168;&#x90E8;&#x6743;&#x9650;ini &#x914D;&#x7F6E;:1role52=system:user:* &#x4EE3;&#x7801;&#x5224;&#x65AD;&#xFF1A; 12subject.checkPermissions(&quot;system:user:*&quot;);subject.checkPermissions(&quot;system:user&quot;); &#x6240;&#x6709;&#x8D44;&#x6E90;&#x5168;&#x90E8;&#x6743;&#x9650;ini &#x914D;&#x7F6E; 1role61=*:view &#x4EE3;&#x7801;&#x5224;&#x65AD;1subject.checkPermissions(&quot;user:view&quot;); &#x5B9E;&#x4F8B;&#x7EA7;&#x522B;&#x7684;&#x6743;&#x9650;&#x5355;&#x4E2A;&#x5B9E;&#x4F8B;&#x5355;&#x4E2A;&#x6743;&#x9650;ini &#x914D;&#x7F6E; 1role71=user:view:1 &#x4EE3;&#x7801;&#x5224;&#x65AD; 1subject.checkPermissions(&quot;user:view:1&quot;); &#x5355;&#x4E2A;&#x5B9E;&#x4F8B;&#x591A;&#x4E2A;&#x6743;&#x9650;ini &#x914D;&#x7F6E; 1role72=&quot;user:update,delete:1&quot; &#x4EE3;&#x7801;&#x5224;&#x65AD; 12subject.checkPermissions(&quot;user:delete,update:1&quot;);subject.checkPermissions(&quot;user:update:1&quot;, &quot;user:delete:1&quot;); &#x5355;&#x4E2A;&#x5B9E;&#x4F8B;&#x6240;&#x6709;&#x6743;&#x9650;ini &#x914D;&#x7F6E; 1role73=user:*:1 &#x4EE3;&#x7801;&#x5224;&#x65AD; 1subject.checkPermissions(&quot;user:update:1&quot;, &quot;user:delete:1&quot;, &quot;user:view:1&quot;); &#x6240;&#x6709;&#x5B9E;&#x4F8B;&#x5355;&#x4E2A;&#x6743;&#x9650;ini &#x914D;&#x7F6E; 1role74=user:auth:* &#x4EE3;&#x7801;&#x5224;&#x65AD; 1subject.checkPermissions(&quot;user:auth:1&quot;, &quot;user:auth:2&quot;); &#x6240;&#x6709;&#x5B9E;&#x4F8B;&#x6240;&#x6709;&#x6743;&#x9650;ini &#x914D;&#x7F6E;1role75=user:*:* &#x4EE3;&#x7801;&#x5224;&#x65AD; 1subject.checkPermissions(&quot;user:view:1&quot;, &quot;user:auth:2&quot;); Shiro &#x5BF9;&#x6743;&#x9650;&#x5B57;&#x7B26;&#x4E32;&#x7F3A;&#x5931;&#x90E8;&#x5206;&#x7684;&#x5904;&#x7406;&#x5982; &#x201C;user:view&#x201D; &#x7B49;&#x4EF7;&#x4E8E;&#x201C;user:view:*&#x201D;&#xFF1B;&#x800C; &#x201C;organization&#x201D; &#x7B49;&#x4EF7;&#x4E8E; &#x201C;organization:*&#x201D; &#x6216;&#x8005;&#x201C;organization:*:*&#x201D; &#x3002;&#x53EF;&#x4EE5;&#x8FD9;&#x4E48;&#x7406;&#x89E3;&#xFF0C;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#x4E86;&#x524D;&#x7F00;&#x5339;&#x914D;&#x3002; &#x53E6;&#x5916;&#x5982; &#x201C;user:*&#x201D; &#x53EF;&#x4EE5;&#x5339;&#x914D;&#x5982; &#x201C;user:delete&#x201D; &#x3001;&#x201C;user:delete&#x201D; &#x53EF;&#x4EE5;&#x5339;&#x914D;&#x5982; &#x201C;user:delete:1&#x201D;&#x3001;&#x201C;user:*:1&#x201D; &#x53EF;&#x4EE5;&#x5339;&#x914D;&#x5982; &#x201C;user:view:1&#x201D;&#x3001;&#x201C;user&#x201D; &#x53EF;&#x4EE5;&#x5339;&#x914D; &#x201C;user:view&#x201D; &#x6216; &#x201C;user:view:1&#x201D; &#x7B49;&#x3002;&#x5373; * &#x53EF;&#x4EE5;&#x5339;&#x914D;&#x6240;&#x6709;&#xFF0C;&#x4E0D;&#x52A0; * &#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x524D;&#x7F00;&#x5339;&#x914D;&#xFF1B;&#x4F46;&#x662F;&#x5982; &#x201C;*:view&#x201D; &#x4E0D;&#x80FD;&#x5339;&#x914D; &#x201C;system:user:view&#x201D; &#xFF0C;&#x9700;&#x8981;&#x4F7F;&#x7528; &#x201C;*:*:view&#x201D; &#xFF0C;&#x5373;&#x540E;&#x7F00;&#x5339;&#x914D;&#x5FC5;&#x987B;&#x6307;&#x5B9A;&#x524D;&#x7F00;&#xFF08;&#x591A;&#x4E2A;&#x5192;&#x53F7;&#x5C31;&#x9700;&#x8981;&#x591A;&#x4E2A; * &#x6765;&#x5339;&#x914D;&#xFF09;&#x3002; WildcardPermission&#x5982;&#x4E0B;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x662F;&#x7B49;&#x4EF7;&#x7684;&#xFF1A; 12subject.checkPermission(&quot;menu:view:1&quot;);subject.checkPermission(new WildcardPermission(&quot;menu:view:1&quot;)); &#x56E0;&#x6B64;&#x6CA1;&#x4EC0;&#x4E48;&#x5FC5;&#x8981;&#x7684;&#x8BDD;&#x4F7F;&#x7528;&#x5B57;&#x7B26;&#x4E32;&#x66F4;&#x65B9;&#x4FBF;&#x3002; &#x6027;&#x80FD;&#x95EE;&#x9898;&#x901A;&#x914D;&#x7B26;&#x5339;&#x914D;&#x65B9;&#x5F0F;&#x6BD4;&#x5B57;&#x7B26;&#x4E32;&#x76F8;&#x7B49;&#x5339;&#x914D;&#x6765;&#x8BF4;&#x662F;&#x66F4;&#x590D;&#x6742;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x82B1;&#x8D39;&#x66F4;&#x957F;&#x65F6;&#x95F4;&#xFF0C;&#x4F46;&#x662F;&#x4E00;&#x822C;&#x7CFB;&#x7EDF;&#x7684;&#x6743;&#x9650;&#x4E0D;&#x4F1A;&#x592A;&#x591A;&#xFF0C;&#x4E14;&#x53EF;&#x4EE5;&#x914D;&#x5408;&#x7F13;&#x5B58;&#x6765;&#x63D0;&#x4F9B;&#x5176;&#x6027;&#x80FD;&#xFF0C;&#x5982;&#x679C;&#x8FD9;&#x6837;&#x6027;&#x80FD;&#x8FD8;&#x8FBE;&#x4E0D;&#x5230;&#x8981;&#x6C42;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x4F4D;&#x64CD;&#x4F5C;&#x7B97;&#x6CD5;&#x5B9E;&#x73B0;&#x6027;&#x80FD;&#x66F4;&#x597D;&#x7684;&#x6743;&#x9650;&#x5339;&#x914D;&#x3002;&#x53E6;&#x5916;&#x5B9E;&#x4F8B;&#x7EA7;&#x522B;&#x7684;&#x6743;&#x9650;&#x9A8C;&#x8BC1;&#x5982;&#x679C;&#x6570;&#x636E;&#x91CF;&#x592A;&#x5927;&#x4E5F;&#x4E0D;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#xFF0C;&#x53EF;&#x80FD;&#x9020;&#x6210;&#x67E5;&#x8BE2;&#x6743;&#x9650;&#x53CA;&#x5339;&#x914D;&#x53D8;&#x6162;&#x3002;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x6BD4;&#x5982;&#x5728;sql&#x67E5;&#x8BE2;&#x65F6;&#x52A0;&#x4E0A;&#x6743;&#x9650;&#x5B57;&#x7B26;&#x4E32;&#x4E4B;&#x7C7B;&#x7684;&#x65B9;&#x5F0F;&#x5728;&#x67E5;&#x8BE2;&#x65F6;&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#x6743;&#x9650;&#x5339;&#x914D;&#x3002; &#x6388;&#x6743;&#x6D41;&#x7A0B; &#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; &#x9996;&#x5148;&#x8C03;&#x7528; Subject.isPermitted*/hasRole* &#x63A5;&#x53E3;&#xFF0C;&#x5176;&#x4F1A;&#x59D4;&#x6258;&#x7ED9; SecurityManager&#xFF0C;&#x800C; SecurityManager &#x63A5;&#x7740;&#x4F1A;&#x59D4;&#x6258;&#x7ED9; Authorizer&#xFF1B; Authorizer &#x662F;&#x771F;&#x6B63;&#x7684;&#x6388;&#x6743;&#x8005;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x8C03;&#x7528;&#x5982; isPermitted(&#x201C;user:view&#x201D;)&#xFF0C;&#x5176;&#x9996;&#x5148;&#x4F1A;&#x901A;&#x8FC7; PermissionResolver &#x628A;&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x6362;&#x6210;&#x76F8;&#x5E94;&#x7684; Permission &#x5B9E;&#x4F8B;&#xFF1B; &#x5728;&#x8FDB;&#x884C;&#x6388;&#x6743;&#x4E4B;&#x524D;&#xFF0C;&#x5176;&#x4F1A;&#x8C03;&#x7528;&#x76F8;&#x5E94;&#x7684; Realm &#x83B7;&#x53D6; Subject &#x76F8;&#x5E94;&#x7684;&#x89D2;&#x8272;/&#x6743;&#x9650;&#x7528;&#x4E8E;&#x5339;&#x914D;&#x4F20;&#x5165;&#x7684;&#x89D2;&#x8272;/&#x6743;&#x9650;&#xFF1B; Authorizer &#x4F1A;&#x5224;&#x65AD; Realm &#x7684;&#x89D2;&#x8272;/&#x6743;&#x9650;&#x662F;&#x5426;&#x548C;&#x4F20;&#x5165;&#x7684;&#x5339;&#x914D;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x591A;&#x4E2A; Realm&#xFF0C;&#x4F1A;&#x59D4;&#x6258;&#x7ED9; ModularRealmAuthorizer &#x8FDB;&#x884C;&#x5FAA;&#x73AF;&#x5224;&#x65AD;&#xFF0C;&#x5982;&#x679C;&#x5339;&#x914D;&#x5982; isPermitted*/hasRole* &#x4F1A;&#x8FD4;&#x56DE; true&#xFF0C;&#x5426;&#x5219;&#x8FD4;&#x56DE; false &#x8868;&#x793A;&#x6388;&#x6743;&#x5931;&#x8D25;&#x3002; ModularRealmAuthorizer &#x8FDB;&#x884C;&#x591A; Realm &#x5339;&#x914D;&#x6D41;&#x7A0B;&#xFF1A; &#x9996;&#x5148;&#x68C0;&#x67E5;&#x76F8;&#x5E94;&#x7684; Realm &#x662F;&#x5426;&#x5B9E;&#x73B0;&#x4E86;&#x5B9E;&#x73B0;&#x4E86; Authorizer&#xFF1B; &#x5982;&#x679C;&#x5B9E;&#x73B0;&#x4E86; Authorizer&#xFF0C;&#x90A3;&#x4E48;&#x63A5;&#x7740;&#x8C03;&#x7528;&#x5176;&#x76F8;&#x5E94;&#x7684; isPermitted*/hasRole* &#x63A5;&#x53E3;&#x8FDB;&#x884C;&#x5339;&#x914D;&#xFF1B; &#x5982;&#x679C;&#x6709;&#x4E00;&#x4E2A; Realm &#x5339;&#x914D;&#x90A3;&#x4E48;&#x5C06;&#x8FD4;&#x56DE; true&#xFF0C;&#x5426;&#x5219;&#x8FD4;&#x56DE; false&#x3002; &#x5982;&#x679C; Realm &#x8FDB;&#x884C;&#x6388;&#x6743;&#x7684;&#x8BDD;&#xFF0C;&#x5E94;&#x8BE5;&#x7EE7;&#x627F; AuthorizingRealm&#xFF0C;&#x5176;&#x6D41;&#x7A0B;&#x662F;&#xFF1A; &#x5982;&#x679C;&#x8C03;&#x7528; hasRole*&#xFF0C;&#x5219;&#x76F4;&#x63A5;&#x83B7;&#x53D6; AuthorizationInfo.getRoles() &#x4E0E;&#x4F20;&#x5165;&#x7684;&#x89D2;&#x8272;&#x6BD4;&#x8F83;&#x5373;&#x53EF;&#xFF1B;&#x9996;&#x5148;&#x5982;&#x679C;&#x8C03;&#x7528;&#x5982; isPermitted(&#x201C;user:view&#x201D;)&#xFF0C;&#x9996;&#x5148;&#x901A;&#x8FC7; PermissionResolver &#x5C06;&#x6743;&#x9650;&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x6362;&#x6210;&#x76F8;&#x5E94;&#x7684; Permission &#x5B9E;&#x4F8B;&#xFF0C;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528; WildcardPermissionResolver&#xFF0C;&#x5373;&#x8F6C;&#x6362;&#x4E3A;&#x901A;&#x914D;&#x7B26;&#x7684; WildcardPermission&#xFF1B; &#x901A;&#x8FC7; AuthorizationInfo.getObjectPermissions() &#x5F97;&#x5230; Permission &#x5B9E;&#x4F8B;&#x96C6;&#x5408;&#xFF1B;&#x901A;&#x8FC7; AuthorizationInfo.getStringPermissions() &#x5F97;&#x5230;&#x5B57;&#x7B26;&#x4E32;&#x96C6;&#x5408;&#x5E76;&#x901A;&#x8FC7; PermissionResolver &#x89E3;&#x6790;&#x4E3A; Permission &#x5B9E;&#x4F8B;&#xFF1B;&#x7136;&#x540E;&#x83B7;&#x53D6;&#x7528;&#x6237;&#x7684;&#x89D2;&#x8272;&#xFF0C;&#x5E76;&#x901A;&#x8FC7; RolePermissionResolver &#x89E3;&#x6790;&#x89D2;&#x8272;&#x5BF9;&#x5E94;&#x7684;&#x6743;&#x9650;&#x96C6;&#x5408;&#xFF08;&#x9ED8;&#x8BA4;&#x6CA1;&#x6709;&#x5B9E;&#x73B0;&#xFF0C;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x63D0;&#x4F9B;&#xFF09;&#xFF1B; &#x63A5;&#x7740;&#x8C03;&#x7528; Permission.implies(Permission p) &#x9010;&#x4E2A;&#x4E0E;&#x4F20;&#x5165;&#x7684;&#x6743;&#x9650;&#x6BD4;&#x8F83;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x5339;&#x914D;&#x7684;&#x5219;&#x8FD4;&#x56DE; true&#xFF0C;&#x5426;&#x5219; false&#x3002; &#x5B9E;&#x9645;&#x9879;&#x76EE;&#x4E2D;&#x901A;&#x5E38;&#x4F7F;&#x7528;&#x7EE7;&#x627F; AuthorizingRealm &#x7684;&#x65B9;&#x5F0F;&#x3002; 1234567891011121314151617181920212223242526272829303132333435public class MyRealm extends AuthorizingRealm { @Autowired private UserService userService; /** * &#x83B7;&#x53D6;&#x6388;&#x6743;&#x4FE1;&#x606F;,&#x5373;&#x6388;&#x6743;&#x9A8C;&#x8BC1; * @param principals * @return */ @Override protected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principals) { String username = (String)principals.getPrimaryPrincipal(); SimpleAuthorizationInfo authorizationInfo = new SimpleAuthorizationInfo(); authorizationInfo.setRoles(userService.findRoles(username)); authorizationInfo.setStringPermissions(userService.findPermissions(username)); return authorizationInfo; } /** * &#x83B7;&#x53D6;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x4FE1;&#x606F;,&#x5373;&#x767B;&#x5F55;&#x9A8C;&#x8BC1; * @param token * @return * @throws AuthenticationException */ @Override protected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken token) throws AuthenticationException { String userName = (String) token.getPrincipal(); String password = new String((char[])token.getCredentials()); User user = userService.login(userName,password); if(user == null){ throw new AccountException(&quot;&#x5E10;&#x53F7;&#x6216;&#x5BC6;&#x7801;&#x4E0D;&#x6B63;&#x786E;&#xFF01;&quot;); } return new SimpleAuthenticationInfo(user.getUserName(), user.getPassword(), getName()); }} Authorizer&#x3001;PermissionResolver&#x53CA;RolePermissionResolverAuthorizer &#x7684;&#x804C;&#x8D23;&#x662F;&#x8FDB;&#x884C;&#x6388;&#x6743;&#xFF08;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#xFF09;&#xFF0C;&#x662F; Shiro API &#x4E2D;&#x6388;&#x6743;&#x6838;&#x5FC3;&#x7684;&#x5165;&#x53E3;&#x70B9;&#xFF0C;&#x5176;&#x63D0;&#x4F9B;&#x4E86;&#x76F8;&#x5E94;&#x7684;&#x89D2;&#x8272;/&#x6743;&#x9650;&#x5224;&#x65AD;&#x63A5;&#x53E3;&#xFF0C;&#x5177;&#x4F53;&#x8BF7;&#x53C2;&#x8003;&#x5176; Javadoc&#x3002;SecurityManager &#x7EE7;&#x627F;&#x4E86; Authorizer &#x63A5;&#x53E3;&#xFF0C;&#x4E14;&#x63D0;&#x4F9B;&#x4E86; ModularRealmAuthorizer &#x7528;&#x4E8E;&#x591A; Realm &#x65F6;&#x7684;&#x6388;&#x6743;&#x5339;&#x914D;&#x3002;PermissionResolver &#x7528;&#x4E8E;&#x89E3;&#x6790;&#x6743;&#x9650;&#x5B57;&#x7B26;&#x4E32;&#x5230; Permission &#x5B9E;&#x4F8B;&#xFF0C;&#x800C; RolePermissionResolver &#x7528;&#x4E8E;&#x6839;&#x636E;&#x89D2;&#x8272;&#x89E3;&#x6790;&#x76F8;&#x5E94;&#x7684;&#x6743;&#x9650;&#x96C6;&#x5408;&#x3002;","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"Shiro","slug":"Shiro","permalink":"https://marklogzhu.github.io/tags/Shiro/"}]},{"title":"Shiro学习总结(二)--身份验证","date":"2018-05-21T06:24:00.000Z","path":"Shiro/后台/Java/Shiro/Shiro学习总结(二)--身份验证/","text":"&#x4E4B;&#x524D;&#x6211;&#x4EEC;&#x8BB2;&#x89E3;&#x4E86; Shiro &#x7684;&#x4E00;&#x4E9B;&#x7406;&#x8BBA;&#x77E5;&#x8BC6;&#xFF0C;&#x4ECA;&#x5929;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x901A;&#x8FC7;&#x5B9E;&#x9645;&#x6765;&#x6F14;&#x793A;&#x4E0B;&#x5982;&#x4F55;&#x4F7F;&#x7528; Shiro&#x3002; &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7528;&#x6237;&#x767B;&#x9646;&#x9A8C;&#x8BC1;&#x52A0;&#x5165;&#x4F9D;&#x8D56;12345678910111213&lt;!-- junit --&gt;&lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.11&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;&lt;!-- shiro --&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt; &lt;artifactId&gt;shiro-core&lt;/artifactId&gt; &lt;version&gt;1.2.2&lt;/version&gt;&lt;/dependency&gt; &#x5728; resources/shiro &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; shiro.ini &#x6587;&#x4EF6;123[users]admin=123456marklogzhu=123456 &#x6B64;&#x5904;&#x4F7F;&#x7528; ini &#x914D;&#x7F6E;&#x6587;&#x4EF6; &#x901A;&#x8FC7; [users] &#x6307;&#x5B9A;&#x4E86;&#x4E24;&#x4E2A;&#x7528;&#x6237;&#xFF1A;admin,marklogzhu&#xFF0C;&#x5BC6;&#x7801;&#x90FD;&#x662F;123456 &#x5728;test/java &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; ShiroTest.java123456789101112131415161718192021222324public class ShiroTest { @Test public void testLogin_01(){ // 1&#x3001;&#x83B7;&#x53D6; SecurityManager &#x5DE5;&#x5382;&#xFF0C;&#x6B64;&#x5904;&#x4F7F;&#x7528;Ini&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x521D;&#x59CB;&#x5316; SecurityManager Factory&lt;SecurityManager&gt; factory = new IniSecurityManagerFactory(&quot;classpath:shiro/shiro.ini&quot;); // 2&#x3001;&#x5F97;&#x5230; SecurityManager &#x5B9E;&#x4F8B; &#x5E76;&#x7ED1;&#x5B9A;&#x7ED9; SecurityUtils SecurityManager securityManager = factory.getInstance(); SecurityUtils.setSecurityManager(securityManager); // 3&#x3001;&#x5F97;&#x5230; Subject &#x53CA;&#x521B;&#x5EFA;&#x7528;&#x6237;&#x540D;/&#x5BC6;&#x7801;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;T oken&#xFF08;&#x5373;&#x7528;&#x6237;&#x8EAB;&#x4EFD;/&#x51ED;&#x8BC1;&#xFF09; Subject subject = SecurityUtils.getSubject(); UsernamePasswordToken token = new UsernamePasswordToken(&quot;admin&quot;, &quot;123&quot;); try { // 4&#x3001;&#x767B;&#x5F55;&#xFF0C;&#x5373;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1; subject.login(token); } catch (AuthenticationException e) { // 5&#x3001;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x5931;&#x8D25; System.out.println(&quot;&#x767B;&#x9646;&#x5931;&#x8D25;,&#x9519;&#x8BEF;&#x539F;&#x56E0;&#xFF1A;&quot; + e ); } Assert.assertEquals(true, subject.isAuthenticated()); //&#x65AD;&#x8A00;&#x7528;&#x6237;&#x5DF2;&#x7ECF;&#x767B;&#x5F55; //6&#x3001;&#x9000;&#x51FA; subject.logout(); }} &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6211;&#x4EEC;&#x8BBE;&#x7F6E;&#x7528;&#x6237;&#x4E3A; admin &#xFF0C;&#x4F46;&#x662F;&#x5BC6;&#x7801;&#x5374;&#x4E0D;&#x662F;&#x4E8B;&#x5148;&#x8BBE;&#x7F6E;&#x7684;123456&#xFF0C;&#x6211;&#x4EEC;&#x542F;&#x52A8;&#x8FD0;&#x884C;&#x770B;&#x770B; &#x542F;&#x52A8;&#x8FD0;&#x884C;12345&#x767B;&#x9646;&#x5931;&#x8D25;,&#x9519;&#x8BEF;&#x539F;&#x56E0;&#xFF1A;org.apache.shiro.authc.IncorrectCredentialsException: Submitted credentials for token [org.apache.shiro.authc.UsernamePasswordToken - admin, rememberMe=false] did not match the expected credentials.java.lang.AssertionError: Expected :trueActual :false &#x4ECE;&#x4E0A;&#x9762;&#x7684;&#x65E5;&#x5FD7;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x62A5;&#x767B;&#x9646;&#x5F02;&#x5E38;&#x9519;&#x8BEF;&#xFF0C;&#x9519;&#x8BEF;&#x539F;&#x56E0;&#x4E3A;&#x63D0;&#x4EA4;&#x7684;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#x4E0E;&#x9884;&#x671F;&#x4E0D;&#x4E00;&#x81F4;&#x3002;&#x6211;&#x4EEC;&#x4FEE;&#x6539;&#x5BC6;&#x7801;&#x4E3A; 123456&#xFF0C;&#x5728;&#x8FD0;&#x884C;&#x770B;&#x770B; &#x542F;&#x52A8;&#x8FD0;&#x884C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x63A7;&#x5236;&#x53F0;&#x6CA1;&#x6709;&#x8F93;&#x51FA;&#x5F02;&#x5E38;&#x4FE1;&#x606F;&#x5E76;&#x4E14;&#x662F;&#x7EFF;&#x6761;&#xFF0C;&#x8BF4;&#x660E;&#x6D4B;&#x8BD5;&#x901A;&#x8FC7;&#x3002; &#x6D41;&#x7A0B;&#x5206;&#x6790; &#x9996;&#x5148;&#x901A;&#x8FC7; new IniSecurityManagerFactory &#x5E76;&#x6307;&#x5B9A;&#x4E00;&#x4E2A; ini &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6765;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; SecurityManager &#x5DE5;&#x5382;&#xFF1B; &#x63A5;&#x7740;&#x83B7;&#x53D6; SecurityManager &#x5E76;&#x7ED1;&#x5B9A;&#x5230; SecurityUtils&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x5168;&#x5C40;&#x8BBE;&#x7F6E;&#xFF0C;&#x8BBE;&#x7F6E;&#x4E00;&#x6B21;&#x5373;&#x53EF;&#xFF1B; &#x901A;&#x8FC7; SecurityUtils &#x5F97;&#x5230; Subject&#xFF0C;&#x5176;&#x4F1A;&#x81EA;&#x52A8;&#x7ED1;&#x5B9A;&#x5230;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#xFF1B;&#x5982;&#x679C;&#x5728; web &#x73AF;&#x5883;&#x5728;&#x8BF7;&#x6C42;&#x7ED3;&#x675F;&#x65F6;&#x9700;&#x8981;&#x89E3;&#x9664;&#x7ED1;&#x5B9A;&#xFF1B;&#x7136;&#x540E;&#x83B7;&#x53D6;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x7684; Token&#xFF0C;&#x5982;&#x7528;&#x6237;&#x540D; / &#x5BC6;&#x7801;&#xFF1B; &#x8C03;&#x7528; subject.login &#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x767B;&#x5F55;&#xFF0C;&#x5176;&#x4F1A;&#x81EA;&#x52A8;&#x59D4;&#x6258;&#x7ED9; SecurityManager.login &#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x767B;&#x5F55;&#xFF1B; &#x5982;&#x679C;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x5931;&#x8D25;&#x8BF7;&#x6355;&#x83B7; AuthenticationException &#x6216;&#x5176;&#x5B50;&#x7C7B;&#xFF0C;&#x5E38;&#x89C1;&#x7684;&#x5982;&#xFF1A; DisabledAccountException&#xFF08;&#x7981;&#x7528;&#x7684;&#x5E10;&#x53F7;&#xFF09;&#x3001;LockedAccountException&#xFF08;&#x9501;&#x5B9A;&#x7684;&#x5E10;&#x53F7;&#xFF09;&#x3001;UnknownAccountException&#xFF08;&#x9519;&#x8BEF;&#x7684;&#x5E10;&#x53F7;&#xFF09;&#x3001;ExcessiveAttemptsException&#xFF08;&#x767B;&#x5F55;&#x5931;&#x8D25;&#x6B21;&#x6570;&#x8FC7;&#x591A;&#xFF09;&#x3001;IncorrectCredentialsException &#xFF08;&#x9519;&#x8BEF;&#x7684;&#x51ED;&#x8BC1;&#xFF09;&#x3001;ExpiredCredentialsException&#xFF08;&#x8FC7;&#x671F;&#x7684;&#x51ED;&#x8BC1;&#xFF09;&#x7B49;&#xFF0C;&#x5177;&#x4F53;&#x8BF7;&#x67E5;&#x770B;&#x5176;&#x7EE7;&#x627F;&#x5173;&#x7CFB;&#xFF1B;&#x5BF9;&#x4E8E;&#x9875;&#x9762;&#x7684;&#x9519;&#x8BEF;&#x6D88;&#x606F;&#x5C55;&#x793A;&#xFF0C;&#x6700;&#x597D;&#x4F7F;&#x7528;&#x5982; &#x201C;&#x7528;&#x6237;&#x540D; / &#x5BC6;&#x7801;&#x9519;&#x8BEF;&#x201D; &#x800C;&#x4E0D;&#x662F; &#x201C;&#x7528;&#x6237;&#x540D;&#x9519;&#x8BEF;&#x201D;/&#x201C;&#x5BC6;&#x7801;&#x9519;&#x8BEF;&#x201D;&#xFF0C;&#x9632;&#x6B62;&#x4E00;&#x4E9B;&#x6076;&#x610F;&#x7528;&#x6237;&#x975E;&#x6CD5;&#x626B;&#x63CF;&#x5E10;&#x53F7;&#x5E93;&#xFF1B; &#x6700;&#x540E;&#x53EF;&#x4EE5;&#x8C03;&#x7528; subject.logout &#x9000;&#x51FA;&#xFF0C;&#x5176;&#x4F1A;&#x81EA;&#x52A8;&#x59D4;&#x6258;&#x7ED9; SecurityManager.logout &#x65B9;&#x6CD5;&#x9000;&#x51FA;&#x3002; ## &#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x6211;&#x4EEC;&#x662F;&#x628A;&#x8D26;&#x53F7;&#x4FE1;&#x606F;&#x914D;&#x7F6E;&#x5230; ini &#x6587;&#x4EF6;&#x4E2D;&#x53BB;,&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x8BFB;&#x53D6;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x5417;&#xFF0C;&#x7B54;&#x6848;&#x81EA;&#x7136;&#x662F;&#x53EF;&#x4EE5;&#x7684;&#xFF0C;&#x5728;&#x5C06;&#x8FD9;&#x4E2A;&#x4E4B;&#x524D;&#x6211;&#x4EEC;&#x5148;&#x6765;&#x4E86;&#x89E3;&#x4E0B; Shiro &#x662F;&#x600E;&#x4E48;&#x8FDB;&#x884C;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x7684;&#x3002; &#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1;&#x6D41;&#x7A0B; &#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; &#x9996;&#x5148;&#x8C03;&#x7528; Subject.login(token) &#x8FDB;&#x884C;&#x767B;&#x5F55;&#xFF0C;&#x5176;&#x4F1A;&#x81EA;&#x52A8;&#x59D4;&#x6258;&#x7ED9; Security Manager&#xFF0C;&#x8C03;&#x7528;&#x4E4B;&#x524D;&#x5FC5;&#x987B;&#x901A;&#x8FC7; SecurityUtils.setSecurityManager() &#x8BBE;&#x7F6E;&#xFF1B; SecurityManager &#x8D1F;&#x8D23;&#x771F;&#x6B63;&#x7684;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x903B;&#x8F91;&#xFF1B;&#x5B83;&#x4F1A;&#x59D4;&#x6258;&#x7ED9; Authenticator &#x8FDB;&#x884C;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#xFF1B;Authenticator &#x624D;&#x662F;&#x771F;&#x6B63;&#x7684;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x8005;&#xFF0C;Shiro API &#x4E2D;&#x6838;&#x5FC3;&#x7684;&#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1;&#x5165;&#x53E3;&#x70B9;&#xFF0C;&#x6B64;&#x5904;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x63D2;&#x5165;&#x81EA;&#x5DF1;&#x7684;&#x5B9E;&#x73B0;&#xFF1B; Authenticator &#x53EF;&#x80FD;&#x4F1A;&#x59D4;&#x6258;&#x7ED9;&#x76F8;&#x5E94;&#x7684; AuthenticationStrategy &#x8FDB;&#x884C;&#x591A; Realm &#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#xFF0C;&#x9ED8;&#x8BA4; ModularRealmAuthenticator &#x4F1A;&#x8C03;&#x7528; AuthenticationStrategy &#x8FDB;&#x884C;&#x591A; Realm &#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#xFF1B; Authenticator &#x4F1A;&#x628A;&#x76F8;&#x5E94;&#x7684; token &#x4F20;&#x5165; Realm&#xFF0C;&#x4ECE; Realm &#x83B7;&#x53D6;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x8FD4;&#x56DE; / &#x629B;&#x51FA;&#x5F02;&#x5E38;&#x8868;&#x793A;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x5931;&#x8D25;&#x4E86;&#x3002;&#x6B64;&#x5904;&#x53EF;&#x4EE5;&#x914D;&#x7F6E;&#x591A;&#x4E2A; Realm&#xFF0C;&#x5C06;&#x6309;&#x7167;&#x76F8;&#x5E94;&#x7684;&#x987A;&#x5E8F;&#x53CA;&#x7B56;&#x7565;&#x8FDB;&#x884C;&#x8BBF;&#x95EE;&#x3002; RealmRealm&#xFF1A;&#x57DF;&#xFF0C;Shiro &#x4ECE;&#x4ECE; Realm &#x83B7;&#x53D6;&#x5B89;&#x5168;&#x6570;&#x636E;&#xFF08;&#x5982;&#x7528;&#x6237;&#x3001;&#x89D2;&#x8272;&#x3001;&#x6743;&#x9650;&#xFF09;&#xFF0C;&#x5C31;&#x662F;&#x8BF4; SecurityManager &#x8981;&#x9A8C;&#x8BC1;&#x7528;&#x6237;&#x8EAB;&#x4EFD;&#xFF0C;&#x90A3;&#x4E48;&#x5B83;&#x9700;&#x8981;&#x4ECE; Realm &#x83B7;&#x53D6;&#x76F8;&#x5E94;&#x7684;&#x7528;&#x6237;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#x4EE5;&#x786E;&#x5B9A;&#x7528;&#x6237;&#x8EAB;&#x4EFD;&#x662F;&#x5426;&#x5408;&#x6CD5;&#xFF1B;&#x4E5F;&#x9700;&#x8981;&#x4ECE; Realm &#x5F97;&#x5230;&#x7528;&#x6237;&#x76F8;&#x5E94;&#x7684;&#x89D2;&#x8272; / &#x6743;&#x9650;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1;&#x7528;&#x6237;&#x662F;&#x5426;&#x80FD;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF1B;&#x53EF;&#x4EE5;&#x628A; Realm &#x770B;&#x6210; DataSource&#xFF0C;&#x5373;&#x5B89;&#x5168;&#x6570;&#x636E;&#x6E90;&#x3002;&#x5982;&#x6211;&#x4EEC;&#x4E4B;&#x524D;&#x7684; ini &#x914D;&#x7F6E;&#x65B9;&#x5F0F;&#x5C06;&#x4F7F;&#x7528; org.apache.shiro.realm.text.IniRealm&#x3002; org.apache.shiro.realm.Realm &#x63A5;&#x53E3;&#x5982;&#x4E0B;&#xFF1A; 123String getName(); //&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x552F;&#x4E00;&#x7684; Realm &#x540D;&#x5B57;boolean supports(AuthenticationToken token); //&#x5224;&#x65AD;&#x6B64; Realm &#x662F;&#x5426;&#x652F;&#x6301;&#x6B64; TokenAuthenticationInfo getAuthenticationInfo(AuthenticationToken token) throws AuthenticationException; //&#x6839;&#x636E; Token &#x83B7;&#x53D6;&#x8BA4;&#x8BC1;&#x4FE1;&#x606F; &#x5355;Realm &#x914D;&#x7F6E;&#x81EA;&#x5B9A;&#x4E49; Realm1234567891011121314151617181920212223242526public class MyRealm implements Realm { @Override public String getName() { return &quot;myRealm&quot;; } @Override public boolean supports(AuthenticationToken token) { //&#x4EC5;&#x652F;&#x6301;UsernamePasswordToken&#x7C7B;&#x578B;&#x7684;Token return token instanceof UsernamePasswordToken; } @Override public AuthenticationInfo getAuthenticationInfo(AuthenticationToken token) throws AuthenticationException { String username = (String)token.getPrincipal(); //&#x5F97;&#x5230;&#x7528;&#x6237;&#x540D; String password = new String((char[])token.getCredentials()); //&#x5F97;&#x5230;&#x5BC6;&#x7801; if(!&quot;marklogzhu&quot;.equals(username)) { throw new UnknownAccountException(); //&#x5982;&#x679C;&#x7528;&#x6237;&#x540D;&#x9519;&#x8BEF; } if(!&quot;123456&quot;.equals(password)) { throw new IncorrectCredentialsException(); //&#x5982;&#x679C;&#x5BC6;&#x7801;&#x9519;&#x8BEF; } //&#x5982;&#x679C;&#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1;&#x9A8C;&#x8BC1;&#x6210;&#x529F;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;AuthenticationInfo&#x5B9E;&#x73B0;&#xFF1B; return new SimpleAuthenticationInfo(username, password, getName()); }} &#x5728; resources/shiro &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; shiro2.ini &#x6587;&#x4EF6;1234# &#x58F0;&#x660E;&#x4E00;&#x4E2A;realmmyRealm=com.marklogzhu.ssm.realm.MyRealm# &#x6307;&#x5B9A;securityManager&#x7684;realms&#x5B9E;&#x73B0;securityManager.realms=$myRealm &#x7F16;&#x8F91; Shiro.java &#x6587;&#x4EF6;&#xFF0C;&#x589E;&#x52A0;&#x6D4B;&#x8BD5;&#x65B9;&#x6CD5;1234567891011121314151617181920212223public class ShiroTest { @Test public void testLogin_02(){ // 1&#x3001;&#x83B7;&#x53D6;SecurityManager&#x5DE5;&#x5382;&#xFF0C;&#x6B64;&#x5904;&#x4F7F;&#x7528;Ini&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x521D;&#x59CB;&#x5316;SecurityManager Factory&lt;SecurityManager&gt; factory = new IniSecurityManagerFactory(&quot;classpath:shiro/shiro2.ini&quot;); // 2&#x3001;&#x5F97;&#x5230;SecurityManager&#x5B9E;&#x4F8B; &#x5E76;&#x7ED1;&#x5B9A;&#x7ED9;SecurityUtils SecurityManager securityManager = factory.getInstance(); SecurityUtils.setSecurityManager(securityManager); // 3&#x3001;&#x5F97;&#x5230;Subject&#x53CA;&#x521B;&#x5EFA;&#x7528;&#x6237;&#x540D;/&#x5BC6;&#x7801;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;Token&#xFF08;&#x5373;&#x7528;&#x6237;&#x8EAB;&#x4EFD;/&#x51ED;&#x8BC1;&#xFF09; Subject subject = SecurityUtils.getSubject(); UsernamePasswordToken token = new UsernamePasswordToken(&quot;admin&quot;, &quot;123456&quot;); try { // 4&#x3001;&#x767B;&#x5F55;&#xFF0C;&#x5373;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1; subject.login(token); } catch (AuthenticationException e) { // 5&#x3001;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x5931;&#x8D25; System.out.println(&quot;&#x767B;&#x9646;&#x5931;&#x8D25;,&#x9519;&#x8BEF;&#x539F;&#x56E0;&#xFF1A;&quot; + e ); } Assert.assertEquals(true, subject.isAuthenticated()); //&#x65AD;&#x8A00;&#x7528;&#x6237;&#x5DF2;&#x7ECF;&#x767B;&#x5F55; //6&#x3001;&#x9000;&#x51FA; subject.logout(); }} &#x542F;&#x52A8;&#x8FD0;&#x884C;123456&#x767B;&#x9646;&#x5931;&#x8D25;,&#x9519;&#x8BEF;&#x539F;&#x56E0;&#xFF1A;org.apache.shiro.authc.UnknownAccountExceptionjava.lang.AssertionError: Expected :trueActual :false &lt;Click to see difference&gt; &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x767B;&#x9646;&#x5931;&#x8D25;&#xFF0C;&#x5931;&#x8D25;&#x539F;&#x56E0;&#x662F;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x65F6;&#x5019;&#x5DF2;&#x7ECF;&#x5C06;&#x7528;&#x6237;&#x540D;&#x9650;&#x5236;&#x4E3A; marklogzhu &#xFF0C;&#x9664;&#x4E86;&#x8FD9;&#x4E2A;&#x8D26;&#x53F7;&#x5916;&#x5176;&#x4ED6;&#x90FD;&#x662F;&#x672A;&#x5B9A;&#x4E49;&#x7684;&#x8D26;&#x53F7;&#xFF0C;&#x81EA;&#x7136;&#x5C31;&#x767B;&#x9646;&#x5931;&#x8D25;&#x4E86;&#x3002;&#x5728;&#x81EA;&#x5B9A;&#x4E49; Realm &#x81EA;&#x7136;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8C03;&#x7528;&#x6570;&#x636E;&#x5E93;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x5B9E;&#x73B0;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x3002; &#x591A; Realm &#x914D;&#x7F6E;ini &#x914D;&#x7F6E;&#x6587;&#x4EF6;12345# &#x58F0;&#x660E;&#x4E00;&#x4E2A;realmmyRealm1=com.marklogzhu.realm.MyRealm1myRealm2=com.marklogzhu.realm.MyRealm2# &#x6307;&#x5B9A;securityManager&#x7684;realms&#x5B9E;&#x73B0;securityManager.realms=$myRealm1,$myRealm2; securityManager &#x4F1A;&#x6309;&#x7167; realms &#x6307;&#x5B9A;&#x7684;&#x987A;&#x5E8F;&#x8FDB;&#x884C;&#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1;&#x3002;&#x6B64;&#x5904;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x663E;&#x793A;&#x6307;&#x5B9A;&#x987A;&#x5E8F;&#x7684;&#x65B9;&#x5F0F;&#x6307;&#x5B9A;&#x4E86; Realm &#x7684;&#x987A;&#x5E8F;&#xFF0C;&#x5982;&#x679C;&#x5220;&#x9664; &#x201C;securityManager.realms=$myRealm1,$myRealm2&#x201D;&#xFF0C;&#x90A3;&#x4E48;securityManager &#x4F1A;&#x6309;&#x7167; realm &#x58F0;&#x660E;&#x7684;&#x987A;&#x5E8F;&#x8FDB;&#x884C;&#x4F7F;&#x7528;&#xFF08;&#x5373;&#x65E0;&#x9700;&#x8BBE;&#x7F6E; realms&#x5C5E;&#x6027;&#xFF0C;&#x5176;&#x4F1A;&#x81EA;&#x52A8;&#x53D1;&#x73B0;&#xFF09;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x663E;&#x793A;&#x6307;&#x5B9A; realm &#x540E;&#xFF0C;&#x5176;&#x4ED6;&#x6CA1;&#x6709;&#x6307;&#x5B9A; realm &#x5C06;&#x88AB;&#x5FFD;&#x7565;&#xFF0C;&#x5982; &#x201C;securityManager.realms=$myRealm1&#x201D;&#xFF0C;&#x90A3;&#x4E48; myRealm2 &#x4E0D;&#x4F1A;&#x88AB;&#x81EA;&#x52A8;&#x8BBE;&#x7F6E;&#x8FDB;&#x53BB;&#x3002; Shiro &#x9ED8;&#x8BA4;&#x63D0;&#x4F9B;&#x7684; Realm &#x9879;&#x76EE;&#x4E2D;&#x4E00;&#x822C;&#x7EE7;&#x627F; AuthorizingRealm&#xFF08;&#x6388;&#x6743;&#xFF09;&#x5373;&#x53EF;&#xFF1B;&#x5176;&#x7EE7;&#x627F;&#x4E86; AuthenticatingRealm&#xFF08;&#x5373;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#xFF09;&#xFF0C;&#x800C;&#x4E14;&#x4E5F;&#x95F4;&#x63A5;&#x7EE7;&#x627F;&#x4E86; CachingRealm&#xFF08;&#x5E26;&#x6709;&#x7F13;&#x5B58;&#x5B9E;&#x73B0;&#xFF09;&#x3002;&#x7EE7;&#x627F; AuthorizingRealm &#x53EA;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x5982;&#x4E0B;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#xFF1A; 1234567891011121314151617181920/** * &#x83B7;&#x53D6;&#x6388;&#x6743;&#x4FE1;&#x606F;,&#x5373;&#x6388;&#x6743;&#x9A8C;&#x8BC1; * @param principalCollection * @return */@Overrideprotected AuthorizationInfo doGetAuthorizationInfo(PrincipalCollection principalCollection) { return null;}/** * &#x83B7;&#x53D6;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x4FE1;&#x606F;,&#x5373;&#x767B;&#x5F55;&#x9A8C;&#x8BC1; * @param token * @return * @throws AuthenticationException */@Overrideprotected AuthenticationInfo doGetAuthenticationInfo(AuthenticationToken token) throws AuthenticationException { return null;}","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"Shiro","slug":"Shiro","permalink":"https://marklogzhu.github.io/tags/Shiro/"}]},{"title":"Shiro学习总结(一)--入门","date":"2018-05-21T03:25:00.000Z","path":"Shiro/后台/Java/Shiro/Shiro学习总结(一)--入门/","text":"&#x4EC0;&#x4E48;&#x662F; ShiroApache Shiro &#x662F; Java &#x7684;&#x4E00;&#x4E2A;&#x5B89;&#x5168;&#x6846;&#x67B6;&#x3002;&#x76EE;&#x524D;&#xFF0C;&#x4F7F;&#x7528; Apache Shiro &#x7684;&#x4EBA;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x76F8;&#x5F53;&#x7B80;&#x5355;&#xFF0C;&#x5BF9;&#x6BD4; Spring Security&#xFF0C;&#x53EF;&#x80FD;&#x6CA1;&#x6709; Spring Security &#x505A;&#x7684;&#x529F;&#x80FD;&#x5F3A;&#x5927;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x5B9E;&#x9645;&#x5DE5;&#x4F5C;&#x65F6;&#x53EF;&#x80FD;&#x5E76;&#x4E0D;&#x9700;&#x8981;&#x90A3;&#x4E48;&#x590D;&#x6742;&#x7684;&#x4E1C;&#x897F;&#xFF0C;&#x6240;&#x4EE5;&#x4F7F;&#x7528;&#x5C0F;&#x800C;&#x7B80;&#x5355;&#x7684; Shiro &#x5C31;&#x8DB3;&#x591F;&#x4E86;&#x3002; &#x5B83;&#x80FD;&#x5E72;&#x4EC0;&#x4E48;Shiro &#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x6211;&#x4EEC;&#x5B8C;&#x6210;&#xFF1A;&#x8BA4;&#x8BC1;&#x3001;&#x6388;&#x6743;&#x3001;&#x52A0;&#x5BC6;&#x3001;&#x4F1A;&#x8BDD;&#x7BA1;&#x7406;&#x3001;&#x4E0E; Web &#x96C6;&#x6210;&#x3001;&#x7F13;&#x5B58;&#x7B49;,&#x800C;&#x4E14; Shiro &#x7684; API &#x4E5F;&#x662F;&#x975E;&#x5E38;&#x7B80;&#x5355;&#xFF1B;&#x5176;&#x57FA;&#x672C;&#x529F;&#x80FD;&#x70B9;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; Authentication&#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1; / &#x767B;&#x5F55;&#xFF0C;&#x9A8C;&#x8BC1;&#x7528;&#x6237;&#x662F;&#x4E0D;&#x662F;&#x62E5;&#x6709;&#x76F8;&#x5E94;&#x7684;&#x8EAB;&#x4EFD;&#xFF1B; Authorization&#x6388;&#x6743;&#xFF0C;&#x5373;&#x6743;&#x9650;&#x9A8C;&#x8BC1;&#xFF0C;&#x9A8C;&#x8BC1;&#x67D0;&#x4E2A;&#x5DF2;&#x8BA4;&#x8BC1;&#x7684;&#x7528;&#x6237;&#x662F;&#x5426;&#x62E5;&#x6709;&#x67D0;&#x4E2A;&#x6743;&#x9650;&#xFF1B;&#x5373;&#x5224;&#x65AD;&#x7528;&#x6237;&#x662F;&#x5426;&#x80FD;&#x505A;&#x4E8B;&#x60C5;&#xFF0C;&#x5E38;&#x89C1;&#x7684;&#x5982;&#xFF1A;&#x9A8C;&#x8BC1;&#x67D0;&#x4E2A;&#x7528;&#x6237;&#x662F;&#x5426;&#x62E5;&#x6709;&#x67D0;&#x4E2A;&#x89D2;&#x8272;&#x3002;&#x6216;&#x8005;&#x7EC6;&#x7C92;&#x5EA6;&#x7684;&#x9A8C;&#x8BC1;&#x67D0;&#x4E2A;&#x7528;&#x6237;&#x5BF9;&#x67D0;&#x4E2A;&#x8D44;&#x6E90;&#x662F;&#x5426;&#x5177;&#x6709;&#x67D0;&#x4E2A;&#x6743;&#x9650;&#xFF1B; Session Manager&#x4F1A;&#x8BDD;&#x7BA1;&#x7406;&#xFF0C;&#x5373;&#x7528;&#x6237;&#x767B;&#x5F55;&#x540E;&#x5C31;&#x662F;&#x4E00;&#x6B21;&#x4F1A;&#x8BDD;&#xFF0C;&#x5728;&#x6CA1;&#x6709;&#x9000;&#x51FA;&#x4E4B;&#x524D;&#xFF0C;&#x5B83;&#x7684;&#x6240;&#x6709;&#x4FE1;&#x606F;&#x90FD;&#x5728;&#x4F1A;&#x8BDD;&#x4E2D;&#xFF1B;&#x4F1A;&#x8BDD;&#x53EF;&#x4EE5;&#x662F;&#x666E;&#x901A; JavaSE &#x73AF;&#x5883;&#x7684;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x5982; Web &#x73AF;&#x5883;&#x7684;&#xFF1B; Cryptography&#x52A0;&#x5BC6;&#xFF0C;&#x4FDD;&#x62A4;&#x6570;&#x636E;&#x7684;&#x5B89;&#x5168;&#x6027;&#xFF0C;&#x5982;&#x5BC6;&#x7801;&#x52A0;&#x5BC6;&#x5B58;&#x50A8;&#x5230;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x660E;&#x6587;&#x5B58;&#x50A8;&#xFF1B; Web SupportWeb &#x652F;&#x6301;&#xFF0C;&#x53EF;&#x4EE5;&#x975E;&#x5E38;&#x5BB9;&#x6613;&#x7684;&#x96C6;&#x6210;&#x5230; Web &#x73AF;&#x5883;&#xFF1B; Caching&#x7F13;&#x5B58;&#xFF0C;&#x6BD4;&#x5982;&#x7528;&#x6237;&#x767B;&#x5F55;&#x540E;&#xFF0C;&#x5176;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x3001;&#x62E5;&#x6709;&#x7684;&#x89D2;&#x8272; / &#x6743;&#x9650;&#x4E0D;&#x5FC5;&#x6BCF;&#x6B21;&#x53BB;&#x67E5;&#xFF0C;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x63D0;&#x9AD8;&#x6548;&#x7387;&#xFF1B; Concurrencyshiro &#x652F;&#x6301;&#x591A;&#x7EBF;&#x7A0B;&#x5E94;&#x7528;&#x7684;&#x5E76;&#x53D1;&#x9A8C;&#x8BC1;&#xFF0C;&#x5373;&#x5982;&#x5728;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x4E2D;&#x5F00;&#x542F;&#x53E6;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;&#x80FD;&#x628A;&#x6743;&#x9650;&#x81EA;&#x52A8;&#x4F20;&#x64AD;&#x8FC7;&#x53BB;&#xFF1B; Testing&#x63D0;&#x4F9B;&#x6D4B;&#x8BD5;&#x652F;&#x6301;&#xFF1B; Run As&#x5141;&#x8BB8;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x5047;&#x88C5;&#x4E3A;&#x53E6;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#xFF08;&#x5982;&#x679C;&#x4ED6;&#x4EEC;&#x5141;&#x8BB8;&#xFF09;&#x7684;&#x8EAB;&#x4EFD;&#x8FDB;&#x884C;&#x8BBF;&#x95EE;&#xFF1B; Remember Me&#x8BB0;&#x4F4F;&#x6211;&#xFF0C;&#x8FD9;&#x4E2A;&#x662F;&#x975E;&#x5E38;&#x5E38;&#x89C1;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x5373;&#x4E00;&#x6B21;&#x767B;&#x5F55;&#x540E;&#xFF0C;&#x4E0B;&#x6B21;&#x518D;&#x6765;&#x7684;&#x8BDD;&#x4E0D;&#x7528;&#x767B;&#x5F55;&#x4E86;&#x3002; &#x6CE8;&#x610F;Shiro &#x4E0D;&#x4F1A;&#x53BB;&#x7EF4;&#x62A4;&#x7528;&#x6237;&#x3001;&#x7EF4;&#x62A4;&#x6743;&#x9650;&#xFF1B;&#x8FD9;&#x4E9B;&#x9700;&#x8981;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x53BB;&#x8BBE;&#x8BA1; / &#x63D0;&#x4F9B;&#xFF1B;&#x7136;&#x540E;&#x901A;&#x8FC7;&#x76F8;&#x5E94;&#x7684;&#x63A5;&#x53E3;&#x6CE8;&#x5165;&#x7ED9; Shiro &#x5373;&#x53EF;&#x3002; &#x67B6;&#x6784;&#x5916;&#x90E8;&#x67B6;&#x6784; &#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF1A;&#x5E94;&#x7528;&#x4EE3;&#x7801;&#x76F4;&#x63A5;&#x4EA4;&#x4E92;&#x7684;&#x5BF9;&#x8C61;&#x662F; Subject&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4; Shiro &#x7684;&#x5BF9;&#x5916; API &#x6838;&#x5FC3;&#x5C31;&#x662F; Subject&#xFF1B;&#x5176;&#x6BCF;&#x4E2A; API &#x7684;&#x542B;&#x4E49;&#xFF1A; Subject&#xFF1A;&#x4E3B;&#x4F53;&#xFF0C;&#x4EE3;&#x8868;&#x4E86;&#x5F53;&#x524D; &#x201C;&#x7528;&#x6237;&#x201D;&#xFF0C;&#x8FD9;&#x4E2A;&#x7528;&#x6237;&#x4E0D;&#x4E00;&#x5B9A;&#x662F;&#x4E00;&#x4E2A;&#x5177;&#x4F53;&#x7684;&#x4EBA;&#xFF0C;&#x4E0E;&#x5F53;&#x524D;&#x5E94;&#x7528;&#x4EA4;&#x4E92;&#x7684;&#x4EFB;&#x4F55;&#x4E1C;&#x897F;&#x90FD;&#x662F; Subject&#xFF0C;&#x5982;&#x7F51;&#x7EDC;&#x722C;&#x866B;&#xFF0C;&#x673A;&#x5668;&#x4EBA;&#x7B49;&#xFF1B;&#x5373;&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x6982;&#x5FF5;&#xFF1B;&#x6240;&#x6709; Subject &#x90FD;&#x7ED1;&#x5B9A;&#x5230; SecurityManager&#xFF0C;&#x4E0E; Subject &#x7684;&#x6240;&#x6709;&#x4EA4;&#x4E92;&#x90FD;&#x4F1A;&#x59D4;&#x6258;&#x7ED9; SecurityManager&#xFF1B;&#x53EF;&#x4EE5;&#x628A; Subject &#x8BA4;&#x4E3A;&#x662F;&#x4E00;&#x4E2A;&#x95E8;&#x9762;&#xFF1B;SecurityManager &#x624D;&#x662F;&#x5B9E;&#x9645;&#x7684;&#x6267;&#x884C;&#x8005;&#xFF1B; SecurityManager&#xFF1A;&#x5B89;&#x5168;&#x7BA1;&#x7406;&#x5668;&#xFF1B;&#x5373;&#x6240;&#x6709;&#x4E0E;&#x5B89;&#x5168;&#x6709;&#x5173;&#x7684;&#x64CD;&#x4F5C;&#x90FD;&#x4F1A;&#x4E0E; SecurityManager &#x4EA4;&#x4E92;&#xFF1B;&#x4E14;&#x5B83;&#x7BA1;&#x7406;&#x7740;&#x6240;&#x6709; Subject&#xFF1B;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x5B83;&#x662F; Shiro &#x7684;&#x6838;&#x5FC3;&#xFF0C;&#x5B83;&#x8D1F;&#x8D23;&#x4E0E;&#x540E;&#x8FB9;&#x4ECB;&#x7ECD;&#x7684;&#x5176;&#x4ED6;&#x7EC4;&#x4EF6;&#x8FDB;&#x884C;&#x4EA4;&#x4E92;&#xFF0C;&#x5982;&#x679C;&#x5B66;&#x4E60;&#x8FC7; SpringMVC&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x628A;&#x5B83;&#x770B;&#x6210; DispatcherServlet &#x524D;&#x7AEF;&#x63A7;&#x5236;&#x5668;&#xFF1B; Realm&#xFF1A;&#x57DF;&#xFF0C;Shiro &#x4ECE;&#x4ECE; Realm &#x83B7;&#x53D6;&#x5B89;&#x5168;&#x6570;&#x636E;&#xFF08;&#x5982;&#x7528;&#x6237;&#x3001;&#x89D2;&#x8272;&#x3001;&#x6743;&#x9650;&#xFF09;&#xFF0C;&#x5C31;&#x662F;&#x8BF4; SecurityManager &#x8981;&#x9A8C;&#x8BC1;&#x7528;&#x6237;&#x8EAB;&#x4EFD;&#xFF0C;&#x90A3;&#x4E48;&#x5B83;&#x9700;&#x8981;&#x4ECE; Realm &#x83B7;&#x53D6;&#x76F8;&#x5E94;&#x7684;&#x7528;&#x6237;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#x4EE5;&#x786E;&#x5B9A;&#x7528;&#x6237;&#x8EAB;&#x4EFD;&#x662F;&#x5426;&#x5408;&#x6CD5;&#xFF1B;&#x4E5F;&#x9700;&#x8981;&#x4ECE; Realm &#x5F97;&#x5230;&#x7528;&#x6237;&#x76F8;&#x5E94;&#x7684;&#x89D2;&#x8272; / &#x6743;&#x9650;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1;&#x7528;&#x6237;&#x662F;&#x5426;&#x80FD;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF1B;&#x53EF;&#x4EE5;&#x628A; Realm &#x770B;&#x6210; DataSource&#xFF0C;&#x5373;&#x5B89;&#x5168;&#x6570;&#x636E;&#x6E90;&#x3002; &#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x5BF9;&#x4E8E;&#x6211;&#x4EEC;&#x800C;&#x8A00;&#xFF0C;&#x6700;&#x7B80;&#x5355;&#x7684;&#x4E00;&#x4E2A; Shiro &#x5E94;&#x7528;&#xFF1A; &#x5E94;&#x7528;&#x4EE3;&#x7801;&#x901A;&#x8FC7; Subject &#x6765;&#x8FDB;&#x884C;&#x8BA4;&#x8BC1;&#x548C;&#x6388;&#x6743;&#xFF0C;&#x800C; Subject &#x53C8;&#x59D4;&#x6258;&#x7ED9; SecurityManager&#xFF1B; &#x6211;&#x4EEC;&#x9700;&#x8981;&#x7ED9; Shiro &#x7684; SecurityManager &#x6CE8;&#x5165; Realm&#xFF0C;&#x4ECE;&#x800C;&#x8BA9; SecurityManager &#x80FD;&#x5F97;&#x5230;&#x5408;&#x6CD5;&#x7684;&#x7528;&#x6237;&#x53CA;&#x5176;&#x6743;&#x9650;&#x8FDB;&#x884C;&#x5224;&#x65AD;&#x3002; &#x4ECE;&#x4EE5;&#x4E0A;&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;Shiro &#x4E0D;&#x63D0;&#x4F9B;&#x7EF4;&#x62A4;&#x7528;&#x6237; / &#x6743;&#x9650;&#xFF0C;&#x800C;&#x662F;&#x901A;&#x8FC7; Realm &#x8BA9;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x81EA;&#x5DF1;&#x6CE8;&#x5165;&#x3002; &#x5185;&#x90E8;&#x67B6;&#x6784; Subject&#xFF1A;&#x4E3B;&#x4F53;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x4E3B;&#x4F53;&#x53EF;&#x4EE5;&#x662F;&#x4EFB;&#x4F55;&#x53EF;&#x4EE5;&#x4E0E;&#x5E94;&#x7528;&#x4EA4;&#x4E92;&#x7684; &#x201C;&#x7528;&#x6237;&#x201D;&#xFF1B; SecurityManager&#xFF1A;&#x76F8;&#x5F53;&#x4E8E; SpringMVC &#x4E2D;&#x7684; DispatcherServlet &#x6216;&#x8005; Struts2 &#x4E2D;&#x7684; FilterDispatcher&#xFF1B;&#x662F; Shiro &#x7684;&#x5FC3;&#x810F;&#xFF1B;&#x6240;&#x6709;&#x5177;&#x4F53;&#x7684;&#x4EA4;&#x4E92;&#x90FD;&#x901A;&#x8FC7; SecurityManager &#x8FDB;&#x884C;&#x63A7;&#x5236;&#xFF1B;&#x5B83;&#x7BA1;&#x7406;&#x7740;&#x6240;&#x6709; Subject&#x3001;&#x4E14;&#x8D1F;&#x8D23;&#x8FDB;&#x884C;&#x8BA4;&#x8BC1;&#x548C;&#x6388;&#x6743;&#x3001;&#x53CA;&#x4F1A;&#x8BDD;&#x3001;&#x7F13;&#x5B58;&#x7684;&#x7BA1;&#x7406;&#x3002; Authenticator&#xFF1A;&#x8BA4;&#x8BC1;&#x5668;&#xFF0C;&#x8D1F;&#x8D23;&#x4E3B;&#x4F53;&#x8BA4;&#x8BC1;&#x7684;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x6269;&#x5C55;&#x70B9;&#xFF0C;&#x5982;&#x679C;&#x7528;&#x6237;&#x89C9;&#x5F97; Shiro &#x9ED8;&#x8BA4;&#x7684;&#x4E0D;&#x597D;&#xFF0C;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x5B9E;&#x73B0;&#xFF1B;&#x5176;&#x9700;&#x8981;&#x8BA4;&#x8BC1;&#x7B56;&#x7565;&#xFF08;Authentication Strategy&#xFF09;&#xFF0C;&#x5373;&#x4EC0;&#x4E48;&#x60C5;&#x51B5;&#x4E0B;&#x7B97;&#x7528;&#x6237;&#x8BA4;&#x8BC1;&#x901A;&#x8FC7;&#x4E86;&#xFF1B; Authrizer&#xFF1A;&#x6388;&#x6743;&#x5668;&#xFF0C;&#x6216;&#x8005;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x5668;&#xFF0C;&#x7528;&#x6765;&#x51B3;&#x5B9A;&#x4E3B;&#x4F53;&#x662F;&#x5426;&#x6709;&#x6743;&#x9650;&#x8FDB;&#x884C;&#x76F8;&#x5E94;&#x7684;&#x64CD;&#x4F5C;&#xFF1B;&#x5373;&#x63A7;&#x5236;&#x7740;&#x7528;&#x6237;&#x80FD;&#x8BBF;&#x95EE;&#x5E94;&#x7528;&#x4E2D;&#x7684;&#x54EA;&#x4E9B;&#x529F;&#x80FD;&#xFF1B; Realm&#xFF1A;&#x53EF;&#x4EE5;&#x6709; 1 &#x4E2A;&#x6216;&#x591A;&#x4E2A; Realm&#xFF0C;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#x662F;&#x5B89;&#x5168;&#x5B9E;&#x4F53;&#x6570;&#x636E;&#x6E90;&#xFF0C;&#x5373;&#x7528;&#x4E8E;&#x83B7;&#x53D6;&#x5B89;&#x5168;&#x5B9E;&#x4F53;&#x7684;&#xFF1B;&#x53EF;&#x4EE5;&#x662F; JDBC &#x5B9E;&#x73B0;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F; LDAP &#x5B9E;&#x73B0;&#xFF0C;&#x6216;&#x8005;&#x5185;&#x5B58;&#x5B9E;&#x73B0;&#x7B49;&#x7B49;&#xFF1B;&#x7531;&#x7528;&#x6237;&#x63D0;&#x4F9B;&#xFF1B;&#x6CE8;&#x610F;&#xFF1A;Shiro &#x4E0D;&#x77E5;&#x9053;&#x4F60;&#x7684;&#x7528;&#x6237; / &#x6743;&#x9650;&#x5B58;&#x50A8;&#x5728;&#x54EA;&#x53CA;&#x4EE5;&#x4F55;&#x79CD;&#x683C;&#x5F0F;&#x5B58;&#x50A8;&#xFF1B;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x4E00;&#x822C;&#x5728;&#x5E94;&#x7528;&#x4E2D;&#x90FD;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x81EA;&#x5DF1;&#x7684; Realm&#xFF1B; SessionManager&#xFF1A;&#x5982;&#x679C;&#x5199;&#x8FC7; Servlet &#x5C31;&#x5E94;&#x8BE5;&#x77E5;&#x9053; Session &#x7684;&#x6982;&#x5FF5;&#xFF0C;Session &#x5462;&#x9700;&#x8981;&#x6709;&#x4EBA;&#x53BB;&#x7BA1;&#x7406;&#x5B83;&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#xFF0C;&#x8FD9;&#x4E2A;&#x7EC4;&#x4EF6;&#x5C31;&#x662F; SessionManager&#xFF1B;&#x800C; Shiro &#x5E76;&#x4E0D;&#x4EC5;&#x4EC5;&#x53EF;&#x4EE5;&#x7528;&#x5728; Web &#x73AF;&#x5883;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x5728;&#x5982;&#x666E;&#x901A;&#x7684; JavaSE &#x73AF;&#x5883;&#x3001;EJB &#x7B49;&#x73AF;&#x5883;&#xFF1B;&#x6240;&#x6709;&#x5462;&#xFF0C;Shiro &#x5C31;&#x62BD;&#x8C61;&#x4E86;&#x4E00;&#x4E2A;&#x81EA;&#x5DF1;&#x7684; Session &#x6765;&#x7BA1;&#x7406;&#x4E3B;&#x4F53;&#x4E0E;&#x5E94;&#x7528;&#x4E4B;&#x95F4;&#x4EA4;&#x4E92;&#x7684;&#x6570;&#x636E;&#xFF1B;&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#xFF0C;&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x5728; Web &#x73AF;&#x5883;&#x7528;&#xFF0C;&#x521A;&#x5F00;&#x59CB;&#x662F;&#x4E00;&#x53F0; Web &#x670D;&#x52A1;&#x5668;&#xFF1B;&#x63A5;&#x7740;&#x53C8;&#x4E0A;&#x4E86;&#x53F0; EJB &#x670D;&#x52A1;&#x5668;&#xFF1B;&#x8FD9;&#x65F6;&#x60F3;&#x628A;&#x4E24;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x7684;&#x4F1A;&#x8BDD;&#x6570;&#x636E;&#x653E;&#x5230;&#x4E00;&#x4E2A;&#x5730;&#x65B9;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x5C31;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x81EA;&#x5DF1;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x4F1A;&#x8BDD;&#xFF08;&#x5982;&#x628A;&#x6570;&#x636E;&#x653E;&#x5230; Memcached &#x670D;&#x52A1;&#x5668;&#xFF09;&#xFF1B; SessionDAO&#xFF1A;DAO &#x5927;&#x5BB6;&#x90FD;&#x7528;&#x8FC7;&#xFF0C;&#x6570;&#x636E;&#x8BBF;&#x95EE;&#x5BF9;&#x8C61;&#xFF0C;&#x7528;&#x4E8E;&#x4F1A;&#x8BDD;&#x7684; CRUD&#xFF0C;&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x60F3;&#x628A;Session &#x4FDD;&#x5B58;&#x5230;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x81EA;&#x5DF1;&#x7684; SessionDAO&#xFF0C;&#x901A;&#x8FC7;&#x5982; JDBC &#x5199;&#x5230;&#x6570;&#x636E;&#x5E93;&#xFF1B;&#x6BD4;&#x5982;&#x60F3;&#x628A; Session &#x653E;&#x5230; Memcached &#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x81EA;&#x5DF1;&#x7684; Memcached SessionDAO&#xFF1B;&#x53E6;&#x5916; SessionDAO &#x4E2D;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; Cache &#x8FDB;&#x884C;&#x7F13;&#x5B58;&#xFF0C;&#x4EE5;&#x63D0;&#x9AD8;&#x6027;&#x80FD;&#xFF1B; CacheManager&#xFF1A;&#x7F13;&#x5B58;&#x63A7;&#x5236;&#x5668;&#xFF0C;&#x6765;&#x7BA1;&#x7406;&#x5982;&#x7528;&#x6237;&#x3001;&#x89D2;&#x8272;&#x3001;&#x6743;&#x9650;&#x7B49;&#x7684;&#x7F13;&#x5B58;&#x7684;&#xFF1B;&#x56E0;&#x4E3A;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x57FA;&#x672C;&#x4E0A;&#x5F88;&#x5C11;&#x53BB;&#x6539;&#x53D8;&#xFF0C;&#x653E;&#x5230;&#x7F13;&#x5B58;&#x4E2D;&#x540E;&#x53EF;&#x4EE5;&#x63D0;&#x9AD8;&#x8BBF;&#x95EE;&#x7684;&#x6027;&#x80FD; Cryptography&#xFF1A;&#x5BC6;&#x7801;&#x6A21;&#x5757;&#xFF0C;Shiro &#x63D0;&#x9AD8;&#x4E86;&#x4E00;&#x4E9B;&#x5E38;&#x89C1;&#x7684;&#x52A0;&#x5BC6;&#x7EC4;&#x4EF6;&#x7528;&#x4E8E;&#x5982;&#x5BC6;&#x7801;&#x52A0;&#x5BC6; / &#x89E3;&#x5BC6;&#x7684;&#x3002;","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"Shiro","slug":"Shiro","permalink":"https://marklogzhu.github.io/tags/Shiro/"}]},{"title":"SSM 多数据源配置","date":"2018-05-17T06:29:00.000Z","path":"SSM/后台/Java/SSM/SSM多数据源配置/","text":"&#x9879;&#x76EE;&#x4E2D;&#x9047;&#x5230;&#x591A;&#x6570;&#x636E;&#x6E90;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x5C31;&#x8BA9;&#x6211;&#x4EEC;&#x770B;&#x770B; SSM &#x5982;&#x4F55;&#x914D;&#x7F6E;&#x591A;&#x6570;&#x636E;&#x6E90;&#xFF01; &#x9996;&#x5148;&#x6211;&#x4EEC;&#x770B;&#x4E0B;&#x5355;&#x6570;&#x636E;&#x6E90;&#x7684;&#x60C5;&#x51B5;&#x4E0B; applicationContext-dao.xml &#x662F;&#x600E;&#x4E48;&#x914D;&#x7F6E;&#x7684;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xsi:schemaLocation=&quot; http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt; &lt;!--&#x5F15;&#x5165;&#x6570;&#x636E;&#x5E93;&#x5C5E;&#x6027;&#x914D;&#x7F6E;&#x6587;&#x4EF6;--&gt; &lt;bean id=&quot;propertyConfigurer&quot; class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt; &lt;property name=&quot;ignoreUnresolvablePlaceholders&quot; value=&quot;true&quot;/&gt; &lt;property name=&quot;location&quot; value=&quot;classpath:jdbc.properties&quot;/&gt; &lt;/bean&gt; &lt;bean id=&quot;dataSource_01&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot; destroy-method=&quot;close&quot;&gt; &lt;property name=&quot;driverClassName&quot; value=&quot;${driverClassName}&quot;/&gt; &lt;property name=&quot;url&quot; value=&quot;${url}&quot;/&gt; &lt;property name=&quot;username&quot; value=&quot;${username}&quot;/&gt; &lt;property name=&quot;password&quot; value=&quot;${password}&quot;/&gt; &lt;!-- &#x521D;&#x59CB;&#x5316;&#x8FDE;&#x63A5;&#x5927;&#x5C0F; --&gt; &lt;property name=&quot;initialSize&quot; value=&quot;${initialSize}&quot;/&gt; &lt;!-- &#x8FDE;&#x63A5;&#x6C60;&#x6700;&#x5927;&#x6570;&#x91CF; --&gt; &lt;property name=&quot;maxActive&quot; value=&quot;${maxActive}&quot;/&gt; &lt;!-- &#x8FDE;&#x63A5;&#x6C60;&#x6700;&#x5C0F;&#x7A7A;&#x95F2; --&gt; &lt;property name=&quot;minIdle&quot; value=&quot;${minIdle}&quot;/&gt; &lt;!-- &#x83B7;&#x53D6;&#x8FDE;&#x63A5;&#x6700;&#x5927;&#x7B49;&#x5F85;&#x65F6;&#x95F4; --&gt; &lt;property name=&quot;maxWait&quot; value=&quot;${maxWait}&quot;/&gt; &lt;/bean&gt; &lt;!-- spring&#x548C;MyBatis&#x5B8C;&#x7F8E;&#x6574;&#x5408;&#xFF0C;&#x4E0D;&#x9700;&#x8981;mybatis&#x7684;&#x914D;&#x7F6E;&#x6620;&#x5C04;&#x6587;&#x4EF6; --&gt; &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource_01&quot;/&gt; &lt;!-- &#x81EA;&#x52A8;&#x626B;&#x63CF; mapping.xml &#x6587;&#x4EF6; --&gt; &lt;property name=&quot;mapperLocations&quot; value=&quot;classpath:mappers/*.xml&quot;/&gt; &lt;!-- &#x5173;&#x8054; mybatis &#x914D;&#x7F6E;&#x6587;&#x4EF6; --&gt; &lt;property name=&quot;configLocation&quot; value=&quot;classpath:mybatis/mybatis-config.xml&quot;/&gt; &lt;/bean&gt; &lt;!-- DAO&#x63A5;&#x53E3;&#x6240;&#x5728;&#x5305;&#x540D;&#xFF0C;Spring&#x4F1A;&#x81EA;&#x52A8;&#x67E5;&#x627E;&#x5176;&#x4E0B;&#x7684;&#x7C7B; --&gt; &lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt; &lt;property name=&quot;basePackage&quot; value=&quot;com.marklogzhu.ssm.dao&quot;/&gt; &lt;property name=&quot;sqlSessionFactoryBeanName&quot; value=&quot;sqlSessionFactory&quot;/&gt; &lt;/bean&gt; &lt;!-- &#x542F;&#x7528;&#x4E8B;&#x7269;&#x6CE8;&#x89E3; --&gt; &lt;tx:annotation-driven /&gt; &lt;!-- &#x4E8B;&#x52A1;&#x7BA1;&#x7406; --&gt; &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource_01&quot;/&gt; &lt;property name=&quot;rollbackOnCommitFailure&quot; value=&quot;true&quot;/&gt; &lt;/bean&gt;&lt;/beans&gt; &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6211;&#x4EEC;&#x914D;&#x7F6E;&#x4E86;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x6E90;&#x5E76;&#x628A;&#x5B83;&#x4EA4;&#x7ED9;&#x4E86; sqlSessionFactory &#x5BF9;&#x8C61;&#xFF0C;&#x90A3;&#x4E48;&#x5982;&#x679C;&#x6709;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x6E90;&#x7684;&#x8BDD;&#xFF0C;&#x96BE;&#x9053;&#x8981;&#x7533;&#x660E;&#x591A;&#x4E2A; sqlSessionFactory &#x5BF9;&#x8C61;&#x5417;&#xFF1F; &#x7B54;&#x6848;&#x81EA;&#x7136;&#x662F;&#x4E0D;&#x9700;&#x8981;&#x4E86;(&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x64CD;&#x4F5C;&#xFF0C;&#x8BE6;&#x89C1;&#x4E0B;&#x6587;),&#x5728; spring4 &#x7684;&#x6E90;&#x7801;&#x4E2D;&#x6709;&#x5199;&#x5230;: 12345678910111213141516171819202122232425262728293031/** * Retrieve the current target DataSource. Determines the * {@link #determineCurrentLookupKey() current lookup key}, performs * a lookup in the {@link #setTargetDataSources targetDataSources} map, * falls back to the specified * {@link #setDefaultTargetDataSource default target DataSource} if necessary. * @see #determineCurrentLookupKey() * &#x68C0;&#x7D22;&#x5F53;&#x524D;&#x76EE;&#x6807;&#x6570;&#x636E;&#x6E90;&#xFF0C;&#x901A;&#x8FC7; determineCurrentLookupKey&#xFF08;&#xFF09;&#x65B9;&#x6CD5;&#x786E;&#x5B9A;&#x5F53;&#x524D;&#x7684; lookupkey&#xFF0C;&#x5728;&#x6570;&#x636E;&#x6E90;&#x7684;map&#x4E2D;&#x6267;&#x884C;&#x4E00;&#x4E2A;lookup&#xFF08;&#x901A;&#x8FC7;setTargetDataSources&#xFF08;&#xFF09;&#x65B9;&#x6CD5;&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x7684;&#x8BDD;&#x56DE;&#x6EDA;&#x5230;&#x9ED8;&#x8BA4;&#x7684;&#x6570;&#x636E;&#x6E90;&#x3002; */protected DataSource determineTargetDataSource() { Assert.notNull(this.resolvedDataSources, &quot;DataSource router not initialized&quot;); Object lookupKey = determineCurrentLookupKey(); DataSource dataSource = this.resolvedDataSources.get(lookupKey); if (dataSource == null &amp;&amp; (this.lenientFallback || lookupKey == null)) { dataSource = this.resolvedDefaultDataSource; } if (dataSource == null) { throw new IllegalStateException(&quot;Cannot determine target DataSource for lookup key [&quot; + lookupKey + &quot;]&quot;); } return dataSource;}/** * Determine the current lookup key. This will typically be * implemented to check a thread-bound transaction context. * &lt;p&gt;Allows for arbitrary keys. The returned key needs * to match the stored lookup key type, as resolved by the * {@link #resolveSpecifiedLookupKey} method. * &#x786E;&#x5B9A;&#x5F53;&#x524D;&#x7684;lookupkey&#x3002;&#x8FD9;&#x901A;&#x5E38;&#x662F;&#x5B9E;&#x73B0;&#x68C0;&#x67E5;&#x7EBF;&#x7A0B;&#x7ED1;&#x5B9A;&#x7684;&#x4E8B;&#x52A1;&#x4E0A;&#x4E0B;&#x6587;&#xFF0C;&#x5141;&#x8BB8;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;key&#x3002;&#x8FD4;&#x56DE;&#x7684;key&#x9700;&#x8981;&#x5339;&#x914D;&#x5B58;&#x50A8;&#x7684;key&#x7C7B;&#x578B;&#xFF0C;&#x901A;&#x8FC7;resolveSpecifiedLookupKey&#xFF08;&#xFF09;&#x65B9;&#x6CD5;&#x6765;&#x89E3;&#x51B3;&#x3002; */protected abstract Object determineCurrentLookupKey(); &#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x52A8;&#x6001;&#x7684;&#x6570;&#x636E;&#x6E90;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x5B9E;&#x73B0;&#x4E0B;&#x3002; &#x52A8;&#x6001;&#x6570;&#x636E;&#x6E90;&#x914D;&#x7F6E;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x52A8;&#x6001;&#x6570;&#x636E;&#x6E90;12345678910import org.springframework.jdbc.datasource.lookup.AbstractRoutingDataSource;public class DynamicDataSource extends AbstractRoutingDataSource { @Override protected Object determineCurrentLookupKey() { // &#x4ECE;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x4F4D;&#x7F6E;&#x83B7;&#x53D6;&#x6570;&#x636E;&#x6E90;&#x6807;&#x8BC6; return DynamicDataSourceHolder.getDataSource(); }} &#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x6E90;&#x6301;&#x6709;&#x7C7B;&#xFF0C;&#x7528;&#x6765;&#x5B58;&#x653E;&#x5F53;&#x524D;&#x7684;&#x6570;&#x636E;&#x6E90;&#x540D;&#x79F0;123456789101112131415161718192021222324252627282930313233343536public class DynamicDataSourceHolder { /** * &#x6CE8;&#x610F;&#xFF1A;&#x6570;&#x636E;&#x6E90;&#x6807;&#x8BC6;&#x4FDD;&#x5B58;&#x5728;&#x7EBF;&#x7A0B;&#x53D8;&#x91CF;&#x4E2D;&#xFF0C;&#x907F;&#x514D;&#x591A;&#x7EBF;&#x7A0B;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x6E90;&#x65F6;&#x4E92;&#x76F8;&#x5E72;&#x6270; */ private static final ThreadLocal&lt;String&gt; THREAD_DATA_SOURCE = new ThreadLocal&lt;String&gt;(); public enum Datasource{ DATASOURCE_01(&quot;dataSource_01&quot;), DATASOURCE_02(&quot;dataSource_02&quot;); private String datasourceId; Datasource(String datasourceId){ this.datasourceId = datasourceId; } public String getDatasourceId() { return datasourceId; } } public static String getDataSource() { return THREAD_DATA_SOURCE.get(); } public static void setDataSource(Datasource dataSource) { THREAD_DATA_SOURCE.set(dataSource.getDatasourceId()); } public static void clearDataSource() { THREAD_DATA_SOURCE.remove(); }} &#x5728; applicationContext-dao.xml &#x4E2D;&#x914D;&#x7F6E;&#x591A;&#x6570;&#x636E;&#x6E90;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xsi:schemaLocation=&quot; http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt; &lt;!--&#x5F15;&#x5165;&#x6570;&#x636E;&#x5E93;&#x5C5E;&#x6027;&#x914D;&#x7F6E;&#x6587;&#x4EF6;--&gt; &lt;bean id=&quot;propertyConfigurer&quot; class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt; &lt;property name=&quot;ignoreUnresolvablePlaceholders&quot; value=&quot;true&quot;/&gt; &lt;property name=&quot;location&quot; value=&quot;classpath:jdbc.properties&quot;/&gt; &lt;/bean&gt; &lt;!-- &#x7B2C;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;&#x8BBE;&#x7F6E; --&gt; &lt;bean id=&quot;dataSource_01&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot; destroy-method=&quot;close&quot;&gt; &lt;property name=&quot;driverClassName&quot; value=&quot;${driverClassName}&quot;/&gt; &lt;property name=&quot;url&quot; value=&quot;${url}&quot;/&gt; &lt;property name=&quot;username&quot; value=&quot;${username}&quot;/&gt; &lt;property name=&quot;password&quot; value=&quot;${password}&quot;/&gt; &lt;!-- &#x521D;&#x59CB;&#x5316;&#x8FDE;&#x63A5;&#x5927;&#x5C0F; --&gt; &lt;property name=&quot;initialSize&quot; value=&quot;${initialSize}&quot;/&gt; &lt;!-- &#x8FDE;&#x63A5;&#x6C60;&#x6700;&#x5927;&#x6570;&#x91CF; --&gt; &lt;property name=&quot;maxActive&quot; value=&quot;${maxActive}&quot;/&gt; &lt;!-- &#x8FDE;&#x63A5;&#x6C60;&#x6700;&#x5C0F;&#x7A7A;&#x95F2; --&gt; &lt;property name=&quot;minIdle&quot; value=&quot;${minIdle}&quot;/&gt; &lt;!-- &#x83B7;&#x53D6;&#x8FDE;&#x63A5;&#x6700;&#x5927;&#x7B49;&#x5F85;&#x65F6;&#x95F4; --&gt; &lt;property name=&quot;maxWait&quot; value=&quot;${maxWait}&quot;/&gt; &lt;/bean&gt; &lt;!-- &#x7B2C;&#x4E8C;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;&#x8BBE;&#x7F6E; --&gt; &lt;bean id=&quot;dataSource_02&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot; destroy-method=&quot;close&quot;&gt; &lt;property name=&quot;driverClassName&quot; value=&quot;${driverClassName_02}&quot;/&gt; &lt;property name=&quot;url&quot; value=&quot;${url_02}&quot;/&gt; &lt;property name=&quot;username&quot; value=&quot;${username_02}&quot;/&gt; &lt;property name=&quot;password&quot; value=&quot;${password_02}&quot;/&gt; &lt;!-- &#x521D;&#x59CB;&#x5316;&#x8FDE;&#x63A5;&#x5927;&#x5C0F; --&gt; &lt;property name=&quot;initialSize&quot; value=&quot;${initialSize}&quot;/&gt; &lt;!-- &#x8FDE;&#x63A5;&#x6C60;&#x6700;&#x5927;&#x6570;&#x91CF; --&gt; &lt;property name=&quot;maxActive&quot; value=&quot;${maxActive}&quot;/&gt; &lt;!-- &#x8FDE;&#x63A5;&#x6C60;&#x6700;&#x5C0F;&#x7A7A;&#x95F2; --&gt; &lt;property name=&quot;minIdle&quot; value=&quot;${minIdle}&quot;/&gt; &lt;!-- &#x83B7;&#x53D6;&#x8FDE;&#x63A5;&#x6700;&#x5927;&#x7B49;&#x5F85;&#x65F6;&#x95F4; --&gt; &lt;property name=&quot;maxWait&quot; value=&quot;${maxWait}&quot;/&gt; &lt;/bean&gt; &lt;bean id=&quot;dynamicDataSource&quot; class=&quot;com.marklogzhu.ssm.DynamicDataSource&quot;&gt; &lt;property name=&quot;targetDataSources&quot;&gt; &lt;map key-type=&quot;java.lang.String&quot;&gt; &lt;!-- &#x6307;&#x5B9A;lookupKey&#x548C;&#x4E0E;&#x4E4B;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;&#x6E90; --&gt; &lt;entry key=&quot;dataSource_01&quot; value-ref=&quot;dataSource_01&quot;&gt;&lt;/entry&gt; &lt;entry key=&quot;dataSource_02&quot; value-ref=&quot;dataSource_02&quot;&gt;&lt;/entry&gt; &lt;/map&gt; &lt;/property&gt; &lt;!-- &#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x9ED8;&#x8BA4;&#x7684;&#x6570;&#x636E;&#x6E90; --&gt; &lt;property name=&quot;defaultTargetDataSource&quot; ref=&quot;dataSource_01&quot; /&gt; &lt;/bean&gt; &lt;!-- spring&#x548C;MyBatis&#x5B8C;&#x7F8E;&#x6574;&#x5408;&#xFF0C;&#x4E0D;&#x9700;&#x8981;mybatis&#x7684;&#x914D;&#x7F6E;&#x6620;&#x5C04;&#x6587;&#x4EF6; --&gt; &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dynamicDataSource&quot;/&gt; &lt;!-- &#x81EA;&#x52A8;&#x626B;&#x63CF; mapping.xml &#x6587;&#x4EF6; --&gt; &lt;property name=&quot;mapperLocations&quot; value=&quot;classpath:mappers/*.xml&quot;/&gt; &lt;!-- &#x5173;&#x8054; mybatis &#x914D;&#x7F6E;&#x6587;&#x4EF6; --&gt; &lt;property name=&quot;configLocation&quot; value=&quot;classpath:mybatis/mybatis-config.xml&quot;/&gt; &lt;/bean&gt; &lt;!-- DAO&#x63A5;&#x53E3;&#x6240;&#x5728;&#x5305;&#x540D;&#xFF0C;Spring&#x4F1A;&#x81EA;&#x52A8;&#x67E5;&#x627E;&#x5176;&#x4E0B;&#x7684;&#x7C7B; --&gt; &lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt; &lt;property name=&quot;basePackage&quot; value=&quot;com.marklogzhu.ssm.dao&quot;/&gt; &lt;property name=&quot;sqlSessionFactoryBeanName&quot; value=&quot;sqlSessionFactory&quot;/&gt; &lt;/bean&gt; &lt;!-- &#x542F;&#x7528;&#x4E8B;&#x7269;&#x6CE8;&#x89E3; --&gt; &lt;tx:annotation-driven /&gt; &lt;!-- &#x4E8B;&#x52A1;&#x7BA1;&#x7406; --&gt; &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dynamicDataSource&quot;/&gt; &lt;property name=&quot;rollbackOnCommitFailure&quot; value=&quot;true&quot;/&gt; &lt;/bean&gt;&lt;/beans&gt; &#x65B0;&#x5EFA;2&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x5E76;&#x5728;&#x5176;&#x4E2D;&#x5404;&#x5EFA;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x8868;&#xFF0C;&#x552F;&#x6709;&#x7528;&#x6237;&#x540D;&#x79F0;&#x6709;&#x533A;&#x522B;&#xFF1A;&#x4E00;&#x4E2A;&#x4E3A;&#x4E2D;&#x6587;&#xFF0C;&#x4E00;&#x4E2A;&#x4E3A;&#x82F1;&#x6587;123456789101112131415DROP TABLE IF EXISTS `user`;CREATE TABLE `user` ( `user_id` int(20) NOT NULL COMMENT &apos;&#x7528;&#x6237;id&apos;, `user_name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT &apos;&#x7528;&#x6237;&#x540D;&#x79F0;&apos;, `password` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT &apos;&#x7528;&#x6237;&#x5BC6;&#x7801;&apos;, `age` int(3) NOT NULL COMMENT &apos;&#x7528;&#x6237;&#x5E74;&#x9F84;&apos;, `email` varchar(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT &apos;&#x7528;&#x6237;&#x90AE;&#x7BB1;&apos;, PRIMARY KEY (`user_id`) USING BTREE) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_bin COMMENT = &apos;&#x7528;&#x6237;&#x8868;&apos; ROW_FORMAT = Dynamic;INSERT INTO `user` VALUES (1, &apos;&#x5F20;&#x4E09;&apos;, &apos;e10adc3949ba59abbe56e057f20f883e&apos;, 33, &apos;zhangsan@163.com&apos;);INSERT INTO `user` VALUES (2, &apos;&#x674E;&#x56DB;&apos;, &apos;e10adc3949ba59abbe56e057f20f883e&apos;, 33, &apos;lisi@163.com&apos;);INSERT INTO `user` VALUES (3, &apos;&#x738B;&#x4E94;&apos;, &apos;e10adc3949ba59abbe56e057f20f883e&apos;, 34, &apos;wangwu@163.com&apos;);INSERT INTO `user` VALUES (4, &apos;&#x8D75;&#x516D;&apos;, &apos;e10adc3949ba59abbe56e057f20f883e&apos;, 35, &apos;zhaoliu@163.com&apos;);INSERT INTO `user` VALUES (5, &apos;&#x738B;&#x51AC;&#x51AC;&apos;, &apos;e10adc3949ba59abbe56e057f20f883e&apos;, 36, &apos;wangdongdong@163.com&apos;);INSERT INTO `user` VALUES (6, &apos;&#x738B;&#x535A;&#x535A;&apos;, &apos;e10adc3949ba59abbe56e057f20f883e&apos;, 37, &apos;wangbobo@163.com&apos;); 123456789101112131415DROP TABLE IF EXISTS `user`;CREATE TABLE `user` ( `user_id` int(20) NOT NULL COMMENT &apos;&#x7528;&#x6237;id&apos;, `user_name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT &apos;&#x7528;&#x6237;&#x540D;&#x79F0;&apos;, `password` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT &apos;&#x7528;&#x6237;&#x5BC6;&#x7801;&apos;, `age` int(3) NOT NULL COMMENT &apos;&#x7528;&#x6237;&#x5E74;&#x9F84;&apos;, `email` varchar(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT &apos;&#x7528;&#x6237;&#x90AE;&#x7BB1;&apos;, PRIMARY KEY (`user_id`) USING BTREE) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_bin COMMENT = &apos;&#x7528;&#x6237;&#x8868;&apos; ROW_FORMAT = Dynamic;INSERT INTO `user` VALUES (1, &apos;zhangsan&apos;, &apos;e10adc3949ba59abbe56e057f20f883e&apos;, 33, &apos;zhangsan@163.com&apos;);INSERT INTO `user` VALUES (2, &apos;lisi&apos;, &apos;e10adc3949ba59abbe56e057f20f883e&apos;, 33, &apos;lisi@163.com&apos;);INSERT INTO `user` VALUES (3, &apos;wangwu&apos;, &apos;e10adc3949ba59abbe56e057f20f883e&apos;, 34, &apos;wangwu@163.com&apos;);INSERT INTO `user` VALUES (4, &apos;zhaoliu&apos;, &apos;e10adc3949ba59abbe56e057f20f883e&apos;, 35, &apos;zhaoliu@163.com&apos;);INSERT INTO `user` VALUES (5, &apos;wangdongdong&apos;, &apos;e10adc3949ba59abbe56e057f20f883e&apos;, 36, &apos;wangdongdong@163.com&apos;);INSERT INTO `user` VALUES (6, &apos;wangbobo&apos;, &apos;e10adc3949ba59abbe56e057f20f883e&apos;, 37, &apos;wangbobo@163.com&apos;); &#x65B0;&#x5EFA; user &#x5B9E;&#x4F53;&#x7C7B;123456789101112131415161718192021222324252627282930313233343536373839public class User { /** * &#x7528;&#x6237;id */ private Integer userId; /** * &#x7528;&#x6237;&#x540D;&#x79F0; */ private String userName; /** * &#x7528;&#x6237;&#x5BC6;&#x7801; */ private String password; /** * &#x7528;&#x6237;&#x5E74;&#x9F84; */ private Integer age; /** * &#x7528;&#x6237;&#x90AE;&#x7BB1; */ private String email; /** * * @mbggenerated */ public User(Integer userId, String userName, String password, Integer age, String email) { this.userId = userId; this.userName = userName; this.password = password; this.age = age; this.email = email; } // get/set ......} &#x65B0;&#x5EFA; dao &#x63A5;&#x53E3;&#x548C; mapper.xml123public interface UserMapper { List&lt;User&gt; findAllUser();} 1234567891011121314151617181920&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt; &lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt; &lt;mapper namespace=&quot;org.iMybatis.abc.dao.UserMapper&quot;&gt; &lt;resultMap id=&quot;BaseResultMap&quot; type=&quot;com.marklogzhu.ssm.pojo.User&quot; &gt; &lt;constructor &gt; &lt;idArg column=&quot;user_id&quot; jdbcType=&quot;INTEGER&quot; javaType=&quot;java.lang.Integer&quot; /&gt; &lt;arg column=&quot;user_name&quot; jdbcType=&quot;VARCHAR&quot; javaType=&quot;java.lang.String&quot; /&gt; &lt;arg column=&quot;password&quot; jdbcType=&quot;VARCHAR&quot; javaType=&quot;java.lang.String&quot; /&gt; &lt;arg column=&quot;age&quot; jdbcType=&quot;INTEGER&quot; javaType=&quot;java.lang.Integer&quot; /&gt; &lt;arg column=&quot;email&quot; jdbcType=&quot;VARCHAR&quot; javaType=&quot;java.lang.String&quot; /&gt; &lt;/constructor&gt; &lt;/resultMap&gt; &lt;select id=&quot;findAllUser&quot; resultMap=&quot;BaseResultMap&quot;&gt; select user_id, user_name, password, age, email from user &lt;/select&gt;&lt;/mapper&gt; &#x65B0;&#x5EFA; UserService &#x670D;&#x52A1;12345678910111213141516171819202122@Servicepublic class UserService { @Autowired private UserMapper userMapper; public List&lt;User&gt; getUserList(Integer currentPage, Integer pageSize) { DynamicDataSourceHolder.setDataSource(DynamicDataSourceHolder.Datasource.DATASOURCE_01); PageHelper.startPage(currentPage, pageSize); List&lt;User&gt; docs = userMapper.findAllUser(); PageInfo&lt;User&gt; pageInfo = new PageInfo&lt;&gt;(docs); return pageInfo.getList(); } public List&lt;User&gt; getUserList2(Integer currentPage, Integer pageSize) { DynamicDataSourceHolder.setDataSource(DynamicDataSourceHolder.Datasource.DATASOURCE_02); PageHelper.startPage(currentPage, pageSize); List&lt;User&gt; docs = userMapper.findAllUser(); PageInfo&lt;User&gt; pageInfo = new PageInfo&lt;&gt;(docs); return pageInfo.getList(); }} &#x65B0;&#x5EFA;&#x6D4B;&#x8BD5; Controller &#x7C7B;1234567891011121314151617181920@Controller@RequestMapping(&quot;/test&quot;)public class TestController { @Autowired private UserService userService; @RequestMapping(&quot;/testUserList&quot;) @ResponseBody public JsonData testUserList(@RequestParam(defaultValue = &quot;0&quot;) Integer flag, @RequestParam(defaultValue = &quot;1&quot;) Integer currentPage, @RequestParam(defaultValue = &quot;4&quot;) Integer pageSize){ if(flag==0){ // &#x6839;&#x636E;&#x53C2;&#x6570;&#x9009;&#x62E9;&#x6570;&#x636E;&#x6E90;&#x65B9;&#x5F0F; return JsonData.createBySuccess(userService.getUserList(currentPage,pageSize)); }else{ return JsonData.createBySuccess(userService.getUserList2(currentPage,pageSize)); } } } &#x542F;&#x52A8;&#x5E76;&#x8BBF;&#x95EE;&#x5982;&#x4E0B; url: http://localhost:8080/test/testUserList?flag=0 &#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF1A;12345678910111213141516171819202122232425262728293031323334{ &quot;status&quot;: 0, &quot;msg&quot;: null, &quot;data&quot;: [ { &quot;userId&quot;: 1, &quot;userName&quot;: &quot;&#x5F20;&#x4E09;&quot;, &quot;password&quot;: &quot;e10adc3949ba59abbe56e057f20f883e&quot;, &quot;age&quot;: 33, &quot;email&quot;: &quot;zhangsan@163.com&quot; }, { &quot;userId&quot;: 2, &quot;userName&quot;: &quot;&#x674E;&#x56DB;&quot;, &quot;password&quot;: &quot;e10adc3949ba59abbe56e057f20f883e&quot;, &quot;age&quot;: 33, &quot;email&quot;: &quot;lisi@163.com&quot; }, { &quot;userId&quot;: 3, &quot;userName&quot;: &quot;&#x738B;&#x4E94;&quot;, &quot;password&quot;: &quot;e10adc3949ba59abbe56e057f20f883e&quot;, &quot;age&quot;: 34, &quot;email&quot;: &quot;wangwu@163.com&quot; }, { &quot;userId&quot;: 4, &quot;userName&quot;: &quot;&#x8D75;&#x516D;&quot;, &quot;password&quot;: &quot;e10adc3949ba59abbe56e057f20f883e&quot;, &quot;age&quot;: 35, &quot;email&quot;: &quot;zhaoliu@163.com&quot; } ]} http://localhost:8080/test/testUserList?flag=1 &#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF1A; 12345678910111213141516171819202122232425262728293031323334{ &quot;status&quot;: 0, &quot;msg&quot;: null, &quot;data&quot;: [ { &quot;userId&quot;: 1, &quot;userName&quot;: &quot;zhangsan&quot;, &quot;password&quot;: &quot;e10adc3949ba59abbe56e057f20f883e&quot;, &quot;age&quot;: 33, &quot;email&quot;: &quot;zhangsan@163.com&quot; }, { &quot;userId&quot;: 2, &quot;userName&quot;: &quot;lisi&quot;, &quot;password&quot;: &quot;e10adc3949ba59abbe56e057f20f883e&quot;, &quot;age&quot;: 33, &quot;email&quot;: &quot;lisi@163.com&quot; }, { &quot;userId&quot;: 3, &quot;userName&quot;: &quot;wangwu&quot;, &quot;password&quot;: &quot;e10adc3949ba59abbe56e057f20f883e&quot;, &quot;age&quot;: 34, &quot;email&quot;: &quot;wangwu@163.com&quot; }, { &quot;userId&quot;: 4, &quot;userName&quot;: &quot;zhaoliu&quot;, &quot;password&quot;: &quot;e10adc3949ba59abbe56e057f20f883e&quot;, &quot;age&quot;: 35, &quot;email&quot;: &quot;zhaoliu@163.com&quot; } ]} &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5728;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;&#x4E4B;&#x524D;&#x53EA;&#x8981; &#x8C03;&#x7528; DynamicDataSourceHolder.setDataSource(&quot;&#x6570;&#x636E;&#x6E90;&#x540D;&#x79F0;&quot;); &#x5373;&#x53EF;&#x5207;&#x6362;&#x6570;&#x636E;&#x6E90;&#x5E76;&#x8FDB;&#x884C;&#x8BFB;&#x5199;&#x64CD;&#x4F5C;&#x4E86;&#x3002;&#x4F46;&#x662F;&#x8FD9;&#x6837;&#x505A;&#x5B9E;&#x5728;&#x662F;&#x5F88;&#x4E0D;&#x4F18;&#x96C5;&#xFF0C;&#x90A3;&#x4E48;&#x6709;&#x6BD4;&#x8F83;&#x4F18;&#x96C5;&#x7684;&#x65B9;&#x5F0F;&#x5417;&#xFF0C;&#x7B54;&#x6848;&#x81EA;&#x7136;&#x662F;&#x6709;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6CE8;&#x89E3;&#x7684;&#x5F62;&#x5F0F;&#x7533;&#x660E;&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;AOP&#x5207;&#x9762;&#x6765;&#x5B9E;&#x73B0;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x3002; &#x6CE8;&#x89E3;&#x5F62;&#x5F0F;&#x914D;&#x7F6E;&#x591A;&#x6570;&#x636E;&#x6E90;&#x5B9A;&#x4E49;&#x6570;&#x636E;&#x6E90;&#x6CE8;&#x89E3;123456789101112131415import java.lang.annotation.ElementType;import java.lang.annotation.Retention;import java.lang.annotation.RetentionPolicy;import java.lang.annotation.Target;/** * &#x6570;&#x636E;&#x6E90;&#x6CE8;&#x89E3; */// &#x5728;&#x4EC0;&#x4E48;&#x9636;&#x6BB5;&#x4FDD;&#x7559;&#xFF0C;&#x672C;&#x6B21;&#x662F;&#x8FD0;&#x884C;&#x7684;&#x65F6;&#x5019;@Retention(RetentionPolicy.RUNTIME)// &#x6267;&#x884C;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x672C;&#x6B21;&#x662F;&#x65B9;&#x6CD5;&#x548C;&#x7C7B;,&#x5982;&#x679C;&#x4E0D;&#x662F;&#x8FD9;&#x4E24;&#x8005;&#x7684;&#x8BDD;&#x4F1A;&#x62A5;&#x9519;&#xFF0C;@Target({ElementType.METHOD,ElementType.TYPE})public @interface DataSource { DynamicDataSourceHolder.Datasource value();} AOP &#x5207;&#x9762;12345678910111213141516171819202122232425262728293031323334353637383940414243public class DataSourceAspect { /** * &#x62E6;&#x622A;&#x76EE;&#x6807;&#x65B9;&#x6CD5;&#xFF0C;&#x83B7;&#x53D6;&#x7531;@DataSource&#x6307;&#x5B9A;&#x7684;&#x6570;&#x636E;&#x6E90;&#x6807;&#x8BC6;&#xFF0C;&#x8BBE;&#x7F6E;&#x5230;&#x7EBF;&#x7A0B;&#x5B58;&#x50A8;&#x4E2D;&#x4EE5;&#x4FBF;&#x5207;&#x6362;&#x6570;&#x636E;&#x6E90; * * @param point * @throws Exception */ public void intercept(JoinPoint point) throws Exception { Class&lt;?&gt; target = point.getTarget().getClass(); MethodSignature signature = (MethodSignature) point.getSignature(); // &#x9ED8;&#x8BA4;&#x4F7F;&#x7528;&#x76EE;&#x6807;&#x7C7B;&#x578B;&#x7684;&#x6CE8;&#x89E3;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5219;&#x4F7F;&#x7528;&#x5176;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#x7684;&#x6CE8;&#x89E3; for (Class&lt;?&gt; clazz : target.getInterfaces()) { resolveDataSource(clazz, signature.getMethod()); } resolveDataSource(target, signature.getMethod()); } /** * &#x63D0;&#x53D6;&#x76EE;&#x6807;&#x5BF9;&#x8C61;&#x65B9;&#x6CD5;&#x6CE8;&#x89E3;&#x548C;&#x7C7B;&#x578B;&#x6CE8;&#x89E3;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x6E90;&#x6807;&#x8BC6; * * @param clazz * @param method */ private void resolveDataSource(Class&lt;?&gt; clazz, Method method) { try { Class&lt;?&gt;[] types = method.getParameterTypes(); // &#x9ED8;&#x8BA4;&#x4F7F;&#x7528;&#x7C7B;&#x578B;&#x6CE8;&#x89E3; if (clazz.isAnnotationPresent(DataSource.class)) { DataSource source = clazz.getAnnotation(DataSource.class); DynamicDataSourceHolder.setDataSource(source.value()); } // &#x65B9;&#x6CD5;&#x6CE8;&#x89E3;&#x53EF;&#x4EE5;&#x8986;&#x76D6;&#x7C7B;&#x578B;&#x6CE8;&#x89E3; Method m = clazz.getMethod(method.getName(), types); if (m != null &amp;&amp; m.isAnnotationPresent(DataSource.class)) { DataSource source = m.getAnnotation(DataSource.class); DynamicDataSourceHolder.setDataSource(source.value()); } } catch (Exception e) { System.out.println(clazz + &quot;:&quot; + e.getMessage()); } }} &#x8FD9;&#x91CC;&#x9700;&#x8981;&#x7528;&#x5230; aspectjrt &#x4F9D;&#x8D56;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x6DFB;&#x52A0;&#x4E0B;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x62A5;&#x9519;&#x3002; 12345678910&lt;dependency&gt; &lt;groupId&gt;org.aspectj&lt;/groupId&gt; &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt; &lt;version&gt;1.6.11&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.aspectj&lt;/groupId&gt; &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt; &lt;version&gt;1.6.11&lt;/version&gt;&lt;/dependency&gt; applicationContext-dao.xml &#x914D;&#x7F6E; AOP1234567891011&lt;!---&#x4E4B;&#x524D;&#x7684;&#x5C31;&#x4E0D;&#x518D;&#x7ED9;&#x51FA;&#x4E86;--&gt;&lt;bean id=&quot;dataSourceAspect&quot; class=&quot;com.marklogzhu.ssm.DataSourceAspect&quot; /&gt;&lt;aop:config&gt; &lt;aop:aspect ref=&quot;dataSourceAspect&quot;&gt; &lt;!-- &#x62E6;&#x622A;&#x6240;&#x6709;service&#x65B9;&#x6CD5; --&gt; &lt;aop:pointcut id=&quot;dataSourcePointcut&quot; expression=&quot;execution(* com.marklogzhu.ssm.service..*.*(..))&quot; /&gt; &lt;aop:before pointcut-ref=&quot;dataSourcePointcut&quot; method=&quot;intercept&quot; /&gt; &lt;/aop:aspect&gt;&lt;/aop:config&gt; &#x4FEE;&#x6539; UserService &#x5982;&#x4E0B;&#xFF1A;12345678910111213141516171819202122@Servicepublic class UserService { @Autowired private UserMapper userMapper; @DataSource(DynamicDataSourceHolder.Datasource.DATASOURCE_01) public List&lt;User&gt; getUserList(Integer currentPage, Integer pageSize) { PageHelper.startPage(currentPage, pageSize); List&lt;User&gt; docs = userMapper.findAllUser(); PageInfo&lt;User&gt; pageInfo = new PageInfo&lt;&gt;(docs); return pageInfo.getList(); } @DataSource(DynamicDataSourceHolder.Datasource.DATASOURCE_02) public List&lt;User&gt; getUserList2(Integer currentPage, Integer pageSize) { PageHelper.startPage(currentPage, pageSize); List&lt;User&gt; docs = userMapper.findAllUser(); PageInfo&lt;User&gt; pageInfo = new PageInfo&lt;&gt;(docs); return pageInfo.getList(); }} &#x91CD;&#x65B0;&#x542F;&#x52A8;&#x5E76;&#x6D4B;&#x8BD5;&#x8FD0;&#x884C;&#xFF0C;&#x7ED3;&#x679C;&#x5E94;&#x8BE5;&#x8DDF;&#x4E4B;&#x524D;&#x4E00;&#x81F4;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x518D;&#x7ED9;&#x51FA;&#x4E86;&#x3002; &#x6CE8;&#x89E3;&#x4F18;&#x5148;&#x7EA7;&#x522B;&#xFF1A;&#x65B9;&#x6CD5; &gt; &#x5B9E;&#x73B0;&#x7C7B; &gt; &#x63A5;&#x53E3;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x5982;&#x679C;&#x63A5;&#x53E3;&#x3001;&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#x7C7B;&#x4EE5;&#x53CA;&#x65B9;&#x6CD5;&#x4E0A;&#x5206;&#x522B;&#x52A0;&#x4E86; @DataSource &#x6CE8;&#x89E3;&#x6765;&#x6307;&#x5B9A;&#x6570;&#x636E;&#x6E90;&#xFF0C;&#x5219;&#x4F18;&#x5148;&#x4EE5;&#x65B9;&#x6CD5;&#x4E0A;&#x6307;&#x5B9A;&#x7684;&#x4E3A;&#x51C6;&#x3002; &#x591A; sqlSessionFactory &#x5F62;&#x5F0F;&#x914D;&#x7F6E;&#x591A;&#x6570;&#x636E;&#x6E90;&#x9664;&#x4E86;&#x4E4B;&#x524D;&#x7684;&#x52A8;&#x6001;&#x6570;&#x636E;&#x6E90;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x591A;&#x4E2A; sqlSessionFactory &#x6765;&#x5B9E;&#x73B0;&#x591A;&#x6570;&#x636E;&#x6E90;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x770B;&#x770B;&#x5B83;&#x7684;&#x914D;&#x7F6E;&#x3002; applicationContext-dao.xml &#x914D;&#x7F6E;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960&lt;!-- &#x7B2C;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;&#x8BBE;&#x7F6E; --&gt;&lt;bean id=&quot;dataSource_01&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot; destroy-method=&quot;close&quot;&gt; &lt;property name=&quot;driverClassName&quot; value=&quot;${driverClassName}&quot;/&gt; &lt;property name=&quot;url&quot; value=&quot;${url}&quot;/&gt; &lt;property name=&quot;username&quot; value=&quot;${username}&quot;/&gt; &lt;property name=&quot;password&quot; value=&quot;${password}&quot;/&gt; &lt;!-- &#x521D;&#x59CB;&#x5316;&#x8FDE;&#x63A5;&#x5927;&#x5C0F; --&gt; &lt;property name=&quot;initialSize&quot; value=&quot;${initialSize}&quot;/&gt; &lt;!-- &#x8FDE;&#x63A5;&#x6C60;&#x6700;&#x5927;&#x6570;&#x91CF; --&gt; &lt;property name=&quot;maxActive&quot; value=&quot;${maxActive}&quot;/&gt; &lt;!-- &#x8FDE;&#x63A5;&#x6C60;&#x6700;&#x5C0F;&#x7A7A;&#x95F2; --&gt; &lt;property name=&quot;minIdle&quot; value=&quot;${minIdle}&quot;/&gt; &lt;!-- &#x83B7;&#x53D6;&#x8FDE;&#x63A5;&#x6700;&#x5927;&#x7B49;&#x5F85;&#x65F6;&#x95F4; --&gt; &lt;property name=&quot;maxWait&quot; value=&quot;${maxWait}&quot;/&gt;&lt;/bean&gt;&lt;!-- spring&#x548C;MyBatis&#x5B8C;&#x7F8E;&#x6574;&#x5408;&#xFF0C;&#x4E0D;&#x9700;&#x8981;mybatis&#x7684;&#x914D;&#x7F6E;&#x6620;&#x5C04;&#x6587;&#x4EF6; --&gt;&lt;bean id=&quot;sqlSessionFactory_01&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource_01&quot;/&gt; &lt;!-- &#x81EA;&#x52A8;&#x626B;&#x63CF; mapping.xml &#x6587;&#x4EF6; --&gt; &lt;property name=&quot;mapperLocations&quot; value=&quot;classpath:mappers/A/*.xml&quot;/&gt; &lt;!-- &#x5173;&#x8054; mybatis &#x914D;&#x7F6E;&#x6587;&#x4EF6; --&gt; &lt;property name=&quot;configLocation&quot; value=&quot;classpath:mybatis/mybatis-config.xml&quot;/&gt;&lt;/bean&gt;&lt;!-- DAO&#x63A5;&#x53E3;&#x6240;&#x5728;&#x5305;&#x540D;&#xFF0C;Spring&#x4F1A;&#x81EA;&#x52A8;&#x67E5;&#x627E;&#x5176;&#x4E0B;&#x7684;&#x7C7B; --&gt;&lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt; &lt;property name=&quot;basePackage&quot; value=&quot;com.marklogzhu.ssm.dao.a&quot;/&gt; &lt;property name=&quot;sqlSessionFactoryBeanName&quot; value=&quot;sqlSessionFactory_01&quot;/&gt;&lt;/bean&gt;&lt;!-- &#x7B2C;&#x4E8C;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;&#x8BBE;&#x7F6E; --&gt;&lt;bean id=&quot;dataSource_02&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot; destroy-method=&quot;close&quot;&gt; &lt;property name=&quot;driverClassName&quot; value=&quot;${driverClassName_02}&quot;/&gt; &lt;property name=&quot;url&quot; value=&quot;${url_02}&quot;/&gt; &lt;property name=&quot;username&quot; value=&quot;${username_02}&quot;/&gt; &lt;property name=&quot;password&quot; value=&quot;${password_02}&quot;/&gt; &lt;!-- &#x521D;&#x59CB;&#x5316;&#x8FDE;&#x63A5;&#x5927;&#x5C0F; --&gt; &lt;property name=&quot;initialSize&quot; value=&quot;${initialSize}&quot;/&gt; &lt;!-- &#x8FDE;&#x63A5;&#x6C60;&#x6700;&#x5927;&#x6570;&#x91CF; --&gt; &lt;property name=&quot;maxActive&quot; value=&quot;${maxActive}&quot;/&gt; &lt;!-- &#x8FDE;&#x63A5;&#x6C60;&#x6700;&#x5C0F;&#x7A7A;&#x95F2; --&gt; &lt;property name=&quot;minIdle&quot; value=&quot;${minIdle}&quot;/&gt; &lt;!-- &#x83B7;&#x53D6;&#x8FDE;&#x63A5;&#x6700;&#x5927;&#x7B49;&#x5F85;&#x65F6;&#x95F4; --&gt; &lt;property name=&quot;maxWait&quot; value=&quot;${maxWait}&quot;/&gt;&lt;/bean&gt;&lt;bean id=&quot;sqlSessionFactory_02&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource_02&quot;/&gt; &lt;!-- &#x81EA;&#x52A8;&#x626B;&#x63CF; mapping.xml &#x6587;&#x4EF6; --&gt; &lt;property name=&quot;mapperLocations&quot; value=&quot;classpath:mappers/B/*.xml&quot;/&gt; &lt;!-- &#x5173;&#x8054; mybatis &#x914D;&#x7F6E;&#x6587;&#x4EF6; --&gt; &lt;property name=&quot;configLocation&quot; value=&quot;classpath:mybatis/mybatis-config.xml&quot;/&gt;&lt;/bean&gt;&lt;!-- DAO&#x63A5;&#x53E3;&#x6240;&#x5728;&#x5305;&#x540D;&#xFF0C;Spring&#x4F1A;&#x81EA;&#x52A8;&#x67E5;&#x627E;&#x5176;&#x4E0B;&#x7684;&#x7C7B; --&gt;&lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt; &lt;property name=&quot;basePackage&quot; value=&quot;com.marklogzhu.ssm.dao.b&quot;/&gt; &lt;property name=&quot;sqlSessionFactoryBeanName&quot; value=&quot;sqlSessionFactory_02&quot;/&gt;&lt;/bean&gt; &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x4E24;&#x4E2A; sqlSessionFactory &#x5BF9;&#x8C61;&#x91CC;&#x63A5;&#x53E3;&#x8DDF; mapper.xml &#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x90FD;&#x8981;&#x4E0D;&#x4E00;&#x81F4;&#xFF0C;&#x800C;&#x4E14;&#x5B83;&#x4EEC;&#x7684;&#x540D;&#x79F0;&#x4E5F;&#x4E0D;&#x80FD;&#x76F8;&#x540C;&#x3002; &#x4EE5;&#x4E0A;&#x51E0;&#x79CD;&#x5B9E;&#x73B0;&#x591A;&#x6570;&#x636E;&#x6E90;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x9700;&#x6C42;&#x53EF;&#x4EE5;&#x81EA;&#x884C;&#x9009;&#x62E9;&#xFF01;","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"MyBatis","slug":"MyBatis","permalink":"https://marklogzhu.github.io/tags/MyBatis/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"}]},{"title":"Spring学习总结(六)--事务管理","date":"2018-05-16T07:28:00.000Z","path":"Spring/后台/Java/Spring/Spring学习总结(六)--事务管理/","text":"&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x4E8B;&#x52A1;&#x662F;&#x4E00;&#x4E2A;&#x88AB;&#x89C6;&#x4E3A;&#x5355;&#x4E00;&#x7684;&#x5DE5;&#x4F5C;&#x5355;&#x5143;&#x7684;&#x64CD;&#x4F5C;&#x5E8F;&#x5217;&#x3002;&#x8FD9;&#x4E9B;&#x64CD;&#x4F5C;&#x5E94;&#x8BE5;&#x8981;&#x4E48;&#x5B8C;&#x6574;&#x5730;&#x6267;&#x884C;&#xFF0C;&#x8981;&#x4E48;&#x5B8C;&#x5168;&#x4E0D;&#x6267;&#x884C;&#x3002;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x662F;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x7EC4;&#x6210;&#x90E8;&#x5206;&#xFF0C;RDBMS &#x9762;&#x5411;&#x4F01;&#x4E1A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x4EE5;&#x786E;&#x4FDD;&#x6570;&#x636E;&#x5B8C;&#x6574;&#x6027;&#x548C;&#x4E00;&#x81F4;&#x6027;&#x3002;&#x4E8B;&#x52A1;&#x7684;&#x6982;&#x5FF5;&#x53EF;&#x4EE5;&#x63CF;&#x8FF0;&#x4E3A;&#x5177;&#x6709;&#x4EE5;&#x4E0B;&#x56DB;&#x4E2A;&#x5173;&#x952E;&#x5C5E;&#x6027;&#x8BF4;&#x6210;&#x662F; ACID&#xFF1A; &#x539F;&#x5B50;&#x6027;&#xFF1A;&#x4E8B;&#x52A1;&#x5E94;&#x8BE5;&#x5F53;&#x4F5C;&#x4E00;&#x4E2A;&#x5355;&#x72EC;&#x5355;&#x5143;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x6574;&#x4E2A;&#x5E8F;&#x5217;&#x64CD;&#x4F5C;&#x8981;&#x4E48;&#x662F;&#x6210;&#x529F;&#xFF0C;&#x8981;&#x4E48;&#x662F;&#x5931;&#x8D25;&#x7684;&#x3002; &#x4E00;&#x81F4;&#x6027;&#xFF1A;&#x8FD9;&#x8868;&#x793A;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5F15;&#x7528;&#x5B8C;&#x6574;&#x6027;&#x7684;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x8868;&#x4E2D;&#x552F;&#x4E00;&#x7684;&#x4E3B;&#x952E;&#x7B49;&#x3002; &#x9694;&#x79BB;&#x6027;&#xFF1A;&#x53EF;&#x80FD;&#x540C;&#x65F6;&#x5904;&#x7406;&#x5F88;&#x591A;&#x6709;&#x76F8;&#x540C;&#x7684;&#x6570;&#x636E;&#x96C6;&#x7684;&#x4E8B;&#x52A1;&#xFF0C;&#x6BCF;&#x4E2A;&#x4E8B;&#x52A1;&#x5E94;&#x8BE5;&#x4E0E;&#x5176;&#x4ED6;&#x4E8B;&#x52A1;&#x9694;&#x79BB;&#xFF0C;&#x4EE5;&#x9632;&#x6B62;&#x6570;&#x636E;&#x635F;&#x574F;&#x3002; &#x6301;&#x4E45;&#x6027;&#xFF1A;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x4E00;&#x65E6;&#x5B8C;&#x6210;&#x5168;&#x90E8;&#x64CD;&#x4F5C;&#x540E;&#xFF0C;&#x8FD9;&#x4E2A;&#x4E8B;&#x52A1;&#x7684;&#x7ED3;&#x679C;&#x5FC5;&#x987B;&#x662F;&#x6C38;&#x4E45;&#x6027;&#x7684;&#xFF0C;&#x4E0D;&#x80FD;&#x56E0;&#x7CFB;&#x7EDF;&#x6545;&#x969C;&#x800C;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x5220;&#x9664;&#x3002; &#x4E00;&#x4E2A;&#x771F;&#x6B63;&#x7684; RDBMS &#x6570;&#x636E;&#x5E93;&#x7CFB;&#x7EDF;&#x5C06;&#x4E3A;&#x6BCF;&#x4E2A;&#x4E8B;&#x52A1;&#x4FDD;&#x8BC1;&#x6240;&#x6709;&#x7684;&#x56DB;&#x4E2A;&#x5C5E;&#x6027;&#x3002;&#x4F7F;&#x7528; SQL &#x53D1;&#x5E03;&#x5230;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x4E8B;&#x52A1;&#x7684;&#x7B80;&#x5355;&#x89C6;&#x56FE;&#x5982;&#x4E0B;&#xFF1A; &#x4F7F;&#x7528; begin transaction &#x547D;&#x4EE4;&#x5F00;&#x59CB;&#x4E8B;&#x52A1;&#x3002; &#x4F7F;&#x7528; SQL &#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x6267;&#x884C;&#x5404;&#x79CD;&#x5220;&#x9664;&#x3001;&#x66F4;&#x65B0;&#x6216;&#x63D2;&#x5165;&#x64CD;&#x4F5C;&#x3002; &#x5982;&#x679C;&#x6240;&#x6709;&#x7684;&#x64CD;&#x4F5C;&#x90FD;&#x6210;&#x529F;&#xFF0C;&#x5219;&#x6267;&#x884C;&#x63D0;&#x4EA4;&#x64CD;&#x4F5C;&#xFF0C;&#x5426;&#x5219;&#x56DE;&#x6EDA;&#x6240;&#x6709;&#x64CD;&#x4F5C;&#x3002; Spring &#x6846;&#x67B6;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x5E95;&#x5C42;&#x4E8B;&#x52A1;&#x7BA1;&#x7406; APIs &#x7684;&#x9876;&#x90E8;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x62BD;&#x8C61;&#x5C42;&#x3002;Spring &#x7684;&#x4E8B;&#x52A1;&#x652F;&#x6301;&#x65E8;&#x5728;&#x901A;&#x8FC7;&#x6DFB;&#x52A0;&#x4E8B;&#x52A1;&#x80FD;&#x529B;&#x5230; POJOs &#x6765;&#x63D0;&#x4F9B;&#x7ED9; EJB &#x4E8B;&#x52A1;&#x4E00;&#x4E2A;&#x9009;&#x62E9;&#x65B9;&#x6848;&#x3002;Spring &#x652F;&#x6301;&#x7F16;&#x7A0B;&#x5F0F;&#x548C;&#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x3002;EJBs &#x9700;&#x8981;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4F46; Spring &#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x9700;&#x8981;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x670D;&#x52A1;&#x5668;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x5B9E;&#x73B0;&#x3002; &#x5C40;&#x90E8;&#x4E8B;&#x7269; vs. &#x5168;&#x5C40;&#x4E8B;&#x52A1;&#x5C40;&#x90E8;&#x4E8B;&#x52A1;&#x662F;&#x7279;&#x5B9A;&#x4E8E;&#x4E00;&#x4E2A;&#x5355;&#x4E00;&#x7684;&#x4E8B;&#x52A1;&#x8D44;&#x6E90;&#xFF0C;&#x5982;&#x4E00;&#x4E2A; JDBC &#x8FDE;&#x63A5;&#xFF0C;&#x800C;&#x5168;&#x5C40;&#x4E8B;&#x52A1;&#x53EF;&#x4EE5;&#x8DE8;&#x591A;&#x4E2A;&#x4E8B;&#x52A1;&#x8D44;&#x6E90;&#x4E8B;&#x52A1;&#xFF0C;&#x5982;&#x5728;&#x4E00;&#x4E2A;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x4E8B;&#x52A1;&#x3002; &#x5C40;&#x90E8;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x5728;&#x4E00;&#x4E2A;&#x96C6;&#x4E2D;&#x7684;&#x8BA1;&#x7B97;&#x73AF;&#x5883;&#x4E2D;&#x662F;&#x6709;&#x7528;&#x7684;&#xFF0C;&#x8BE5;&#x8BA1;&#x7B97;&#x73AF;&#x5883;&#x4E2D;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7EC4;&#x4EF6;&#x548C;&#x8D44;&#x6E90;&#x4F4D;&#x4E8E;&#x4E00;&#x4E2A;&#x5355;&#x4F4D;&#x70B9;&#xFF0C;&#x800C;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x53EA;&#x6D89;&#x53CA;&#x5230;&#x4E00;&#x4E2A;&#x8FD0;&#x884C;&#x5728;&#x4E00;&#x4E2A;&#x5355;&#x4E00;&#x673A;&#x5668;&#x4E2D;&#x7684;&#x672C;&#x5730;&#x6570;&#x636E;&#x7BA1;&#x7406;&#x5668;&#x3002;&#x5C40;&#x90E8;&#x4E8B;&#x52A1;&#x66F4;&#x5BB9;&#x6613;&#x5B9E;&#x73B0;&#x3002; &#x5168;&#x5C40;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x9700;&#x8981;&#x5728;&#x5206;&#x5E03;&#x5F0F;&#x8BA1;&#x7B97;&#x73AF;&#x5883;&#x4E2D;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x8D44;&#x6E90;&#x90FD;&#x5206;&#x5E03;&#x5728;&#x591A;&#x4E2A;&#x7CFB;&#x7EDF;&#x4E2D;&#x3002;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x9700;&#x8981;&#x540C;&#x65F6;&#x5728;&#x5C40;&#x90E8;&#x548C;&#x5168;&#x5C40;&#x8303;&#x56F4;&#x5185;&#x8FDB;&#x884C;&#x3002;&#x5206;&#x5E03;&#x5F0F;&#x6216;&#x5168;&#x5C40;&#x4E8B;&#x52A1;&#x8DE8;&#x591A;&#x4E2A;&#x7CFB;&#x7EDF;&#x6267;&#x884C;&#xFF0C;&#x5B83;&#x7684;&#x6267;&#x884C;&#x9700;&#x8981;&#x5168;&#x5C40;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x548C;&#x6240;&#x6709;&#x76F8;&#x5173;&#x7CFB;&#x7EDF;&#x7684;&#x5C40;&#x90E8;&#x6570;&#x636E;&#x7BA1;&#x7406;&#x4EBA;&#x5458;&#x4E4B;&#x95F4;&#x7684;&#x534F;&#x8C03;&#x3002; &#x7F16;&#x7A0B;&#x5F0F; vs. &#x58F0;&#x660E;&#x5F0F;Spring &#x652F;&#x6301;&#x4E24;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;: &#x7F16;&#x7A0B;&#x5F0F;&#x4E8B;&#x52A1;&#x7BA1;&#x7406; &#xFF1A;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x4F60;&#x5728;&#x7F16;&#x7A0B;&#x7684;&#x5E2E;&#x52A9;&#x4E0B;&#x6709;&#x7BA1;&#x7406;&#x4E8B;&#x52A1;&#x3002;&#x8FD9;&#x7ED9;&#x4E86;&#x4F60;&#x6781;&#x5927;&#x7684;&#x7075;&#x6D3B;&#x6027;&#xFF0C;&#x4F46;&#x5374;&#x5F88;&#x96BE;&#x7EF4;&#x62A4;&#x3002; &#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;&#x7BA1;&#x7406; &#xFF1A;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x4F60;&#x4ECE;&#x4E1A;&#x52A1;&#x4EE3;&#x7801;&#x4E2D;&#x5206;&#x79BB;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x3002;&#x4F60;&#x4EC5;&#x4EC5;&#x4F7F;&#x7528;&#x6CE8;&#x91CA;&#x6216; XML &#x914D;&#x7F6E;&#x6765;&#x7BA1;&#x7406;&#x4E8B;&#x52A1;&#x3002; &#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x6BD4;&#x7F16;&#x7A0B;&#x5F0F;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x66F4;&#x53EF;&#x53D6;&#xFF0C;&#x5C3D;&#x7BA1;&#x5B83;&#x4E0D;&#x5982;&#x7F16;&#x7A0B;&#x5F0F;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x7075;&#x6D3B;&#xFF0C;&#x4F46;&#x5B83;&#x5141;&#x8BB8;&#x4F60;&#x901A;&#x8FC7;&#x4EE3;&#x7801;&#x63A7;&#x5236;&#x4E8B;&#x52A1;&#x3002;&#x4F46;&#x4F5C;&#x4E3A;&#x4E00;&#x79CD;&#x6A2A;&#x5207;&#x5173;&#x6CE8;&#x70B9;&#xFF0C;&#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; AOP &#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x6A21;&#x5757;&#x5316;&#x3002;Spring &#x652F;&#x6301;&#x4F7F;&#x7528; Spring AOP &#x6846;&#x67B6;&#x7684;&#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x3002; Spring &#x4E8B;&#x52A1;&#x62BD;&#x8C61;Spring &#x4E8B;&#x52A1;&#x62BD;&#x8C61;&#x7684;&#x5173;&#x952E;&#x662F;&#x7531; org.springframework.transaction.PlatformTransactionManager &#x63A5;&#x53E3;&#x5B9A;&#x4E49;&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A; 123456public interface PlatformTransactionManager { TransactionStatus getTransaction(TransactionDefinition definition); throws TransactionException; void commit(TransactionStatus status) throws TransactionException; void rollback(TransactionStatus status) throws TransactionException;} &#x5E8F;&#x53F7; &#x65B9;&#x6CD5; &#x63CF;&#x8FF0; 1 TransactionStatus getTransaction(TransactionDefinition definition) &#x6839;&#x636E;&#x6307;&#x5B9A;&#x7684;&#x4F20;&#x64AD;&#x884C;&#x4E3A;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x6D3B;&#x52A8;&#x4E8B;&#x52A1;&#x6216;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4E8B;&#x52A1;&#x3002; 2 void commit(TransactionStatus status) &#x8BE5;&#x65B9;&#x6CD5;&#x63D0;&#x4EA4;&#x7ED9;&#x5B9A;&#x7684;&#x4E8B;&#x52A1;&#x548C;&#x5173;&#x4E8E;&#x5B83;&#x7684;&#x72B6;&#x6001;&#x3002; 3 void rollback(TransactionStatus status) &#x8BE5;&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x4E00;&#x4E2A;&#x7ED9;&#x5B9A;&#x4E8B;&#x52A1;&#x7684;&#x56DE;&#x6EDA;&#x3002; TransactionDefinition &#x662F;&#x5728; Spring &#x4E2D;&#x4E8B;&#x52A1;&#x652F;&#x6301;&#x7684;&#x6838;&#x5FC3;&#x63A5;&#x53E3;&#xFF0C;&#x5B83;&#x7684;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#xFF1A; 1234567public interface TransactionDefinition { int getPropagationBehavior(); int getIsolationLevel(); String getName(); int getTimeout(); boolean isReadOnly();} &#x5E8F;&#x53F7; &#x65B9;&#x6CD5; &#x63CF;&#x8FF0; 1 int getPropagationBehavior() &#x8BE5;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x4F20;&#x64AD;&#x884C;&#x4E3A;&#x3002;Spring &#x63D0;&#x4F9B;&#x4E86;&#x4E0E; EJB CMT &#x7C7B;&#x4F3C;&#x7684;&#x6240;&#x6709;&#x7684;&#x4E8B;&#x52A1;&#x4F20;&#x64AD;&#x9009;&#x9879;&#x3002; 2 int getIsolationLevel() &#x8BE5;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x8BE5;&#x4E8B;&#x52A1;&#x72EC;&#x7ACB;&#x4E8E;&#x5176;&#x4ED6;&#x4E8B;&#x52A1;&#x7684;&#x5DE5;&#x4F5C;&#x7684;&#x7A0B;&#x5EA6;&#x3002; 3 String getName() &#x8BE5;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x8BE5;&#x4E8B;&#x52A1;&#x7684;&#x540D;&#x79F0;&#x3002; 4 int getTimeout() &#x8BE5;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x4EE5;&#x79D2;&#x4E3A;&#x5355;&#x4F4D;&#x7684;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#xFF0C;&#x4E8B;&#x52A1;&#x5FC5;&#x987B;&#x5728;&#x8BE5;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#x5185;&#x5B8C;&#x6210;&#x3002; 5 boolean isReadOnly() &#x8BE5;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x8BE5;&#x4E8B;&#x52A1;&#x662F;&#x5426;&#x662F;&#x53EA;&#x8BFB;&#x7684;&#x3002; &#x4E0B;&#x9762;&#x662F;&#x9694;&#x79BB;&#x7EA7;&#x522B;&#x7684;&#x53EF;&#x80FD;&#x503C;: &#x5E8F;&#x53F7; &#x9694;&#x79BB; &#x63CF;&#x8FF0; 1 TransactionDefinition.ISOLATION_DEFAULT &#x8FD9;&#x662F;&#x9ED8;&#x8BA4;&#x7684;&#x9694;&#x79BB;&#x7EA7;&#x522B;&#x3002; 2 TransactionDefinition.ISOLATION_READ_COMMITTED &#x8868;&#x660E;&#x80FD;&#x591F;&#x963B;&#x6B62;&#x8BEF;&#x8BFB;&#xFF1B;&#x53EF;&#x4EE5;&#x53D1;&#x751F;&#x4E0D;&#x53EF;&#x91CD;&#x590D;&#x8BFB;&#x548C;&#x865A;&#x8BFB;&#x3002; 3 TransactionDefinition.ISOLATION_READ_UNCOMMITTED &#x8868;&#x660E;&#x53EF;&#x4EE5;&#x53D1;&#x751F;&#x8BEF;&#x8BFB;&#x3001;&#x4E0D;&#x53EF;&#x91CD;&#x590D;&#x8BFB;&#x548C;&#x865A;&#x8BFB;&#x3002; 4 TransactionDefinition.ISOLATION_REPEATABLE_READ &#x8868;&#x660E;&#x80FD;&#x591F;&#x963B;&#x6B62;&#x8BEF;&#x8BFB;&#x548C;&#x4E0D;&#x53EF;&#x91CD;&#x590D;&#x8BFB;&#xFF1B;&#x53EF;&#x4EE5;&#x53D1;&#x751F;&#x865A;&#x8BFB;&#x3002; 5 TransactionDefinition.ISOLATION_SERIALIZABLE &#x8868;&#x660E;&#x80FD;&#x591F;&#x963B;&#x6B62;&#x8BEF;&#x8BFB;&#x3001;&#x4E0D;&#x53EF;&#x91CD;&#x590D;&#x8BFB;&#x548C;&#x865A;&#x8BFB;&#x3002; &#x4E0B;&#x9762;&#x662F;&#x4F20;&#x64AD;&#x7C7B;&#x578B;&#x7684;&#x53EF;&#x80FD;&#x503C;: &#x5E8F;&#x53F7; &#x4F20;&#x64AD; &#x63CF;&#x8FF0; 1 TransactionDefinition.PROPAGATION_MANDATORY &#x652F;&#x6301;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#xFF1B;&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#xFF0C;&#x5219;&#x629B;&#x51FA;&#x4E00;&#x4E2A;&#x5F02;&#x5E38;&#x3002; 2 TransactionDefinition.PROPAGATION_NESTED &#x5982;&#x679C;&#x5B58;&#x5728;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#xFF0C;&#x5219;&#x5728;&#x4E00;&#x4E2A;&#x5D4C;&#x5957;&#x7684;&#x4E8B;&#x52A1;&#x4E2D;&#x6267;&#x884C;&#x3002; 3 TransactionDefinition.PROPAGATION_NEVER &#x4E0D;&#x652F;&#x6301;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#xFF1B;&#x5982;&#x679C;&#x5B58;&#x5728;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#xFF0C;&#x5219;&#x629B;&#x51FA;&#x4E00;&#x4E2A;&#x5F02;&#x5E38;&#x3002; 4 TransactionDefinition.PROPAGATION_NOT_SUPPORTED &#x4E0D;&#x652F;&#x6301;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#xFF1B;&#x800C;&#x603B;&#x662F;&#x6267;&#x884C;&#x975E;&#x4E8B;&#x52A1;&#x6027;&#x3002; 5 TransactionDefinition.PROPAGATION_REQUIRED &#x652F;&#x6301;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#xFF1B;&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x4E8B;&#x52A1;&#xFF0C;&#x5219;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4E8B;&#x52A1;&#x3002; 6 TransactionDefinition.PROPAGATION_REQUIRES_NEW &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x4E8B;&#x52A1;&#xFF0C;&#x5982;&#x679C;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#xFF0C;&#x5219;&#x628A;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x6302;&#x8D77;&#x3002; 7 TransactionDefinition.PROPAGATION_SUPPORTS &#x652F;&#x6301;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#xFF1B;&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x5219;&#x6267;&#x884C;&#x975E;&#x4E8B;&#x52A1;&#x6027;&#x3002; 8 TransactionDefinition.TIMEOUT_DEFAULT &#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x8D85;&#x65F6;&#x7684;&#x5E95;&#x5C42;&#x4E8B;&#x52A1;&#x7CFB;&#x7EDF;&#xFF0C;&#x6216;&#x8005;&#x5982;&#x679C;&#x4E0D;&#x652F;&#x6301;&#x8D85;&#x65F6;&#x5219;&#x6CA1;&#x6709;&#x3002; TransactionStatus &#x63A5;&#x53E3;&#x4E3A;&#x4E8B;&#x52A1;&#x4EE3;&#x7801;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x63A7;&#x5236;&#x4E8B;&#x52A1;&#x7684;&#x6267;&#x884C;&#x548C;&#x67E5;&#x8BE2;&#x4E8B;&#x52A1;&#x72B6;&#x6001;&#x3002;1234567public interface TransactionStatus extends SavepointManager { boolean isNewTransaction(); boolean hasSavepoint(); void setRollbackOnly(); boolean isRollbackOnly(); boolean isCompleted();} &#x5E8F;&#x53F7; &#x65B9;&#x6CD5; &#x63CF;&#x8FF0; 1 boolean hasSavepoint() &#x8BE5;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x8BE5;&#x4E8B;&#x52A1;&#x5185;&#x90E8;&#x662F;&#x5426;&#x6709;&#x4E00;&#x4E2A;&#x4FDD;&#x5B58;&#x70B9;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x57FA;&#x4E8E;&#x4E00;&#x4E2A;&#x4FDD;&#x5B58;&#x70B9;&#x5DF2;&#x7ECF;&#x521B;&#x5EFA;&#x4E86;&#x5D4C;&#x5957;&#x4E8B;&#x52A1;&#x3002; 2 boolean isCompleted() &#x8BE5;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x8BE5;&#x4E8B;&#x52A1;&#x662F;&#x5426;&#x5B8C;&#x6210;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5B83;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x63D0;&#x4EA4;&#x6216;&#x56DE;&#x6EDA;&#x3002; 3 boolean isNewTransaction() &#x5728;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x65F6;&#x65B0;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE; true&#x3002; 4 boolean isRollbackOnly() &#x8BE5;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x8BE5;&#x4E8B;&#x52A1;&#x662F;&#x5426;&#x5DF2;&#x6807;&#x8BB0;&#x4E3A; rollback-only&#x3002; 5 void setRollbackOnly() &#x8BE5;&#x65B9;&#x6CD5;&#x8BBE;&#x7F6E;&#x8BE5;&#x4E8B;&#x52A1;&#x4E3A; rollback-only &#x6807;&#x8BB0;&#x3002; &#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;&#x7BA1;&#x7406; &#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x4E5F;&#x6709;&#x4E24;&#x79CD;&#x5E38;&#x7528;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x4E00;&#x79CD;&#x662F;&#x57FA;&#x4E8E; tx &#x548C; aop &#x540D;&#x5B57;&#x7A7A;&#x95F4;&#x7684; xml &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x53E6;&#x4E00;&#x79CD;&#x5C31;&#x662F;&#x57FA;&#x4E8E; @Transactional &#x6CE8;&#x89E3;&#x3002;&#x663E;&#x7136;&#x57FA;&#x4E8E;&#x6CE8;&#x89E3;&#x7684;&#x65B9;&#x5F0F;&#x66F4;&#x7B80;&#x5355;&#x6613;&#x7528;&#xFF0C;&#x66F4;&#x6E05;&#x723D;&#x3002; @Transactional &#x6CE8;&#x89E3;@Transactional&#x5C5E;&#x6027; &#x5C5E;&#x6027; &#x7C7B;&#x578B; &#x63CF;&#x8FF0; value String &#x53EF;&#x9009;&#x7684;&#x9650;&#x5B9A;&#x63CF;&#x8FF0;&#x7B26;&#xFF0C;&#x6307;&#x5B9A;&#x4F7F;&#x7528;&#x7684;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x5668; propagation enum: Propagation &#x53EF;&#x9009;&#x7684;&#x4E8B;&#x52A1;&#x4F20;&#x64AD;&#x884C;&#x4E3A;&#x8BBE;&#x7F6E; isolation enum: Isolation &#x53EF;&#x9009;&#x7684;&#x4E8B;&#x52A1;&#x9694;&#x79BB;&#x7EA7;&#x522B;&#x8BBE;&#x7F6E; readOnly boolean &#x8BFB;&#x5199;&#x6216;&#x53EA;&#x8BFB;&#x4E8B;&#x52A1;&#xFF0C;&#x9ED8;&#x8BA4;&#x8BFB;&#x5199; timeout int (in seconds granularity) &#x4E8B;&#x52A1;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#x8BBE;&#x7F6E; rollbackFor Class&#x5BF9;&#x8C61;&#x6570;&#x7EC4;&#xFF0C;&#x5FC5;&#x987B;&#x7EE7;&#x627F;&#x81EA;Throwable &#x5BFC;&#x81F4;&#x4E8B;&#x52A1;&#x56DE;&#x6EDA;&#x7684;&#x5F02;&#x5E38;&#x7C7B;&#x6570;&#x7EC4; rollbackForClassName &#x7C7B;&#x540D;&#x6570;&#x7EC4;&#xFF0C;&#x5FC5;&#x987B;&#x7EE7;&#x627F;&#x81EA;Throwable &#x5BFC;&#x81F4;&#x4E8B;&#x52A1;&#x56DE;&#x6EDA;&#x7684;&#x5F02;&#x5E38;&#x7C7B;&#x540D;&#x5B57;&#x6570;&#x7EC4; noRollbackFor Class&#x5BF9;&#x8C61;&#x6570;&#x7EC4;&#xFF0C;&#x5FC5;&#x987B;&#x7EE7;&#x627F;&#x81EA;Throwable &#x4E0D;&#x4F1A;&#x5BFC;&#x81F4;&#x4E8B;&#x52A1;&#x56DE;&#x6EDA;&#x7684;&#x5F02;&#x5E38;&#x7C7B;&#x6570;&#x7EC4; noRollbackForClassName &#x7C7B;&#x540D;&#x6570;&#x7EC4;&#xFF0C;&#x5FC5;&#x987B;&#x7EE7;&#x627F;&#x81EA;Throwable &#x4E0D;&#x4F1A;&#x5BFC;&#x81F4;&#x4E8B;&#x52A1;&#x56DE;&#x6EDA;&#x7684;&#x5F02;&#x5E38;&#x7C7B;&#x540D;&#x5B57;&#x6570;&#x7EC4; &#x7528;&#x6CD5;@Transactional &#x53EF;&#x4EE5;&#x4F5C;&#x7528;&#x4E8E;&#x63A5;&#x53E3;&#x3001;&#x63A5;&#x53E3;&#x65B9;&#x6CD5;&#x3001;&#x7C7B;&#x4EE5;&#x53CA;&#x7C7B;&#x65B9;&#x6CD5;&#x4E0A;&#x3002;&#x5F53;&#x4F5C;&#x7528;&#x4E8E;&#x7C7B;&#x4E0A;&#x65F6;&#xFF0C;&#x8BE5;&#x7C7B;&#x7684;&#x6240;&#x6709; public &#x65B9;&#x6CD5;&#x5C06;&#x90FD;&#x5177;&#x6709;&#x8BE5;&#x7C7B;&#x578B;&#x7684;&#x4E8B;&#x52A1;&#x5C5E;&#x6027;&#xFF0C;&#x540C;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x65B9;&#x6CD5;&#x7EA7;&#x522B;&#x4F7F;&#x7528;&#x8BE5;&#x6807;&#x6CE8;&#x6765;&#x8986;&#x76D6;&#x7C7B;&#x7EA7;&#x522B;&#x7684;&#x5B9A;&#x4E49;&#x3002; &#x867D;&#x7136; @Transactional &#x6CE8;&#x89E3;&#x53EF;&#x4EE5;&#x4F5C;&#x7528;&#x4E8E;&#x63A5;&#x53E3;&#x3001;&#x63A5;&#x53E3;&#x65B9;&#x6CD5;&#x3001;&#x7C7B;&#x4EE5;&#x53CA;&#x7C7B;&#x65B9;&#x6CD5;&#x4E0A;&#xFF0C;&#x4F46;&#x662F; Spring &#x5EFA;&#x8BAE;&#x4E0D;&#x8981;&#x5728;&#x63A5;&#x53E3;&#x6216;&#x8005;&#x63A5;&#x53E3;&#x65B9;&#x6CD5;&#x4E0A;&#x4F7F;&#x7528;&#x8BE5;&#x6CE8;&#x89E3;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x53EA;&#x6709;&#x5728;&#x4F7F;&#x7528;&#x57FA;&#x4E8E;&#x63A5;&#x53E3;&#x7684;&#x4EE3;&#x7406;&#x65F6;&#x5B83;&#x624D;&#x4F1A;&#x751F;&#x6548;&#x3002;&#x53E6;&#x5916;&#xFF0C; @Transactional &#x6CE8;&#x89E3;&#x5E94;&#x8BE5;&#x53EA;&#x88AB;&#x5E94;&#x7528;&#x5230; public &#x65B9;&#x6CD5;&#x4E0A;&#xFF0C;&#x8FD9;&#x662F;&#x7531; Spring AOP &#x7684;&#x672C;&#x8D28;&#x51B3;&#x5B9A;&#x7684;&#x3002;&#x5982;&#x679C;&#x4F60;&#x5728; protected&#x3001;private &#x6216;&#x8005;&#x9ED8;&#x8BA4;&#x53EF;&#x89C1;&#x6027;&#x7684;&#x65B9;&#x6CD5;&#x4E0A;&#x4F7F;&#x7528; @Transactional &#x6CE8;&#x89E3;&#xFF0C;&#x8FD9;&#x5C06;&#x88AB;&#x5FFD;&#x7565;&#xFF0C;&#x4E5F;&#x4E0D;&#x4F1A;&#x629B;&#x51FA;&#x4EFB;&#x4F55;&#x5F02;&#x5E38;&#x3002; &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x53EA;&#x6709;&#x6765;&#x81EA;&#x5916;&#x90E8;&#x7684;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x624D;&#x4F1A;&#x88AB;AOP&#x4EE3;&#x7406;&#x6355;&#x83B7;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#xFF0C;&#x7C7B;&#x5185;&#x90E8;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x672C;&#x7C7B;&#x5185;&#x90E8;&#x7684;&#x5176;&#x4ED6;&#x65B9;&#x6CD5;&#x5E76;&#x4E0D;&#x4F1A;&#x5F15;&#x8D77;&#x4E8B;&#x52A1;&#x884C;&#x4E3A;&#xFF0C;&#x5373;&#x4F7F;&#x88AB;&#x8C03;&#x7528;&#x65B9;&#x6CD5;&#x4F7F;&#x7528; @Transactional&#x6CE8;&#x89E3;&#x8FDB;&#x884C;&#x4FEE;&#x9970;&#x3002; &#x5728; spring.xml &#x914D;&#x7F6E; @Transactional &#x6CE8;&#x89E3;1234567!-- &#x914D;&#x7F6E;spring&#x7684;PlatformTransactionManager&#xFF0C;&#x540D;&#x5B57;&#x4E3A;&#x9ED8;&#x8BA4;&#x503C; --&gt; &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt; &lt;/bean&gt; &lt;!-- &#x5F00;&#x542F;&#x4E8B;&#x52A1;&#x63A7;&#x5236;&#x7684;&#x6CE8;&#x89E3;&#x652F;&#x6301; --&gt; &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;&lt;/span&gt;&lt;/span&gt; &#x57FA;&#x4E8E; tx &#x548C; aop &#x540D;&#x5B57;&#x7A7A;&#x95F4;&#x7684; xml &#x914D;&#x7F6E;123456789101112&lt;!-- &#x4E8B;&#x7269;&#x5207;&#x9762;&#x914D;&#x7F6E; --&gt; &lt;tx:advice id=&quot;advice&quot; transaction-manager=&quot;transactionManager&quot;&gt; &lt;tx:attributes&gt; &lt;tx:method name=&quot;update*&quot; propagation=&quot;REQUIRED&quot; read-only=&quot;false&quot; rollback-for=&quot;java.lang.Exception&quot;/&gt; &lt;tx:method name=&quot;insert&quot; propagation=&quot;REQUIRED&quot; read-only=&quot;false&quot;/&gt; &lt;/tx:attributes&gt; &lt;/tx:advice&gt; &lt;aop:config&gt; &lt;aop:pointcut id=&quot;testService&quot; expression=&quot;execution (* com.baobao.service.MyBatisService.*(..))&quot;/&gt; &lt;aop:advisor advice-ref=&quot;advice&quot; pointcut-ref=&quot;testService&quot;/&gt; &lt;/aop:config&gt;","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"},{"name":"Spring","slug":"Spring","permalink":"https://marklogzhu.github.io/tags/Spring/"}]},{"title":"Spring学习总结(五)--AOP","date":"2018-05-16T06:51:00.000Z","path":"Spring/后台/Java/Spring/Spring学习总结(五)--AOP/","text":"&#x4EC0;&#x4E48;&#x662F; AOPAOP&#xFF08;Aspect-OrientedProgramming&#xFF0C;&#x9762;&#x5411;&#x65B9;&#x9762;&#x7F16;&#x7A0B;&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x8BF4;&#x662F; OOP&#xFF08;Object-Oriented Programing&#xFF0C;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7F16;&#x7A0B;&#xFF09;&#x7684;&#x8865;&#x5145;&#x548C;&#x5B8C;&#x5584;&#x3002; OOP &#x5F15;&#x5165;&#x5C01;&#x88C5;&#x3001;&#x7EE7;&#x627F;&#x548C;&#x591A;&#x6001;&#x6027;&#x7B49;&#x6982;&#x5FF5;&#x6765;&#x5EFA;&#x7ACB;&#x4E00;&#x79CD;&#x5BF9;&#x8C61;&#x5C42;&#x6B21;&#x7ED3;&#x6784;&#xFF0C;&#x7528;&#x4EE5;&#x6A21;&#x62DF;&#x516C;&#x5171;&#x884C;&#x4E3A;&#x7684;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x3002;&#x5F53;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4E3A;&#x5206;&#x6563;&#x7684;&#x5BF9;&#x8C61;&#x5F15;&#x5165;&#x516C;&#x5171;&#x884C;&#x4E3A;&#x7684;&#x65F6;&#x5019;&#xFF0C;OOP &#x5219;&#x663E;&#x5F97;&#x65E0;&#x80FD;&#x4E3A;&#x529B;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;OOP &#x5141;&#x8BB8;&#x4F60;&#x5B9A;&#x4E49;&#x4ECE;&#x4E0A;&#x5230;&#x4E0B;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x4F46;&#x5E76;&#x4E0D;&#x9002;&#x5408;&#x5B9A;&#x4E49;&#x4ECE;&#x5DE6;&#x5230;&#x53F3;&#x7684;&#x5173;&#x7CFB;&#x3002;&#x4F8B;&#x5982;&#x65E5;&#x5FD7;&#x529F;&#x80FD;&#x3002;&#x65E5;&#x5FD7;&#x4EE3;&#x7801;&#x5F80;&#x5F80;&#x6C34;&#x5E73;&#x5730;&#x6563;&#x5E03;&#x5728;&#x6240;&#x6709;&#x5BF9;&#x8C61;&#x5C42;&#x6B21;&#x4E2D;&#xFF0C;&#x800C;&#x4E0E;&#x5B83;&#x6240;&#x6563;&#x5E03;&#x5230;&#x7684;&#x5BF9;&#x8C61;&#x7684;&#x6838;&#x5FC3;&#x529F;&#x80FD;&#x6BEB;&#x65E0;&#x5173;&#x7CFB;&#x3002;&#x5BF9;&#x4E8E;&#x5176;&#x4ED6;&#x7C7B;&#x578B;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x5982;&#x5B89;&#x5168;&#x6027;&#x3001;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x548C;&#x900F;&#x660E;&#x7684;&#x6301;&#x7EED;&#x6027;&#x4E5F;&#x662F;&#x5982;&#x6B64;&#x3002;&#x8FD9;&#x79CD;&#x6563;&#x5E03;&#x5728;&#x5404;&#x5904;&#x7684;&#x65E0;&#x5173;&#x7684;&#x4EE3;&#x7801;&#x88AB;&#x79F0;&#x4E3A;&#x6A2A;&#x5207;&#xFF08;cross-cutting&#xFF09;&#x4EE3;&#x7801;&#xFF0C;&#x5728; OOP &#x8BBE;&#x8BA1;&#x4E2D;&#xFF0C;&#x5B83;&#x5BFC;&#x81F4;&#x4E86;&#x5927;&#x91CF;&#x4EE3;&#x7801;&#x7684;&#x91CD;&#x590D;&#xFF0C;&#x800C;&#x4E0D;&#x5229;&#x4E8E;&#x5404;&#x4E2A;&#x6A21;&#x5757;&#x7684;&#x91CD;&#x7528;&#x3002; &#x800C; AOP &#x6280;&#x672F;&#x5219;&#x6070;&#x6070;&#x76F8;&#x53CD;&#xFF0C;&#x5B83;&#x5229;&#x7528;&#x4E00;&#x79CD;&#x79F0;&#x4E3A;&#x201C;&#x6A2A;&#x5207;&#x201D;&#x7684;&#x6280;&#x672F;&#xFF0C;&#x5256;&#x89E3;&#x5F00;&#x5C01;&#x88C5;&#x7684;&#x5BF9;&#x8C61;&#x5185;&#x90E8;&#xFF0C;&#x5E76;&#x5C06;&#x90A3;&#x4E9B;&#x5F71;&#x54CD;&#x4E86;&#x591A;&#x4E2A;&#x7C7B;&#x7684;&#x516C;&#x5171;&#x884C;&#x4E3A;&#x5C01;&#x88C5;&#x5230;&#x4E00;&#x4E2A;&#x53EF;&#x91CD;&#x7528;&#x6A21;&#x5757;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x540D;&#x4E3A; &#x201C;Aspect&#x201D;&#xFF0C;&#x5373;&#x65B9;&#x9762;&#x3002;&#x6240;&#x8C13;&#x201C;&#x65B9;&#x9762;&#x201D;&#xFF0C;&#x7B80;&#x5355;&#x5730;&#x8BF4;&#xFF0C;&#x5C31;&#x662F;&#x5C06;&#x90A3;&#x4E9B;&#x4E0E;&#x4E1A;&#x52A1;&#x65E0;&#x5173;&#xFF0C;&#x5374;&#x4E3A;&#x4E1A;&#x52A1;&#x6A21;&#x5757;&#x6240;&#x5171;&#x540C;&#x8C03;&#x7528;&#x7684;&#x903B;&#x8F91;&#x6216;&#x8D23;&#x4EFB;&#x5C01;&#x88C5;&#x8D77;&#x6765;&#xFF0C;&#x4FBF;&#x4E8E;&#x51CF;&#x5C11;&#x7CFB;&#x7EDF;&#x7684;&#x91CD;&#x590D;&#x4EE3;&#x7801;&#xFF0C;&#x964D;&#x4F4E;&#x6A21;&#x5757;&#x95F4;&#x7684;&#x8026;&#x5408;&#x5EA6;&#xFF0C;&#x5E76;&#x6709;&#x5229;&#x4E8E;&#x672A;&#x6765;&#x7684;&#x53EF;&#x64CD;&#x4F5C;&#x6027;&#x548C;&#x53EF;&#x7EF4;&#x62A4;&#x6027;&#x3002;AOP &#x4EE3;&#x8868;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x6A2A;&#x5411;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x5982;&#x679C;&#x8BF4;&#x201C;&#x5BF9;&#x8C61;&#x201D;&#x662F;&#x4E00;&#x4E2A;&#x7A7A;&#x5FC3;&#x7684;&#x5706;&#x67F1;&#x4F53;&#xFF0C;&#x5176;&#x4E2D;&#x5C01;&#x88C5;&#x7684;&#x662F;&#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027;&#x548C;&#x884C;&#x4E3A;&#xFF1B;&#x90A3;&#x4E48;&#x9762;&#x5411;&#x65B9;&#x9762;&#x7F16;&#x7A0B;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5C31;&#x4EFF;&#x4F5B;&#x4E00;&#x628A;&#x5229;&#x5203;&#xFF0C;&#x5C06;&#x8FD9;&#x4E9B;&#x7A7A;&#x5FC3;&#x5706;&#x67F1;&#x4F53;&#x5256;&#x5F00;&#xFF0C;&#x4EE5;&#x83B7;&#x5F97;&#x5176;&#x5185;&#x90E8;&#x7684;&#x6D88;&#x606F;&#x3002;&#x800C;&#x5256;&#x5F00;&#x7684;&#x5207;&#x9762;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6240;&#x8C13;&#x7684;&#x201C;&#x65B9;&#x9762;&#x201D;&#x4E86;&#x3002;&#x7136;&#x540E;&#x5B83;&#x53C8;&#x4EE5;&#x5DE7;&#x593A;&#x5929;&#x529F;&#x7684;&#x5999;&#x624B;&#x5C06;&#x8FD9;&#x4E9B;&#x5256;&#x5F00;&#x7684;&#x5207;&#x9762;&#x590D;&#x539F;&#xFF0C;&#x4E0D;&#x7559;&#x75D5;&#x8FF9;&#x3002; &#x4F7F;&#x7528;&#x201C;&#x6A2A;&#x5207;&#x201D;&#x6280;&#x672F;&#xFF0C; AOP &#x628A;&#x8F6F;&#x4EF6;&#x7CFB;&#x7EDF;&#x5206;&#x4E3A;&#x4E24;&#x4E2A;&#x90E8;&#x5206;&#xFF1A;&#x6838;&#x5FC3;&#x5173;&#x6CE8;&#x70B9;&#x548C;&#x6A2A;&#x5207;&#x5173;&#x6CE8;&#x70B9;&#x3002;&#x4E1A;&#x52A1;&#x5904;&#x7406;&#x7684;&#x4E3B;&#x8981;&#x6D41;&#x7A0B;&#x662F;&#x6838;&#x5FC3;&#x5173;&#x6CE8;&#x70B9;&#xFF0C;&#x4E0E;&#x4E4B;&#x5173;&#x7CFB;&#x4E0D;&#x5927;&#x7684;&#x90E8;&#x5206;&#x662F;&#x6A2A;&#x5207;&#x5173;&#x6CE8;&#x70B9;&#x3002;&#x6A2A;&#x5207;&#x5173;&#x6CE8;&#x70B9;&#x7684;&#x4E00;&#x4E2A;&#x7279;&#x70B9;&#x662F;&#xFF0C;&#x4ED6;&#x4EEC;&#x7ECF;&#x5E38;&#x53D1;&#x751F;&#x5728;&#x6838;&#x5FC3;&#x5173;&#x6CE8;&#x70B9;&#x7684;&#x591A;&#x5904;&#xFF0C;&#x800C;&#x5404;&#x5904;&#x90FD;&#x57FA;&#x672C;&#x76F8;&#x4F3C;&#x3002;&#x6BD4;&#x5982;&#x6743;&#x9650;&#x8BA4;&#x8BC1;&#x3001;&#x65E5;&#x5FD7;&#x3001;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#x3002;Aop &#x7684;&#x4F5C;&#x7528;&#x5728;&#x4E8E;&#x5206;&#x79BB;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x5404;&#x79CD;&#x5173;&#x6CE8;&#x70B9;&#xFF0C;&#x5C06;&#x6838;&#x5FC3;&#x5173;&#x6CE8;&#x70B9;&#x548C;&#x6A2A;&#x5207;&#x5173;&#x6CE8;&#x70B9;&#x5206;&#x79BB;&#x5F00;&#x6765;&#x3002;&#x6B63;&#x5982; Avanade &#x516C;&#x53F8;&#x7684;&#x9AD8;&#x7EA7;&#x65B9;&#x6848;&#x6784;&#x67B6;&#x5E08; Adam Magee &#x6240;&#x8BF4;&#xFF0C;AOP &#x7684;&#x6838;&#x5FC3;&#x601D;&#x60F3;&#x5C31;&#x662F;&#x201C;&#x5C06;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x7684;&#x5546;&#x4E1A;&#x903B;&#x8F91;&#x540C;&#x5BF9;&#x5176;&#x63D0;&#x4F9B;&#x652F;&#x6301;&#x7684;&#x901A;&#x7528;&#x670D;&#x52A1;&#x8FDB;&#x884C;&#x5206;&#x79BB;&#x3002;&#x201D; &#x5B9E;&#x73B0;AOP&#x7684;&#x6280;&#x672F;&#x4E3B;&#x8981;&#x5206;&#x4E3A;&#x4E24;&#x5927;&#x7C7B;&#xFF1A;&#x4E00;&#x662F;&#x91C7;&#x7528;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x6280;&#x672F;&#xFF0C;&#x5229;&#x7528;&#x622A;&#x53D6;&#x6D88;&#x606F;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x5BF9;&#x8BE5;&#x6D88;&#x606F;&#x8FDB;&#x884C;&#x88C5;&#x9970;&#xFF0C;&#x4EE5;&#x53D6;&#x4EE3;&#x539F;&#x6709;&#x5BF9;&#x8C61;&#x884C;&#x4E3A;&#x7684;&#x6267;&#x884C;&#xFF1B;&#x4E8C;&#x662F;&#x91C7;&#x7528;&#x9759;&#x6001;&#x7EC7;&#x5165;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x5F15;&#x5165;&#x7279;&#x5B9A;&#x7684;&#x8BED;&#x6CD5;&#x521B;&#x5EFA;&#x201C;&#x65B9;&#x9762;&#x201D;&#xFF0C;&#x4ECE;&#x800C;&#x4F7F;&#x5F97;&#x7F16;&#x8BD1;&#x5668;&#x53EF;&#x4EE5;&#x5728;&#x7F16;&#x8BD1;&#x671F;&#x95F4;&#x7EC7;&#x5165;&#x6709;&#x5173;&#x201C;&#x65B9;&#x9762;&#x201D;&#x7684;&#x4EE3;&#x7801;&#x3002; AOP&#x76F8;&#x5173;&#x6982;&#x5FF5;&#x901A;&#x77E5;&#xFF08;Advice&#xFF09;&#x901A;&#x77E5;&#x5B9A;&#x4E49;&#x4E86;&#x5207;&#x9762;&#x662F;&#x4EC0;&#x4E48;&#x4EE5;&#x53CA;&#x4F55;&#x65F6;&#x4F7F;&#x7528;&#x3002;&#x9664;&#x4E86;&#x63CF;&#x8FF0;&#x5207;&#x9762;&#x8981;&#x5B8C;&#x6210;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x901A;&#x77E5;&#x8FD8;&#x89E3;&#x51B3;&#x4E86;&#x4F55;&#x65F6;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x5DE5;&#x4F5C;&#x7684;&#x95EE;&#x9898;&#x3002;&#x5B83;&#x5E94;&#x8BE5;&#x5E94;&#x7528;&#x5728;&#x67D0;&#x4E2A;&#x65B9;&#x6CD5;&#x88AB;&#x8C03;&#x7528;&#x4E4B;&#x524D;&#xFF1F;&#x4E4B;&#x540E;&#xFF1F;&#x4E4B;&#x524D;&#x548C;&#x4E4B;&#x540E;&#x90FD;&#x8C03;&#x7528;&#xFF1F;&#x8FD8;&#x662F;&#x53EA;&#x5728;&#x65B9;&#x6CD5;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x65F6;&#x8C03;&#x7528;&#xFF1F; Spring &#x5207;&#x9762;&#x53EF;&#x4EE5;&#x5E94;&#x7528;5&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x901A;&#x77E5;&#xFF1A; &#x524D;&#x7F6E;&#x901A;&#x77E5;&#xFF08;Before&#xFF09;&#xFF1A;&#x5728;&#x76EE;&#x6807;&#x65B9;&#x6CD5;&#x88AB;&#x8C03;&#x7528;&#x4E4B;&#x524D;&#x8C03;&#x7528;&#x901A;&#x77E5;&#x529F;&#x80FD;&#xFF1B; &#x540E;&#x7F6E;&#x901A;&#x77E5;&#xFF08;After&#xFF09;&#xFF1A;&#x5728;&#x76EE;&#x6807;&#x65B9;&#x6CD5;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#x8C03;&#x7528;&#x901A;&#x77E5;&#xFF0C;&#x6B64;&#x65F6;&#x4E0D;&#x4F1A;&#x5173;&#x5FC3;&#x65B9;&#x6CD5;&#x7684;&#x8F93;&#x51FA;&#x662F;&#x4EC0;&#x4E48;&#xFF1B; &#x8FD4;&#x56DE;&#x901A;&#x77E5;&#xFF08;After-returning&#xFF09;&#xFF1A;&#x5728;&#x76EE;&#x6807;&#x65B9;&#x6CD5;&#x6210;&#x529F;&#x6267;&#x884C;&#x4E4B;&#x540E;&#x8C03;&#x7528;&#x901A;&#x77E5;&#xFF1B; &#x5F02;&#x5E38;&#x901A;&#x77E5;&#xFF08;After-throwing&#xFF09;&#xFF1A;&#x5728;&#x76EE;&#x6807;&#x65B9;&#x6CD5;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x540E;&#x8C03;&#x7528;&#x901A;&#x77E5;&#xFF1B; &#x73AF;&#x7ED5;&#x901A;&#x77E5;&#xFF08;Around&#xFF09;&#xFF1A;&#x901A;&#x77E5;&#x5305;&#x88F9;&#x4E86;&#x88AB;&#x901A;&#x77E5;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5728;&#x88AB;&#x901A;&#x77E5;&#x7684;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x524D;&#x548C;&#x8C03;&#x7528;&#x4E4B;&#x540E;&#x6267;&#x884C;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x884C;&#x4E3A;&#x3002; &#x5BF9;&#x5E94;&#x6CE8;&#x89E3;&#xFF1A; &#x6CE8;&#x89E3; &#x901A;&#x77E5; @After &#x901A;&#x77E5;&#x65B9;&#x6CD5;&#x4F1A;&#x5728;&#x76EE;&#x6807;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x6216;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x540E;&#x8C03;&#x7528; @AfterReturning &#x901A;&#x77E5;&#x65B9;&#x6CD5;&#x4F1A;&#x5728;&#x76EE;&#x6807;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x540E;&#x8C03;&#x7528; @AfterThrowing &#x901A;&#x77E5;&#x65B9;&#x6CD5;&#x4F1A;&#x5728;&#x76EE;&#x6807;&#x65B9;&#x6CD5;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x540E;&#x8C03;&#x7528; @Around &#x901A;&#x77E5;&#x65B9;&#x6CD5;&#x4F1A;&#x5C06;&#x76EE;&#x6807;&#x65B9;&#x6CD5;&#x5C01;&#x88C5;&#x8D77;&#x6765; @Before &#x901A;&#x77E5;&#x65B9;&#x6CD5;&#x4F1A;&#x5728;&#x76EE;&#x6807;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E4B;&#x524D;&#x6267;&#x884C; &#x8FDE;&#x63A5;&#x70B9;&#xFF08;Join point&#xFF09;&#x8FDE;&#x63A5;&#x70B9;&#x662F;&#x5728;&#x5E94;&#x7528;&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x80FD;&#x591F;&#x63D2;&#x5165;&#x5207;&#x9762;&#x7684;&#x4E00;&#x4E2A;&#x70B9;&#x3002;&#x8FD9;&#x4E2A;&#x70B9;&#x53EF;&#x4EE5;&#x662F;&#x8C03;&#x7528;&#x65B9;&#x6CD5;&#x65F6;&#x3001;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x65F6;&#x3001;&#x751A;&#x81F3;&#x4FEE;&#x6539;&#x4E00;&#x4E2A;&#x5B57;&#x6BB5;&#x65F6;&#x3002;&#x5207;&#x9762;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x8FD9;&#x4E9B;&#x70B9;&#x63D2;&#x5165;&#x5230;&#x5E94;&#x7528;&#x7684;&#x6B63;&#x5E38;&#x6D41;&#x7A0B;&#x4E4B;&#x4E2D;&#xFF0C;&#x5E76;&#x6DFB;&#x52A0;&#x65B0;&#x7684;&#x884C;&#x4E3A;&#x3002; &#x5207;&#x70B9;&#xFF08;Pointcut&#xFF09;&#x5982;&#x679C;&#x8BF4;&#x901A;&#x77E5;&#x5B9A;&#x4E49;&#x4E86;&#x5207;&#x9762;&#x7684;&#x201C;&#x4EC0;&#x4E48;&#x201D;&#x548C;&#x201C;&#x4F55;&#x65F6;&#x201D;&#x7684;&#x8BDD;&#xFF0C;&#x90A3;&#x4E48;&#x5207;&#x70B9;&#x5C31;&#x5B9A;&#x4E49;&#x4E86;&#x201C;&#x4F55;&#x5904;&#x201D; &#x3002;&#x5207;&#x70B9;&#x7684;&#x5B9A;&#x4E49;&#x4F1A;&#x5339;&#x914D;&#x901A;&#x77E5;&#x6240;&#x8981;&#x7EC7;&#x5165;&#x7684;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x8FDE;&#x63A5;&#x70B9;&#x3002;&#x6211;&#x4EEC;&#x901A;&#x5E38;&#x4F7F;&#x7528;&#x660E;&#x786E;&#x7684;&#x7C7B;&#x548C;&#x65B9;&#x6CD5;&#x540D;&#x79F0;&#xFF0C;&#x6216;&#x662F;&#x5229;&#x7528;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x5B9A;&#x4E49;&#x6240;&#x5339;&#x914D;&#x7684;&#x7C7B;&#x548C;&#x65B9;&#x6CD5;&#x540D;&#x79F0;&#x6765;&#x6307;&#x5B9A;&#x8FD9;&#x4E9B;&#x5207;&#x70B9;&#x3002;&#x6709;&#x4E9B;AOP&#x6846;&#x67B6;&#x5141;&#x8BB8;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x52A8;&#x6001;&#x7684;&#x5207;&#x70B9;&#xFF0C;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x8FD0;&#x884C;&#x65F6;&#x7684;&#x51B3;&#x7B56;&#xFF08;&#x6BD4;&#x5982;&#x65B9;&#x6CD5;&#x7684;&#x53C2;&#x6570;&#x503C;&#xFF09;&#x6765;&#x51B3;&#x5B9A;&#x662F;&#x5426;&#x5E94;&#x7528;&#x901A;&#x77E5;&#x3002; &#x5207;&#x9762;&#xFF08;Aspect&#xFF09;&#x901A;&#x77E5;+&#x5207;&#x70B9;=&#x5207;&#x9762; &#x5F15;&#x5165;&#xFF08;Introduction&#xFF09;&#x5F15;&#x5165;&#x5141;&#x8BB8;&#x6211;&#x4EEC;&#x5411;&#x73B0;&#x6709;&#x7684;&#x7C7B;&#x6DFB;&#x52A0;&#x65B0;&#x65B9;&#x6CD5;&#x6216;&#x5C5E;&#x6027; &#x7EC7;&#x5165;&#xFF08;Weaving&#xFF09;&#x7EC7;&#x5165;&#x662F;&#x628A;&#x5207;&#x9762;&#x5E94;&#x7528;&#x5230;&#x76EE;&#x6807;&#x5BF9;&#x8C61;&#x5E76;&#x521B;&#x5EFA;&#x65B0;&#x7684;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x7684;&#x8FC7;&#x7A0B;&#x3002;&#x5207;&#x9762;&#x5728;&#x6307;&#x5B9A;&#x7684;&#x8FDE;&#x63A5;&#x70B9;&#x88AB;&#x7EC7;&#x5165;&#x5230;&#x76EE;&#x6807;&#x5BF9;&#x8C61;&#x4E2D;&#x3002;&#x5728;&#x76EE;&#x6807;&#x5BF9;&#x8C61;&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#x91CC;&#x6709;&#x591A;&#x4E2A;&#x70B9;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x7EC7;&#x5165;&#xFF1A; * &#x7F16;&#x8BD1;&#x671F;&#xFF1A;&#x5207;&#x9762;&#x5728;&#x76EE;&#x6807;&#x7C7B;&#x7F16;&#x8BD1;&#x65F6;&#x88AB;&#x7EC7;&#x5165;&#x3002;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x9700;&#x8981;&#x7279;&#x6B8A;&#x7684;&#x7F16;&#x8BD1;&#x5668;&#x3002;AspectJ&#x7684;&#x7EC7;&#x5165;&#x7F16;&#x8BD1;&#x5668;&#x5C31;&#x662F;&#x4EE5;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x7EC7;&#x5165;&#x5207;&#x9762;&#x7684;&#x3002; * &#x7C7B;&#x52A0;&#x8F7D;&#x671F;&#xFF1A;&#x5207;&#x9762;&#x5728;&#x76EE;&#x6807;&#x7C7B;&#x52A0;&#x8F7D;&#x5230;JVM&#x65F6;&#x88AB;&#x7EC7;&#x5165;&#x3002;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x9700;&#x8981;&#x7279;&#x6B8A;&#x7684;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#xFF08;ClassLoader&#xFF09;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x5728;&#x76EE;&#x6807;&#x7C7B;&#x88AB;&#x5F15;&#x5165;&#x5E94;&#x7528;&#x4E4B;&#x524D;&#x589E;&#x5F3A;&#x8BE5;&#x76EE;&#x6807;&#x7C7B;&#x7684;&#x5B57;&#x8282;&#x7801;&#x3002;AspectJ 5&#x7684;&#x52A0;&#x8F7D;&#x65F6;&#x7EC7;&#x5165;&#xFF08;load-time weaving&#xFF0C;LTW&#xFF09;&#x5C31;&#x652F;&#x6301;&#x4EE5;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x7EC7;&#x5165;&#x5207;&#x9762;&#x3002; * &#x8FD0;&#x884C;&#x671F;&#xFF1A;&#x5207;&#x9762;&#x5728;&#x5E94;&#x7528;&#x8FD0;&#x884C;&#x7684;&#x67D0;&#x4E2A;&#x65F6;&#x523B;&#x88AB;&#x7EC7;&#x5165;&#x3002;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5728;&#x7EC7;&#x5165;&#x5207;&#x9762;&#x65F6;&#xFF0C;AOP&#x5BB9;&#x5668;&#x4F1A;&#x4E3A;&#x76EE;&#x6807;&#x5BF9;&#x8C61;&#x52A8;&#x6001;&#x5730;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x3002;Spring AOP&#x5C31;&#x662F;&#x4EE5;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x7EC7;&#x5165;&#x5207;&#x9762;&#x7684;&#x3002; Spring &#x5BF9; AOP &#x7684;&#x652F;&#x6301;&#xFF1A; &#x57FA;&#x4E8E;&#x4EE3;&#x7406;&#x7684;&#x7ECF;&#x5178;Spring AOP&#xFF1B; &#x7EAF;POJO&#x5207;&#x9762;&#xFF08;4.x&#x7248;&#x672C;&#x9700;&#x8981;XML&#x914D;&#x7F6E;&#xFF09;&#xFF1B; @AspectJ&#x6CE8;&#x89E3;&#x9A71;&#x52A8;&#x7684;&#x5207;&#x9762;&#xFF1B; &#x6CE8;&#x5165;&#x5F0F;AspectJ&#x5207;&#x9762;&#xFF08;&#x9002;&#x7528;&#x4E8E;Spring&#x5404;&#x7248;&#x672C;&#xFF09; &#x524D;&#x4E09;&#x79CD;&#x90FD;&#x662F;Spring AOP&#x5B9E;&#x73B0;&#x7684;&#x53D8;&#x4F53;&#xFF0C;Spring AOP&#x6784;&#x5EFA;&#x5728;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x57FA;&#x7840;&#x4E4B;&#x4E0A;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;Spring&#x5BF9;AOP&#x7684;&#x652F;&#x6301;&#x5C40;&#x9650;&#x4E8E;&#x65B9;&#x6CD5;&#x62E6;&#x622A;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;AspectJ&#x624D;&#x662F;&#x738B;&#x9053;&#x3002; &#x53E6;&#x5916;&#x5728;&#x4EE3;&#x7406;&#x7C7B;&#x4E2D;&#x5305;&#x88F9;&#x5207;&#x9762;&#xFF0C;Spring&#x5728;&#x8FD0;&#x884C;&#x671F;&#x628A;&#x5207;&#x9762;&#x7EC7;&#x5165;&#x5230;Spring&#x7BA1;&#x7406;&#x7684;bean&#x4E2D;&#x3002;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x4EE3;&#x7406;&#x7C7B;&#x5C01;&#x88C5;&#x4E86;&#x76EE;&#x6807;&#x7C7B;&#xFF0C;&#x5E76;&#x62E6;&#x622A;&#x88AB;&#x901A;&#x77E5;&#x65B9;&#x6CD5;&#x7684;&#x8C03;&#x7528;&#xFF0C;&#x518D;&#x628A;&#x8C03;&#x7528;&#x8F6C;&#x53D1;&#x7ED9;&#x771F;&#x6B63;&#x7684;&#x76EE;&#x6807;bean&#x3002;&#x5F53;&#x4EE3;&#x7406;&#x62E6;&#x622A;&#x5230;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x65F6;&#xFF0C;&#x5728;&#x8C03;&#x7528;&#x76EE;&#x6807;bean&#x65B9;&#x6CD5;&#x4E4B;&#x524D;&#xFF0C;&#x4F1A;&#x6267;&#x884C;&#x5207;&#x9762;&#x903B;&#x8F91;&#x3002;&#x76F4;&#x5230;&#x5E94;&#x7528;&#x9700;&#x8981;&#x88AB;&#x4EE3;&#x7406;&#x7684;bean&#x65F6;&#xFF0C;Spring&#x624D;&#x521B;&#x5EFA;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x3002; &#x5982;&#x679C;&#x4F7F;&#x7528;&#x7684;&#x662F;ApplicationContext&#x7684;&#x8BDD;&#xFF0C;&#x5728;ApplicationContext&#x4ECE;BeanFactory&#x4E2D;&#x52A0;&#x8F7D;&#x6240;&#x6709;bean&#x7684;&#x65F6;&#x5019;&#xFF0C;Spring&#x624D;&#x4F1A;&#x521B;&#x5EFA;&#x88AB;&#x4EE3;&#x7406;&#x7684;&#x5BF9;&#x8C61;&#x3002;&#x56E0;&#x4E3A;Spring&#x8FD0;&#x884C;&#x65F6;&#x624D;&#x521B;&#x5EFA;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x4E0D;&#x9700;&#x8981;&#x7279;&#x6B8A;&#x7684;&#x7F16;&#x8BD1;&#x5668;&#x6765;&#x7EC7;&#x5165;Spring AOP&#x7684;&#x5207;&#x9762;&#x3002; &#x5B9E;&#x4F8B;1234567891011121314151617181920public interface Performance(){ public void perform();}``` &#x73B0;&#x5728;&#x6765;&#x5199;&#x4E00;&#x4E2A;&#x5207;&#x70B9;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x8FD9;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x80FD;&#x591F;&#x8BBE;&#x7F6E;&#x5F53; perform() &#x65B9;&#x6CD5;&#x6267;&#x884C;&#x65F6;&#x89E6;&#x53D1;&#x901A;&#x77E5;&#x7684;&#x8C03;&#x7528;&#x3002;``` javaexecution(* concert.Performance.perform(..))//execution&#xFF1A;&#x5728;&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x65F6;&#x89E6;&#x53D1;//*&#xFF1A;&#x8FD4;&#x56DE;&#x4EFB;&#x610F;&#x7C7B;&#x578B;//concert.Performance&#xFF1A;&#x65B9;&#x6CD5;&#x6240;&#x5C5E;&#x7C7B;//perform&#xFF1A;&#x65B9;&#x6CD5;&#x540D;//(..)&#xFF1A;&#x4F7F;&#x7528;&#x4EFB;&#x610F;&#x53C2;&#x6570;``` &#x4E0D;&#x4EC5;&#x5982;&#x6B64;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x5199;&#x7684;&#x66F4;&#x590D;&#x6742;&#x4E00;&#x70B9;``` javaexecution(* concert.Performance.perform(..)&amp;&amp;within(concert.*))//&#x589E;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x4E0E;&#x64CD;&#x4F5C;&#xFF0C;&#x5F53;concert&#x5305;&#x4E0B;&#x7684;&#x4EFB;&#x610F;&#x7C7B;&#x65B9;&#x6CD5;&#x88AB;&#x8C03;&#x7528;&#x65F6;&#x4E5F;&#x4F1A;&#x89E6;&#x53D1; &#x5728;&#x5207;&#x70B9;&#x4E2D;&#x9009;&#x62E9;bean 12execution(*concert.Performance.perform()) and bean(&apos;woodstock&apos;)//&#x9650;&#x5B9A;bean id&#x4E3A;woodstock &#x6765;&#x4E2A;&#x5B8C;&#x6574;&#x7684;&#x5207;&#x9762; 12345678910111213141516171819@Aspectpublic class Audience{ @Before(&quot;execution(**concert.Performance.perform(..))&quot;) public void silenceCellPhones(){ System.out.println(&quot;Silencing cell phones&quot;); } @Before(&quot;execution{** concert.Performance.perform{..}}&quot;) public void taskSeats(){ System.out.println(&quot;Talking seats&quot;); } @AfterReturning(&quot;execution{** concert.Performance.perform{..}}&quot;) public void applause(){ System.out.println(&quot;CLAP CLAP CLAP!!!&quot;); } @AfterThrowing(&quot;execution{** concert.Performance.perform{..}}&quot;) public void demanRefund(){ System.out.println(&quot;Demanding a refund&quot;); }} &#x53EF;&#x4EE5;&#x7B80;&#x5316;&#x4E00;&#x4E0B; 1234567891011121314151617181920212223@Aspectpublic class Audience{ //&#x907F;&#x514D;&#x9891;&#x7E41;&#x4F7F;&#x7528;&#x5207;&#x70B9;&#x8868;&#x8FBE;&#x5F0F; @Pointcut(&quot;execution(** concert.Performance.perform(..))&quot;) public void performance(){} @Before(&quot;performance()&quot;) public void silenceCellPhones(){ System.out.println(&quot;Silencing cell phones&quot;); } @Before(&quot;performance()&quot;) public void taskSeats(){ System.out.println(&quot;Talking seats&quot;); } @AfterReturning(&quot;performance()&quot;) public void applause(){ System.out.println(&quot;CLAP CLAP CLAP!!!&quot;); } @AfterThrowing(&quot;performance()&quot;) public void demanRefund(){ System.out.println(&quot;Demanding a refund&quot;); }} XML&#x4E2D;&#x58F0;&#x660E;&#x5207;&#x9762; AOP&#x914D;&#x7F6E;&#x5143;&#x7D20; &#x7528;&#x9014; &lt;aop:advisor&gt; &#x5B9A;&#x4E49;AOP&#x901A;&#x77E5;&#x5668; &lt;aop:after&gt; &#x5B9A;&#x4E49;AOP&#x540E;&#x7F6E;&#x901A;&#x77E5;&#xFF08;&#x4E0D;&#x7BA1;&#x88AB;&#x901A;&#x77E5;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#x5426;&#x6267;&#x884C;&#x6210;&#x529F;&#xFF09; &lt;aop:after-returning&gt; &#x5B9A;&#x4E49;AOP&#x8FD4;&#x56DE;&#x901A;&#x77E5; &lt;aop:after-throwing&gt; &#x5B9A;&#x4E49;AOP&#x5F02;&#x5E38;&#x901A;&#x77E5; &lt;aop:around&gt; &#x5B9A;&#x4E49;AOP&#x73AF;&#x7ED5;&#x901A;&#x77E5; &lt;aop:aspect&gt; &#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x5207;&#x9762; &lt;aop:aspectj-autoproxy&gt; &#x542F;&#x7528;@AspectJ&#x6CE8;&#x89E3;&#x9A71;&#x52A8;&#x7684;&#x5207;&#x9762; &lt;aop:before&gt; &#x5B9A;&#x4E49;&#x4E00;&#x4E2A;AOP&#x524D;&#x7F6E;&#x901A;&#x77E5; &lt;aop:config&gt; &#x9876;&#x5C42;&#x7684;AOP&#x914D;&#x7F6E;&#x5143;&#x7D20;&#x3002;&#x5927;&#x591A;&#x6570;&#x7684;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x5305;&#x542B;&#x5728;&#x5143;&#x7D20;&#x5185; &lt;aop:declare-parents&gt; &#x4EE5;&#x900F;&#x660E;&#x7684;&#x65B9;&#x5F0F;&#x4E3A;&#x88AB;&#x901A;&#x77E5;&#x7684;&#x5BF9;&#x8C61;&#x5F15;&#x5165;&#x989D;&#x5916;&#x7684;&#x63A5;&#x53E3; &lt;aop:pointcut&gt; &#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x5207;&#x70B9; &#x6765;&#x4E2A;&#x4F8B;&#x5B50; 1234567891011121314public class Audience{ public void silenceCellPhones(){ System.out.println(&quot;Silencing cell phones&quot;); } public void taskSeats(){ System.out.println(&quot;Talking seats&quot;); } public void applause(){ System.out.println(&quot;CLAP CLAP CLAP!!!&quot;); } public void demandRefund(){ System.out.println(&quot;Demanding a refund&quot;); }} &#x901A;&#x8FC7;XML&#x5C06;&#x65E0;&#x6CE8;&#x89E3;&#x7684;Audience&#x58F0;&#x660E;&#x4E3A;&#x5207;&#x9762; 12345678910111213141516&lt;aop:config&gt; &lt;aop:aspect ref=&quot;audience&quot;&gt; &lt;aop:before pointcut =&quot;execution(** concert.Performance.perform(..))&quot; method=&quot;sillenceCellPhones&quot;/&gt; &lt;aop:before pointcut =&quot;execution(** concert.Performance.perform(..))&quot; method=&quot;taskSeats&quot;/&gt; &lt;aop:after-returning pointcut =&quot;execution(** concert.Performance.perform(..))&quot; method=&quot;applause&quot;/&gt; &lt;aop:After-throwing pointcut =&quot;execution(** concert.Performance.perform(..))&quot; method=&quot;demanRefund&quot;/&gt; &lt;/aop:aspect&gt;&lt;/aop:config&gt; AspectJ &#x5173;&#x4E8E;Spring AOP &#x7684;AspectJ &#x5207;&#x70B9;&#xFF0C;&#x6700;&#x91CD;&#x8981;&#x7684;&#x4E00;&#x70B9;&#x5C31;&#x662F; Spring &#x4EC5;&#x652F;&#x6301;AspectJ &#x5207;&#x70B9;&#x6307;&#x793A;&#x5668;&#xFF08;pointcut designator&#xFF09;&#x7684;&#x4E00;&#x4E2A;&#x5B50;&#x96C6;&#x3002;&#x8BA9;&#x6211;&#x4EEC;&#x56DE;&#x987E;&#x4E0B;&#xFF0C;Spring&#x662F;&#x57FA;&#x4E8E;&#x4EE3;&#x7406;&#x7684;&#xFF0C;&#x800C;&#x67D0;&#x4E9B;&#x5207;&#x70B9;&#x8868;&#x8FBE;&#x5F0F;&#x662F;&#x4E0E;&#x57FA;&#x4E8E;&#x4EE3;&#x7406;&#x7684;AOP&#x65E0;&#x5173;&#x7684;&#x3002;&#x4E0B;&#x8868;&#x5217;&#x51FA;&#x4E86; Spring AOP &#x6240;&#x652F;&#x6301;&#x7684; AspectJ &#x5207;&#x70B9;&#x6307;&#x793A;&#x5668;&#x3002; Spring &#x501F;&#x52A9; AspectJ &#x7684;&#x5207;&#x70B9;&#x8868;&#x8FBE;&#x5F0F;&#x8BED;&#x8A00;&#x6765;&#x5B9A;&#x4E49; Spring &#x5207;&#x9762; AspectJ&#x6307;&#x793A;&#x5668; &#x63CF;&#x3000;&#x3000;&#x8FF0; arg() &#x9650;&#x5236;&#x8FDE;&#x63A5;&#x70B9;&#x5339;&#x914D;&#x53C2;&#x6570;&#x4E3A;&#x6307;&#x5B9A;&#x7C7B;&#x578B;&#x7684;&#x6267;&#x884C;&#x65B9;&#x6CD5; @args() &#x9650;&#x5236;&#x8FDE;&#x63A5;&#x70B9;&#x5339;&#x914D;&#x53C2;&#x6570;&#x7531;&#x6307;&#x5B9A;&#x6CE8;&#x89E3;&#x6807;&#x6CE8;&#x7684;&#x6267;&#x884C;&#x65B9;&#x6CD5; execution() &#x7528;&#x4E8E;&#x5339;&#x914D;&#x662F;&#x8FDE;&#x63A5;&#x70B9;&#x7684;&#x6267;&#x884C;&#x65B9;&#x6CD5; this() &#x9650;&#x5236;&#x8FDE;&#x63A5;&#x70B9;&#x5339;&#x914D;AOP&#x4EE3;&#x7406;&#x7684;bean&#x5F15;&#x7528;&#x4E3A;&#x6307;&#x5B9A;&#x7C7B;&#x578B;&#x7684;&#x7C7B; target &#x9650;&#x5236;&#x8FDE;&#x63A5;&#x70B9;&#x5339;&#x914D;&#x76EE;&#x6807;&#x5BF9;&#x8C61;&#x4E3A;&#x6307;&#x5B9A;&#x7C7B;&#x578B;&#x7684;&#x7C7B; @target() &#x9650;&#x5236;&#x8FDE;&#x63A5;&#x70B9;&#x5339;&#x914D;&#x7279;&#x5B9A;&#x7684;&#x6267;&#x884C;&#x5BF9;&#x8C61;&#xFF0C;&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x5BF9;&#x5E94;&#x7684;&#x7C7B;&#x8981;&#x5177;&#x6709;&#x6307;&#x5B9A;&#x7C7B;&#x578B;&#x7684;&#x6CE8;&#x89E3; within() &#x9650;&#x5236;&#x8FDE;&#x63A5;&#x70B9;&#x5339;&#x914D;&#x6307;&#x5B9A;&#x7684;&#x7C7B;&#x578B; @within() &#x9650;&#x5236;&#x8FDE;&#x63A5;&#x70B9;&#x5339;&#x914D;&#x6307;&#x5B9A;&#x6CE8;&#x89E3;&#x6240;&#x6807;&#x6CE8;&#x7684;&#x7C7B;&#x578B;&#xFF08;&#x5F53;&#x4F7F;&#x7528;Spring AOP&#x65F6;&#xFF0C;&#x65B9;&#x6CD5;&#x5B9A;&#x4E49;&#x5728;&#x7531;&#x6307;&#x5B9A;&#x7684;&#x6CE8;&#x89E3;&#x6240;&#x6807;&#x6CE8;&#x7684;&#x7C7B;&#x91CC;&#xFF09; @annotation &#x9650;&#x5B9A;&#x5339;&#x914D;&#x5E26;&#x6709;&#x6307;&#x5B9A;&#x6CE8;&#x89E3;&#x7684;&#x8FDE;&#x63A5;&#x70B9;","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"},{"name":"Spring","slug":"Spring","permalink":"https://marklogzhu.github.io/tags/Spring/"}]},{"title":"Spring学习总结(四)--依赖注入","date":"2018-05-16T06:21:00.000Z","path":"Spring/后台/Java/Spring/Spring学习总结(四)--依赖注入/","text":"&#x4E86;&#x89E3;&#x4E86; bena &#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x770B;&#x4E0B;&#x5982;&#x4F55;&#x8FDB;&#x884C;&#x4F9D;&#x8D56;&#x6CE8;&#x5165; Setter &#x6CE8;&#x5165;Setter &#x6CE8;&#x5165;&#x987E;&#x540D;&#x601D;&#x4E49;&#xFF0C;&#x88AB;&#x6CE8;&#x5165;&#x7684;&#x5C5E;&#x6027;&#x9700;&#x8981;&#x6709; set &#x65B9;&#x6CD5;&#xFF0C; Setter &#x6CE8;&#x5165;&#x652F;&#x6301;&#x7B80;&#x5355;&#x7C7B;&#x578B;&#x548C;&#x5F15;&#x7528;&#x7C7B;&#x578B;&#xFF0C;Setter &#x6CE8;&#x5165;&#x65F6;&#x5728; bean &#x5B9E;&#x4F8B;&#x521B;&#x5EFA;&#x5B8C;&#x6210;&#x540E;&#x6267;&#x884C;&#x7684;&#x3002;&#x76F4;&#x63A5;&#x89C2;&#x5BDF;&#x4E0B;&#x9762;&#x7684;&#x6848;&#x4F8B;&#xFF0C;&#x5BF9;&#x8C61;&#x6CE8;&#x5165;&#x4F7F;&#x7528; &#xFF1C;property&#xFF1E; &#x7684; ref &#x5C5E;&#x6027;&#x3002; 1234567&lt;!-- &#x58F0;&#x660E;accountDao&#x5BF9;&#x8C61;&#x5E76;&#x4EA4;&#x7ED9;spring&#x521B;&#x5EFA; --&gt;&lt;bean name=&quot;accountDao&quot; class=&quot;com.marklogzhu.dao.impl.AccountDaoImpl&quot;/&gt;&lt;!-- &#x58F0;&#x660E;accountService&#x5BF9;&#x8C61;,&#x4EA4;&#x7ED9;spring&#x521B;&#x5EFA; --&gt;&lt;bean name=&quot;accountService&quot; class=&quot;com.marklogzhu.service.impl.AccountServiceImpl&quot;&gt; &lt;!-- &#x901A;&#x8FC7;setter&#x6CE8;&#x5165;accountDao&#x5BF9;&#x8C61;,&#x5BF9;&#x8C61;&#x6CE8;&#x5165;&#x4F7F;&#x7528;ref--&gt; &lt;property name=&quot;accountDao&quot; ref=&quot;accountDao&quot;/&gt;&lt;/bean&gt; &#x9664;&#x4E86;&#x4E0A;&#x8FF0;&#x7684;&#x5BF9;&#x8C61;&#x6CE8;&#x5165;&#x540C;&#x65F6;&#x4E5F;&#x53EF;&#x4EE5;&#x6CE8;&#x5165;&#x7B80;&#x5355;&#x503C;&#x548C; map&#x3001;set&#x3001;list&#x3001;&#x6570;&#x7EC4;&#xFF0C;&#x7B80;&#x5355;&#x503C;&#x6CE8;&#x5165;&#x4F7F;&#x7528; &#xFF1C;property&#xFF1E; &#x7684; value &#x5C5E;&#x6027;&#xFF1A; 123456789101112131415161718192021222324252627public class Account { private String name; private String pwd; private List&lt;String&gt; citys; private Set&lt;String&gt; friends; private Map&lt;Integer,String&gt; books; public void setName(String name) { this.name = name; } public void setPwd(String pwd) { this.pwd = pwd; } public void setCitys(List&lt;String&gt; citys) { this.citys = citys; } public void setFriends(Set&lt;String&gt; friends) { this.friends = friends; } public void setBooks(Map&lt;Integer, String&gt; books) { this.books = books; }} &#x6CE8;&#x5165;&#x914D;&#x7F6E;&#xFF1A; 123456789101112131415161718192021222324252627282930313233&lt;!-- setter &#x901A;&#x8FC7; property &#x6CE8;&#x5165;&#x5C5E;&#x6027;&#x503C;&#xFF0C;&#x666E;&#x901A;&#x7C7B;&#x578B;&#x4F7F;&#x7528; value --&gt;&lt;bean id=&quot;account&quot; scope=&quot;prototype&quot; class=&quot;com.zejian.spring.springIoc.pojo.Account&quot; &gt; &lt;property name=&quot;name&quot; value=&quot;I am SpringIOC1&quot; /&gt; &lt;property name=&quot;pwd&quot; value=&quot;123&quot; /&gt; &lt;!-- &#x6CE8;&#x5165;map --&gt; &lt;property name=&quot;books&quot;&gt; &lt;map&gt; &lt;entry key=&quot;10&quot; value=&quot;CoreJava&quot;&gt; &lt;/entry&gt; &lt;entry key=&quot;11&quot; value=&quot;JavaWeb&quot;&gt; &lt;/entry&gt; &lt;entry key=&quot;12&quot; value=&quot;SSH2&quot;&gt; &lt;/entry&gt; &lt;/map&gt; &lt;/property&gt; &lt;!-- &#x6CE8;&#x5165;set --&gt; &lt;property name=&quot;friends&quot;&gt; &lt;set&gt; &lt;value&gt;&#x5F20;&#x9F99;&lt;/value&gt; &lt;value&gt;&#x8001;&#x738B;&lt;/value&gt; &lt;value&gt;&#x738B;&#x4E94;&lt;/value&gt; &lt;/set&gt; &lt;/property&gt; &lt;!-- &#x6CE8;&#x5165;list --&gt; &lt;property name=&quot;citys&quot;&gt; &lt;list&gt; &lt;value&gt;&#x5317;&#x4EAC;&lt;/value&gt; &lt;value&gt;&#x4E0A;&#x6D77;&lt;/value&gt; &lt;value&gt;&#x6DF1;&#x5733;&lt;/value&gt; &lt;value&gt;&#x5E7F;&#x5DDE;&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; &#x6784;&#x9020;&#x51FD;&#x6570;&#x6CE8;&#x5165;&#x6784;&#x9020;&#x6CE8;&#x5165;&#x4E5F;&#x5C31;&#x662F;&#x901A;&#x8FC7;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x6CE8;&#x5165;&#x4F9D;&#x8D56;&#xFF0C;&#x6784;&#x9020;&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x5C31;&#x662F;&#x4F9D;&#x8D56;&#x9879;&#xFF0C;spring &#x5BB9;&#x5668;&#x4F1A;&#x6839;&#x636E; bean &#x4E2D;&#x6307;&#x5B9A;&#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#x53C2;&#x6570;&#x6765;&#x51B3;&#x5B9A;&#x8C03;&#x7528;&#x90A3;&#x4E2A;&#x6784;&#x9020;&#x51FD;&#x6570;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A; 12345678910111213141516public class AccountServiceImpl implements AccountService{ /** * &#x9700;&#x8981;&#x6CE8;&#x5165;&#x7684;&#x5BF9;&#x8C61;Dao&#x5C42;&#x5BF9;&#x8C61; */ private AccountDao accountDao; /** * &#x6784;&#x9020;&#x6CE8;&#x5165; * @param accountDao */ public AccountServiceImpl(AccountDao accountDao){ this.accountDao=accountDao; } // get/set} xml &#x914D;&#x7F6E;: 123456&lt;bean name=&quot;accountDao&quot; class=&quot;com.marklogzhu.dao.impl.AccountDaoImpl&quot;/&gt;&lt;!-- &#x901A;&#x8FC7;&#x6784;&#x9020;&#x6CE8;&#x5165;&#x4F9D;&#x8D56; --&gt;&lt;bean name=&quot;accountService&quot; class=&quot;com.marklogzhu.service.impl.AccountServiceImpl&quot;&gt; &lt;!-- &#x6784;&#x9020;&#x65B9;&#x6CD5;&#x65B9;&#x5F0F;&#x6CE8;&#x5165;accountDao&#x5BF9;&#x8C61;,--&gt; &lt;constructor-arg ref=&quot;accountDao&quot;/&gt;&lt;/bean&gt; &#x57FA;&#x4E8E; XML &#x7684;&#x81EA;&#x52A8;&#x88C5;&#x914D;&#x9664;&#x4E86;&#x4E0A;&#x9762;&#x624B;&#x52A8;&#x914D;&#x7F6E; XML &#x7684;&#x5F62;&#x5F0F;&#x6CE8;&#x5165;&#x5916;&#xFF0C;Spring&#x8FD8;&#x4E3A;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x4E86;&#x81EA;&#x52A8;&#x5411; Bean &#x6CE8;&#x5165;&#x4F9D;&#x8D56;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x4E00;&#x822C;&#x88AB;&#x79F0;&#x4E3A;&#x81EA;&#x52A8;&#x88C5;&#x914D;&#xFF08;autowiring)&#x3002; Spring &#x7684;&#x81EA;&#x52A8;&#x88C5;&#x914D;&#x6709;&#x4E09;&#x79CD;&#x6A21;&#x5F0F;&#xFF1A;byTpye(&#x6839;&#x636E;&#x7C7B;&#x578B;)&#xFF0C;byName(&#x6839;&#x636E;&#x540D;&#x79F0;)&#x3001;constructor(&#x6839;&#x636E;&#x6784;&#x9020;&#x51FD;&#x6570;)&#x3002; byTpye &#x6A21;&#x5F0F;&#x5728; byTpye &#x6A21;&#x5F0F;&#x4E2D;&#xFF0C;Spring &#x5BB9;&#x5668;&#x4F1A;&#x57FA;&#x4E8E;&#x53CD;&#x5C04;&#x67E5;&#x770B; bean &#x5B9A;&#x4E49;&#x7684;&#x7C7B;&#xFF0C;&#x7136;&#x540E;&#x627E;&#x5230;&#x4E0E;&#x4F9D;&#x8D56;&#x7C7B;&#x578B;&#x76F8;&#x540C;&#x7684; bean &#x6CE8;&#x5165;&#x5230;&#x53E6;&#x5916;&#x7684; bean&#x4E2D;&#xFF0C;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x9700;&#x8981;&#x501F;&#x52A9; setter &#x6CE8;&#x5165;&#x6765;&#x5B8C;&#x6210;&#xFF0C;&#x56E0;&#x6B64;&#x5FC5;&#x987B;&#x5B58;&#x5728; set &#x65B9;&#x6CD5;&#xFF0C;&#x5426;&#x5219;&#x6CE8;&#x5165;&#x5931;&#x8D25;&#x3002; 12345678910111213141516171819202122232425//dao&#x5C42;public class UserDaoImpl implements UserDao{ //....... @Override public void done(){ System.out.println(&quot;UserDaoImpl.invoke......&quot;); }}//service&#x5C42;public class UserServiceImpl implements UserService { //&#x9700;&#x8981;&#x6CE8;&#x5165;&#x7684;&#x4F9D;&#x8D56; private UserDao userDao; /** * set&#x65B9;&#x6CD5; * @param userDao */ public void setUserDao(UserDao userDao) { this.userDao = userDao; } @Override public void done(){ userDao.done(); }} 123&lt;bean id=&quot;userDao&quot; class=&quot;com.marklogzhu.dao.impl.UserDaoImpl&quot; /&gt;&lt;!-- byType &#x6839;&#x636E;&#x7C7B;&#x578B;&#x81EA;&#x52A8;&#x88C5;&#x914D; userDao--&gt;&lt;bean id=&quot;userService&quot; autowire=&quot;byType&quot; class=&quot;com.marklogzhu.service.impl.UserServiceImpl&quot; /&gt; &#x57FA;&#x4E8E;&#x6CE8;&#x89E3;&#x7684;&#x81EA;&#x52A8;&#x88C5;&#x914D;&#x6CE8;&#x5165; Bean &#x7684;&#x6CE8;&#x89E3;&#x5E38;&#x89C1;&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x6CE8;&#x89E3;&#x6709;&#x4E09;&#x79CD;&#xFF1A; @Autowired @Resource @Value @Autowired@Autowired &#x6CE8;&#x89E3;&#x662F; Spring &#x63D0;&#x4F9B;&#x7684;&#x6CE8;&#x89E3;&#xFF0C;&#x9ED8;&#x8BA4;&#x6309;&#x7167;&#x7C7B;&#x578B;&#x8FDB;&#x884C;&#x88C5;&#x914D; &#x5B9E;&#x4F8B;12&lt;!-- &#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#x65F6;&#x5FC5;&#x987B;&#x542F;&#x52A8;&#x6CE8;&#x89E3;&#x9A71;&#x52A8; --&gt;&lt;context:annotation-config /&gt; 12345public class UserServiceImpl implements UserService { //&#x6807;&#x6CE8;&#x6210;&#x5458;&#x53D8;&#x91CF; @Autowired private UserDao userDao; } @Resource@Resource &#x662F; JDK1.6 &#x652F;&#x6301;&#x7684;&#x6CE8;&#x89E3;&#xFF0C;&#x9ED8;&#x8BA4;&#x6309;&#x7167;&#x540D;&#x79F0;&#x8FDB;&#x884C;&#x88C5;&#x914D;&#x3002; &#x5B9E;&#x4F8B;12&lt;!-- &#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#x65F6;&#x5FC5;&#x987B;&#x542F;&#x52A8;&#x6CE8;&#x89E3;&#x9A71;&#x52A8; --&gt;&lt;context:annotation-config /&gt; 12345public class UserServiceImpl implements UserService { //&#x6807;&#x6CE8;&#x6210;&#x5458;&#x53D8;&#x91CF; @Resource(name=&quot;userDao&quot;) private UserDao userDao; } @Value@Autowired &#x548C; @Resource &#x5E76;&#x4E0D;&#x9002;&#x5408;&#x6CE8;&#x5165;&#x7B80;&#x5355;&#x503C;&#x7C7B;&#x578B;&#xFF0C;&#x5982; int&#x3001;boolean&#x3001;long&#x3001;String &#x4EE5;&#x53CA; Enum &#x7B49;&#xFF0C;&#x5BF9;&#x4E8E;&#x8FD9;&#x4E9B;&#x7C7B;&#x578B;&#xFF0C;Spring &#x5BB9;&#x5668; &#x4E5F;&#x63D0;&#x4F9B;&#x4E86; @Value &#x6CE8;&#x5165;&#x7684;&#x65B9;&#x5F0F;&#x3002; &#x5B9E;&#x4F8B;jdbc.properties &#x6587;&#x4EF6;1234jdbc.driver=com.mysql.jdbc.Driverjdbc.url=jdbc:mysql://127.0.0.1:3306/test?characterEncoding=UTF-8&amp;allowMultiQueries=truejdbc.username=rootjdbc.password=root UserServiceImpl &#x6587;&#x4EF6;12345678public class UserServiceImpl implements UserService { // &#x5360;&#x4F4D;&#x7B26;&#x65B9;&#x5F0F; @Value(&quot;${jdbc.url}&quot;) private String url; // SpEL&#x8868;&#x8FBE;&#x65B9;&#x5F0F;&#xFF0C;&#x5176;&#x4E2D;&#x4EE3;&#x8868;xml&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7684;id&#x503C;configProperties @Value(&quot;#{configProperties[&apos;jdbc.username&apos;]}&quot;) private String userName;} xml &#x914D;&#x7F6E; 1234567891011121314151617181920212223242526272829&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd&quot;&gt; &lt;!--&#x57FA;&#x4E8E;&#x5360;&#x4F4D;&#x7B26;&#x65B9;&#x5F0F; &#x914D;&#x7F6E;&#x5355;&#x4E2A;properties --&gt; &lt;!--&lt;context:property-placeholder location=&quot;conf/jdbc.properties&quot;/&gt;--&gt; &lt;!--&#x57FA;&#x4E8E;&#x5360;&#x4F4D;&#x7B26;&#x65B9;&#x5F0F; &#x914D;&#x7F6E;&#x591A;&#x4E2A;properties --&gt; &lt;bean id=&quot;propertyConfigurer&quot; class=&quot;org.springframework.beans.factory.config.PreferencesPlaceholderConfigurer&quot;&gt; &lt;property name=&quot;location&quot; value=&quot;conf/jdbc.properties&quot;/&gt; &lt;/bean&gt; &lt;!--&#x57FA;&#x4E8E;SpEL&#x8868;&#x8FBE;&#x5F0F; &#x914D;&#x7F6E;&#x591A;&#x4E2A;properties id&#x503C;&#x4E3A;configProperties &#x63D0;&#x4F9B;java&#x4EE3;&#x7801;&#x4E2D;&#x4F7F;&#x7528; --&gt; &lt;bean id=&quot;configProperties&quot; class=&quot;org.springframework.beans.factory.config.PropertiesFactoryBean&quot;&gt; &lt;property name=&quot;locations&quot;&gt; &lt;list&gt; &lt;value&gt;classpath:/conf/jdbc.properties&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; &lt;!--&#x57FA;&#x4E8E;SpEL&#x8868;&#x8FBE;&#x5F0F; &#x914D;&#x7F6E;&#x5355;&#x4E2A;properties --&gt; &lt;!--&lt;util:properties id=&quot;configProperties&quot; location=&quot;classpath:conf/jdbc.properties&quot;/&gt;--&gt; &lt;!--&#x6CE8;&#x89E3;&#x9A71;&#x52A8; --&gt; &lt;context:annotation-config/&gt;&lt;/beans&gt; IOC&#x4E0E;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x7684;&#x533A;&#x522B; IOC:&#x63A7;&#x5236;&#x53CD;&#x8F6C;:&#x5C06;&#x5BF9;&#x8C61;&#x7684;&#x521B;&#x5EFA;&#x6743;,&#x7531;Spring&#x7BA1;&#x7406;. DI(&#x4F9D;&#x8D56;&#x6CE8;&#x5165;):&#x5728;Spring&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;,&#x628A;&#x5BF9;&#x8C61;&#x4F9D;&#x8D56;&#x7684;&#x5C5E;&#x6027;&#x6CE8;&#x5165;&#x5230;&#x7C7B;&#x4E2D;&#x3002;","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"},{"name":"Spring","slug":"Spring","permalink":"https://marklogzhu.github.io/tags/Spring/"}]},{"title":"Spring学习总结(三)--Spring Bean","date":"2018-05-16T05:41:00.000Z","path":"Spring/后台/Java/Spring/Spring学习总结(三)--Spring Bean/","text":"&#x5728;&#x4E0A;&#x4E00;&#x7AE0;&#x8282;&#x4E2D;&#x6211;&#x4EEC;&#x4E86;&#x89E3;&#x4E86;&#x4E24;&#x4E2A;&#x5BB9;&#x5668;&#xFF0C;&#x5E76;&#x901A;&#x8FC7;&#x5B83;&#x4EEC;&#x52A0;&#x8F7D;&#x4E86;&#x4E00;&#x4E2A; bean &#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x4F60;&#x77E5;&#x9053;&#x4EC0;&#x4E48;&#x662F; bean &#x5417;&#xFF1F; Bean &#x7684;&#x5B9A;&#x4E49;&#x79F0;&#x4F5C; bean &#x7684;&#x5BF9;&#x8C61;&#x662F;&#x6784;&#x6210;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x652F;&#x67F1;,&#x4E5F;&#x662F;&#x7531; Spring IoC &#x5BB9;&#x5668;&#x7BA1;&#x7406;&#x7684;&#x3002;bean &#x662F;&#x4E00;&#x4E2A;&#x88AB;&#x5B9E;&#x4F8B;&#x5316;&#xFF0C;&#x7EC4;&#x88C5;&#xFF0C;&#x5E76;&#x901A;&#x8FC7; Spring IoC &#x5BB9;&#x5668;&#x6240;&#x7BA1;&#x7406;&#x7684;&#x5BF9;&#x8C61;&#x3002;&#x8FD9;&#x4E9B; bean &#x662F;&#x7531;&#x7528;&#x5BB9;&#x5668;&#x63D0;&#x4F9B;&#x7684;&#x914D;&#x7F6E;&#x5143;&#x6570;&#x636E;&#x521B;&#x5EFA;&#x7684;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;&#x5DF2;&#x7ECF;&#x5728;&#x5148;&#x524D;&#x7AE0;&#x8282;&#x770B;&#x5230;&#x7684;&#xFF0C;&#x5728; XML &#x7684;&#x8868;&#x5355;&#x4E2D;&#x7684;&#x5B9A;&#x4E49;&#x3002; bean &#x5B9A;&#x4E49;&#x5305;&#x542B;&#x79F0;&#x4E3A;&#x914D;&#x7F6E;&#x5143;&#x6570;&#x636E;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x4E0B;&#x8FF0;&#x5BB9;&#x5668;&#x4E5F;&#x9700;&#x8981;&#x77E5;&#x9053;&#x914D;&#x7F6E;&#x5143;&#x6570;&#x636E;&#xFF1A; * &#x5982;&#x4F55;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; bean * bean &#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#x7684;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F; * bean &#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB; &#x4E0A;&#x8FF0;&#x6240;&#x6709;&#x7684;&#x914D;&#x7F6E;&#x5143;&#x6570;&#x636E;&#x8F6C;&#x6362;&#x6210;&#x4E00;&#x7EC4;&#x6784;&#x6210;&#x6BCF;&#x4E2A; bean &#x5B9A;&#x4E49;&#x7684;&#x4E0B;&#x5217;&#x5C5E;&#x6027;&#x3002; &#x5C5E;&#x6027; &#x63CF;&#x8FF0; class &#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x662F;&#x5F3A;&#x5236;&#x6027;&#x7684;&#xFF0C;&#x5E76;&#x4E14;&#x6307;&#x5B9A;&#x7528;&#x6765;&#x521B;&#x5EFA; bean &#x7684; bean &#x7C7B;&#x3002; name &#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x6307;&#x5B9A;&#x552F;&#x4E00;&#x7684; bean &#x6807;&#x8BC6;&#x7B26;&#x3002;&#x5728;&#x57FA;&#x4E8E; XML &#x7684;&#x914D;&#x7F6E;&#x5143;&#x6570;&#x636E;&#x4E2D;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; ID &#x548C;/&#x6216; name &#x5C5E;&#x6027;&#x6765;&#x6307;&#x5B9A; bean &#x6807;&#x8BC6;&#x7B26;&#x3002; scope &#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x6307;&#x5B9A;&#x7531;&#x7279;&#x5B9A;&#x7684; bean &#x5B9A;&#x4E49;&#x521B;&#x5EFA;&#x7684;&#x5BF9;&#x8C61;&#x7684;&#x4F5C;&#x7528;&#x57DF; constructor-arg &#x5B83;&#x662F;&#x7528;&#x6765;&#x6CE8;&#x5165;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x7684; properties &#x5B83;&#x662F;&#x7528;&#x6765;&#x6CE8;&#x5165;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x7684;&#x3002; autowiring mode &#x5B83;&#x662F;&#x7528;&#x6765;&#x6CE8;&#x5165;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x7684; lazy-initialization mode &#x5EF6;&#x8FDF;&#x521D;&#x59CB;&#x5316;&#x7684; bean &#x544A;&#x8BC9; IoC &#x5BB9;&#x5668;&#x5728;&#x5B83;&#x7B2C;&#x4E00;&#x6B21;&#x88AB;&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5728;&#x542F;&#x52A8;&#x65F6;&#x53BB;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; bean &#x5B9E;&#x4F8B;&#x3002; initialization &#x5728; bean &#x7684;&#x6240;&#x6709;&#x5FC5;&#x9700;&#x7684;&#x5C5E;&#x6027;&#x88AB;&#x5BB9;&#x5668;&#x8BBE;&#x7F6E;&#x4E4B;&#x540E;&#xFF0C;&#x8C03;&#x7528;&#x56DE;&#x8C03;&#x65B9;&#x6CD5;&#x3002; destruction &#x5F53;&#x5305;&#x542B;&#x8BE5; bean &#x7684;&#x5BB9;&#x5668;&#x88AB;&#x9500;&#x6BC1;&#x65F6;&#xFF0C;&#x4F7F;&#x7528;&#x56DE;&#x8C03;&#x65B9;&#x6CD5;&#x3002; Bean &#x7684;&#x89C4;&#x8303;&#x6BCF;&#x4E00;&#x4E2A;&#x7C7B;&#x5B9E;&#x73B0;&#x4E86; Bean &#x7684;&#x89C4;&#x8303;&#x624D;&#x53EF;&#x4EE5;&#x7531; Spring &#x6765;&#x63A5;&#x7BA1;&#xFF0C;&#x90A3;&#x4E48; Bean &#x7684;&#x89C4;&#x8303;&#x662F;&#x4EC0;&#x4E48;&#x5462;&#xFF1F; &#x5FC5;&#x987B;&#x662F;&#x4E2A;&#x516C;&#x6709;( public )&#x7C7B; &#x6709;&#x65E0;&#x53C2;&#x6784;&#x9020;&#x51FD;&#x6570; &#x7528;&#x516C;&#x5171;&#x65B9;&#x6CD5;&#x66B4;&#x9732;&#x5185;&#x90E8;&#x6210;&#x5458;&#x5C5E;&#x6027;( getter , setter ) Bean &#x7684;&#x914D;&#x7F6E;&#x65B9;&#x5F0F;Spring IoC &#x5BB9;&#x5668;&#x5B8C;&#x5168;&#x7531;&#x5B9E;&#x9645;&#x7F16;&#x5199;&#x7684;&#x914D;&#x7F6E;&#x5143;&#x6570;&#x636E;&#x7684;&#x683C;&#x5F0F;&#x89E3;&#x8026;&#x3002;&#x6709;&#x4E0B;&#x9762;&#x4E09;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x65B9;&#x6CD5;&#x628A;&#x914D;&#x7F6E;&#x5143;&#x6570;&#x636E;&#x63D0;&#x4F9B;&#x7ED9; Spring &#x5BB9;&#x5668;&#xFF1A; &#x57FA;&#x4E8E; XML &#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;(&#x4E0A;&#x4E00;&#x7AE0;&#x8282;&#x7684;&#x5B9E;&#x4F8B;&#x5C31;&#x662F;&#x91C7;&#x7528;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;) &#x57FA;&#x4E8E;&#x6CE8;&#x89E3;&#x7684;&#x914D;&#x7F6E; &#x57FA;&#x4E8E; Java &#x7684;&#x914D;&#x7F6E; Bean &#x7684;&#x4F5C;&#x7528;&#x57DF;&#x5F53;&#x5728; Spring &#x4E2D;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A; bean &#x65F6;&#xFF0C;&#x4F60;&#x5FC5;&#x987B;&#x58F0;&#x660E;&#x8BE5; bean &#x7684;&#x4F5C;&#x7528;&#x57DF;&#x7684;&#x9009;&#x9879;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x4E3A;&#x4E86;&#x5F3A;&#x5236; Spring &#x5728;&#x6BCF;&#x6B21;&#x9700;&#x8981;&#x65F6;&#x90FD;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x65B0;&#x7684; bean &#x5B9E;&#x4F8B;&#xFF0C;&#x4F60;&#x5E94;&#x8BE5;&#x58F0;&#x660E; bean &#x7684;&#x4F5C;&#x7528;&#x57DF;&#x7684;&#x5C5E;&#x6027;&#x4E3A; prototype&#x3002;&#x540C;&#x7406;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x8BA9; Spring &#x5728;&#x6BCF;&#x6B21;&#x9700;&#x8981;&#x65F6;&#x90FD;&#x8FD4;&#x56DE;&#x540C;&#x4E00;&#x4E2A; bean &#x5B9E;&#x4F8B;&#xFF0C;&#x4F60;&#x5E94;&#x8BE5;&#x58F0;&#x660E; bean &#x7684;&#x4F5C;&#x7528;&#x57DF;&#x7684;&#x5C5E;&#x6027;&#x4E3A; singleton&#x3002; Spring &#x6846;&#x67B6;&#x652F;&#x6301;&#x4EE5;&#x4E0B;&#x4E94;&#x4E2A;&#x4F5C;&#x7528;&#x57DF;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x4F7F;&#x7528; web-aware ApplicationContext &#x65F6;&#xFF0C;&#x5176;&#x4E2D;&#x4E09;&#x4E2A;&#x662F;&#x53EF;&#x7528;&#x7684;&#x3002; &#x4F5C;&#x7528;&#x57DF; &#x63CF;&#x8FF0; singleton(&#x5355;&#x4F8B;) &#x5728;spring IoC&#x5BB9;&#x5668;&#x4EC5;&#x5B58;&#x5728;&#x4E00;&#x4E2A;Bean&#x5B9E;&#x4F8B;&#xFF0C;Bean &#x4EE5;&#x5355;&#x4F8B;&#x65B9;&#x5F0F;&#x5B58;&#x5728;&#xFF0C;&#x662F;&#x9ED8;&#x8BA4;&#x503C; prototype(&#x539F;&#x578B;) &#x6BCF;&#x6B21;&#x4ECE;&#x5BB9;&#x5668;&#x4E2D;&#x8C03;&#x7528;Bean&#x65F6;&#xFF0C;&#x90FD;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5B9E;&#x4F8B;&#xFF0C;&#x5373;&#x6BCF;&#x6B21;&#x8C03;&#x7528;getBean()&#x65F6;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x6267;&#x884C;newXxxBean() request(&#x8BF7;&#x6C42;) &#x6BCF;&#x6B21;HTTP&#x8BF7;&#x6C42;&#x90FD;&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;Bean&#xFF0C;&#x8BE5;&#x4F5C;&#x7528;&#x57DF;&#x4EC5;&#x9002;&#x7528;&#x4E8E;WebApplicationContext&#x73AF;&#x5883; session(&#x4F1A;&#x8BDD;) &#x540C;&#x4E00;&#x4E2A;HTTP Session&#x5171;&#x4EAB;&#x4E00;&#x4E2A;Bean&#xFF0C;&#x4E0D;&#x540C;Session&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;Bean&#xFF0C;&#x4EC5;&#x9002;&#x7528;&#x4E8E;WebApplicationContext&#x73AF;&#x5883; global-session &#x4E00;&#x822C;&#x7528;&#x4E8E;Portlet&#x5E94;&#x7528;&#x73AF;&#x5883;&#xFF0C;&#x6539;&#x4F5C;&#x7528;&#x4E8E;&#x4EC5;&#x9002;&#x7528;&#x4E8E;WebApplicationContext&#x73AF;&#x5883; Bean &#x7684;&#x4F5C;&#x7528;&#x57DF;&#x5B9E;&#x4F8B;Java &#x7248;&#x672C;12@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)public class MyIsBean{...} xml &#x7248;&#x672C;123456&lt;bean id=&quot;...&quot; class=&quot;...&quot; scope=&quot;singleton&quot;&gt; &lt;!-- &#x5C5E;&#x6027;&#x914D;&#x7F6E; --&gt;&lt;/bean&gt;&lt;bean id=&quot;...&quot; class=&quot;...&quot; scope=&quot;prototype&quot;&gt; &lt;!-- &#x5C5E;&#x6027;&#x914D;&#x7F6E; --&gt;&lt;/bean&gt; Bean &#x7684;&#x751F;&#x547D;&#x5468;&#x671F; &#x5982;&#x4F60;&#x6240;&#x89C1;&#xFF0C;&#x5728; bean &#x51C6;&#x5907;&#x5C31;&#x7EEA;&#x4E4B;&#x524D;&#xFF0C;bean &#x5DE5;&#x5382;&#x6267;&#x884C;&#x4E86;&#x82E5;&#x5E72;&#x542F;&#x52A8;&#x6B65;&#x9AA4;&#x3002;&#x6211;&#x4EEC;&#x5BF9;&#x56FE;&#x8FDB;&#x884C;&#x8BE6;&#x7EC6;&#x63CF;&#x8FF0;&#xFF1A; 1. Spring &#x5BF9; bean &#x8FDB;&#x884C;&#x5B9E;&#x4F8B;&#x5316;&#xFF1B; 2. Spring &#x5C06;&#x503C;&#x548C; bean &#x7684;&#x5F15;&#x7528;&#x6CE8;&#x5165;&#x5230; bean &#x5BF9;&#x5E94;&#x7684;&#x5C5E;&#x6027;&#x4E2D;&#xFF1B; 3. &#x5982;&#x679C; bean &#x5B9E;&#x73B0;&#x4E86; BeanNameAware &#x63A5;&#x53E3;&#xFF0C;Spring &#x5C06; bean &#x7684; ID &#x4F20;&#x9012;&#x7ED9; setBean-Name() &#x65B9;&#x6CD5;&#xFF1B; 4. &#x5982;&#x679C; bean &#x5B9E;&#x73B0;&#x4E86; BeanFactoryAware &#x63A5;&#x53E3;&#xFF0C;Spring &#x5C06;&#x8C03;&#x7528; setBeanFactory()&#x65B9;&#x6CD5;&#xFF0C;&#x5C06; BeanFactory &#x5BB9;&#x5668;&#x5B9E;&#x4F8B;&#x4F20;&#x5165;&#xFF1B; 5. &#x5982;&#x679C; bean &#x5B9E;&#x73B0;&#x4E86; ApplicationContextAware &#x63A5;&#x53E3;&#xFF0C;Spring &#x5C06;&#x8C03;&#x7528;setApplicationContext() &#x65B9;&#x6CD5;&#xFF0C;&#x5C06; bean &#x6240;&#x5728;&#x7684;&#x5E94;&#x7528;&#x4E0A;&#x4E0B;&#x6587;&#x7684;&#x5F15;&#x7528;&#x4F20;&#x5165;&#x8FDB;&#x6765;&#xFF1B; 6. &#x5982;&#x679C; bean &#x5B9E;&#x73B0;&#x4E86; BeanPostProcessor &#x63A5;&#x53E3;&#xFF0C; Spring &#x5C06;&#x8C03;&#x7528;&#x5B83;&#x4EEC;&#x7684; post-ProcessBeforeInitialization() &#x65B9;&#x6CD5;&#xFF1B; 7. &#x5982;&#x679C; bean &#x5B9E;&#x73B0;&#x4E86; InitializingBean &#x63A5;&#x53E3;&#xFF0C;Spring &#x5C06;&#x8C03;&#x7528;&#x5B83;&#x4EEC;&#x7684; after-PropertiesSet() &#x65B9;&#x6CD5;&#x3002;&#x7C7B;&#x4F3C;&#x5730;&#xFF0C;&#x5982;&#x679C; bean &#x4F7F;&#x7528; init-method &#x58F0;&#x660E;&#x4E86;&#x521D;&#x59CB;&#x5316;&#x65B9;&#x6CD5;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x4E5F;&#x4F1A;&#x88AB;&#x8C03;&#x7528;&#xFF1B; 8. &#x5982;&#x679C; bean &#x5B9E;&#x73B0;&#x4E86; BeanPostProcessor &#x63A5;&#x53E3;&#xFF0C;Spring &#x5C06;&#x8C03;&#x7528;&#x5B83;&#x4EEC;&#x7684; post-ProcessAfterInitialization() &#x65B9;&#x6CD5;&#xFF1B; 9. &#x6B64;&#x65F6;&#xFF0C;bean &#x5DF2;&#x7ECF;&#x51C6;&#x5907;&#x5C31;&#x7EEA;&#xFF0C;&#x53EF;&#x4EE5;&#x88AB;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4F7F;&#x7528;&#x4E86;&#xFF0C;&#x5B83;&#x4EEC;&#x5C06;&#x4E00;&#x76F4;&#x9A7B;&#x7559;&#x5728;&#x5E94;&#x7528;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#xFF0C;&#x76F4;&#x5230;&#x8BE5;&#x5E94;&#x7528;&#x4E0A;&#x4E0B;&#x6587;&#x88AB;&#x9500;&#x6BC1;&#xFF1B; 10. &#x5982;&#x679C; bean &#x5B9E;&#x73B0;&#x4E86; DisposableBean &#x63A5;&#x53E3;&#xFF0C;Spring &#x5C06;&#x8C03;&#x7528;&#x5B83;&#x7684; destroy() &#x63A5;&#x53E3;&#x65B9;&#x6CD5;&#x3002;&#x540C;&#x6837;&#xFF0C;&#x5982;&#x679C; bea n&#x4F7F;&#x7528; destroy-method &#x58F0;&#x660E;&#x4E86;&#x9500;&#x6BC1;&#x65B9;&#x6CD5;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x4E5F;&#x4F1A;&#x88AB;&#x8C03;&#x7528;&#x3002; &#x58F0;&#x660E; Bean &#x7684;&#x6CE8;&#x89E3;&#x4EE5;&#x4E0B;&#x662F;&#x58F0;&#x660E; Bean &#x7684;&#x6CE8;&#x89E3;&#xFF1A; @Component &#x7EC4;&#x4EF6;&#xFF0C;&#x6CA1;&#x6709;&#x660E;&#x786E;&#x7684;&#x89D2;&#x8272; @Service &#x5728;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x5C42;&#x4F7F;&#x7528; @Repository &#x5728;&#x6570;&#x636E;&#x8BBF;&#x95EE;&#x5C42;&#x4F7F;&#x7528; @Controller &#x5728;&#x5C55;&#x73B0;&#x5C42;&#x4F7F;&#x7528;(MVC -&gt; Spring MVC)&#x4F7F;&#x7528; &#x5728;&#x8FD9;&#x91CC;&#xFF0C;&#x53EF;&#x4EE5;&#x6307;&#x5B9A; bean &#x7684; id &#x540D;&#xFF1A;Component(&#x201C;yourBeanName&#x201D;) &#x540C;&#x65F6;&#xFF0C;Spring&#x652F;&#x6301;&#x5C06; @Named &#x4F5C;&#x4E3A; @Component &#x6CE8;&#x89E3;&#x7684;&#x66FF;&#x4EE3;&#x65B9;&#x6848;&#x3002;&#x4E24;&#x8005;&#x4E4B;&#x95F4;&#x6709;&#x4E00;&#x4E9B;&#x7EC6;&#x5FAE;&#x7684;&#x5DEE;&#x5F02;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x5927;&#x591A;&#x6570;&#x573A;&#x666F;&#x4E2D;&#xFF0C;&#x5B83;&#x4EEC;&#x662F;&#x53EF;&#x4EE5;&#x4E92;&#x76F8;&#x66FF;&#x6362;&#x7684;&#x3002;","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"},{"name":"Spring","slug":"Spring","permalink":"https://marklogzhu.github.io/tags/Spring/"}]},{"title":"Spring学习总结(二)--IOC 容器","date":"2018-05-16T05:35:00.000Z","path":"Spring/后台/Java/Spring/Spring学习总结(二)--IOC 容器/","text":"IoC &#x5BB9;&#x5668;Spring &#x5BB9;&#x5668;&#x662F; Spring &#x6846;&#x67B6;&#x7684;&#x6838;&#x5FC3;&#x3002;&#x5BB9;&#x5668;&#x5C06;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#xFF0C;&#x628A;&#x5B83;&#x4EEC;&#x8FDE;&#x63A5;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x914D;&#x7F6E;&#x5B83;&#x4EEC;&#xFF0C;&#x5E76;&#x7BA1;&#x7406;&#x4ED6;&#x4EEC;&#x7684;&#x6574;&#x4E2A;&#x751F;&#x547D;&#x5468;&#x671F;&#x4ECE;&#x521B;&#x5EFA;&#x5230;&#x9500;&#x6BC1;&#x3002;Spring &#x5BB9;&#x5668;&#x4F7F;&#x7528;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#xFF08;DI&#xFF09;&#x6765;&#x7BA1;&#x7406;&#x7EC4;&#x6210;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x7EC4;&#x4EF6;&#x3002;&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x88AB;&#x79F0;&#x4E3A; Spring Beans&#x3002; &#x901A;&#x8FC7;&#x9605;&#x8BFB;&#x914D;&#x7F6E;&#x5143;&#x6570;&#x636E;&#x63D0;&#x4F9B;&#x7684;&#x6307;&#x4EE4;&#xFF0C;&#x5BB9;&#x5668;&#x77E5;&#x9053;&#x5BF9;&#x54EA;&#x4E9B;&#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x5B9E;&#x4F8B;&#x5316;&#xFF0C;&#x914D;&#x7F6E;&#x548C;&#x7EC4;&#x88C5;&#x3002;&#x914D;&#x7F6E;&#x5143;&#x6570;&#x636E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; XML&#xFF0C;Java &#x6CE8;&#x91CA;&#x6216; Java &#x4EE3;&#x7801;&#x6765;&#x8868;&#x793A;&#x3002;&#x4E0B;&#x56FE;&#x662F; Spring &#x5982;&#x4F55;&#x5DE5;&#x4F5C;&#x7684;&#x9AD8;&#x7EA7;&#x89C6;&#x56FE;&#x3002; Spring IoC &#x5BB9;&#x5668;&#x5229;&#x7528; Java &#x7684; POJO &#x7C7B;&#x548C;&#x914D;&#x7F6E;&#x5143;&#x6570;&#x636E;&#x6765;&#x751F;&#x6210;&#x5B8C;&#x5168;&#x914D;&#x7F6E;&#x548C;&#x53EF;&#x6267;&#x884C;&#x7684;&#x7CFB;&#x7EDF;&#x6216;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002; Spring &#x63D0;&#x4F9B;&#x4E86;&#x4EE5;&#x4E0B;&#x4E24;&#x79CD;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x5BB9;&#x5668;&#x3002; &#x5E8F;&#x53F7; &#x5BB9;&#x5668; &#x63CF;&#x8FF0; 1 Spring BeanFactory &#x5BB9;&#x5668; &#x5B83;&#x662F;&#x6700;&#x7B80;&#x5355;&#x7684;&#x5BB9;&#x5668;&#xFF0C;&#x7ED9; DI &#x63D0;&#x4F9B;&#x4E86;&#x57FA;&#x672C;&#x7684;&#x652F;&#x6301;&#xFF0C;&#x5B83;&#x7528; org.springframework.beans.factory.BeanFactory &#x63A5;&#x53E3;&#x6765;&#x5B9A;&#x4E49;&#x3002;BeanFactory &#x6216;&#x8005;&#x76F8;&#x5173;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x5982; BeanFactoryAware&#xFF0C;InitializingBean&#xFF0C;DisposableBean&#xFF0C;&#x5728; Spring &#x4E2D;&#x4ECD;&#x7136;&#x5B58;&#x5728;&#x5177;&#x6709;&#x5927;&#x91CF;&#x7684;&#x4E0E; Spring &#x6574;&#x5408;&#x7684;&#x7B2C;&#x4E09;&#x65B9;&#x6846;&#x67B6;&#x7684;&#x53CD;&#x5411;&#x517C;&#x5BB9;&#x6027;&#x7684;&#x76EE;&#x7684;&#x3002; 2 Spring ApplicationContext &#x5BB9;&#x5668; &#x8BE5;&#x5BB9;&#x5668;&#x6DFB;&#x52A0;&#x4E86;&#x66F4;&#x591A;&#x7684;&#x4F01;&#x4E1A;&#x7279;&#x5B9A;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4F8B;&#x5982;&#x4ECE;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#x6587;&#x4EF6;&#x4E2D;&#x89E3;&#x6790;&#x6587;&#x672C;&#x4FE1;&#x606F;&#x7684;&#x80FD;&#x529B;&#xFF0C;&#x53D1;&#x5E03;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E8B;&#x4EF6;&#x7ED9;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x4E8B;&#x4EF6;&#x76D1;&#x542C;&#x5668;&#x7684;&#x80FD;&#x529B;&#x3002;&#x8BE5;&#x5BB9;&#x5668;&#x662F;&#x7531; org.springframework.context.ApplicationContext &#x63A5;&#x53E3;&#x5B9A;&#x4E49;&#x3002; ApplicationContext &#x5BB9;&#x5668;&#x5305;&#x62EC; BeanFactory &#x5BB9;&#x5668;&#x7684;&#x6240;&#x6709;&#x529F;&#x80FD;&#xFF0C;&#x6240;&#x4EE5;&#x901A;&#x5E38;&#x5EFA;&#x8BAE; &#x4F7F;&#x7528; ApplicationContext&#x3002;BeanFactory &#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x8F7B;&#x91CF;&#x7EA7;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x5982;&#x79FB;&#x52A8;&#x8BBE;&#x5907;&#x6216;&#x57FA;&#x4E8E; applet &#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x5B83;&#x7684;&#x6570;&#x636E;&#x91CF;&#x548C;&#x901F;&#x5EA6;&#x662F;&#x663E;&#x8457;&#x3002; BeanFactory &#x5BB9;&#x5668;&#x7684;&#x4F7F;&#x7528;&#x52A0;&#x5165;&#x4F9D;&#x8D56;123456&lt;!--spring mvc &#x5E95;&#x5C42;&#x81EA;&#x52A8;&#x4F9D;&#x8D56; spring-core&#x3001;spring-context&#x3001;spring-aop&#x3001;spring-web &#x6240;&#x4EE5;&#x4E0D;&#x9700;&#x8981;&#x5728;&#x5BFC;&#x5165;&#x4E86; --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;&lt;/dependency&gt; &#x5728; Java &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; HelloWorld &#x7C7B;12345678910public class HelloWorld { private String message; public void setMessage(String message){ this.message = message; } public void getMessage(){ System.out.println(&quot;Your Message : &quot; + message); }} &#x5728; resources &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; Beans.xml &#x6587;&#x4EF6;123456789101112&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;&gt; &lt;!--&#x7533;&#x660E;&#x7C7B;--&gt; &lt;bean id=&quot;helloWorld&quot; class=&quot;com.marklogzhu.ssm.HelloWorld&quot;&gt; &lt;!--&#x8BBE;&#x7F6E;&#x5C5E;&#x6027;&#x503C;--&gt; &lt;property name=&quot;message&quot; value=&quot;Hello World!&quot;/&gt; &lt;/bean&gt;&lt;/beans&gt; &#x5728; test &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; BeanFactoryTest.java123456789101112public class BeanFactoryTest { @Test public void test(){ // &#x52A0;&#x8F7D; Bean &#x914D;&#x7F6E;&#x6587;&#x4EF6; &#x751F;&#x6210; Bean &#x5DE5;&#x5382;&#x5BF9;&#x8C61; XmlBeanFactory factory = new XmlBeanFactory (new ClassPathResource(&quot;Beans.xml&quot;)); // &#x4ECE;Bean &#x5DE5;&#x5382;&#x5BF9;&#x8C61;&#x4E2D;&#x6839;&#x636E; bean &#x540D;&#x79F0;&#xFF0C;&#x83B7;&#x53D6; bean &#x5BF9;&#x8C61; HelloWorld obj = (HelloWorld) factory.getBean(&quot;helloWorld&quot;); // &#x8C03;&#x7528; getMessage &#x65B9;&#x6CD5; obj.getMessage(); }} &#x8FD0;&#x884C;&#xFF0C;&#x89C2;&#x5BDF;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;1Your Message : Hello World! ApplicationContext &#x5BB9;&#x5668;&#x7684;&#x4F7F;&#x7528;maven &#x4F9D;&#x8D56; + HelloWorld &#x7C7B; + Beans.xml &#x6587;&#x4EF6;&#x4E4B;&#x524D;&#x5DF2;&#x7ECF;&#x751F;&#x6210;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x7684;&#x8BDD;&#x8BF7;&#x5148;&#x751F;&#x6210;&#x3002; &#x5728; test &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; ApplicationContextTest.java12345678910public class ApplicationContextTest { @Test public void test(){ // &#x8FD9;&#x91CC;&#x9700;&#x8981;&#x5B8C;&#x6574;&#x7684;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#xFF0C;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; ClassPathXmlApplicationContext &#x6216; WebXmlApplicationContext &#x6765;&#x52A0;&#x8F7D;&#x914D;&#x7F6E;&#x6587;&#x4EF6; ApplicationContext context = new FileSystemXmlApplicationContext (&quot;E:\\\\IdeaProject\\\\learn\\\\ssm\\\\src\\\\main\\\\resources\\\\Beans.xml&quot;); HelloWorld obj = (HelloWorld) context.getBean(&quot;helloWorld&quot;); obj.getMessage(); }} &#x8FD0;&#x884C;&#xFF0C;&#x89C2;&#x5BDF;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;1Your Message : Hello World!","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"},{"name":"Spring","slug":"Spring","permalink":"https://marklogzhu.github.io/tags/Spring/"}]},{"title":"Spring学习总结(一)--入门","date":"2018-05-16T02:18:00.000Z","path":"Spring/后台/Java/Spring/Spring学习总结(一)--入门/","text":"&#x65E0;&#x8BBA;&#x662F; SSH &#x8FD8;&#x662F; SSM &#x4E2D;&#x95F4;&#x7684; S &#x90FD;&#x8868;&#x793A; Spring,&#x4ECE;&#x8FD9;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x51FA; Spring &#x7684;&#x91CD;&#x8981;&#x6027;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x4ECA;&#x5929;&#x5C31;&#x6765;&#x770B;&#x770B; Spring &#x662F;&#x4EC0;&#x4E48;&#x4E1C;&#x897F;! &#x4EC0;&#x4E48;&#x662F; SpringSpring &#x662F;&#x4E00;&#x4E2A;&#x5F00;&#x653E;&#x6E90;&#x4EE3;&#x7801;&#x7684;&#x8BBE;&#x8BA1;&#x5C42;&#x9762;&#x6846;&#x67B6;&#xFF0C;&#x4ED6;&#x89E3;&#x51B3;&#x7684;&#x662F;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x5C42;&#x548C;&#x5176;&#x4ED6;&#x5404;&#x5C42;&#x7684;&#x677E;&#x8026;&#x5408;&#x95EE;&#x9898;&#xFF0C;&#x56E0;&#x6B64;&#x5B83;&#x5C06;&#x9762;&#x5411;&#x63A5;&#x53E3;&#x7684;&#x7F16;&#x7A0B;&#x601D;&#x60F3;&#x8D2F;&#x7A7F;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x5E94;&#x7528;&#x3002;Spring &#x662F;&#x4E8E;2003 &#x5E74;&#x5174;&#x8D77;&#x7684;&#x4E00;&#x4E2A;&#x8F7B;&#x91CF;&#x7EA7;&#x7684; Java &#x5F00;&#x53D1;&#x6846;&#x67B6;&#xFF0C;&#x7531; Rod Johnson&#x521B;&#x5EFA;&#x3002;&#x7B80;&#x5355;&#x6765;&#x8BF4;&#xFF0C;Spring &#x662F;&#x4E00;&#x4E2A;&#x5206;&#x5C42;&#x7684; JavaSE/EE full-stack(&#x4E00;&#x7AD9;&#x5F0F;) &#x8F7B;&#x91CF;&#x7EA7;&#x5F00;&#x6E90;&#x6846;&#x67B6;&#x3002; &#x4F7F;&#x7528; Spring &#x7684;&#x597D;&#x5904; Spring &#x53EF;&#x4EE5;&#x4F7F;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x4F7F;&#x7528; POJOs &#x5F00;&#x53D1;&#x4F01;&#x4E1A;&#x7EA7;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;&#x53EA;&#x4F7F;&#x7528; POJOs &#x7684;&#x597D;&#x5904;&#x662F;&#x4F60;&#x4E0D;&#x9700;&#x8981;&#x4E00;&#x4E2A; EJB &#x5BB9;&#x5668;&#x4EA7;&#x54C1;&#xFF0C;&#x6BD4;&#x5982;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4F46;&#x662F;&#x4F60;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x5065;&#x58EE;&#x7684; servlet &#x5BB9;&#x5668;&#xFF0C;&#x6BD4;&#x5982; Tomcat &#x6216;&#x8005;&#x4E00;&#x4E9B;&#x5546;&#x4E1A;&#x4EA7;&#x54C1;&#x3002; Spring &#x5728;&#x4E00;&#x4E2A;&#x5355;&#x5143;&#x6A21;&#x5F0F;&#x4E2D;&#x662F;&#x6709;&#x7EC4;&#x7EC7;&#x7684;&#x3002;&#x5373;&#x4F7F;&#x5305;&#x548C;&#x7C7B;&#x7684;&#x6570;&#x91CF;&#x975E;&#x5E38;&#x5927;&#xFF0C;&#x4F60;&#x53EA;&#x8981;&#x62C5;&#x5FC3;&#x4F60;&#x9700;&#x8981;&#x7684;&#xFF0C;&#x800C;&#x5176;&#x5B83;&#x7684;&#x5C31;&#x53EF;&#x4EE5;&#x5FFD;&#x7565;&#x4E86;&#x3002; Spring &#x4E0D;&#x4F1A;&#x8BA9;&#x4F60;&#x767D;&#x8D39;&#x529B;&#x6C14;&#x505A;&#x91CD;&#x590D;&#x5DE5;&#x4F5C;&#xFF0C;&#x5B83;&#x771F;&#x6B63;&#x7684;&#x5229;&#x7528;&#x4E86;&#x4E00;&#x4E9B;&#x73B0;&#x6709;&#x7684;&#x6280;&#x672F;&#xFF0C;&#x50CF; ORM &#x6846;&#x67B6;&#x3001;&#x65E5;&#x5FD7;&#x6846;&#x67B6;&#x3001;JEE&#x3001;Quartz &#x548C; JDK &#x8BA1;&#x65F6;&#x5668;&#xFF0C;&#x5176;&#x4ED6;&#x89C6;&#x56FE;&#x6280;&#x672F;&#x3002; &#x6D4B;&#x8BD5;&#x4E00;&#x4E2A;&#x7528; Spring &#x7F16;&#x5199;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5F88;&#x5BB9;&#x6613;&#xFF0C;&#x56E0;&#x4E3A;&#x73AF;&#x5883;&#x76F8;&#x5173;&#x7684;&#x4EE3;&#x7801;&#x88AB;&#x79FB;&#x52A8;&#x5230;&#x8FD9;&#x4E2A;&#x6846;&#x67B6;&#x4E2D;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x901A;&#x8FC7;&#x4F7F;&#x7528; JavaBean-style POJOs&#xFF0C;&#x5B83;&#x5728;&#x4F7F;&#x7528;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x6CE8;&#x5165;&#x6D4B;&#x8BD5;&#x6570;&#x636E;&#x65F6;&#x53D8;&#x5F97;&#x66F4;&#x5BB9;&#x6613;&#x3002; Spring &#x7684; web &#x6846;&#x67B6;&#x662F;&#x4E00;&#x4E2A;&#x8BBE;&#x8BA1;&#x826F;&#x597D;&#x7684; web MVC &#x6846;&#x67B6;&#xFF0C;&#x5B83;&#x4E3A;&#x6BD4;&#x5982; Structs &#x6216;&#x8005;&#x5176;&#x4ED6;&#x5DE5;&#x7A0B;&#x4E0A;&#x7684;&#x6216;&#x8005;&#x4E0D;&#x600E;&#x4E48;&#x53D7;&#x6B22;&#x8FCE;&#x7684; web &#x6846;&#x67B6;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x5F88;&#x597D;&#x7684;&#x4F9B;&#x66FF;&#x4EE3;&#x7684;&#x9009;&#x62E9;&#x3002; Spring &#x5BF9; JavaEE &#x5F00;&#x53D1;&#x4E2D;&#x975E;&#x5E38;&#x96BE;&#x7528;&#x7684;&#x4E00;&#x4E9B; API&#xFF08;JDBC&#x3001;JavaMail&#x3001;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x7B49;&#xFF09;&#xFF0C;&#x90FD;&#x63D0;&#x4F9B;&#x4E86;&#x5C01;&#x88C5;&#xFF0C;&#x4F7F;&#x8FD9;&#x4E9B; API &#x5E94;&#x7528;&#x96BE;&#x5EA6;&#x5927;&#x5927;&#x964D;&#x4F4E;&#x3002; &#x8F7B;&#x91CF;&#x7EA7;&#x7684; IOC &#x5BB9;&#x5668;&#x5F80;&#x5F80;&#x662F;&#x8F7B;&#x91CF;&#x7EA7;&#x7684;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x5F53;&#x4E0E; EJB &#x5BB9;&#x5668;&#x76F8;&#x6BD4;&#x7684;&#x65F6;&#x5019;&#x3002;&#x8FD9;&#x6709;&#x5229;&#x4E8E;&#x5728;&#x5185;&#x5B58;&#x548C; CPU &#x8D44;&#x6E90;&#x6709;&#x9650;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x4E0A;&#x5F00;&#x53D1;&#x548C;&#x90E8;&#x7F72;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002; Spring &#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x81F4;&#x7684;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x63A5;&#x53E3;&#xFF0C;&#x53EF;&#x5411;&#x4E0B;&#x6269;&#x5C55;&#x5230;&#xFF08;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x5355;&#x4E00;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x4F8B;&#x5982;&#xFF09;&#x672C;&#x5730;&#x4E8B;&#x52A1;&#x5E76;&#x6269;&#x5C55;&#x5230;&#x5168;&#x5C40;&#x4E8B;&#x52A1;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;&#x4F7F;&#x7528; JTA&#xFF09;&#x3002; Spring &#x4E24;&#x5927;&#x7279;&#x6027;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#xFF08;DI&#xFF09;Spring &#x6838;&#x5FC3;&#x4E4B;&#x4E00;&#x5C31;&#x662F;&#x63A7;&#x5236;&#x53CD;&#x8F6C;&#x7684;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#xFF08;DI&#xFF09;&#x6A21;&#x5F0F;&#x3002;&#x63A7;&#x5236;&#x53CD;&#x8F6C;&#xFF08;IoC&#xFF09;&#x662F;&#x4E00;&#x4E2A;&#x901A;&#x7528;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x7528;&#x8BB8;&#x591A;&#x4E0D;&#x540C;&#x7684;&#x65B9;&#x5F0F;&#x53BB;&#x8868;&#x8FBE;&#xFF0C;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x4EC5;&#x4EC5;&#x662F;&#x63A7;&#x5236;&#x53CD;&#x8F6C;&#x7684;&#x4E00;&#x4E2A;&#x5177;&#x4F53;&#x7684;&#x4F8B;&#x5B50;&#x3002; &#x5F53;&#x7F16;&#x5199;&#x4E00;&#x4E2A;&#x590D;&#x6742;&#x7684; Java &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x65F6;&#xFF0C;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7C7B;&#x5E94;&#x8BE5;&#x5C3D;&#x53EF;&#x80FD;&#x7684;&#x72EC;&#x7ACB;&#x4E8E;&#x5176;&#x4ED6;&#x7684; Java &#x7C7B;&#x6765;&#x589E;&#x52A0;&#x8FD9;&#x4E9B;&#x7C7B;&#x53EF;&#x91CD;&#x7528;&#x53EF;&#x80FD;&#x6027;&#xFF0C;&#x5F53;&#x8FDB;&#x884C;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x5B83;&#x4EEC;&#x72EC;&#x7ACB;&#x4E8E;&#x5176;&#x4ED6;&#x7C7B;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x3002;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#xFF08;&#x6216;&#x8005;&#x6709;&#x65F6;&#x88AB;&#x79F0;&#x4E3A;&#x914D;&#x7EBF;&#xFF09;&#x6709;&#x52A9;&#x4E8E;&#x5C06;&#x8FD9;&#x4E9B;&#x7C7B;&#x7C98;&#x5408;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#x8BA9;&#x5B83;&#x4EEC;&#x4FDD;&#x6301;&#x72EC;&#x7ACB;&#x3002; &#x5230;&#x5E95;&#x4EC0;&#x4E48;&#x662F;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#xFF1F;&#x8BA9;&#x6211;&#x4EEC;&#x5C06;&#x8FD9;&#x4E24;&#x4E2A;&#x8BCD;&#x5206;&#x5F00;&#x6765;&#x770B;&#x4E00;&#x770B;&#x3002;&#x8FD9;&#x91CC;&#x5C06;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x90E8;&#x5206;&#x8F6C;&#x5316;&#x4E3A;&#x4E24;&#x4E2A;&#x7C7B;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x8054;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x7C7B; A &#x4F9D;&#x8D56;&#x4E8E;&#x7C7B; B&#x3002;&#x73B0;&#x5728;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x770B;&#x4E00;&#x770B;&#x7B2C;&#x4E8C;&#x90E8;&#x5206;&#xFF0C;&#x6CE8;&#x5165;&#x3002;&#x6240;&#x6709;&#x8FD9;&#x4E00;&#x5207;&#x90FD;&#x610F;&#x5473;&#x7740;&#x7C7B; B &#x5C06;&#x901A;&#x8FC7; IoC &#x88AB;&#x6CE8;&#x5165;&#x5230;&#x7C7B; A &#x4E2D;&#x3002; &#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x53EF;&#x4EE5;&#x4EE5;&#x5411;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4F20;&#x9012;&#x53C2;&#x6570;&#x7684;&#x65B9;&#x5F0F;&#x53D1;&#x751F;&#xFF0C;&#x6216;&#x8005;&#x901A;&#x8FC7;&#x4F7F;&#x7528; setter &#x65B9;&#x6CD5; post-construction&#x3002;&#x7531;&#x4E8E;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x662F; Spring &#x6846;&#x67B6;&#x7684;&#x6838;&#x5FC3;&#x90E8;&#x5206;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x5C06;&#x5728;&#x4E4B;&#x540E;&#x7684;&#x7AE0;&#x8282;&#x4E2D;&#x5229;&#x7528;&#x5B9E;&#x4F8B;&#x53BB;&#x89E3;&#x91CA;&#x8FD9;&#x4E00;&#x6982;&#x5FF5;&#x3002; &#x9762;&#x5411;&#x65B9;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x8BBE;&#x8BA1;&#xFF08;AOP&#xFF09;Spring &#x6846;&#x67B6;&#x7684;&#x4E00;&#x4E2A;&#x5173;&#x952E;&#x7EC4;&#x4EF6;&#x662F;&#x9762;&#x5411;&#x65B9;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x8BBE;&#x8BA1;&#xFF08;AOP&#xFF09;&#x6846;&#x67B6;&#x3002;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x4E2D;&#x8DE8;&#x8D8A;&#x591A;&#x4E2A;&#x70B9;&#x7684;&#x529F;&#x80FD;&#x88AB;&#x79F0;&#x4E3A;&#x6A2A;&#x5207;&#x5173;&#x6CE8;&#x70B9;&#xFF0C;&#x8FD9;&#x4E9B;&#x6A2A;&#x5207;&#x5173;&#x6CE8;&#x70B9;&#x5728;&#x6982;&#x5FF5;&#x4E0A;&#x72EC;&#x7ACB;&#x4E8E;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x3002;&#x6709;&#x5404;&#x79CD;&#x5404;&#x6837;&#x5E38;&#x89C1;&#x7684;&#x5F88;&#x597D;&#x7684;&#x5173;&#x4E8E;&#x65B9;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x6BD4;&#x5982;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x3001;&#x58F0;&#x660E;&#x6027;&#x4E8B;&#x52A1;&#x3001;&#x5B89;&#x5168;&#x6027;&#xFF0C;&#x548C;&#x7F13;&#x5B58;&#x7B49;&#x7B49;&#x3002; &#x5728; OOP &#x4E2D;&#x6A21;&#x5757;&#x5316;&#x7684;&#x5173;&#x952E;&#x5355;&#x5143;&#x662F;&#x7C7B;&#xFF0C;&#x800C;&#x5728; AOP &#x4E2D;&#x6A21;&#x5757;&#x5316;&#x7684;&#x5173;&#x952E;&#x5355;&#x5143;&#x662F;&#x5207;&#x9762;&#x3002;AOP &#x5E2E;&#x52A9;&#x4F60;&#x5C06;&#x6A2A;&#x5207;&#x5173;&#x6CE8;&#x70B9;&#x4ECE;&#x5B83;&#x4EEC;&#x6240;&#x5F71;&#x54CD;&#x7684;&#x5BF9;&#x8C61;&#x4E2D;&#x5206;&#x79BB;&#x51FA;&#x6765;&#xFF0C;&#x7136;&#x800C;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x5E2E;&#x52A9;&#x4F60;&#x5C06;&#x4F60;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5BF9;&#x8C61;&#x4ECE;&#x5F7C;&#x6B64;&#x4E2D;&#x5206;&#x79BB;&#x51FA;&#x6765;&#x3002; Spring &#x6846;&#x67B6;&#x7684; AOP &#x6A21;&#x5757;&#x63D0;&#x4F9B;&#x4E86;&#x9762;&#x5411;&#x65B9;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x8BBE;&#x8BA1;&#x5B9E;&#x73B0;&#xFF0C;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x8BF8;&#x5982;&#x65B9;&#x6CD5;&#x62E6;&#x622A;&#x5668;&#x548C;&#x5207;&#x5165;&#x70B9;&#x7B49;&#xFF0C;&#x4ECE;&#x800C;&#x4F7F;&#x5B9E;&#x73B0;&#x529F;&#x80FD;&#x7684;&#x4EE3;&#x7801;&#x5F7B;&#x5E95;&#x7684;&#x89E3;&#x8026;&#x51FA;&#x6765;&#x3002;&#x4F7F;&#x7528;&#x6E90;&#x7801;&#x7EA7;&#x7684;&#x5143;&#x6570;&#x636E;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x7C7B;&#x4F3C;&#x4E8E; .Net &#x5C5E;&#x6027;&#x7684;&#x65B9;&#x5F0F;&#x5408;&#x5E76;&#x884C;&#x4E3A;&#x4FE1;&#x606F;&#x5230;&#x4EE3;&#x7801;&#x4E2D;&#x3002;&#x6211;&#x5C06;&#x5728;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x7AE0;&#x8282;&#x4E2D;&#x8BA8;&#x8BBA;&#x66F4;&#x591A;&#x5173;&#x4E8E; Spring AOP &#x7684;&#x6982;&#x5FF5;&#x3002; Spring &#x6838;&#x5FC3;&#x4F53;&#x7CFB;&#x7ED3;&#x6784;(4.3.11&#x7248;&#x672C;) &#x4ECE;&#x4E0A;&#x56FE;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;&#x4EE5;&#x4E0B;&#x51E0;&#x4E2A;&#x6A21;&#x5757;&#xFF1A; core aop data access web test corecore &#x5305;&#x542B;4&#x4E2A;&#x6A21;&#x5757;: * spring-core&#xFF1A;&#x4F9D;&#x8D56;&#x6CE8;&#x5165; IoC &#x4E0E; DI &#x7684;&#x6700;&#x57FA;&#x672C;&#x5B9E;&#x73B0; * spring-beans&#xFF1A;Bean &#x5DE5;&#x5382;&#x4E0E; bean &#x7684;&#x88C5;&#x914D; * spring-context&#xFF1A;spring &#x7684; context &#x4E0A;&#x4E0B;&#x6587;,&#x5373; IoC &#x5BB9;&#x5668; * spring-expression&#xFF1A;spring &#x8868;&#x8FBE;&#x5F0F;&#x8BED;&#x8A00; &#x5B83;&#x4EEC;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x5982;&#x4E0B;&#xFF1A; aopaop&#x90E8;&#x5206;&#x5305;&#x542B;4&#x4E2A;&#x6A21;&#x5757;: * spring-aop&#xFF1A;&#x9762;&#x5411;&#x5207;&#x9762;&#x7F16;&#x7A0B; * spring-aspects&#xFF1A;&#x96C6;&#x6210; AspectJ * spring-instrument&#xFF1A;&#x63D0;&#x4F9B;&#x4E00;&#x4E9B;&#x7C7B;&#x7EA7;&#x7684;&#x5DE5;&#x5177;&#x652F;&#x6301;&#x548C; ClassLoader &#x7EA7;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x7528;&#x4E8E;&#x670D;&#x52A1;&#x5668; * spring-instrument-tomcat&#xFF1A;&#x9488;&#x5BF9; tomcat &#x7684; instrument &#x5B9E;&#x73B0; &#x5B83;&#x4EEC;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x5982;&#x4E0B;&#xFF1A; data accessdata access&#x90E8;&#x5206;&#x5305;&#x542B;5&#x4E2A;&#x6A21;&#x5757;: * spring-jdbc&#xFF1A;jdbc&#x7684;&#x652F;&#x6301; * spring-tx&#xFF1A;&#x4E8B;&#x52A1;&#x63A7;&#x5236; * spring-orm&#xFF1A;&#x5BF9;&#x8C61;&#x5173;&#x7CFB;&#x6620;&#x5C04;&#xFF0C;&#x96C6;&#x6210;orm&#x6846;&#x67B6; * spring-oxm&#xFF1A;&#x5BF9;&#x8C61;xml&#x6620;&#x5C04; * spring-jms&#xFF1A;java&#x6D88;&#x606F;&#x670D;&#x52A1; &#x5B83;&#x4EEC;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x5982;&#x4E0B;&#xFF1A; webweb&#x90E8;&#x5206;&#x5305;&#x542B;4&#x4E2A;&#x6A21;&#x5757;&#xFF1A; * spring-web&#xFF1A;&#x57FA;&#x7840;web&#x529F;&#x80FD;&#xFF0C;&#x5982;&#x6587;&#x4EF6;&#x4E0A;&#x4F20; * spring-webmvc&#xFF1A;mvc&#x5B9E;&#x73B0; * spring-websocket&#xFF1A;&#x4E3A;web&#x5E94;&#x7528;&#x63D0;&#x4F9B;&#x7684;&#x9AD8;&#x6548;&#x901A;&#x4FE1;&#x5DE5;&#x5177; * spring-messaging&#xFF1A;&#x7528;&#x4E8E;&#x6784;&#x5EFA;&#x57FA;&#x4E8E;&#x6D88;&#x606F;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F; &#x5B83;&#x4EEC;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x5982;&#x4E0B;: testtest &#x90E8;&#x5206;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#xFF0C;&#x6211;&#x5C06; spring-context-support &#x4E5F;&#x653E;&#x5728;&#x8FD9;&#x5427; * spring-test&#xFF1A;spring&#x6D4B;&#x8BD5;&#xFF0C;&#x63D0;&#x4F9B;junit&#x4E0E;mock&#x6D4B;&#x8BD5;&#x529F;&#x80FD; * spring-context-support&#xFF1A;spring&#x989D;&#x5916;&#x652F;&#x6301;&#x5305;&#xFF0C;&#x6BD4;&#x5982;&#x90AE;&#x4EF6;&#x670D;&#x52A1;&#x3001;&#x89C6;&#x56FE;&#x89E3;&#x6790;&#x7B49; &#x5B83;&#x4EEC;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x5982;&#x4E0B;:","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"},{"name":"Spring","slug":"Spring","permalink":"https://marklogzhu.github.io/tags/Spring/"}]},{"title":"SpringMVC学习总结(八)--拦截器","date":"2018-05-15T09:10:00.000Z","path":"SpringMVC/后台/Java/SpringMVC/SpringMVC学习总结(八)--拦截器/","text":"&#x4E00;&#x822C;&#x9879;&#x76EE;&#x90FD;&#x6709;&#x767B;&#x5F55;&#x9A8C;&#x8BC1;&#x529F;&#x80FD;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x6BCF;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x91CC;&#x90FD;&#x8C03;&#x7528;&#x4E00;&#x904D;&#x767B;&#x5F55;&#x9A8C;&#x8BC1;&#x529F;&#x80FD;&#x5B9E;&#x5728;&#x662F;&#x592A;&#x8FC7;&#x7E41;&#x7410;&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x4E86;&#x89E3;&#x62E6;&#x622A;&#x5668;&#x7684;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x5C31;&#x4E0D;&#x5728;&#x8BDD;&#x4E0B;&#x4E86;&#xFF01; HandlerInterceptorSpringMVC &#x7684;&#x5904;&#x7406;&#x5668;&#x62E6;&#x622A;&#x5668;&#x7C7B;&#x4F3C;&#x4E8E; Servlet &#x5F00;&#x53D1;&#x4E2D;&#x7684;&#x8FC7;&#x6EE4;&#x5668; Filter&#xFF0C;&#x7528;&#x4E8E;&#x5BF9;&#x5904;&#x7406;&#x5668;&#x8FDB;&#x884C;&#x9884;&#x5904;&#x7406;&#x548C;&#x540E;&#x5904;&#x7406;&#x3002; SpringMVC &#x4E2D;&#x53EA;&#x9700;&#x8981;&#x5B9E;&#x73B0; HandlerInterceptor &#x63A5;&#x53E3;&#xFF1A; 12345678910111213141516171819202122232425262728293031323334353637public class HandlerInterceptor1 implements HandlerInterceptor{ /** * controller&#x6267;&#x884C;&#x524D;&#x8C03;&#x7528;&#x6B64;&#x65B9;&#x6CD5; * &#x8FD4;&#x56DE;true&#x8868;&#x793A;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#xFF0C;&#x8FD4;&#x56DE;false&#x4E2D;&#x6B62;&#x6267;&#x884C; * &#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x52A0;&#x5165;&#x767B;&#x5F55;&#x6821;&#x9A8C;&#x3001;&#x6743;&#x9650;&#x62E6;&#x622A;&#x7B49; */ @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception { return false; } /** * controller&#x6267;&#x884C;&#x540E;&#x4F46;&#x672A;&#x8FD4;&#x56DE;&#x89C6;&#x56FE;&#x524D;&#x8C03;&#x7528;&#x6B64;&#x65B9;&#x6CD5; * &#x8FD9;&#x91CC;&#x53EF;&#x5728;&#x8FD4;&#x56DE;&#x7528;&#x6237;&#x524D;&#x5BF9;&#x6A21;&#x578B;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x52A0;&#x5DE5;&#x5904;&#x7406;&#xFF0C;&#x6BD4;&#x5982;&#x8FD9;&#x91CC;&#x52A0;&#x5165;&#x516C;&#x7528;&#x4FE1;&#x606F;&#x4EE5;&#x4FBF;&#x9875;&#x9762;&#x663E;&#x793A; */ @Override public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception { // TODO Auto-generated method stub } /** * controller&#x6267;&#x884C;&#x540E;&#x4E14;&#x89C6;&#x56FE;&#x8FD4;&#x56DE;&#x540E;&#x8C03;&#x7528;&#x6B64;&#x65B9;&#x6CD5; * &#x8FD9;&#x91CC;&#x53EF;&#x5F97;&#x5230;&#x6267;&#x884C;controller&#x65F6;&#x7684;&#x5F02;&#x5E38;&#x4FE1;&#x606F; * &#x8FD9;&#x91CC;&#x53EF;&#x8BB0;&#x5F55;&#x64CD;&#x4F5C;&#x65E5;&#x5FD7;&#xFF0C;&#x8D44;&#x6E90;&#x6E05;&#x7406;&#x7B49; */ @Override public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception { // }} HandlerInterceptorAdapter&#x6709;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x53EF;&#x80FD;&#x53EA;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x4E09;&#x4E2A;&#x56DE;&#x8C03;&#x65B9;&#x6CD5;&#x4E2D;&#x7684;&#x67D0;&#x4E00;&#x4E2A;&#xFF0C;&#x5982;&#x679C;&#x5B9E;&#x73B0; HandlerInterceptor &#x63A5;&#x53E3;&#x7684;&#x8BDD;&#xFF0C;&#x4E09;&#x4E2A;&#x65B9;&#x6CD5;&#x5FC5;&#x987B;&#x5B9E;&#x73B0;&#xFF0C;&#x4E0D;&#x7BA1;&#x4F60;&#x9700;&#x4E0D;&#x9700;&#x8981;&#xFF0C;&#x6B64;&#x65F6; spring &#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A; HandlerInterceptorAdapter &#x9002;&#x914D;&#x5668;&#xFF08;&#x9002;&#x914D;&#x5668;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x7684;&#x5B9E;&#x73B0;&#xFF09;&#xFF0C;&#x5141;&#x8BB8;&#x6211;&#x4EEC;&#x53EA;&#x5B9E;&#x73B0;&#x9700;&#x8981;&#x7684;&#x56DE;&#x8C03;&#x65B9;&#x6CD5;&#x3002; &#x5B9E;&#x6218;&#x8BF7;&#x53C2;&#x8003;&#x53E6;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;Http&#x8BF7;&#x6C42;&#x524D;&#x540E;&#x76D1;&#x542C;&#x5DE5;&#x5177;-HttpInterceptor","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"},{"name":"SpringMVC","slug":"SpringMVC","permalink":"https://marklogzhu.github.io/tags/SpringMVC/"}]},{"title":"SpringMVC学习总结(七)--异常处理器","date":"2018-05-15T08:46:00.000Z","path":"SpringMVC/后台/Java/SpringMVC/SpringMVC学习总结(七)--异常处理器/","text":"&#x5728;&#x9879;&#x76EE;&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x9047;&#x5230;&#x5F02;&#x5E38;&#x662F;&#x5F88;&#x6B63;&#x5E38;&#x7684;&#x4E00;&#x4EF6;&#x4E8B;&#x60C5;&#xFF0C;&#x4F46;&#x662F;&#x4F60;&#x5982;&#x679C;&#x4E0D;&#x5904;&#x7406;&#x800C;&#x8BA9;&#x7528;&#x6237;&#x611F;&#x77E5;&#x5230;&#x5F02;&#x5E38;&#x4FE1;&#x606F;&#xFF0C;&#x90A3;&#x4E48;&#x7528;&#x6237;&#x5BF9;&#x4F60;&#x7684;&#x7CFB;&#x7EDF;&#x7684;&#x4FE1;&#x4EFB;&#x80AF;&#x5B9A;&#x8981;&#x6253;&#x6298;&#x6263;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x4ECA;&#x5929;&#x6211;&#x4EEC;&#x5C31;&#x5B66;&#x4E60;&#x4E0B; SpringMVC &#x7684;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x5668;&#x3002; &#x5F02;&#x5E38;&#x5904;&#x7406;&#x601D;&#x8DEF;&#x7CFB;&#x7EDF;&#x4E2D;&#x5F02;&#x5E38;&#x5305;&#x62EC;&#x4E24;&#x7C7B;&#xFF1A;&#x9884;&#x671F;&#x5F02;&#x5E38;&#x548C;&#x8FD0;&#x884C;&#x65F6;&#x5F02;&#x5E38; RuntimeException&#xFF0C;&#x524D;&#x8005;&#x901A;&#x8FC7;&#x6355;&#x83B7;&#x5F02;&#x5E38;&#x4ECE;&#x800C;&#x83B7;&#x53D6;&#x5F02;&#x5E38;&#x4FE1;&#x606F;&#xFF0C;&#x540E;&#x8005;&#x4E3B;&#x8981;&#x901A;&#x8FC7;&#x89C4;&#x8303;&#x4EE3;&#x7801;&#x5F00;&#x53D1;&#x3001;&#x6D4B;&#x8BD5;&#x901A;&#x8FC7;&#x624B;&#x6BB5;&#x51CF;&#x5C11;&#x8FD0;&#x884C;&#x65F6;&#x5F02;&#x5E38;&#x7684;&#x53D1;&#x751F;&#x3002; &#x7CFB;&#x7EDF;&#x7684; dao&#x3001;service&#x3001;controller &#x51FA;&#x73B0;&#x90FD;&#x901A;&#x8FC7; throws Exception &#x5411;&#x4E0A;&#x629B;&#x51FA;&#xFF0C;&#x6700;&#x540E;&#x7531;springmvc &#x524D;&#x7AEF;&#x63A7;&#x5236;&#x5668;&#x4EA4;&#x7531;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x5668;&#x8FDB;&#x884C;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x3002; &#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x7C7B;&#x4E3A;&#x4E86;&#x533A;&#x522B;&#x4E0D;&#x540C;&#x7684;&#x5F02;&#x5E38;&#x901A;&#x5E38;&#x6839;&#x636E;&#x5F02;&#x5E38;&#x7C7B;&#x578B;&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x7C7B;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x81EA;&#x5B9A;&#x4E49;&#x7CFB;&#x7EDF;&#x5F02;&#x5E38;&#xFF0C;&#x5982;&#x679C;controller&#x3001;service&#x3001;dao &#x629B;&#x51FA;&#x6B64;&#x7C7B;&#x5F02;&#x5E38;&#x8BF4;&#x660E;&#x662F;&#x7CFB;&#x7EDF;&#x9884;&#x671F;&#x5904;&#x7406;&#x7684;&#x5F02;&#x5E38;&#x4FE1;&#x606F;&#x3002; 123456789101112131415161718192021public class CustomException extends Exception { private static final long serialVersionUID = -5212079010855161498L; public CustomException(String message){ super(message); this.message = message; } //&#x5F02;&#x5E38;&#x4FE1;&#x606F; private String message; public String getMessage() { return message; } public void setMessage(String message) { this.message = message; }} &#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x5668;12345678910111213141516171819public class CustomExceptionResolver implements HandlerExceptionResolver { @Override public ModelAndView resolveException(HttpServletRequest request,HttpServletResponse response, Object handler, Exception ex) { ex.printStackTrace(); CustomException customException = null; //&#x5982;&#x679C;&#x629B;&#x51FA;&#x7684;&#x662F;&#x7CFB;&#x7EDF;&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x5219;&#x76F4;&#x63A5;&#x8F6C;&#x6362; if(ex instanceof CustomException){ customException = (CustomException)ex; }else{ //&#x5982;&#x679C;&#x629B;&#x51FA;&#x7684;&#x4E0D;&#x662F;&#x7CFB;&#x7EDF;&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x5219;&#x91CD;&#x65B0;&#x6784;&#x9020;&#x4E00;&#x4E2A;&#x7CFB;&#x7EDF;&#x9519;&#x8BEF;&#x5F02;&#x5E38;&#x3002; customException = new CustomException(&quot;&#x7CFB;&#x7EDF;&#x9519;&#x8BEF;&#xFF0C;&#x8BF7;&#x4E0E;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406; &#x5458;&#x8054;&#x7CFB;&#xFF01;&quot;); } ModelAndView modelAndView = new ModelAndView(); modelAndView.addObject(&quot;message&quot;, customException.getMessage()); modelAndView.setViewName(&quot;error&quot;); return modelAndView; }} &#x9519;&#x8BEF;&#x9875;&#x9762;12345678910&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Title&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &#x5F02;&#x5E38;&#x4FE1;&#x606F;&#xFF1A;&lt;h3 th:text=&quot;${message}&quot;&gt;&lt;/h3&gt; &lt;/body&gt;&lt;/html&gt; &#x5F02;&#x5E38;&#x5904;&#x7406;&#x5668;&#x914D;&#x7F6E;&#x5728;springmvc.xml&#x4E2D;&#x6DFB;&#x52A0;&#xFF1A; 12&lt;!-- &#x5F02;&#x5E38;&#x5904;&#x7406;&#x5668; --&gt;&lt;bean id=&quot;handlerExceptionResolver&quot; class=&quot;cn.itcast.ssm.controller.exceptionResolver.CustomExceptionResolver&quot;/&gt; &#x5F02;&#x5E38;&#x65B9;&#x6CD5;&#x5B9A;&#x4E49;123456@RequestMapping(&quot;/exception&quot;)@ResponseBodypublic String testException() { int s = 5 / 0; return &quot;Success&quot;;} &#x4EE5;&#x4E0A;&#x53EA;&#x662F;&#x793A;&#x4F8B;&#xFF0C;&#x5B9E;&#x9645;&#x9879;&#x76EE;&#x53EF;&#x4EE5;&#x53C2;&#x7167;&#x6211;&#x7684;&#x53E6;&#x4E00;&#x7BC7;&#x6587;&#x7AE0; SSM&#x6846;&#x67B6;&#x7EDF;&#x4E00;&#x5F02;&#x5E38;&#x5904;&#x7406;","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"},{"name":"SpringMVC","slug":"SpringMVC","permalink":"https://marklogzhu.github.io/tags/SpringMVC/"}]},{"title":"SpringMVC学习总结(六)--文件上传下载","date":"2018-05-15T08:30:00.000Z","path":"SpringMVC/后台/Java/SpringMVC/SpringMVC学习总结(六)--文件上传下载/","text":"&#x6587;&#x4EF6;&#x7684;&#x4E0A;&#x4F20;&#x4E0E;&#x4E0B;&#x8F7D;&#x529F;&#x80FD;&#x5728;&#x9879;&#x76EE;&#x4E2D;&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x5F88;&#x9891;&#x7E41;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4ECA;&#x5929;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x64CD;&#x4F5C;&#x4E0B;&#x6587;&#x4EF6;&#x7684;&#x4E0A;&#x4F20;&#x4E0E;&#x4E0B;&#x8F7D;&#x3002; MultipartFileSpringMVC &#x4F1A;&#x5C06;&#x4E0A;&#x4F20;&#x7684;&#x6587;&#x4EF6;&#x7ED1;&#x5B9A;&#x5230; MultipartFile &#x5BF9;&#x8C61;&#x4E2D;&#x3002;MultipartFile &#x63D0;&#x4F9B;&#x4E86;&#x83B7;&#x53D6;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x3001;&#x6587;&#x4EF6;&#x540D;&#x7B49;&#x65B9;&#x6CD5;&#x3002;&#x901A;&#x8FC7; transferTo() &#x65B9;&#x6CD5;&#x8FD8;&#x53EF;&#x4EE5;&#x5C06;&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x5230;&#x786C;&#x4EF6;&#x4E2D;&#x3002; MultipartFile&#x5BF9;&#x8C61;&#x4E2D;&#x7684;&#x5E38;&#x7528;&#x65B9;&#x6CD5;&#xFF1A;12345678byte[] getBytes()&#xFF1A;&#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x6570;&#x636E;String getContentType[]&#xFF1A;&#x83B7;&#x53D6;&#x6587;&#x4EF6;MIME&#x7C7B;&#x578B;&#xFF0C;&#x5982;image/jpeg&#x7B49;InputStream getInputStream()&#xFF1A;&#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x6D41;String getName()&#xFF1A;&#x83B7;&#x53D6;&#x8868;&#x5355;&#x4E2D;&#x6587;&#x4EF6;&#x7EC4;&#x4EF6;&#x7684;&#x540D;&#x5B57;String getOriginalFilename()&#xFF1A;&#x83B7;&#x53D6;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7684;&#x539F;&#x540D;Long getSize()&#xFF1A;&#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x7684;&#x5B57;&#x8282;&#x5927;&#x5C0F;&#xFF0C;&#x5355;&#x4F4D;&#x4E3A;byteboolean isEmpty()&#xFF1A;&#x662F;&#x5426;&#x6709;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;void transferTo(File dest)&#xFF1A;&#x5C06;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x5230;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;&#x6587;&#x4EF6;&#x4E2D; SpringMVC &#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x9ED8;&#x8BA4;&#x6CA1;&#x6709;&#x88C5;&#x914D; MultipartResolver&#xFF0C;&#x56E0;&#x6B64;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x5176;&#x4E0D;&#x80FD;&#x5904;&#x7406;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x5DE5;&#x4F5C;&#x3002;&#x5982;&#x679C;&#x60F3;&#x4F7F;&#x7528; Spring&#x7684;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x529F;&#x80FD;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x5728;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x914D;&#x7F6E; MultipartResolver&#x3002; &#x5B9E;&#x4F8B;&#x6DFB;&#x52A0;&#x6587;&#x4EF6;&#x64CD;&#x4F5C;&#x4F9D;&#x8D56;12345678910&lt;dependency&gt; &lt;groupId&gt;commons-fileupload&lt;/groupId&gt; &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-io&lt;/groupId&gt; &lt;artifactId&gt;commons-io&lt;/artifactId&gt; &lt;version&gt;2.4&lt;/version&gt; &lt;/dependency&gt; &#x5728;SpringMvc.xml &#x6587;&#x4EF6;&#x4E2D;&#x914D;&#x7F6E;&#x89E3;&#x6790;&#x5668;12345678&lt;!-- &#x6587;&#x4EF6;&#x4E0A;&#x4F20; --&gt;&lt;bean id=&quot;multipartResolver&quot;class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt; &lt;!-- &#x8BBE;&#x7F6E;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7684;&#x6700;&#x5927;&#x5C3A;&#x5BF8;&#x4E3A;5MB --&gt; &lt;property name=&quot;maxUploadSize&quot;&gt; &lt;value&gt;5242880&lt;/value&gt; &lt;/property&gt;&lt;/bean&gt; &#x7F16;&#x5199; Controller1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071@Controller@RequestMapping(&quot;/files&quot;)public class FileController { @RequestMapping(&quot;/load&quot;) public String load(){ return &quot;file&quot;; } @RequestMapping(&quot;/uploadFile&quot;) public String uploadFile(MultipartFile file) throws Exception{ //&#x539F;&#x59CB;&#x6587;&#x4EF6;&#x540D;&#x79F0; String pictureFile_name = file.getOriginalFilename(); //&#x65B0;&#x6587;&#x4EF6;&#x540D;&#x79F0; String newFileName = UUID.randomUUID().toString()+pictureFile_name.substring(pictureFile_name.lastIndexOf(&quot;.&quot;)); //&#x4E0A;&#x4F20;&#x56FE;&#x7247; File uploadPic = new java.io.File(&quot;G:/TestFile/&quot;+newFileName); if(!uploadPic.exists()){ uploadPic.mkdirs(); } //&#x5411;&#x78C1;&#x76D8;&#x5199;&#x6587;&#x4EF6; file.transferTo(uploadPic); return &quot;redirect:load.action&quot;; } @RequestMapping(&quot;/download&quot;) public String downloadFile(String fileName, HttpServletRequest request, HttpServletResponse response) { if (fileName != null) { String realPath = &quot;G:/TestFile/&quot;; File file = new File(realPath, fileName); if (file.exists()) { response.setContentType(&quot;application/force-download&quot;);// &#x8BBE;&#x7F6E;&#x5F3A;&#x5236;&#x4E0B;&#x8F7D;&#x4E0D;&#x6253;&#x5F00; response.addHeader(&quot;Content-Disposition&quot;, &quot;attachment;fileName=&quot; + fileName);// &#x8BBE;&#x7F6E;&#x6587;&#x4EF6;&#x540D; byte[] buffer = new byte[1024]; FileInputStream fis = null; BufferedInputStream bis = null; try { fis = new FileInputStream(file); bis = new BufferedInputStream(fis); OutputStream os = response.getOutputStream(); int i = bis.read(buffer); while (i != -1) { os.write(buffer, 0, i); i = bis.read(buffer); } } catch (Exception e) { e.printStackTrace(); } finally { if (bis != null) { try { bis.close(); } catch (IOException e) { e.printStackTrace(); } } if (fis != null) { try { fis.close(); } catch (IOException e) { e.printStackTrace(); } } } } } return null; }} &#x7F16;&#x5199;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x4E0B;&#x8F7D;&#x9875;&#x9762;12345678910111213&lt;html&gt;&lt;head&gt; &lt;title&gt;Title&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;form action=&quot;/files/uploadFile&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt; &lt;input type=&quot;file&quot; name=&quot;file&quot; accept=&quot;image/*&quot;&gt; &lt;input type=&quot;submit&quot;&gt; &lt;/form&gt; &lt;a href=&quot;/files/download?fileName=test.jpg&quot;&gt;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&lt;/a&gt;&lt;/body&gt;&lt;/html&gt; &#x8FD0;&#x884C;&#x6548;&#x679C;","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"},{"name":"SpringMVC","slug":"SpringMVC","permalink":"https://marklogzhu.github.io/tags/SpringMVC/"}]},{"title":"SpringMVC学习总结(五)--JSON支持","date":"2018-05-15T08:07:00.000Z","path":"SpringMVC/后台/Java/SpringMVC/SpringMVC学习总结(五)--JSON支持/","text":"JSON &#x683C;&#x5F0F;&#x7684;&#x6570;&#x636E;&#x76EE;&#x524D;&#x5927;&#x884C;&#x5176;&#x9053;&#xFF0C;SpringMVC &#x600E;&#x4E48;&#x53EF;&#x80FD;&#x4F1A;&#x6CA1;&#x6709;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x5462;&#xFF1F; SpringMVC &#x6709;&#x4E24;&#x4E2A; JSON &#x652F;&#x6301;&#x7684;&#x6CE8;&#x89E3;, @RequestBody &#x548C; @ResponseBody&#x3002; &#x6CE8;&#x89E3;&#x542B;&#x4E49;&#x8BF4;&#x660E;@RequestBody@RequestBody &#x6CE8;&#x89E3;&#x7528;&#x4E8E;&#x8BFB;&#x53D6; http &#x8BF7;&#x6C42;&#x7684;&#x5185;&#x5BB9;(&#x5B57;&#x7B26;&#x4E32;)&#xFF0C;&#x901A;&#x8FC7; springmvc &#x63D0;&#x4F9B;&#x7684; HttpMessageConverter &#x63A5;&#x53E3;&#x5C06;&#x8BFB;&#x5230;&#x7684;&#x5185;&#x5BB9;&#x8F6C;&#x6362;&#x4E3A; json&#x3001;xml &#x7B49;&#x683C;&#x5F0F;&#x7684;&#x6570;&#x636E;&#x5E76;&#x7ED1;&#x5B9A;&#x5230; controller &#x65B9;&#x6CD5;&#x7684;&#x53C2;&#x6570;&#x4E0A;&#x3002; @ResponseBody@ResponseBody &#x6CE8;&#x89E3;&#x7528;&#x4E8E;&#x5C06; Controller &#x7684;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x901A;&#x8FC7; HttpMessageConverter &#x63A5;&#x53E3;&#x8F6C;&#x6362;&#x4E3A;&#x6307;&#x5B9A;&#x683C;&#x5F0F;&#x7684;&#x6570;&#x636E;&#x5982;&#xFF1A;json,xml &#x7B49;&#xFF0C;&#x901A;&#x8FC7; Response &#x54CD;&#x5E94;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF; &#x5B9E;&#x4F8B;&#x52A0;&#x5165;&#x4F9D;&#x8D56;SprignMVC &#x867D;&#x7136;&#x652F;&#x6301;JSON&#x529F;&#x80FD;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x9700;&#x8981;&#x989D;&#x5916;&#x6DFB;&#x52A0;JSON&#x5DE5;&#x5177;&#x4F9D;&#x8D56;&#x5305;&#x3002; 123456&lt;!-- json --&gt;&lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.9.5&lt;/version&gt;&lt;/dependency&gt; &#x5728;SpringMVC.xml &#x6587;&#x4EF6;&#x4E2D;&#x914D;&#x7F6E; &#x6CE8;&#x89E3;&#x9002;&#x914D;&#x5668;12345678&lt;!--&#x6CE8;&#x89E3;&#x9002;&#x914D;&#x5668; --&gt;&lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&quot;&gt;&lt;property name=&quot;messageConverters&quot;&gt;&lt;list&gt;&lt;bean class=&quot;org.springframework.http.converter.json.MappingJacksonHttpMessageConverter&quot;&gt;&lt;/bean&gt;&lt;/list&gt;&lt;/property&gt;&lt;/bean&gt; &#x6CE8;&#x610F;&#xFF1A;&#x5982;&#x679C;&#x4F7F;&#x7528; &lt;mvc:annotation-driven /&gt; &#x5219;&#x4E0D;&#x7528;&#x5B9A;&#x4E49;&#x4E0A;&#x8FB9;&#x7684;&#x5185;&#x5BB9;&#x3002; &#x5728; TestController &#x589E;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;123456789101112131415@RequestMapping(&quot;/sendJson&quot;)public String sendJson(@RequestBody Items items) throws Exception{ System.out.println(items.toString()); return &quot;&quot;;}@RequestMapping(&quot;/getUserList&quot;)@ResponseBodypublic List&lt;User&gt; getUserList(){ List&lt;User&gt; itemsList = new ArrayList&lt;&gt;(); itemsList.add(new User(1,&quot;&#x5F20;&#x4E09;&quot;,&quot;0000&quot;,19,&quot;zhangsan@163.com&quot;)); itemsList.add(new User(2,&quot;&#x674E;&#x56DB;&quot;,&quot;0000&quot;,33,&quot;lisi@163.com&quot;)); itemsList.add(new User(3,&quot;&#x738B;&#x4E94;&quot;,&quot;0000&quot;,29,&quot;wangwu@163.com&quot;)); return itemsList;} &#x542F;&#x52A8;&#x8BBF;&#x95EE;&#xFF0C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A;1234567891011121314151617181920212223[ { &quot;userId&quot;: 1, &quot;userName&quot;: &quot;&#x5F20;&#x4E09;&quot;, &quot;password&quot;: &quot;0000&quot;, &quot;age&quot;: 19, &quot;email&quot;: &quot;zhangsan@163.com&quot; }, { &quot;userId&quot;: 2, &quot;userName&quot;: &quot;&#x674E;&#x56DB;&quot;, &quot;password&quot;: &quot;0000&quot;, &quot;age&quot;: 33, &quot;email&quot;: &quot;lisi@163.com&quot; }, { &quot;userId&quot;: 3, &quot;userName&quot;: &quot;&#x738B;&#x4E94;&quot;, &quot;password&quot;: &quot;0000&quot;, &quot;age&quot;: 29, &quot;email&quot;: &quot;wangwu@163.com&quot; }]","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"},{"name":"SpringMVC","slug":"SpringMVC","permalink":"https://marklogzhu.github.io/tags/SpringMVC/"}]},{"title":"SpringMVC学习总结(四)--Controller方法返回值","date":"2018-05-15T07:51:00.000Z","path":"SpringMVC/后台/Java/SpringMVC/SpringMVC学习总结(四)--Controller方法返回值/","text":"SpringMVC &#x9664;&#x4E86;&#x53EF;&#x4EE5;&#x8FD4;&#x56DE;&#x89C6;&#x56FE;&#x6587;&#x4EF6;&#x5916;&#xFF0C;&#x8FD8;&#x80FD;&#x8FD4;&#x56DE;&#x4EC0;&#x4E48;&#x7C7B;&#x578B;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x5462;&#xFF0C;&#x4ECA;&#x5929;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x4E86;&#x89E3;&#x4E0B;&#x3002; &#x8FD4;&#x56DE; ModelAndViewcontroller &#x65B9;&#x6CD5;&#x4E2D;&#x5B9A;&#x4E49; ModelAndView &#x5BF9;&#x8C61;&#x5E76;&#x8FD4;&#x56DE;&#xFF0C;&#x5BF9;&#x8C61;&#x4E2D;&#x53EF;&#x6DFB;&#x52A0;&#x6570;&#x636E;&#x3001;&#x6307;&#x5B9A;view&#x3002; 123456@RequestMapping(&quot;/getModelAndView&quot;)public ModelAndView getModelAndView(ModelAndView modelAndView) { modelAndView.addObject(&quot;name&quot;, &quot;marklogzhu&quot;); modelAndView.setViewName(&quot;index&quot;); return modelAndView;} &#x8FD4;&#x56DE;void&#x5728; controller &#x65B9;&#x6CD5;&#x5F62;&#x53C2;&#x4E0A;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49; request &#x548C; response&#xFF0C;&#x4F7F;&#x7528; request &#x6216; response &#x6307;&#x5B9A;&#x54CD;&#x5E94;&#x7ED3;&#x679C;&#xFF1A; &#x4F7F;&#x7528;request&#x8F6C;&#x5411;&#x9875;&#x9762;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;1request.getRequestDispatcher(&quot;&#x9875;&#x9762;&#x8DEF;&#x5F84;&quot;).forward(request, response); &#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; response &#x9875;&#x9762;&#x91CD;&#x5B9A;&#x5411;&#xFF1A;1response.sendRedirect(&quot;url&quot;) &#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; response &#x6307;&#x5B9A;&#x54CD;&#x5E94;&#x7ED3;&#x679C;&#xFF0C;&#x4F8B;&#x5982;&#x54CD;&#x5E94; json &#x6570;&#x636E;&#x5982;&#x4E0B;&#xFF1A;123response.setCharacterEncoding(&quot;utf-8&quot;);response.setContentType(&quot;application/json;charset=utf-8&quot;);response.getWriter().write(&quot;json&#x5B57;&#x7B26;&#x4E32;&quot;); &#x8FD4;&#x56DE;&#x5B57;&#x7B26;&#x4E32;&#x903B;&#x8F91;&#x89C6;&#x56FE;&#x540D;controller &#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x5B57;&#x7B26;&#x4E32;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x903B;&#x8F91;&#x89C6;&#x56FE;&#x540D;&#xFF0C;&#x901A;&#x8FC7;&#x89C6;&#x56FE;&#x89E3;&#x6790;&#x5668;&#x89E3;&#x6790;&#x4E3A;&#x7269;&#x7406;&#x89C6;&#x56FE;&#x5730;&#x5740;&#x3002; 12//&#x6307;&#x5B9A;&#x903B;&#x8F91;&#x89C6;&#x56FE;&#x540D;&#xFF0C;&#x7ECF;&#x8FC7;&#x89C6;&#x56FE;&#x89E3;&#x6790;&#x5668;&#x89E3;&#x6790;&#x4E3A;jsp&#x7269;&#x7406;&#x8DEF;&#x5F84;&#xFF1A;/WEB-INF/jsp/item/editItem.jspreturn &quot;item/editItem&quot;; Redirect&#x91CD;&#x5B9A;&#x5411;Contrller &#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x91CD;&#x5B9A;&#x5411;&#x5230;&#x4E00;&#x4E2A; url &#x5730;&#x5740;&#xFF0C;&#x5982;&#x4E0B;&#x5546;&#x54C1;&#x4FEE;&#x6539;&#x63D0;&#x4EA4;&#x540E;&#x91CD;&#x5B9A;&#x5411;&#x5230;&#x5546;&#x54C1;&#x67E5;&#x8BE2;&#x65B9;&#x6CD5;&#xFF0C;&#x53C2;&#x6570;&#x65E0;&#x6CD5;&#x5E26;&#x5230;&#x5546;&#x54C1;&#x67E5;&#x8BE2;&#x65B9;&#x6CD5;&#x4E2D;&#x3002; 12//&#x91CD;&#x5B9A;&#x5411;&#x5230;queryItem.action&#x5730;&#x5740;,request&#x65E0;&#x6CD5;&#x5E26;&#x8FC7;&#x53BB;return &quot;redirect:queryItem.action&quot;; redirect &#x65B9;&#x5F0F;&#x76F8;&#x5F53;&#x4E8E; &#x201C;response.sendRedirect()&#x201D;&#xFF0C;&#x8F6C;&#x53D1;&#x540E;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x5730;&#x5740;&#x680F;&#x53D8;&#x4E3A;&#x8F6C;&#x53D1;&#x540E;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x56E0;&#x4E3A;&#x8F6C;&#x53D1;&#x5373;&#x6267;&#x884C;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684; request &#x548C; response&#x3002; &#x7531;&#x4E8E;&#x65B0;&#x53D1;&#x8D77;&#x4E00;&#x4E2A;request&#x539F;&#x6765;&#x7684;&#x53C2;&#x6570;&#x5728;&#x8F6C;&#x53D1;&#x65F6;&#x5C31;&#x4E0D;&#x80FD;&#x4F20;&#x9012;&#x5230;&#x4E0B;&#x4E00;&#x4E2A;url&#xFF0C;&#x5982;&#x679C;&#x8981;&#x4F20;&#x53C2;&#x6570;&#x53EF;&#x4EE5;/item/queryItem.action&#x540E;&#x8FB9;&#x52A0;&#x53C2;&#x6570;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; 1/item/queryItem?...&amp;&#x2026;.. forward&#x8F6C;&#x53D1;controller &#x65B9;&#x6CD5;&#x6267;&#x884C;&#x540E;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x53E6;&#x4E00;&#x4E2A; controller &#x65B9;&#x6CD5;&#xFF0C;&#x5982;&#x4E0B;&#x5546;&#x54C1;&#x4FEE;&#x6539;&#x63D0;&#x4EA4;&#x540E;&#x8F6C;&#x5411;&#x5230;&#x5546;&#x54C1;&#x4FEE;&#x6539;&#x9875;&#x9762;&#xFF0C;&#x4FEE;&#x6539;&#x5546;&#x54C1;&#x7684;id&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x5E26;&#x5230;&#x5546;&#x54C1;&#x4FEE;&#x6539;&#x65B9;&#x6CD5;&#x4E2D;&#x3002; 12//&#x7ED3;&#x679C;&#x8F6C;&#x53D1;&#x5230;editItem.action&#xFF0C;request&#x53EF;&#x4EE5;&#x5E26;&#x8FC7;&#x53BB;return &quot;forward:editItem.action&quot;; forward &#x65B9;&#x5F0F;&#x76F8;&#x5F53;&#x4E8E; &#x201C;request.getRequestDispatcher().forward(request,response)&#x201D;&#xFF0C;&#x8F6C;&#x53D1;&#x540E;&#x6D4F;&#x89C8;&#x5668;&#x5730;&#x5740;&#x680F;&#x8FD8;&#x662F;&#x539F;&#x6765;&#x7684;&#x5730;&#x5740;&#x3002;&#x8F6C;&#x53D1;&#x5E76;&#x6CA1;&#x6709;&#x6267;&#x884C;&#x65B0;&#x7684; request &#x548C; response &#xFF0C;&#x800C;&#x662F;&#x548C;&#x8F6C;&#x53D1;&#x524D;&#x7684;&#x8BF7;&#x6C42;&#x5171;&#x7528;&#x4E00;&#x4E2A; request &#x548C; response&#x3002;&#x6240;&#x4EE5;&#x8F6C;&#x53D1;&#x524D;&#x8BF7;&#x6C42;&#x7684;&#x53C2;&#x6570;&#x5728;&#x8F6C;&#x53D1;&#x540E;&#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x8BFB;&#x53D6;&#x5230;&#x3002;","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"},{"name":"SpringMVC","slug":"SpringMVC","permalink":"https://marklogzhu.github.io/tags/SpringMVC/"}]},{"title":"SpringMVC学习总结(三)--参数绑定","date":"2018-05-15T07:03:00.000Z","path":"SpringMVC/后台/Java/SpringMVC/SpringMVC学习总结(三)--参数绑定/","text":"&#x5728;&#x4E4B;&#x524D;&#x6211;&#x4EEC;&#x8BB2;&#x5230; Spring MVC &#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x7ED1;&#x5B9A;&#x673A;&#x5236;&#xFF0C;&#x901A;&#x8FC7;&#x8BE5;&#x673A;&#x5236;&#x53EF;&#x4EE5;&#x4ECE;&#x7528;&#x6237;&#x8BF7;&#x6C42;&#x4E2D;&#x63D0;&#x53D6;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x6570;&#x636E;&#x8F6C;&#x6362;&#x4E3A;&#x9884;&#x5B9A;&#x4E49;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;&#xFF0C;&#x6700;&#x540E;&#x6620;&#x5C04;&#x5230;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x7C7B;&#xFF0C;&#x4ECE;&#x800C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x3002;&#x8BE5;&#x5B9E;&#x73B0;&#x673A;&#x5236;&#x53EA;&#x9700;&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#x540D;&#x79F0;&#x4E0E; Java &#x7C7B;&#x7684;&#x5C5E;&#x6027;&#x76F8;&#x5339;&#x914D;&#x5373;&#x53EF;&#x3002;&#x4ECA;&#x5929;&#x6211;&#x4EEC;&#x5C31;&#x5728;&#x4E4B;&#x524D;&#x7684;&#x57FA;&#x7840;&#x9879;&#x76EE;&#x57FA;&#x7840;&#x4E0A;&#x7528;&#x51E0;&#x4E2A;&#x5B9E;&#x4F8B;&#x6765;&#x9A8C;&#x8BC1;&#x4E0B;&#x3002; &#x5728; TestController.java &#x4E0A;&#x589E;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;:123456789101112131415161718192021222324252627282930313233343536373839@Controller@RequestMapping(&quot;/test&quot;)public class TestController { @RequestMapping(&quot;/index&quot;) public String index(){ return &quot;index&quot;; } @RequestMapping(&quot;/test1&quot;) public String test1(int count){ System.out.println(&quot;&#x57FA;&#x672C;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF1A;&quot;+count); return &quot;index&quot;; } @RequestMapping(&quot;/test2&quot;) public String test2(Integer integer){ System.out.println(&quot;&#x5305;&#x88C5;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF1A;&quot;+integer); return &quot;index&quot;; } @RequestMapping(&quot;/test3&quot;) public String test3(User item){ System.out.println(&quot;&#x81EA;&#x5B9A;&#x4E49;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF1A;name:&quot;+item.getUserName()+&quot;;age:&quot;+item.getAge()); return &quot;index&quot;; } @RequestMapping(&quot;/test4&quot;) public String test4(@RequestParam(value = &quot;id&quot;)int count){ System.out.println(&quot;&#x53C2;&#x6570;&#x4E0D;&#x4E00;&#x81F4;&#x57FA;&#x672C;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF1A;&quot;+count); return &quot;index&quot;; } @RequestMapping(&quot;/test5&quot;) public String test5(String[] id){ System.out.println(&quot;&#x6570;&#x7EC4;&#x5BF9;&#x8C61;&#xFF1A;&quot;+ Arrays.asList(id)); return &quot;index&quot;; } @RequestMapping(&quot;/test6&quot;) public String test6(@RequestParam(value = &quot;userAge&quot; ,defaultValue = &quot;0&quot;,required=false) Integer age){ System.out.println(&quot;age&#xFF1A;&quot;+ age); return &quot;index&quot;; }} &#x7F16;&#x8F91; index.html &#x6587;&#x4EF6;1234567891011&lt;html&gt; &lt;head&gt;&lt;/head&gt; &lt;body&gt; &lt;a href=&quot;/test/test1?count=1&quot;&gt;&#x57FA;&#x672C;&#x6570;&#x636E;&lt;/a&gt;&lt;br&gt; &lt;a href=&quot;/test/test2?integer=2&quot;&gt;&#x5305;&#x88C5;&#x6570;&#x636E;&#x7C7B;&#x578B;&lt;/a&gt;&lt;br&gt; &lt;a href=&quot;/test/test3?userName=marklogzhu&amp;&amp;age=18&quot;&gt;&#x81EA;&#x5B9A;&#x4E49;&#x6570;&#x636E;&#x7C7B;&#x578B;&lt;/a&gt;&lt;br&gt; &lt;a href=&quot;/test/test4?id=1&quot;&gt;&#x53C2;&#x6570;&#x4E0D;&#x4E00;&#x81F4;&#x57FA;&#x672C;&#x6570;&#x636E;&lt;/a&gt;&lt;br&gt; &lt;a href=&quot;/test/test5?id=1&amp;id=2&amp;id=3&quot;&gt;&#x6570;&#x7EC4;&#x5BF9;&#x8C61;&lt;/a&gt;&lt;br&gt; &lt;a href=&quot;/test/test6?userAge=25&quot;&gt;&#x53C2;&#x6570;&#x540D;&#x4E0E;&#x65B9;&#x6CD5;&#x540D;&#x4E0D;&#x4E00;&#x81F4;&#xFF0C;&#x901A;&#x8FC7;@RequestParam&#x6CE8;&#x89E3;&lt;/a&gt;&lt;br&gt; &lt;/body&gt;&lt;/html&gt; &#x542F;&#x52A8;&#x5E76;&#x8BBF;&#x95EE;http://localhost:8080/test/index &#x4F9D;&#x6B21;&#x70B9;&#x51FB;&#x8D85;&#x94FE;&#x63A5;,&#x7136;&#x540E;&#x89C2;&#x5BDF;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;:1234567&#x6570;&#x7EC4;&#x5BF9;&#x8C61;&#xFF1A;[1, 2, 3]&#x57FA;&#x672C;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF1A;1&#x5305;&#x88C5;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF1A;2&#x81EA;&#x5B9A;&#x4E49;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF1A;name:marklogzhu;age:18&#x53C2;&#x6570;&#x4E0D;&#x4E00;&#x81F4;&#x57FA;&#x672C;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF1A;1&#x6570;&#x7EC4;&#x5BF9;&#x8C61;&#xFF1A;[1, 2, 3]age&#xFF1A;25 &#x4ECE;&#x4E0A;&#x9762;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x5230; SpringMVC &#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x6839;&#x636E;&#x8BF7;&#x6C42;&#x7684;&#x53C2;&#x6570;&#x540D;&#x5B9E;&#x73B0;&#x65B9;&#x6CD5;&#x53C2;&#x6570;&#x7684;&#x7ED1;&#x5B9A;&#xFF0C;&#x4F46;&#x662F;&#x9488;&#x5BF9;&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#x540D;&#x8DDF;&#x65B9;&#x6CD5;&#x53C2;&#x6570;&#x540D;&#x4E0D;&#x540C;&#x65F6;&#x5C31;&#x65E0;&#x6CD5;&#x81EA;&#x52A8;&#x7ED1;&#x5B9A;&#xFF0C;&#x9700;&#x8981;&#x901A;&#x8FC7; @RequestParam &#x6CE8;&#x89E3;&#x8FDB;&#x884C;&#x624B;&#x52A8;&#x7ED1;&#x5B9A;,&#x5B83;&#x6709;&#x5982;&#x4E0B;&#x4E09;&#x4E2A;&#x5C5E;&#x6027;&#xFF1A; * value: &#x53C2;&#x6570;&#x540D;&#x79F0; * defaultValue&#xFF1A;&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#x83B7;&#x53D6;&#x5931;&#x8D25;&#x65F6;&#x7684;&#x9ED8;&#x8BA4;&#x503C; * required&#xFF1A;&#x662F;&#x5426;&#x5FC5;&#x987B;&#x6709;&#x8BE5;&#x503C;&#xFF0C;&#x8BF7;&#x6CE8;&#x610F;&#x5982;&#x679C;&#x53C2;&#x6570;&#x7C7B;&#x578B;&#x662F; INT &#x7684;&#x8BDD;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x503C;&#x7684;&#x8BDD;&#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x6240;&#x4EE5;&#x5C3D;&#x91CF;&#x8BA9;&#x7C7B;&#x578B;&#x662F;&#x5305;&#x88C5;&#x7C7B;&#x578B;,&#x5982;: Integer","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"},{"name":"SpringMVC","slug":"SpringMVC","permalink":"https://marklogzhu.github.io/tags/SpringMVC/"}]},{"title":"SpringMVC学习总结(二)--RequestMapping注解","date":"2018-05-15T06:27:00.000Z","path":"SpringMVC/后台/Java/SpringMVC/SpringMVC学习总结(二)--RequestMapping注解/","text":"&#x4E4B;&#x524D;&#x6211;&#x4EEC;&#x5B9E;&#x73B0;&#x4E86;&#x901A;&#x8FC7;&#x8C03;&#x7528; Controller &#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x9875;&#x9762;&#x7684;&#x5C55;&#x793A;&#x7684;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#xFF0C;&#x90A3;&#x4F60;&#x77E5;&#x9053;&#x670D;&#x52A1;&#x5668;&#x662F;&#x600E;&#x4E48;&#x627E;&#x5230;&#x8FD9; Controler &#x5417;&#xFF1F;&#x806A;&#x660E;&#x5982;&#x4F60;&#x4E00;&#x5B9A;&#x77E5;&#x9053;&#x4E86;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x4ECA;&#x5929;&#x7684;&#x4E3B;&#x89D2; @RequestMapping &#x6CE8;&#x89E3;&#x3002; RequestMapping &#x6CE8;&#x89E3;RequestMapping &#x662F;&#x4E00;&#x4E2A;&#x7528;&#x6765;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x5730;&#x5740;&#x6620;&#x5C04;&#x7684;&#x6CE8;&#x89E3;&#xFF0C;&#x53EF;&#x7528;&#x4E8E;&#x7C7B;&#x6216;&#x65B9;&#x6CD5;&#x4E0A;&#x3002;&#x7528;&#x4E8E;&#x7C7B;&#x4E0A;&#xFF0C;&#x8868;&#x793A;&#x7C7B;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x54CD;&#x5E94;&#x8BF7;&#x6C42;&#x7684;&#x65B9;&#x6CD5;&#x90FD;&#x662F;&#x4EE5;&#x8BE5;&#x5730;&#x5740;&#x4F5C;&#x4E3A;&#x7236;&#x8DEF;&#x5F84;,&#x5982;&#x679C;&#x7C7B;&#x4E0A;&#x6CA1;&#x6709;&#x6620;&#x5C04;&#xFF0C;&#x90A3;&#x4E48; url &#x76F4;&#x63A5;&#x5C31;&#x662F;&#x65B9;&#x6CD5;&#x7684;&#x6620;&#x5C04;&#x3002; RequestMapping &#x5C5E;&#x6027;&#x6211;&#x4EEC;&#x5148;&#x6765;&#x770B;&#x4E0B; RequestMapping &#x7684;&#x5B9A;&#x4E49;&#xFF1A;12345678910111213141516public @interface RequestMapping { String name() default &quot;&quot;; String[] value() default {}; RequestMethod[] method() default {}; String[] params() default {}; String[] headers() default {}; String[] consumes() default {}; String[] produces() default {};} &#x53EF;&#x4EE5;&#x770B;&#x5230; RequestMapping &#x6709;&#x4E03;&#x4E2A;&#x5C5E;&#x6027;&#xFF0C;&#x6211;&#x4EEC;&#x6765;&#x4F9D;&#x6B21;&#x8BA4;&#x8BC6;&#x4E0B;&#x5B83;&#x4EEC;&#xFF1A; name&#x6307;&#x5B9A;&#x6620;&#x5C04;&#x7684;&#x540D;&#x79F0; value &#x6307;&#x5B9A;&#x8BF7;&#x6C42;&#x7684;&#x5B9E;&#x9645;&#x5730;&#x5740;&#xFF0C;&#x6307;&#x5B9A;&#x7684;&#x5730;&#x5740;&#x53EF;&#x4EE5;&#x662F;URI Template &#x6A21;&#x5F0F;&#xFF1B; method&#x6307;&#x5B9A;&#x8BF7;&#x6C42;&#x7684; method &#x7C7B;&#x578B;&#xFF0C; GET&#x3001;POST&#x3001;PUT&#x3001;DELETE&#x7B49;&#xFF1B; consumes&#x6307;&#x5B9A;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x7684;&#x63D0;&#x4EA4;&#x5185;&#x5BB9;&#x7C7B;&#x578B;&#xFF08;Content-Type&#xFF09;&#xFF0C;&#x4F8B;&#x5982; application/json, text/html; produces&#x6307;&#x5B9A;&#x8FD4;&#x56DE;&#x7684;&#x5185;&#x5BB9;&#x7C7B;&#x578B;&#xFF0C;&#x4EC5;&#x5F53; request &#x8BF7;&#x6C42;&#x5934;&#x4E2D;&#x7684; (Accept) &#x7C7B;&#x578B;&#x4E2D;&#x5305;&#x542B;&#x8BE5;&#x6307;&#x5B9A;&#x7C7B;&#x578B;&#x624D;&#x8FD4;&#x56DE;&#xFF1B; params&#x6307;&#x5B9A; request &#x4E2D;&#x5FC5;&#x987B;&#x5305;&#x542B;&#x67D0;&#x4E9B;&#x53C2;&#x6570;&#x503C;&#x65F6;&#xFF0C;&#x624D;&#x8BA9;&#x8BE5;&#x65B9;&#x6CD5;&#x5904;&#x7406;&#x3002; headers&#x6307;&#x5B9A; request &#x4E2D;&#x5FC5;&#x987B;&#x5305;&#x542B;&#x67D0;&#x4E9B;&#x6307;&#x5B9A;&#x7684;header&#x503C;&#xFF0C;&#x624D;&#x80FD;&#x8BA9;&#x8BE5;&#x65B9;&#x6CD5;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x3002; &#x6839;&#x636E;&#x4E0A;&#x9762;&#x7684;&#x51E0;&#x4E2A;&#x5C5E;&#x6027;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x505A;&#x5230;&#x54EA;&#x4E9B;&#x529F;&#x80FD;&#x5462;&#xFF1F; &#x529F;&#x80FD;&#x793A;&#x4F8B;URL&#x8DEF;&#x5F84;&#x6620;&#x5C04;1@RequestMapping(value=&quot;/item&quot;)&#x6216;@RequestMapping(&quot;/item&#xFF09; value &#x7684;&#x503C;&#x662F;&#x6570;&#x7EC4;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x591A;&#x4E2A; url &#x6620;&#x5C04;&#x5230;&#x540C;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5; 1@RequestMapping(value = {&quot;/itemList&quot;,&quot;item&quot;}) &#x7A84;&#x5316;&#x8BF7;&#x6C42;&#x6620;&#x5C04;&#x5728; class &#x4E0A;&#x6DFB;&#x52A0; @RequestMapping(url) &#x6307;&#x5B9A;&#x901A;&#x7528;&#x8BF7;&#x6C42;&#x524D;&#x7F00;&#xFF0C; &#x9650;&#x5236;&#x6B64;&#x7C7B;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x65B9;&#x6CD5;&#x8BF7;&#x6C42;url&#x5FC5;&#x987B;&#x4EE5;&#x8BF7;&#x6C42;&#x524D;&#x7F00;&#x5F00;&#x5934;&#xFF0C;&#x901A;&#x8FC7;&#x6B64;&#x65B9;&#x6CD5;&#x5BF9; url &#x8FDB;&#x884C;&#x5206;&#x7C7B;&#x7BA1;&#x7406;,&#x5982;&#x4E0B;&#xFF1A; @RequestMapping &#x653E;&#x5728;&#x7C7B;&#x540D;&#x4E0A;&#x8FB9;&#xFF0C;&#x8BBE;&#x7F6E;&#x8BF7;&#x6C42;&#x524D;&#x7F00; 1234@Controller@RequestMapping(&quot;/item&quot;)public class ItemController{} @RequestMapping&#x653E;&#x5728;&#x65B9;&#x6CD5;&#x540D;&#x4E0A;&#x8FB9;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; 1@RequestMapping(&quot;/queryItem &quot;) &#x8BBF;&#x95EE;&#x5730;&#x5740;&#x4E3A;&#xFF1A;1/item/queryItem &#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x9650;&#x5B9A; &#x9650;&#x5B9A;GET&#x65B9;&#x6CD5; 1@RequestMapping(method = RequestMethod.GET) &#x5982;&#x679C;&#x901A;&#x8FC7; Post &#x8BBF;&#x95EE;&#x5219;&#x62A5;&#x9519;&#xFF1A; 1HTTP Status 405 - Request method &apos;POST&apos; not supported &#x4F8B;&#x5982;&#xFF1A;1@RequestMapping(value=&quot;/editItem&quot;,method=RequestMethod.GET) &#x9650;&#x5B9A; POST &#x65B9;&#x6CD5; 1@RequestMapping(method = RequestMethod.POST) &#x5982;&#x679C;&#x901A;&#x8FC7; GET &#x8BBF;&#x95EE;&#x5219;&#x62A5;&#x9519;&#xFF1A;1HTTP Status 405 - Request method &apos;GET&apos; not supported GET&#x548C;POST&#x90FD;&#x53EF;&#x4EE5; 1@RequestMapping(method={RequestMethod.GET,RequestMethod.POST}) restful &#x652F;&#x6301;&#x4EC0;&#x4E48;&#x662F;restful&#xFF1F;Restful &#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x8D44;&#x6E90;&#x5B9A;&#x4F4D;&#x53CA;&#x8D44;&#x6E90;&#x64CD;&#x4F5C;&#x7684;&#x98CE;&#x683C;&#x3002;&#x4E0D;&#x662F;&#x6807;&#x51C6;&#x4E5F;&#x4E0D;&#x662F;&#x534F;&#x8BAE;&#xFF0C;&#x53EA;&#x662F;&#x4E00;&#x79CD;&#x98CE;&#x683C;&#xFF0C;&#x662F;&#x5BF9; http &#x534F;&#x8BAE;&#x7684;&#x8BE0;&#x91CA;&#x3002; &#x8D44;&#x6E90;&#x5B9A;&#x4F4D;&#xFF1A;&#x4E92;&#x8054;&#x7F51;&#x6240;&#x6709;&#x7684;&#x4E8B;&#x7269;&#x90FD;&#x662F;&#x8D44;&#x6E90;&#xFF0C;&#x8981;&#x6C42; url&#x4E2D;&#x6CA1;&#x6709;&#x52A8;&#x8BCD;&#xFF0C;&#x53EA;&#x6709;&#x540D;&#x8BCD;,&#x6CA1;&#x6709;&#x53C2;&#x6570;&#xFF0C;&#x5982;&#xFF1A; 1http://localhost:8080/test/details/45621673 &#x8D44;&#x6E90;&#x64CD;&#x4F5C;&#xFF1A;&#x4F7F;&#x7528;put&#x3001;delete&#x3001;post&#x3001;get&#xFF0C;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x65B9;&#x6CD5;&#x5BF9;&#x8D44;&#x6E90;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x3002;&#x5206;&#x522B;&#x5BF9;&#x5E94;&#x6DFB;&#x52A0;&#x3001;&#x5220;&#x9664;&#x3001;&#x4FEE;&#x6539;&#x3001;&#x67E5;&#x8BE2;&#x3002;&#x4E00;&#x822C;&#x4F7F;&#x7528;&#x65F6;&#x8FD8;&#x662F; post &#x548C; get&#x3002;Put&#x548C;Delete&#x51E0;&#x4E4E;&#x4E0D;&#x4F7F;&#x7528;&#x3002; 1@RequestMapping(value=&quot;/ viewItems/{id}&quot;) {&#xD7;&#xD7;&#xD7;}&#x5360;&#x4F4D;&#x7B26;&#xFF0C;&#x8BF7;&#x6C42;&#x7684;URL&#x53EF;&#x4EE5;&#x662F;&#x201C;/viewItems/1&#x201D;&#x6216;&#x201C;/viewItems/2&#x201D; @PathVariable@PathVariable &#x7528;&#x4E8E;&#x5C06;&#x8BF7;&#x6C42; URL &#x4E2D;&#x7684;&#x6A21;&#x677F;&#x53D8;&#x91CF;&#x6620;&#x5C04;&#x5230;&#x529F;&#x80FD;&#x5904;&#x7406;&#x65B9;&#x6CD5;&#x7684;&#x53C2;&#x6570;&#x4E0A;&#x3002; 1234567891011@RequestMapping(&quot;/viewItems/{id}&quot;) public @ResponseBody viewItems(@PathVariable(&quot;id&quot;) String id,Model model) throws Exception{//&#x65B9;&#x6CD5;&#x4E2D;&#x4F7F;&#x7528;@PathVariable&#x83B7;&#x53D6;useried&#x7684;&#x503C;&#xFF0C;&#x4F7F;&#x7528;model&#x4F20;&#x56DE;&#x9875;&#x9762;//&#x8C03;&#x7528; service&#x67E5;&#x8BE2;&#x5546;&#x54C1;&#x4FE1;&#x606F;ItemsCustom itemsCustom = itemsService.findItemsById(id);return itemsCustom;} &#x5982;&#x679C; RequestMapping &#x4E2D;&#x8868;&#x793A;&#x4E3A;&#x201D;/viewItems/{id}&#x201D;&#xFF0C;id &#x548C;&#x5F62;&#x53C2;&#x540D;&#x79F0;&#x4E00;&#x81F4;&#xFF0C;@PathVariable &#x4E0D;&#x7528;&#x6307;&#x5B9A;&#x540D;&#x79F0;&#x3002;","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"},{"name":"SpringMVC","slug":"SpringMVC","permalink":"https://marklogzhu.github.io/tags/SpringMVC/"}]},{"title":"SpringMVC学习总结(一)--入门","date":"2018-05-15T05:57:00.000Z","path":"SpringMVC/后台/Java/SpringMVC/SpringMVC学习总结(一)--入门/","text":"&#x76EE;&#x524D;&#x57FA;&#x672C;&#x4E0A;&#x5728;&#x65B0;&#x9879;&#x76EE;&#x6846;&#x67B6;&#x7684;&#x9009;&#x7528;&#x4E0A; SpringMVC &#x4EE3;&#x66FF;&#x4E86; Struts2 &#x5DF2;&#x7ECF;&#x6210;&#x4E3A;&#x4E3B;&#x6D41;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x4ECA;&#x5929;&#x5C31;&#x6765;&#x5B66;&#x4E60;&#x4E0B; SpringMVC &#x7684;&#x4F7F;&#x7528;&#x3002; &#x5728;&#x4ECB;&#x7ECD; SpringMVC &#x4E4B;&#x524D;&#x6211;&#x4EEC;&#x5148;&#x6765;&#x4ECB;&#x7ECD;&#x4E0B;&#x4EC0;&#x4E48;&#x662F;MVC&#x3002; &#x4EC0;&#x4E48;&#x662F;MVCMVC &#x7684;&#x5168;&#x540D;&#x662F; Model View Controller&#xFF0C;&#x662F; &#x6A21;&#x578B;(model)&#xFF0D;&#x89C6;&#x56FE;(view)&#xFF0D;&#x63A7;&#x5236;&#x5668;(controller) &#x7684;&#x7F29;&#x5199;&#xFF0C;&#x662F;&#x4E00;&#x79CD;&#x8F6F;&#x4EF6;&#x8BBE;&#x8BA1;&#x5178;&#x8303;&#x3002;&#x5B83;&#x662F;&#x7528;&#x4E00;&#x79CD;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x3001;&#x6570;&#x636E;&#x4E0E;&#x754C;&#x9762;&#x663E;&#x793A;&#x5206;&#x79BB;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x7EC4;&#x7EC7;&#x4EE3;&#x7801;&#xFF0C;&#x5C06;&#x4F17;&#x591A;&#x7684;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x805A;&#x96C6;&#x5230;&#x4E00;&#x4E2A;&#x90E8;&#x4EF6;&#x91CC;&#x9762;&#xFF0C;&#x5728;&#x9700;&#x8981;&#x6539;&#x8FDB;&#x548C;&#x4E2A;&#x6027;&#x5316;&#x5B9A;&#x5236;&#x754C;&#x9762;&#x53CA;&#x7528;&#x6237;&#x4EA4;&#x4E92;&#x7684;&#x540C;&#x65F6;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x7F16;&#x5199;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#xFF0C;&#x8FBE;&#x5230;&#x51CF;&#x5C11;&#x7F16;&#x7801;&#x7684;&#x65F6;&#x95F4;&#x3002; MVC &#x6700;&#x5F00;&#x59CB;&#x662F;&#x5B58;&#x5728;&#x4E8E;&#x684C;&#x9762;&#x7A0B;&#x5E8F;&#x4E2D;&#x7684;&#xFF0C;M &#x662F;&#x6307;&#x4E1A;&#x52A1;&#x6A21;&#x578B;&#xFF0C;V &#x662F;&#x6307;&#x7528;&#x6237;&#x754C;&#x9762;&#xFF0C;C &#x5219;&#x662F;&#x63A7;&#x5236;&#x5668;&#x3002;&#x4F7F;&#x7528;&#x7684; MVC&#x7684;&#x76EE;&#x7684;&#xFF1A;&#x5728;&#x4E8E;&#x5C06; M &#x548C; V &#x7684;&#x5B9E;&#x73B0;&#x4EE3;&#x7801;&#x5206;&#x79BB;&#xFF0C;&#x4ECE;&#x800C;&#x4F7F;&#x540C;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x8868;&#x73B0;&#x5F62;&#x5F0F;&#x3002; &#x800C;&#x5728;&#x7F51;&#x9875;&#x5F53;&#x4E2D;&#xFF0C;V &#x5373; View &#x89C6;&#x56FE;&#x662F;&#x6307;&#x7528;&#x6237;&#x770B;&#x5230;&#x5E76;&#x4E0E;&#x4E4B;&#x4EA4;&#x4E92;&#x7684;&#x754C;&#x9762;&#x3002;&#x6BD4;&#x5982;&#x7531; html &#x5143;&#x7D20;&#x7EC4;&#x6210;&#x7684;&#x7F51;&#x9875;&#x754C;&#x9762;&#xFF0C;&#x6216;&#x8005;&#x8F6F;&#x4EF6;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x754C;&#x9762;&#x3002;MVC &#x7684;&#x597D;&#x5904;&#x4E4B;&#x4E00;&#x5728;&#x4E8E;&#x5B83;&#x80FD;&#x4E3A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5904;&#x7406;&#x5F88;&#x591A;&#x4E0D;&#x540C;&#x7684;&#x89C6;&#x56FE;&#x3002;&#x5728;&#x89C6;&#x56FE;&#x4E2D;&#x5176;&#x5B9E;&#x6CA1;&#x6709;&#x771F;&#x6B63;&#x7684;&#x5904;&#x7406;&#x53D1;&#x751F;&#xFF0C;&#x5B83;&#x53EA;&#x662F;&#x4F5C;&#x4E3A;&#x4E00;&#x79CD;&#x8F93;&#x51FA;&#x6570;&#x636E;&#x5E76;&#x5141;&#x8BB8;&#x7528;&#x6237;&#x64CD;&#x7EB5;&#x7684;&#x65B9;&#x5F0F;&#x3002; M&#x5373; model &#x6A21;&#x578B;&#x662F;&#x6307;&#x6A21;&#x578B;&#x8868;&#x793A;&#x4E1A;&#x52A1;&#x89C4;&#x5219;&#x3002;&#x5728; MVC &#x7684;&#x4E09;&#x4E2A;&#x90E8;&#x4EF6;&#x4E2D;&#xFF0C;&#x6A21;&#x578B;&#x62E5;&#x6709;&#x6700;&#x591A;&#x7684;&#x5904;&#x7406;&#x4EFB;&#x52A1;&#x3002;&#x88AB;&#x6A21;&#x578B;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x662F;&#x4E2D;&#x7ACB;&#x7684;&#xFF0C;&#x6A21;&#x578B;&#x4E0E;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x65E0;&#x5173;&#xFF0C;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x80FD;&#x4E3A;&#x591A;&#x4E2A;&#x89C6;&#x56FE;&#x63D0;&#x4F9B;&#x6570;&#x636E;&#xFF0C;&#x7531;&#x4E8E;&#x5E94;&#x7528;&#x4E8E;&#x6A21;&#x578B;&#x7684;&#x4EE3;&#x7801;&#x53EA;&#x9700;&#x5199;&#x4E00;&#x6B21;&#x5C31;&#x53EF;&#x4EE5;&#x88AB;&#x591A;&#x4E2A;&#x89C6;&#x56FE;&#x91CD;&#x7528;&#xFF0C;&#x6240;&#x4EE5;&#x51CF;&#x5C11;&#x4E86;&#x4EE3;&#x7801;&#x7684;&#x91CD;&#x590D;&#x6027;&#x3002; C &#x5373; controller &#x63A7;&#x5236;&#x5668;&#x662F;&#x6307;&#x63A7;&#x5236;&#x5668;&#x63A5;&#x53D7;&#x7528;&#x6237;&#x7684;&#x8F93;&#x5165;&#x5E76;&#x8C03;&#x7528;&#x6A21;&#x578B;&#x548C;&#x89C6;&#x56FE;&#x53BB;&#x5B8C;&#x6210;&#x7528;&#x6237;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x63A7;&#x5236;&#x5668;&#x672C;&#x8EAB;&#x4E0D;&#x8F93;&#x51FA;&#x4EFB;&#x4F55;&#x4E1C;&#x897F;&#x548C;&#x505A;&#x4EFB;&#x4F55;&#x5904;&#x7406;&#x3002;&#x5B83;&#x53EA;&#x662F;&#x63A5;&#x6536;&#x8BF7;&#x6C42;&#x5E76;&#x51B3;&#x5B9A;&#x8C03;&#x7528;&#x54EA;&#x4E2A;&#x6A21;&#x578B;&#x6784;&#x4EF6;&#x53BB;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x786E;&#x5B9A;&#x7528;&#x54EA;&#x4E2A;&#x89C6;&#x56FE;&#x6765;&#x663E;&#x793A;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x3002; &#x4E0B;&#x56FE;&#x8BF4;&#x660E;&#x4E86;&#x4E09;&#x8005;&#x4E4B;&#x95F4;&#x7684;&#x8C03;&#x7528;&#x5173;&#x7CFB;&#x3002; &#x4EC0;&#x4E48;&#x662F;SpringMVCSpring MVC &#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;&#x52A8;&#x4F5C;&#x7684; MVC &#x6846;&#x67B6;&#x3002;&#x8BE5;&#x6846;&#x67B6;&#x7A81;&#x51FA;&#x4E86; HTTP &#x534F;&#x8BAE;&#x4E2D;&#x7684;&#x8BF7;&#x6C42;/&#x54CD;&#x5E94;&#x7279;&#x6027;&#xFF0C;&#x5728;&#x8BE5;&#x6846;&#x67B6;&#x4E2D;&#xFF0C;&#x7528;&#x6237;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x90FD;&#x58F0;&#x660E;&#x4E86;&#x4E00;&#x4E2A;&#x9700;&#x8981;&#x6267;&#x884C;&#x7684;&#x52A8;&#x4F5C;&#x3002;&#x800C;&#x8FD9;&#x4E3B;&#x8981;&#x662F;&#x901A;&#x8FC7;&#x5C06;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42; URI &#x6620;&#x5C04;&#x5230;&#x4E00;&#x4E2A;&#x53EF;&#x6267;&#x884C;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x5B9E;&#x73B0;&#x3002;&#x540C;&#x65F6;&#xFF0C;&#x4E5F;&#x5C06;&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#x6620;&#x5C04;&#x5230;&#x5BF9;&#x5E94;&#x65B9;&#x6CD5;&#x7684;&#x53C2;&#x6570;&#x3002; SpringMVC &#x662F; Spring &#x7684;&#x4E00;&#x4E2A;&#x5B50;&#x9879;&#x76EE;,&#x81EA;&#x7136;&#x800C;&#x7136;&#x62E5;&#x6709; Spring&#x7684;&#x7279;&#x6027;&#xFF0C;&#x5982;&#xFF1A;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x3002; Spring MVC &#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x7ED1;&#x5B9A;&#x673A;&#x5236;&#xFF0C;&#x901A;&#x8FC7;&#x8BE5;&#x673A;&#x5236;&#x53EF;&#x4EE5;&#x4ECE;&#x7528;&#x6237;&#x8BF7;&#x6C42;&#x4E2D;&#x63D0;&#x53D6;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x6570;&#x636E;&#x8F6C;&#x6362;&#x4E3A;&#x9884;&#x5B9A;&#x4E49;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;&#xFF0C;&#x6700;&#x540E;&#x6620;&#x5C04;&#x5230;&#x4E00;&#x4E2A;&#x6A21;&#x578B;&#x7C7B;&#xFF0C;&#x4ECE;&#x800C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x3002;&#x8BE5;&#x5B9E;&#x73B0;&#x673A;&#x5236;&#x53EA;&#x9700;&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#x540D;&#x79F0;&#x4E0E; Java &#x7C7B;&#x7684;&#x5C5E;&#x6027;&#x76F8;&#x5339;&#x914D;&#x5373;&#x53EF;&#x3002; Spring MVC &#x662F;&#x89C6;&#x56FE;&#x4E0D;&#x53EF;&#x77E5;&#x7684;&#xFF0C;&#x4ED6;&#x5E76;&#x6CA1;&#x6709;&#x89C4;&#x5B9A;&#x4F60;&#x7684;&#x89C6;&#x56FE;&#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x54EA;&#x79CD;&#x89C6;&#x56FE;&#x6280;&#x672F;&#xFF0C;&#x53EF;&#x4EE5;&#x662F; JSP&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F; Velocity &#x6A21;&#x677F;&#x3001;Tiles&#x3001;Freemarker &#x4EE5;&#x53CA; XSLT &#x7B49;&#x3002; Spring MVC &#x662F;&#x975E;&#x4FB5;&#x5165;&#x6027;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x4EE3;&#x7801;&#x4E0E;&#x6846;&#x67B6;&#x672C;&#x8EAB;&#x662F;&#x76F8;&#x5206;&#x79BB;&#x7684;&#x3002; SpringMVC &#x5904;&#x7406;&#x6D41;&#x7A0B; &#x4ECE;&#x4E0A;&#x56FE;&#x53EF;&#x4EE5;&#x770B;&#x5230; SpringMVC &#x7684;&#x5904;&#x7406;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; &#x7B2C;&#x4E00;&#x6B65;&#xFF1A;&#x53D1;&#x8D77;&#x8BF7;&#x6C42;&#x5230;&#x524D;&#x7AEF;&#x63A7;&#x5236;&#x5668;(DispatcherServlet) &#x7B2C;&#x4E8C;&#x6B65;&#xFF1A;&#x524D;&#x7AEF;&#x63A7;&#x5236;&#x5668;&#x8BF7;&#x6C42;HandlerMapping&#x67E5;&#x627E; Handler&#xFF08;&#x53EF;&#x4EE5;&#x6839;&#x636E;xml&#x914D;&#x7F6E;&#x3001;&#x6CE8;&#x89E3;&#x8FDB;&#x884C;&#x67E5;&#x627E;&#xFF09; &#x7B2C;&#x4E09;&#x6B65;&#xFF1A;&#x5904;&#x7406;&#x5668;&#x6620;&#x5C04;&#x5668;HandlerMapping&#x5411;&#x524D;&#x7AEF;&#x63A7;&#x5236;&#x5668;&#x8FD4;&#x56DE;Handler &#x7B2C;&#x56DB;&#x6B65;&#xFF1A;&#x524D;&#x7AEF;&#x63A7;&#x5236;&#x5668;&#x8C03;&#x7528;&#x5904;&#x7406;&#x5668;&#x9002;&#x914D;&#x5668;&#xFF08;Controller&#xFF0C;&#x4E5F;&#x53EB;&#x540E;&#x7AEF;&#x63A7;&#x5236;&#x5668;&#xFF09;&#x53BB;&#x6267;&#x884C;Handler &#x7B2C;&#x4E94;&#x6B65;&#xFF1A;&#x5904;&#x7406;&#x5668;&#x9002;&#x914D;&#x5668;&#x53BB;&#x6267;&#x884C;Handler &#x7B2C;&#x516D;&#x6B65;&#xFF1A;Handler&#x6267;&#x884C;&#x5B8C;&#x6210;&#x7ED9;&#x9002;&#x914D;&#x5668;&#x8FD4;&#x56DE;ModelAndView &#xFF08;ModelAndView&#x662F;springmvc&#x6846;&#x67B6;&#x7684;&#x4E00;&#x4E2A;&#x5E95;&#x5C42;&#x5BF9;&#x8C61;&#xFF0C;&#x5305;&#x62EC;Model&#x548C;view&#xFF09; &#x7B2C;&#x4E03;&#x6B65;&#xFF1A;&#x5904;&#x7406;&#x5668;&#x9002;&#x914D;&#x5668;&#x5411;&#x524D;&#x7AEF;&#x63A7;&#x5236;&#x5668;&#x8FD4;&#x56DE;ModelAndView &#x7B2C;&#x516B;&#x6B65;&#xFF1A;&#x524D;&#x7AEF;&#x63A7;&#x5236;&#x5668;&#x8BF7;&#x6C42;&#x89C6;&#x56FE;&#x89E3;&#x6790;&#x5668;&#x53BB;&#x8FDB;&#x884C;&#x89C6;&#x56FE;&#x89E3;&#x6790; &#xFF08;&#x6839;&#x636E;&#x903B;&#x8F91;&#x89C6;&#x56FE;&#x540D;&#x89E3;&#x6790;&#x6210;&#x771F;&#x6B63;&#x7684;&#x89C6;&#x56FE;(jsp)&#xFF09; &#x7B2C;&#x4E5D;&#x6B65;&#xFF1A;&#x89C6;&#x56FE;&#x89E3;&#x6790;&#x5668;&#x5411;&#x524D;&#x7AEF;&#x63A7;&#x5236;&#x5668;&#x8FD4;&#x56DE;View &#x7B2C;&#x5341;&#x6B65;&#xFF1A;&#x524D;&#x7AEF;&#x63A7;&#x5236;&#x5668;&#x8FDB;&#x884C;&#x89C6;&#x56FE;&#x6E32;&#x67D3;&#xFF08; &#x89C6;&#x56FE;&#x6E32;&#x67D3;&#x5C06;&#x6A21;&#x578B;&#x6570;&#x636E;(&#x5728;ModelAndView&#x5BF9;&#x8C61;&#x4E2D;)&#x586B;&#x5145;&#x5230;request&#x57DF;&#xFF09; &#x7B2C;&#x5341;&#x4E00;&#x6B65;&#xFF1A;&#x524D;&#x7AEF;&#x63A7;&#x5236;&#x5668;&#x5411;&#x7528;&#x6237;&#x54CD;&#x5E94;&#x7ED3;&#x679C; &#x7EC4;&#x4EF6;&#x524D;&#x7AEF;&#x63A7;&#x5236;&#x5668; DispatcherServlet&#xFF08;&#x4E0D;&#x9700;&#x8981;&#x7A0B;&#x5E8F;&#x5458;&#x5F00;&#x53D1;&#xFF09;&#x4F5C;&#x7528;&#x63A5;&#x6536;&#x8BF7;&#x6C42;&#xFF0C;&#x54CD;&#x5E94;&#x7ED3;&#x679C;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x8F6C;&#x53D1;&#x5668;&#xFF0C;&#x4E2D;&#x592E;&#x5904;&#x7406;&#x5668;&#x3002; &#x6709;&#x4E86;DispatcherServlet&#x51CF;&#x5C11;&#x4E86;&#x5176;&#x5B83;&#x7EC4;&#x4EF6;&#x4E4B;&#x95F4;&#x7684;&#x8026;&#x5408;&#x5EA6;&#x3002; &#x5904;&#x7406;&#x5668;&#x6620;&#x5C04;&#x5668; HandlerMapping(&#x4E0D;&#x9700;&#x8981;&#x7A0B;&#x5E8F;&#x5458;&#x5F00;&#x53D1;)&#x4F5C;&#x7528;&#xFF1A;&#x6839;&#x636E;&#x8BF7;&#x6C42;&#x7684;url&#x67E5;&#x627E;Handler &#x5904;&#x7406;&#x5668;&#x9002;&#x914D;&#x5668; HandlerAdapter&#x4F5C;&#x7528;&#xFF1A;&#x6309;&#x7167;&#x7279;&#x5B9A;&#x89C4;&#x5219;&#xFF08;HandlerAdapter&#x8981;&#x6C42;&#x7684;&#x89C4;&#x5219;&#xFF09;&#x53BB;&#x6267;&#x884C;Handler &#x5904;&#x7406;&#x5668; Handler(&#x9700;&#x8981;&#x7A0B;&#x5E8F;&#x5458;&#x5F00;&#x53D1;)&#x6CE8;&#x610F;&#xFF1A;&#x7F16;&#x5199; Handler &#x65F6;&#x6309;&#x7167;HandlerAdapter&#x7684;&#x8981;&#x6C42;&#x53BB;&#x505A;&#xFF0C;&#x8FD9;&#x6837;&#x9002;&#x914D;&#x5668;&#x624D;&#x53EF;&#x4EE5;&#x53BB;&#x6B63;&#x786E;&#x6267;&#x884C; Handler &#x89C6;&#x56FE;&#x89E3;&#x6790;&#x5668; View resolver(&#x4E0D;&#x9700;&#x8981;&#x7A0B;&#x5E8F;&#x5458;&#x5F00;&#x53D1;)&#x4F5C;&#x7528;&#xFF1A;&#x8FDB;&#x884C;&#x89C6;&#x56FE;&#x89E3;&#x6790;&#xFF0C;&#x6839;&#x636E;&#x903B;&#x8F91;&#x89C6;&#x56FE;&#x540D;&#x89E3;&#x6790;&#x6210;&#x771F;&#x6B63;&#x7684;&#x89C6;&#x56FE;&#xFF08;view&#xFF09; &#x89C6;&#x56FE;View(&#x9700;&#x8981;&#x7A0B;&#x5E8F;&#x5458;&#x5F00;&#x53D1;jsp)View&#x662F;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x5B9E;&#x73B0;&#x7C7B;&#x652F;&#x6301;&#x4E0D;&#x540C;&#x7684;View&#x7C7B;&#x578B;&#xFF08;jsp&#x3001;freemarker&#x3001;pdf&#x2026;&#xFF09; &#x5B9E;&#x4F8B;maven &#x4F9D;&#x8D56;1234567891011121314151617&lt;!--spring mvc &#x5E95;&#x5C42;&#x81EA;&#x52A8;&#x4F9D;&#x8D56; spring-core&#x3001;spring-context&#x3001;spring-aop&#x3001;spring-web &#x6240;&#x4EE5;&#x4E0D;&#x9700;&#x8981;&#x5728;&#x5BFC;&#x5165;&#x4E86; --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;4.1.4.RELEASE&lt;/version&gt;&lt;/dependency&gt;&lt;!--thymeleaf--&gt;&lt;dependency&gt; &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt; &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt; &lt;version&gt;3.0.9.RELEASE&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt; &lt;artifactId&gt;thymeleaf-spring4&lt;/artifactId&gt; &lt;version&gt;3.0.9.RELEASE&lt;/version&gt;&lt;/dependency&gt; &#x5728; resources/spring &#x76EE;&#x5F55;&#x4E0B;&#x6DFB;&#x52A0; springmvc.xml &#x6587;&#x4EF6;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc-3.2.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.2.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd&quot;&gt; &lt;!--&#x5F00;&#x542F;&#x6CE8;&#x89E3;&#x529F;&#x80FD;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x8BBE;&#x7F6E;&#x4E5F;&#x4F1A;&#x6DFB;&#x52A0;&#x9ED8;&#x8BA4;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;&#xFF0C;&#x4F46;&#x662F;&#x8BE5;&#x5B9E;&#x73B0;&#x7C7B;&#x5DF2;&#x8FC7;&#x65F6; --&gt; &lt;mvc:annotation-driven/&gt; &lt;!-- &#x914D;&#x7F6E;Controller --&gt; &lt;context:component-scan base-package=&quot;com.marklogzhu.ssm.controller&quot;/&gt; &lt;!--&#x914D;&#x7F6E;&#x89C6;&#x56FE;&#x89E3;&#x6790;&#x5668;,&#x4F7F;&#x7528;&#x89C6;&#x56FE;&#x540D;&#x79F0;&#x6765;&#x89E3;&#x6790;&#x89C6;&#x56FE;--&gt; &lt;bean class=&quot;org.springframework.web.servlet.view.BeanNameViewResolver&quot; &gt; &lt;!--&#x8BBE;&#x7F6E;&#x4F18;&#x5148;&#x7EA7;&#xFF0C;&#x5176;&#x503C;&#x8D8A;&#x5C0F;,&#x4F18;&#x5148;&#x7EA7;&#x8D8A;&#x9AD8;--&gt; &lt;!--&lt;property name=&quot;order&quot; value=&quot;10&quot; /&gt;--&gt; &lt;/bean&gt; &lt;!--Json&#x89E3;&#x6790;&#x89C6;&#x56FE;--&gt; &lt;bean id=&quot;jsonView&quot; class=&quot;org.springframework.web.servlet.view.json.MappingJackson2JsonView&quot;/&gt; &lt;!-- &#x4F7F;&#x7528;thymeleaf&#x89E3;&#x6790; --&gt; &lt;bean id=&quot;templateResolver&quot; class=&quot;org.thymeleaf.spring4.templateresolver.SpringResourceTemplateResolver&quot;&gt; &lt;property name=&quot;prefix&quot; value=&quot;/templates/&quot; /&gt; &lt;property name=&quot;suffix&quot; value=&quot;.html&quot; /&gt; &lt;property name=&quot;templateMode&quot; value=&quot;HTML&quot; /&gt; &lt;property name=&quot;cacheable&quot; value=&quot;false&quot; /&gt; &lt;property name=&quot;characterEncoding&quot; value=&quot;UTF-8&quot;/&gt;&lt;!--&#x4E0D;&#x52A0;&#x4F1A;&#x4E71;&#x7801;--&gt; &lt;/bean&gt; &lt;bean id=&quot;templateEngine&quot; class=&quot;org.thymeleaf.spring4.SpringTemplateEngine&quot;&gt; &lt;property name=&quot;templateResolver&quot; ref=&quot;templateResolver&quot; /&gt; &lt;/bean&gt; &lt;bean class=&quot;org.thymeleaf.spring4.view.ThymeleafViewResolver&quot;&gt; &lt;property name=&quot;templateEngine&quot; ref=&quot;templateEngine&quot; /&gt; &lt;!--&#x89E3;&#x51B3;&#x4E2D;&#x6587;&#x4E71;&#x7801;--&gt; &lt;property name=&quot;characterEncoding&quot; value=&quot;UTF-8&quot;/&gt; &lt;/bean&gt; &lt;!--&#x5BF9;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#x7684;&#x8BBF;&#x95EE;--&gt; &lt;mvc:resources mapping=&quot;/static/**&quot; location=&quot;/static/&quot; /&gt; &lt;mvc:resources mapping=&quot;/templates/**&quot; location=&quot;/templates/&quot; /&gt; &lt;/beans&gt; &#x914D;&#x7F6E; WEB-INI/web.xml &#x6587;&#x4EF6;12345678910111213141516171819202122232425262728293031323334353637&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;web-app version=&quot;2.4&quot; xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;&gt; &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt; &lt;!--&#x52A0;&#x8F7D;spring mvc --&gt; &lt;servlet&gt; &lt;servlet-name&gt;springMvc&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath*:spring/springmvc.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;springMvc&lt;/servlet-name&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; &lt;!--&#x7F16;&#x7801;&#x8FC7;&#x6EE4;&#x5668;--&gt; &lt;filter&gt; &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt; &lt;init-param&gt; &lt;param-name&gt;encoding&lt;/param-name&gt; &lt;param-value&gt;UTF-8&lt;/param-value&gt; &lt;/init-param&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;/filter-mapping&gt;&lt;/web-app&gt; &#x5728;Java&#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA;com.marklogzhu.ssm.controller,&#x5E76;&#x5728;&#x5176;&#x4E0B;&#x65B0;&#x5EFA; TestController.java123456789@Controller@RequestMapping(&quot;/test&quot;)public class TestController { @RequestMapping(&quot;/index&quot;) public String index(){ return &quot;index&quot;; }} &#x5728; webapp/templates &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; index.html &#x6587;&#x4EF6;123456&lt;html&gt; &lt;head&gt;&lt;/head&gt; &lt;body&gt; &lt;h2&gt;Hello World!&lt;/h2&gt; &lt;/body&gt;&lt;/html&gt; &#x542F;&#x52A8;&#x9879;&#x76EE;&#xFF0C;&#x5E76;&#x8BBF;&#x95EE; http://localhost:8080/test/index &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x4E0B;&#x56FE;&#x5185;&#x5BB9; &#x6839;&#x636E;&#x4E0A;&#x56FE;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x8BF4;&#x660E;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x5230;&#x6307;&#x5B9A;&#x7684; Controller &#x5E76;&#x8C03;&#x7528;&#x4E86;&#x8FD4;&#x56DE; index.html &#x7684;&#x65B9;&#x6CD5;&#x3002;","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"},{"name":"SpringMVC","slug":"SpringMVC","permalink":"https://marklogzhu.github.io/tags/SpringMVC/"}]},{"title":"MyBatis学习总结(四)--调用存储过程","date":"2018-05-14T07:55:00.000Z","path":"MyBatis/后台/Java/Mybatis/MyBatis学习总结(四)--调用存储过程/","text":"&#x9664;&#x4E86;&#x5BF9;&#x8868;&#x7684;&#x64CD;&#x4F5C;&#x5916;&#xFF0C;&#x6211;&#x4EEC;&#x6709;&#x65F6;&#x5019;&#x8FD8;&#x9700;&#x8981;&#x8C03;&#x7528;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#xFF0C;&#x4ECA;&#x5929;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x8BD5;&#x8BD5;&#x770B;! &#x6CE8;&#xFF1A;&#x672C;&#x793A;&#x4F8B;&#x4F7F;&#x7528;&#x7684;&#x6570;&#x636E;&#x5E93;&#x662F;sqlserver&#xFF0C;&#x5176;&#x4ED6;&#x6570;&#x636E;&#x5E93;&#x4F1A;&#x6709;&#x4E2A;&#x522B;&#x5DEE;&#x5F02;&#xFF01; &#x8FD4;&#x56DE;&#x5355;&#x4E2A;&#x7ED3;&#x679C;&#x96C6;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x6267;&#x884C;&#x521B;&#x5EFA;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;SQL12345678910111213USE [web]GOSET ANSI_NULLS ONGOSET QUOTED_IDENTIFIER ONGO CREATE PROCEDURE [dbo].[proc_findUserById]@id intASBEGINSELECT * FROM SysUser WHERE id =@idEND &#x5728; UserMapper.xml &#x6587;&#x4EF6;&#x4E2D;&#x7F16;&#x8F91;123&lt;select id=&quot;execFindUserList&quot; parameterType=&quot;int&quot; resultType=&quot;com.mark.pojo.User&quot;&gt; exec [dbo].[proc_findUserById] #{value}&lt;/select&gt; &#x5728; UserMapper.java &#x6587;&#x4EF6;&#x4E2D;&#x7F16;&#x8F91;&#x63A5;&#x53E3;1public List&lt;User&gt; execFindUserList(int id); UserTest.java &#x6587;&#x4EF6;&#x4E2D;&#x7F16;&#x8F91;&#x6D4B;&#x8BD5;&#x65B9;&#x6CD5;1234567@Testpublic void execFindUserListTest(){ SqlSession session = sqlSessionFactory.openSession(); UserMapper userMapper = session.getMapper(UserMapper.class); List&lt;User&gt; userList = userMapper.execFindUserList(1); System.out.println(userList);} &#x542F;&#x52A8;&#x8FD0;&#x884C;&#xFF0C;&#x89C2;&#x5BDF;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA; &#x8FD4;&#x56DE;&#x591A;&#x4E2A;&#x7ED3;&#x679C;&#x96C6;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x4FEE;&#x6539;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;,&#x8FD4;&#x56DE;&#x4E24;&#x4E2A;&#x7ED3;&#x679C;&#x96C6;1234567891011121314151617181920212223242526USE [web]GOSET ANSI_NULLS ONGOSET QUOTED_IDENTIFIER ONGO ALTER PROCEDURE [dbo].[proc_findUserById]@id intASBEGINSELECT * FROM SysUser SELECT * FROM orders END ``` ### &#x5728; UserMapper.xml &#x6587;&#x4EF6;&#x4E2D;&#x7F16;&#x8F91;``` xml&lt;resultMap id=&quot;userResultMap&quot; type=&quot;com.mark.pojo.User&quot;&gt;&lt;/resultMap&gt;&lt;resultMap id=&quot;ordersResultMap&quot; type=&quot;com.mark.pojo.Orders&quot;&gt;&lt;/resultMap&gt;&lt;select id=&quot;execStoredProcedure&quot; parameterType=&quot;int&quot; resultMap=&quot;userResultMap,ordersResultMap&quot;&gt; exec [dbo].[proc_findUserById] #{value}&lt;/select&gt; &#x5728; UserMapper.java &#x6587;&#x4EF6;&#x4E2D;&#x7F16;&#x8F91;&#x63A5;&#x53E3;1public List&lt;List&lt;?&gt;&gt; execStoredProcedure(int id); UserTest.java &#x6587;&#x4EF6;&#x4E2D;&#x7F16;&#x8F91;&#x6D4B;&#x8BD5;&#x65B9;&#x6CD5;12345678910@Testpublic void execStoredProcedureTest(){ SqlSession session = sqlSessionFactory.openSession(); UserMapper userMapper = session.getMapper(UserMapper.class); List&lt;List&lt;?&gt;&gt; data = userMapper.execStoredProcedure(1); List&lt;User&gt; userList = (List&lt;User&gt;) data.get(0); List&lt;Orders&gt; ordersList = (List&lt;Orders&gt;) data.get(1); System.out.println(userList); System.out.println(ordersList);} &#x542F;&#x52A8;&#x8FD0;&#x884C;&#xFF0C;&#x89C2;&#x5BDF;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"MyBatis","slug":"MyBatis","permalink":"https://marklogzhu.github.io/tags/MyBatis/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"}]},{"title":"MyBatis学习总结(三)--多表查询","date":"2018-05-14T07:05:00.000Z","path":"MyBatis/后台/Java/Mybatis/MyBatis学习总结(三)--多表查询/","text":"&#x5728;&#x4E4B;&#x524D;&#x7684;&#x8BB2;&#x89E3;&#x4E2D;&#x6211;&#x4EEC;&#x90FD;&#x662F;&#x5728;&#x5355;&#x8868;&#x4E0A;&#x64CD;&#x4F5C;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x5B9E;&#x9645;&#x9879;&#x76EE;&#x4E2D;&#xFF0C;&#x7ECF;&#x5E38;&#x4F1A;&#x51FA;&#x73B0;&#x591A;&#x8868;&#x5173;&#x8054;&#x64CD;&#x4F5C;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x4ECA;&#x5929;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x8BB2;&#x89E3;&#x4E0B;&#x600E;&#x4E48;&#x5B9E;&#x73B0;&#x591A;&#x8868;&#x5173;&#x8054;&#x67E5;&#x8BE2;&#x3002; &#x73AF;&#x5883;&#x642D;&#x5EFA;&#x6267;&#x884C;&#x521B;&#x5EFA;&#x8BA2;&#x5355;&#x8868; SQL12345678910CREATE TABLE orders ( id int NOT NULL , user_id int NOT NULL , number varchar(32) NOT NULL , createtime datetime NOT NULL , note varchar(100) DEFAULT NULL )INSERT INTO orders VALUES (&apos;3&apos;, &apos;1&apos;, &apos;1000010&apos;, &apos;2015-02-04 13:22:35&apos;, null);INSERT INTO orders VALUES (&apos;4&apos;, &apos;1&apos;, &apos;1000011&apos;, &apos;2015-02-03 13:22:41&apos;, null);INSERT INTO orders VALUES (&apos;5&apos;, &apos;10&apos;, &apos;1000012&apos;, &apos;2015-02-12 16:13:23&apos;, null); &#x5728; pojo &#x5305;&#x4E0B;&#x521B;&#x5EFA; Orders.java12345678910111213public class Orders { private Integer id; private Integer userId; private String number; private Date createtime; private String note; //get/set...} &#x4E00;&#x5BF9;&#x4E00;&#x67E5;&#x8BE2;&#x65B9;&#x5F0F;&#x4E00;&#xFF1A;&#x5B9A;&#x4E49;&#x4E13;&#x95E8;&#x7684; PO &#x7C7B;&#x4F5C;&#x4E3A;&#x8F93;&#x51FA;&#x7C7B;&#x578B;&#xFF0C;&#x5728;&#x5176;&#x4E2D;&#x5B9A;&#x4E49; SQL &#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x96C6;&#x91CC;&#x6240;&#x6709;&#x7684;&#x5B57;&#x6BB5;&#x5728; pojo &#x5305;&#x4E0B;&#x521B;&#x5EFA; OrdersCutom.java12345678910111213public class OrdersCustom extends Orders { private String userName; private String address; @Override public String toString() { return &quot;id:&quot;+ getId() + &quot;;userName:&quot;+userName; } //get/set...} &#x5728; UserMapper.xml &#x6587;&#x4EF6;&#x4E2D;&#x7F16;&#x8F91; SQL1234&lt;select id=&quot;findOrdersList&quot; resultType=&quot;com.mark.pojo.OrdersCustom&quot;&gt; SELECT A.*,B.username,B.address FROM orders A LEFT JOIN SysUser B ON A.user_id = B.ID&lt;/select&gt; &#x5728; UserMapper.java &#x6587;&#x4EF6;&#x4E2D;&#x7F16;&#x8F91;&#x63A5;&#x53E3;1public List&lt;OrdersCustom&gt; findOrdersList(); &#x5728; UserTest.java &#x6587;&#x4EF6;&#x4E2D;&#x7F16;&#x8F91;&#x6D4B;&#x8BD5;&#x65B9;&#x6CD5;1234567@Testpublic void findOrdersListTest() throws Exception { SqlSession session = sqlSessionFactory.openSession(); UserMapper userMapper = session.getMapper(UserMapper.class); List&lt;OrdersCustom&gt; ordersCustomList = userMapper.findOrdersList(); System.out.println(ordersCustomList);} &#x542F;&#x52A8;&#x8FD0;&#x884C;&#xFF0C;&#x89C2;&#x5BDF;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA; &#x65B9;&#x5F0F;&#x4E8C;&#xFF1A;&#x81EA;&#x5B9A;&#x4E49; resultMap &#x7528;&#x4E8E;&#x6620;&#x5C04;&#x4E00;&#x5BF9;&#x4E00;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x5728; Orders.java &#x6587;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0;12345678910111213141516171819202122232425262728293031323334353637383940414243private User user;public void setUser(User user) { this.user = user;}public User getUser() { return user;}public void setId(Integer id) { this.id = id;}@Overridepublic String toString() { return &quot;id:&quot;+ id + &quot;;userName:&quot;+ (user!=null ? user.getUserName() : &quot;&quot;);}``` #### &#x5728; UserMapper.xml &#x6587;&#x4EF6;&#x4E2D;&#x7F16;&#x8F91;&#x81EA;&#x5B9A;&#x4E49; resultMap``` xml &lt;resultMap id=&quot;orderUserResultMap&quot; type=&quot;com.mark.pojo.Orders&quot;&gt; &lt;!-- &#x4E3B;&#x952E;&#x5B57;&#x6BB5; --&gt; &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt; &lt;!-- &#x666E;&#x901A;&#x5B57;&#x6BB5; --&gt; &lt;result column=&quot;userId&quot; property=&quot;userId&quot;/&gt; &lt;result column=&quot;number&quot; property=&quot;number&quot;/&gt; &lt;result column=&quot;createtime&quot; property=&quot;createtime&quot;/&gt; &lt;result column=&quot;note&quot; property=&quot;note&quot;/&gt; &lt;association property=&quot;user&quot; javaType=&quot;com.mark.pojo.User&quot;&gt; &lt;!-- &#x4E3B;&#x952E;&#x5B57;&#x6BB5; --&gt; &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt; &lt;!-- &#x666E;&#x901A;&#x5B57;&#x6BB5; --&gt; &lt;result column=&quot;userName&quot; property=&quot;userName&quot;/&gt; &lt;result column=&quot;address&quot; property=&quot;address&quot;/&gt; &lt;/association&gt;&lt;/resultMap&gt;&lt;select id=&quot;findOrdersList2&quot; resultMap=&quot;orderUserResultMap&quot;&gt; SELECT A.*,B.username,B.address FROM orders A LEFT JOIN SysUser B ON A.user_id = B.ID&lt;/select&gt; ####&#x3000;&#x5728; UserMapper.java &#x6587;&#x4EF6;&#x4E2D;&#x7F16;&#x8F91;&#x63A5;&#x53E3; 1public List&lt;Orders&gt; findOrdersList2(); UserTest.java &#x6587;&#x4EF6;&#x4E2D;&#x7F16;&#x8F91;&#x6D4B;&#x8BD5;&#x65B9;&#x6CD5;1234567@Testpublic void findOrdersList2Test() throws Exception { SqlSession session = sqlSessionFactory.openSession(); UserMapper userMapper = session.getMapper(UserMapper.class); List&lt;Orders&gt; ordersCustomList = userMapper.findOrdersList2(); System.out.println(ordersCustomList);} &#x542F;&#x52A8;&#x8FD0;&#x884C;&#xFF0C;&#x89C2;&#x5BDF;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA; &#x4E00;&#x5BF9;&#x591A;&#x67E5;&#x8BE2;&#x5728; User.java &#x6587;&#x4EF6;&#x7F16;&#x8F91;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;12345678910111213private List&lt;Orders&gt; orders;public void setOrders(List&lt;Orders&gt; orders) { this.orders = orders;}public List&lt;Orders&gt; getOrders() { return orders;}@Overridepublic String toString() { return &quot;userName:&quot;+userName + &quot;; orders.size:&quot; + (orders !=null ? orders.size() : 0);} &#x5728; UserMapper.xml &#x6587;&#x4EF6;&#x4E2D;&#x7F16;&#x8F91;1234567891011121314151617181920212223&lt;resultMap id=&quot;userOrderResultMap&quot; type=&quot;com.mark.pojo.User&quot;&gt; &lt;!-- &#x4E3B;&#x952E;&#x5B57;&#x6BB5; --&gt; &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt; &lt;!-- &#x666E;&#x901A;&#x5B57;&#x6BB5; --&gt; &lt;result column=&quot;userName&quot; property=&quot;userName&quot;/&gt; &lt;result column=&quot;birthday&quot; property=&quot;birthday&quot;/&gt; &lt;result column=&quot;sex&quot; property=&quot;sex&quot;/&gt; &lt;result column=&quot;address&quot; property=&quot;address&quot;/&gt; &lt;!-- &#x4E00;&#x5BF9;&#x591A;&#x5173;&#x7CFB;&#x6620;&#x5C04; --&gt; &lt;collection property=&quot;orders&quot; ofType=&quot;com.mark.pojo.Orders&quot;&gt; &lt;!-- &#x4E3B;&#x952E;&#x5B57;&#x6BB5; --&gt; &lt;id column=&quot;oid&quot; property=&quot;id&quot;/&gt; &lt;!-- &#x666E;&#x901A;&#x5B57;&#x6BB5; --&gt; &lt;result column=&quot;number&quot; property=&quot;number&quot;/&gt; &lt;result column=&quot;createtime&quot; property=&quot;createtime&quot;/&gt; &lt;result column=&quot;note&quot; property=&quot;note&quot;/&gt; &lt;/collection&gt;&lt;/resultMap&gt;&lt;select id=&quot;findOrdersList3&quot; resultMap=&quot;userOrderResultMap&quot;&gt; SELECT A.*,B.id as oid ,B.number,B.createtime,B.note FROM SysUser A LEFT JOIN orders B ON A.ID = B.user_id&lt;/select&gt; &#x5728; UserMapper.java &#x6587;&#x4EF6;&#x4E2D;&#x7F16;&#x8F91;&#x63A5;&#x53E3;1public List&lt;User&gt; findOrdersList3(); UserTest.java &#x6587;&#x4EF6;&#x4E2D;&#x7F16;&#x8F91;&#x6D4B;&#x8BD5;&#x65B9;&#x6CD5;1234567@Testpublic void findOrdersList3Test() throws Exception { SqlSession session = sqlSessionFactory.openSession(); UserMapper userMapper = session.getMapper(UserMapper.class); List&lt;User&gt; userList = userMapper.findOrdersList3(); System.out.println(userList);} &#x542F;&#x52A8;&#x8FD0;&#x884C;&#xFF0C;&#x89C2;&#x5BDF;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"MyBatis","slug":"MyBatis","permalink":"https://marklogzhu.github.io/tags/MyBatis/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"}]},{"title":"MyBatis学习总结(二)--动态SQL","date":"2018-05-14T06:44:00.000Z","path":"MyBatis/后台/Java/Mybatis/MyBatis学习总结(二)--动态SQL/","text":"MyBatis &#x7684;&#x5F3A;&#x5927;&#x7279;&#x6027;&#x4E4B;&#x4E00;&#x4FBF;&#x662F;&#x5B83;&#x7684;&#x52A8;&#x6001; SQL&#x3002;&#x5982;&#x679C;&#x4F60;&#x6709;&#x4F7F;&#x7528; JDBC &#x6216;&#x5176;&#x5B83;&#x7C7B;&#x4F3C;&#x6846;&#x67B6;&#x7684;&#x7ECF;&#x9A8C;&#xFF0C;&#x4F60;&#x5C31;&#x80FD;&#x4F53;&#x4F1A;&#x5230;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x6761;&#x4EF6;&#x62FC;&#x63A5; SQL &#x8BED;&#x53E5;&#x7684;&#x75DB;&#x82E6;&#x3002;&#x4F8B;&#x5982;&#x62FC;&#x63A5;&#x65F6;&#x8981;&#x786E;&#x4FDD;&#x4E0D;&#x80FD;&#x5FD8;&#x8BB0;&#x6DFB;&#x52A0;&#x5FC5;&#x8981;&#x7684;&#x7A7A;&#x683C;&#xFF0C;&#x8FD8;&#x8981;&#x6CE8;&#x610F;&#x53BB;&#x6389;&#x5217;&#x8868;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5217;&#x540D;&#x7684;&#x9017;&#x53F7;&#x3002;&#x5229;&#x7528;&#x52A8;&#x6001; SQL &#x8FD9;&#x4E00;&#x7279;&#x6027;&#x53EF;&#x4EE5;&#x5F7B;&#x5E95;&#x6446;&#x8131;&#x8FD9;&#x79CD;&#x75DB;&#x82E6;&#x3002; &#x867D;&#x7136;&#x5728;&#x4EE5;&#x524D;&#x4F7F;&#x7528;&#x52A8;&#x6001; SQL &#x5E76;&#x975E;&#x4E00;&#x4EF6;&#x6613;&#x4E8B;&#xFF0C;&#x4F46;&#x6B63;&#x662F; MyBatis &#x63D0;&#x4F9B;&#x4E86;&#x53EF;&#x4EE5;&#x88AB;&#x7528;&#x5728;&#x4EFB;&#x610F; SQL &#x6620;&#x5C04;&#x8BED;&#x53E5;&#x4E2D;&#x7684;&#x5F3A;&#x5927;&#x7684;&#x52A8;&#x6001; SQL &#x8BED;&#x8A00;&#x5F97;&#x4EE5;&#x6539;&#x8FDB;&#x8FD9;&#x79CD;&#x60C5;&#x5F62;&#x3002; &#x52A8;&#x6001; SQL &#x5143;&#x7D20;&#x548C; JSTL &#x6216;&#x57FA;&#x4E8E;&#x7C7B;&#x4F3C; XML &#x7684;&#x6587;&#x672C;&#x5904;&#x7406;&#x5668;&#x76F8;&#x4F3C;&#x3002;&#x5728; MyBatis &#x4E4B;&#x524D;&#x7684;&#x7248;&#x672C;&#x4E2D;&#xFF0C;&#x6709;&#x5F88;&#x591A;&#x5143;&#x7D20;&#x9700;&#x8981;&#x82B1;&#x65F6;&#x95F4;&#x4E86;&#x89E3;&#x3002;MyBatis 3 &#x5927;&#x5927;&#x7CBE;&#x7B80;&#x4E86;&#x5143;&#x7D20;&#x79CD;&#x7C7B;&#xFF0C;&#x73B0;&#x5728;&#x53EA;&#x9700;&#x5B66;&#x4E60;&#x539F;&#x6765;&#x4E00;&#x534A;&#x7684;&#x5143;&#x7D20;&#x4FBF;&#x53EF;&#x3002;MyBatis &#x91C7;&#x7528;&#x529F;&#x80FD;&#x5F3A;&#x5927;&#x7684;&#x57FA;&#x4E8E; OGNL &#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x6765;&#x6DD8;&#x6C70;&#x5176;&#x5B83;&#x5927;&#x90E8;&#x5206;&#x5143;&#x7D20;&#x3002; MyBatis &#x901A;&#x8FC7;&#x6807;&#x7B7E;&#x5B9E;&#x73B0;&#x52A8;&#x6001;&#x62FC;&#x63A5; SQL ,&#x6807;&#x7B7E;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x3002; ifif:&#x5224;&#x65AD;&#x662F;&#x5426;&#x6210;&#x7ACB;&#xFF0C;&#x7ED3;&#x679C;&#x4E3A; true &#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x5C06;&#x4F1A;&#x6307;&#x5B9A;&#x62FC;&#x63A5;&#x5B57;&#x7B26;&#x4E32; UserMapper.XML123456789&lt;select id=&quot;findUserList&quot; parameterType=&quot;com.mark.pojo.User&quot; resultType=&quot;com.mark.pojo.User&quot;&gt; SELECT * FROM SysUser WHERE 1=1 &lt;if test=&quot; id &gt; 0&quot;&gt; AND id = #{id} &lt;/if&gt; &lt;if test=&quot;userName!=null and userName != &apos;&apos;&quot;&gt; AND userName LIKE &apos;%${userName}%&apos; &lt;/if&gt;&lt;/select&gt; UserMapper.java1234567UserMapper.java/** * &#x67E5;&#x8BE2;&#x7528;&#x6237;&#x4FE1;&#x606F; * @param user * @return */public List&lt;User&gt; findUserList(User user); UserTest.java123456789@Testpublic void findUserList() throws Exception{ User user = new User(); user.setUserName(&quot;&#x738B;&quot;); SqlSession session = sqlSessionFactory.openSession(); UserMapper userMapper = session.getMapper(UserMapper.class); List&lt;User&gt; userList = userMapper.findUserList(user); System.out.println(userList);} &#x8FD0;&#x884C;&#xFF0C;&#x89C2;&#x5BDF;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA; wherewhere &#x6807;&#x7B7E;&#x4E0B;&#xFF0C;&#x53EF;&#x4EE5;&#x7701;&#x7565; WHERE 1=1 UserMapper.XML1234567891011&lt;select id=&quot;findUserList2&quot; parameterType=&quot;com.mark.pojo.User&quot; resultType=&quot;com.mark.pojo.User&quot;&gt; SELECT * FROM SysUser &lt;where&gt; &lt;if test=&quot; id &gt; 0&quot;&gt; AND id = #{id} &lt;/if&gt; &lt;if test=&quot;userName!=null and userName != &apos;&apos;&quot;&gt; AND userName LIKE &apos;%${userName}%&apos; &lt;/if&gt; &lt;/where&gt;&lt;/select&gt; UserMapper.java1public List&lt;User&gt; findUserList2(User user); UserTest.java123456789@Testpublic void findUserList2() throws Exception{ User user = new User(); user.setUserName(&quot;&#x738B;&quot;); SqlSession session = sqlSessionFactory.openSession(); UserMapper userMapper = session.getMapper(UserMapper.class); List&lt;User&gt; userList = userMapper.findUserList2(user); System.out.println(userList);} &#x8FD0;&#x884C;&#xFF0C;&#x89C2;&#x5BDF;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA; foreach &#x8FED;&#x4EE3;&#x8FED;&#x4EE3;&#x53C2;&#x6570; collection&#xFF1A;&#x8981;&#x5FAA;&#x73AF;&#x7684;&#x96C6;&#x5408; index&#xFF1A;&#x5FAA;&#x73AF;&#x7D22;&#x5F15;&#xFF08;&#x4E0D;&#x77E5;&#x9053;&#x5565;&#x7528;&#x3002;&#x3002;&#xFF09; item&#xFF1A;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#xFF08;item&#x548C;collection&#xFF0C;&#x6309;foreach&#x5FAA;&#x73AF;&#x7406;&#x89E3;&#xFF09; open&#xFF1A;&#x4EE5;&#x4EC0;&#x4E48;&#x5F00;&#x59CB; close&#xFF1A;&#x4EE5;&#x4EC0;&#x4E48;&#x7ED3;&#x675F; separator&#xFF1A;&#x5FAA;&#x73AF;&#x5185;&#x5BB9;&#x4E4B;&#x95F4;&#x4EE5;&#x4EC0;&#x4E48;&#x5206;&#x9694; UserMapper.xml1234567891011&lt;select id=&quot;findUserList3&quot; parameterType=&quot;java.util.List&quot; resultType=&quot;com.mark.pojo.User&quot;&gt; SELECT * FROM SysUser &lt;where&gt; &lt;if test=&quot; list != null and list.size &gt; 0&quot;&gt; &lt;foreach collection=&quot;list&quot; open=&quot;id in(&quot; close=&quot;)&quot; item=&quot;id&quot; separator=&quot;,&quot;&gt; #{id} &lt;/foreach&gt; &lt;/if&gt; &lt;/where&gt;&lt;/select&gt; UserMapper.java1public List&lt;User&gt; findUserList3(List&lt;Integer&gt; ids); UserTest.java1234567891011@Testpublic void findUserList3() throws Exception{ List&lt;Integer&gt; ids = new ArrayList&lt;&gt;(); ids.add(1); ids.add(3); ids.add(7); SqlSession session = sqlSessionFactory.openSession(); UserMapper userMapper = session.getMapper(UserMapper.class); List&lt;User&gt; userList = userMapper.findUserList3(ids); System.out.println(userList);} &#x8FD0;&#x884C;&#xFF0C;&#x89C2;&#x5BDF;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA; 4) SQL &#x7247;&#x6BB5; sql :&#x53EF;&#x4EE5;&#x5C06;&#x91CD;&#x7528;&#x7684; SQL &#x62BD;&#x53D6;&#x51FA;&#x6765;&#x6210;&#x4E3A;&#x7247;&#x6BB5;include: &#x901A;&#x8FC7;&#x8BE5;&#x6807;&#x7B7E;&#x5C06; sql &#x7247;&#x6BB5;&#x5F15;&#x7528;&#x8FDB;&#x6765;(&#x6CE8;&#xFF1A;&#x5982;&#x679C;&#x9700;&#x8981;&#x5F15;&#x7528;&#x5176;&#x4ED6;&#x6587;&#x4EF6;&#x4E2D;&#x7684; SQL &#x7247;&#x6BB5;&#xFF0C;&#x9700;&#x8981;&#x52A0;&#x4E0A; namespace.sqlId) UserMapper.xml1234567&lt;sql id=&quot;WHERE&quot;&gt; WHERE id= #{id};&lt;/sql&gt;&lt;select id=&quot;findUserById2&quot; parameterType=&quot;int&quot; resultType=&quot;com.mark.pojo.User&quot;&gt; SELECT * FROM SysUser &lt;include refid=&quot;WHERE&quot;/&gt;&lt;/select&gt; UserMapper.java1public User findUserById2(int id) throws Exception; UserTest.java1234567@Testpublic void findUserById2Test() throws Exception { SqlSession session = sqlSessionFactory.openSession(); UserMapper userMapper = session.getMapper(UserMapper.class); User user = userMapper.findUserById2(1); System.out.println(user);} &#x8FD0;&#x884C;&#xFF0C;&#x89C2;&#x5BDF;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA; 5) set : &#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x589E;&#x52A0; set &#x5173;&#x952E;&#x5B57; &#x5E76;&#x4E14;&#x53BB;&#x6389;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x9017;&#x53F7; &#x5176;&#x4ED6;&#x7684;&#x8BF7;&#x53C2;&#x8003; &#x5B98;&#x65B9;&#x6587;&#x6863;","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"MyBatis","slug":"MyBatis","permalink":"https://marklogzhu.github.io/tags/MyBatis/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"}]},{"title":"MyBatis学习总结(一)--入门","date":"2018-05-14T06:26:00.000Z","path":"MyBatis/后台/Java/Mybatis/MyBatis学习总结(一)--入门/","text":"MyBatis &#x548C; Hibernate &#x4E00;&#x6837;&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x4F18;&#x79C0;&#x7684;&#x6301;&#x4E45;&#x5C42;&#x6846;&#x67B6;&#x3002;&#x539F;&#x751F;&#x7684; jdbc &#x64CD;&#x4F5C;&#x5B58;&#x5728;&#x5927;&#x91CF;&#x7684;&#x91CD;&#x590D;&#x6027;&#x4EE3;&#x7801;&#xFF08;&#x5982;&#x6CE8;&#x518C;&#x9A71;&#x52A8;&#xFF0C;&#x521B;&#x5EFA;&#x8FDE;&#x63A5;&#xFF0C;&#x521B;&#x5EFA;statement&#xFF0C;&#x7ED3;&#x679C;&#x96C6;&#x68C0;&#x6D4B;&#x7B49;&#xFF09;&#x3002;&#x6846;&#x67B6;&#x7684;&#x4F5C;&#x7528;&#x5C31;&#x662F;&#x628A;&#x8FD9;&#x4E9B;&#x7E41;&#x7410;&#x7684;&#x4EE3;&#x7801;&#x5C01;&#x88C5;&#xFF0C;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x8BA9;&#x7A0B;&#x5E8F;&#x5458;&#x4E13;&#x6CE8;&#x4E8E; sql &#x8BED;&#x53E5;&#x672C;&#x8EAB;&#x3002; &#x7B80;&#x4ECB;MyBatis &#x672C;&#x662F; apache &#x7684;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x9879;&#x76EE; iBatis , 2010&#x5E74;&#x8FD9;&#x4E2A;&#x9879;&#x76EE;&#x7531; apache software foundation &#x8FC1;&#x79FB;&#x5230;&#x4E86; google code &#xFF0C;&#x5E76;&#x4E14;&#x6539;&#x540D;&#x4E3A; MyBatis &#x3002;2013&#x5E74;11&#x6708;&#x8FC1;&#x79FB;&#x5230; Github&#x3002; MyBatis &#x901A;&#x8FC7; XML &#x6216;&#x8005;&#x6CE8;&#x89E3;&#x7684;&#x65B9;&#x5F0F;&#x5C06;&#x8981;&#x6267;&#x884C;&#x7684; sql &#x8BED;&#x53E5;&#x914D;&#x7F6E;&#x8D77;&#x6765;&#xFF0C;&#x5E76;&#x901A;&#x8FC7; java &#x5BF9;&#x8C61;&#x548C; sql &#x8BED;&#x53E5;&#x6620;&#x5C04;&#x6210;&#x6700;&#x7EC8;&#x6267;&#x884C;&#x7684; sql &#x8BED;&#x53E5;&#x3002;&#x6700;&#x7EC8;&#x7531; MyBatis &#x6846;&#x67B6;&#x6267;&#x884C; sql&#xFF0C;&#x5E76;&#x5C06;&#x7ED3;&#x679C;&#x6620;&#x5C04;&#x6210; java &#x5BF9;&#x8C61;&#x5E76;&#x8FD4;&#x56DE;&#x3002; MyBatis &#x7684;&#x4EE3;&#x7801;&#x7531; Github.com &#x7BA1;&#x7406;&#xFF0C;&#x5730;&#x5740;&#xFF1A;https://github.com/mybatis/mybatis-3/releases MyBatis &#x529F;&#x80FD;&#x67B6;&#x6784;Mybatis&#x529F; &#x80FD;&#x67B6;&#x6784;&#x5206;&#x4E3A;&#x4E09;&#x5C42;,&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;: API &#x63A5;&#x53E3;&#x5C42;&#x63D0;&#x4F9B;&#x7ED9;&#x5916;&#x90E8;&#x4F7F;&#x7528;&#x7684;&#x63A5;&#x53E3; API&#xFF0C;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x901A;&#x8FC7;&#x8FD9;&#x4E9B;&#x672C;&#x5730; API &#x6765;&#x64CD;&#x7EB5;&#x6570;&#x636E;&#x5E93;&#x3002;&#x63A5;&#x53E3;&#x5C42;&#x4E00;&#x63A5;&#x6536;&#x5230;&#x8C03;&#x7528;&#x8BF7;&#x6C42;&#x5C31;&#x4F1A;&#x8C03;&#x7528;&#x6570;&#x636E;&#x5904;&#x7406;&#x5C42;&#x6765;&#x5B8C;&#x6210;&#x5177;&#x4F53;&#x7684;&#x6570;&#x636E;&#x5904;&#x7406;&#x3002; Mybatis &#x63D0;&#x4F9B;&#x4E24;&#x79CD;&#x63A5;&#x53E3;&#x8C03;&#x7528;&#x65B9;&#x5F0F;: &#x4F7F;&#x7528; Mybatis &#x63D0;&#x4F9B;&#x7684; API &#x4F7F;&#x7528; Mapper &#x63A5;&#x53E3; &#x4F7F;&#x7528; MyBatis &#x63D0;&#x4F9B;&#x7684; API&#x4E86;&#x89E3;&#x5373;&#x53EF;&#xFF0C;&#x5B9E;&#x9645;&#x4E0D;&#x4F7F;&#x7528; &#x4F7F;&#x7528; Mapper &#x63A5;&#x53E3;MyBatis &#x5C06;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x6BCF;&#x4E00;&#x4E2A; &lt;mapper&gt; &#x8282;&#x70B9;&#x62BD;&#x8C61;&#x4E3A;&#x4E00;&#x4E2A; Mapper &#x63A5;&#x53E3;&#xFF0C;&#x800C;&#x8FD9;&#x4E2A;&#x63A5;&#x53E3;&#x4E2D;&#x58F0;&#x660E;&#x7684;&#x65B9;&#x6CD5;&#x548C;&#x8DDF; &lt;mapper&gt; &#x8282;&#x70B9;&#x4E2D;&#x7684; &lt;select|update|delete|insert&gt; &#x8282;&#x70B9;&#x9879;&#x5BF9;&#x5E94;&#xFF0C;&#x5373; &lt;select|update|delete|insert&gt; &#x8282;&#x70B9;&#x7684; id &#x503C;&#x4E3A; Mapper &#x63A5;&#x53E3;&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#x540D;&#x79F0;&#xFF0C;parameterType &#x503C;&#x8868;&#x793A; Mapper &#x5BF9;&#x5E94;&#x65B9;&#x6CD5;&#x7684;&#x5165;&#x53C2;&#x7C7B;&#x578B;&#xFF0C;&#x800C; resultMap &#x503C;&#x5219;&#x5BF9;&#x5E94;&#x4E86; Mapper &#x63A5;&#x53E3;&#x8868;&#x793A;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x7C7B;&#x578B;&#x6216;&#x8005;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x96C6;&#x7684;&#x5143;&#x7D20;&#x7C7B;&#x578B;&#x3002; MyBatis &#x4F1A;&#x6839;&#x636E;&#x76F8;&#x5E94;&#x7684;&#x63A5;&#x53E3;&#x58F0;&#x660E;&#x7684;&#x65B9;&#x6CD5;&#x4FE1;&#x606F;&#xFF0C;&#x901A;&#x8FC7;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x673A;&#x5236;&#x751F;&#x6210;&#x4E00;&#x4E2A; Mapper &#x5B9E;&#x4F8B;&#xFF0C;&#x5F53;&#x4F7F;&#x7528; Mapper &#x63A5;&#x53E3;&#x7684;&#x67D0;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;MyBatis &#x4F1A;&#x6839;&#x636E;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x7684;&#x65B9;&#x6CD5;&#x540D;&#x548C;&#x53C2;&#x6570;&#x7C7B;&#x578B;&#x6765;&#x627E;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x8BED;&#x53E5;id &#xFF0C;&#x7136;&#x540E;&#x5B9E;&#x73B0;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x64CD;&#x4F5C;&#x3002; &#x6570;&#x636E;&#x5904;&#x7406;&#x5C42;&#x8D1F;&#x8D23;&#x5177;&#x4F53;&#x7684; SQL&#x67E5;&#x627E;&#x3001;SQL&#x89E3;&#x6790;&#x3001;SQL&#x6267;&#x884C; &#x548C; &#x6267;&#x884C;&#x7ED3;&#x679C;&#x6620;&#x5C04;&#x5904;&#x7406; &#x7B49;&#x3002;&#x5B83;&#x4E3B;&#x8981;&#x7684;&#x529F;&#x80FD;&#x662F;&#x6839;&#x636E;&#x8C03;&#x7528;&#x7684;&#x8BF7;&#x6C42;&#x5B9E;&#x73B0;&#x4E00;&#x6B21;&#x6570;&#x636E;&#x5E93;&#x7684;&#x64CD;&#x4F5C;&#x3002; &#x57FA;&#x7840;&#x652F;&#x6491;&#x5C42;&#x8D1F;&#x8D23;&#x6700;&#x57FA;&#x7840;&#x7684;&#x529F;&#x80FD;&#x652F;&#x6491;&#xFF0C;&#x5305;&#x62EC;&#x8FDE;&#x63A5;&#x7BA1;&#x7406;&#x3001;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x3001;&#x914D;&#x7F6E;&#x52A0;&#x8F7D;&#x548C;&#x7F13;&#x5B58;&#x5904;&#x7406;&#xFF0C;&#x8FD9;&#x4E9B;&#x90FD;&#x662F;&#x5171;&#x7528;&#x7684;&#x4E1C;&#x897F;&#xFF0C;&#x5C06;&#x4ED6;&#x4EEC;&#x62BD;&#x53D6;&#x51FA;&#x6765;&#x4F5C;&#x4E3A;&#x6700;&#x57FA;&#x7840;&#x7684;&#x7EC4;&#x4EF6;&#x3002;&#x4E3A;&#x4E0A;&#x5C42;&#x7684;&#x6570;&#x636E;&#x5904;&#x7406;&#x5C42;&#x63D0;&#x4F9B;&#x6700;&#x57FA;&#x7840;&#x7684;&#x652F;&#x6491;&#x3002; &#x5F15;&#x5BFC;&#x5C42;&#x5F15;&#x5BFC;&#x5C42;&#x662F;&#x914D;&#x7F6E;&#x548C;&#x542F;&#x52A8; MyBatis &#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x7684;&#x65B9;&#x5F0F;&#x3002;MyBatis &#x63D0;&#x4F9B;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x6765;&#x5F15;&#x5BFC; MyBatis &#xFF1A; * &#x57FA;&#x4E8E;XML&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x65B9;&#x5F0F; * &#x57FA;&#x4E8E;Java API &#x7684;&#x65B9;&#x5F0F; &#x901A;&#x5E38;&#x4F7F;&#x7528;&#x57FA;&#x4E8E;XML&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x65B9;&#x5F0F; MyBatis &#x64CD;&#x4F5C;&#x6D41;&#x7A0B;&#x56FE; SqlSessionFactoryBuilder&#x6BCF;&#x4E00;&#x4E2A; MyBatis &#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x5165;&#x53E3;&#x662F; SqlSessionFactoryBuilder&#xFF0C;&#x5B83;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x901A;&#x8FC7;XML &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x521B;&#x5EFA; Configuration &#x5BF9;&#x8C61;&#xFF08;&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x81EA;&#x884C;&#x521B;&#x5EFA;&#xFF09;&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7; build &#x65B9;&#x6CD5;&#x521B;&#x5EFA; SqlSessionFactory &#x5BF9;&#x8C61;&#x3002;&#x6CA1;&#x6709;&#x5FC5;&#x8981;&#x6BCF;&#x6B21;&#x8BBF;&#x95EE; Mybatis &#x5C31;&#x521B;&#x5EFA;&#x4E00;&#x6B21;SqlSessionFactoryBuilder&#xFF0C;&#x901A;&#x5E38;&#x7684;&#x505A;&#x6CD5;&#x662F;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5168;&#x5C40;&#x7684;&#x5BF9;&#x8C61;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;&#x793A;&#x4F8B;&#x7A0B;&#x5E8F;&#x5982;&#x4E0B;&#xFF1A; 12345678private static SqlSessionFactoryBuilder sqlSessionFactoryBuilder; private static SqlSessionFactory sqlSessionFactory; private static void init() throws IOException { String resource = &quot;mybatis-config.xml&quot;; Reader reader = Resources.getResourceAsReader(resource); sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder(); sqlSessionFactory = sqlSessionFactoryBuilder.build(reader); } SqlSessionFactorySqlSessionFactory &#x5BF9;&#x8C61;&#x7531; SqlSessionFactoryBuilder &#x521B;&#x5EFA;&#x3002;&#x5B83;&#x7684;&#x4E3B;&#x8981;&#x529F;&#x80FD;&#x662F;&#x521B;&#x5EFA; SqlSession &#x5BF9;&#x8C61;&#xFF0C;&#x548C; SqlSessionFactoryBuilder&#x5BF9;&#x8C61;&#x4E00;&#x6837;&#xFF0C;&#x6CA1;&#x6709;&#x5FC5;&#x8981;&#x6BCF;&#x6B21;&#x8BBF;&#x95EE; Mybatis&#x5C31;&#x521B;&#x5EFA;&#x4E00;&#x6B21; SqlSessionFactory&#xFF0C;&#x901A;&#x5E38;&#x7684;&#x505A;&#x6CD5;&#x662F;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5168;&#x5C40;&#x7684;&#x5BF9;&#x8C61;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;SqlSessionFactory &#x5BF9;&#x8C61;&#x4E00;&#x4E2A;&#x5FC5;&#x8981;&#x7684;&#x5C5E;&#x6027;&#x662F; Configuration &#x5BF9;&#x8C61;,&#x5B83;&#x662F;&#x4FDD;&#x5B58; Mybatis &#x5168;&#x5C40;&#x914D;&#x7F6E;&#x7684;&#x4E00;&#x4E2A;&#x914D;&#x7F6E;&#x5BF9;&#x8C61;&#xFF0C;&#x901A;&#x5E38;&#x7531; SqlSessionFactoryBuilder &#x4ECE; XML &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x521B;&#x5EFA;&#x3002;&#x8FD9;&#x91CC;&#x7ED9;&#x51FA;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x793A;&#x4F8B;&#xFF1A;12345678910111213141516171819202122232425262728293031[html] view plain copy&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt; &lt;!DOCTYPE configuration PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt; &lt;configuration&gt; &lt;!-- &#x914D;&#x7F6E;&#x522B;&#x540D; --&gt; &lt;typeAliases&gt; &lt;typeAlias type=&quot;org.iMybatis.abc.dao.UserDao&quot; alias=&quot;UserDao&quot; /&gt; &lt;typeAlias type=&quot;org.iMybatis.abc.dto.UserDto&quot; alias=&quot;UserDto&quot; /&gt; &lt;/typeAliases&gt; &lt;!-- &#x914D;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF; --&gt; &lt;environments default=&quot;development&quot;&gt; &lt;environment id=&quot;development&quot;&gt; &lt;transactionManager type=&quot;JDBC&quot; /&gt; &lt;dataSource type=&quot;POOLED&quot;&gt; &lt;property name=&quot;driver&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt; &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://127.0.0.1:3306/iMybatis?characterEncoding=GBK&quot; /&gt; &lt;property name=&quot;username&quot; value=&quot;iMybatis&quot; /&gt; &lt;property name=&quot;password&quot; value=&quot;iMybatis&quot; /&gt; &lt;/dataSource&gt; &lt;/environment&gt; &lt;/environments&gt; &lt;!-- &#x914D;&#x7F6E;mappers --&gt; &lt;mappers&gt; &lt;mapper resource=&quot;org/iMybatis/abc/dao/UserDao.xml&quot; /&gt; &lt;/mappers&gt; &lt;/configuration&gt; &#x6CE8;&#x610F;&#xFF1A; XML &#x5934;&#x90E8;&#x7684;&#x58F0;&#x660E;&#xFF0C;&#x662F;&#x9700;&#x8981;&#x7528;&#x6765;&#x9A8C;&#x8BC1;XML &#x6587;&#x6863;&#x6B63;&#x786E;&#x6027;&#x3002; typeAliases &#x5143;&#x7D20;&#x662F;&#x5305;&#x542B;&#x6240;&#x6709; typeAlias&#xFF08;&#x522B;&#x540D;&#xFF09;&#x7684;&#x5217;&#x8868;&#xFF0C;&#x522B;&#x540D;&#x7528;&#x6765;&#x66FF;&#x6362;&#x5B8C;&#x6574;&#x7C7B;&#x540D;&#xFF0C;&#x8FD9;&#x6837;&#x5728;&#x9700;&#x8981;&#x5B8C;&#x6574;&#x7C7B;&#x540D;&#x7684;&#x5730;&#x65B9;&#x5C31;&#x53EF;&#x4EE5;&#x7528;&#x522B;&#x540D;&#x6765;&#x4EE3;&#x66FF;&#x3002; environment &#x5143;&#x7D20;&#x4F53;&#x4E2D;&#x5305;&#x542B;&#x5BF9;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x548C;&#x8FDE;&#x63A5;&#x6C60;&#x7684;&#x73AF;&#x5883;&#x914D;&#x7F6E;&#x3002;mappers &#x5143;&#x7D20;&#x662F;&#x5305;&#x542B;&#x6240;&#x6709; mapper&#xFF08;&#x6620;&#x5C04;&#x5668;&#xFF09;&#x7684;&#x5217;&#x8868;&#xFF0C;&#x8FD9;&#x4E9B; mapper &#x7684; XML &#x6587;&#x4EF6;&#x5305;&#x542B; SQL &#x4EE3;&#x7801;&#x548C;&#x6620;&#x5C04;&#x5B9A;&#x4E49;&#x4FE1;&#x606F;&#x3002;&#x5F53;&#x7136;&#xFF0C;&#x5728; XML &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x8FD8;&#x6709;&#x5F88;&#x591A;&#x53EF;&#x4EE5;&#x914D;&#x7F6E;&#x7684;&#xFF0C;&#x4E0A;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x6307;&#x51FA;&#x7684;&#x5219;&#x662F;&#x6700;&#x5173;&#x952E;&#x7684;&#x90E8;&#x5206;&#xFF0C;&#x5176;&#x4ED6;&#x914D;&#x7F6E;&#x8BF7;&#x53C2;&#x8003;Mybatis&#x7684; &#x5B98;&#x65B9;&#x6587;&#x6863;&#x3002; SqlSessionSqlSession &#x5BF9;&#x8C61;&#x7684;&#x4E3B;&#x8981;&#x529F;&#x80FD;&#x662F;&#x5B8C;&#x6210;&#x4E00;&#x6B21;&#x6570;&#x636E;&#x5E93;&#x7684;&#x8BBF;&#x95EE;&#x548C;&#x7ED3;&#x679C;&#x7684;&#x6620;&#x5C04;&#xFF0C;&#x5B83;&#x7C7B;&#x4F3C;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x7684; session &#x6982;&#x5FF5;&#xFF0C;&#x7531;&#x4E8E;&#x4E0D;&#x662F;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7684;&#xFF0C;&#x6240;&#x4EE5; SqlSession &#x5BF9;&#x8C61;&#x7684;&#x4F5C;&#x7528;&#x57DF;&#x9700;&#x9650;&#x5236;&#x65B9;&#x6CD5;&#x5185;&#x3002;SqlSession &#x7684;&#x9ED8;&#x8BA4;&#x5B9E;&#x73B0;&#x7C7B;&#x662F; DefaultSqlSession&#xFF0C;&#x5B83;&#x6709;&#x4E24;&#x4E2A;&#x5FC5;&#x987B;&#x914D;&#x7F6E;&#x7684;&#x5C5E;&#x6027;&#xFF1A;Configuration &#x548C; Executor&#x3002;Configuration &#x524D;&#x6587;&#x5DF2;&#x7ECF;&#x63CF;&#x8FF0;&#x8FD9;&#x91CC;&#x4E0D;&#x518D;&#x591A;&#x8BF4;&#x3002;SqlSession &#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x64CD;&#x4F5C;&#x90FD;&#x662F;&#x901A;&#x8FC7; Executor &#x6765;&#x5B8C;&#x6210;&#x7684;&#xFF0C;Executor &#x7684;&#x5177;&#x4F53;&#x529F;&#x80FD;&#x5728;&#x4E0B;&#x4E00;&#x5C0F;&#x8282;&#x5728;&#x63CF;&#x8FF0;&#x3002; &#x5230;&#x76EE;&#x524D;&#x4E3A;&#x6B62;&#xFF0C;&#x6211;&#x4EEC;&#x770B;&#x5230;&#x7684;&#x90FD;&#x662F; mybatis &#x7684;&#x6D41;&#x7A0B;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5728;&#x4EC0;&#x4E48;&#x5730;&#x65B9;&#x63D2;&#x5165;&#x5230;&#x8FD9;&#x4E2A;&#x6D41;&#x7A0B;&#x4E2D;&#x5E76;&#x83B7;&#x5F97;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x7684;&#x7ED3;&#x679C;&#x5462;&#xFF1F;&#x5C31;&#x662F; SqlSession&#x8FD9;&#x91CC;&#x3002;SqlSession&#x6709;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x65B9;&#x6CD5; getMapper&#xFF0C;&#x987E;&#x540D;&#x601D;&#x4E49;&#xFF0C;&#x8FD9;&#x4E2A;&#x65B9;&#x5F0F;&#x662F;&#x7528;&#x6765;&#x83B7;&#x53D6; Mapper&#x5BF9;&#x8C61;&#x7684;&#x3002; &#x4EC0;&#x4E48;&#x662F; Mapper&#x5BF9;&#x8C61;&#xFF1F;&#x6839;&#x636E; Mybatis &#x7684;&#x5B98;&#x65B9;&#x624B;&#x518C;&#xFF0C;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x9664;&#x4E86;&#x8981;&#x521D;&#x59CB;&#x5E76;&#x542F;&#x52A8; Mybatis &#x4E4B;&#x5916;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x5B9A;&#x4E49;&#x4E00;&#x4E9B;&#x63A5;&#x53E3;&#xFF0C;&#x63A5;&#x53E3;&#x91CC;&#x5B9A;&#x4E49;&#x8BBF;&#x95EE;&#x6570;&#x636E;&#x5E93;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5B58;&#x653E;&#x63A5;&#x53E3;&#x7684;&#x5305;&#x8DEF;&#x5F84;&#x4E0B;&#x9700;&#x8981;&#x653E;&#x7F6E;&#x540C;&#x540D;&#x7684; XML &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;SqlSession &#x7684; getMapper &#x65B9;&#x6CD5;&#x662F;&#x8054;&#x7CFB;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x548C; Mybatis &#x7EBD;&#x5E26;&#xFF0C;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x8BBF;&#x95EE; getMapper &#x65F6;&#xFF0C;Mybatis &#x4F1A;&#x6839;&#x636E;&#x4F20;&#x5165;&#x7684;&#x63A5;&#x53E3;&#x7C7B;&#x578B;&#x548C;&#x5BF9;&#x5E94;&#x7684; XML &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#xFF0C;&#x8FD9;&#x4E2A;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x5C31;&#x53EB;Mapper &#x5BF9;&#x8C61;&#x3002;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x83B7;&#x5F97; Mapper &#x5BF9;&#x8C61;&#x540E;&#xFF0C;&#x5C31;&#x5E94;&#x8BE5;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A; Mapper &#x5BF9;&#x8C61;&#x6765;&#x8BBF;&#x95EE; Mybatis &#x7684; SqlSession &#x5BF9;&#x8C61;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x8FBE;&#x5230;&#x91CC;&#x63D2;&#x5165;&#x5230; Mybatis &#x6D41;&#x7A0B;&#x7684;&#x76EE;&#x7684;&#x3002;&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; 12345SqlSession session= sqlSessionFactory.openSession(); UserDao userDao = session.getMapper(UserDao.class); UserDto user = new UserDto(); user.setUsername(&quot;iMybatis&quot;); List&lt;UserDto&gt; users = userDao.queryUsers(user); &#x5BF9;&#x5E94;&#x7684;&#x63A5;&#x53E3;&#xFF1A; 123public interface UserDao { public List&lt;UserDto&gt; queryUsers(UserDto user) throws Exception; } &#x5BF9;&#x5E94;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF1A; 12345678910&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt; &lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt; &lt;mapper namespace=&quot;org.iMybatis.abc.dao.UserDao&quot;&gt; &lt;select id=&quot;queryUsers&quot; parameterType=&quot;UserDto&quot; resultType=&quot;UserDto&quot; useCache=&quot;false&quot;&gt; &lt;![CDATA[ select * from t_user t where t.username = #{username} ]]&gt; &lt;/select&gt; &lt;/mapper&gt; ExecutorExecutor &#x5BF9;&#x8C61;&#x5728;&#x521B;&#x5EFA; Configuration &#x5BF9;&#x8C61;&#x7684;&#x65F6;&#x5019;&#x521B;&#x5EFA;&#xFF0C;&#x5E76;&#x4E14;&#x7F13;&#x5B58;&#x5728; Configuration &#x5BF9;&#x8C61;&#x91CC;&#x3002;Executor &#x5BF9;&#x8C61;&#x7684;&#x4E3B;&#x8981;&#x529F;&#x80FD;&#x662F;&#x8C03;&#x7528; StatementHandler &#x8BBF;&#x95EE;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5E76;&#x5C06;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x5B58;&#x5165;&#x7F13;&#x5B58;&#x4E2D;&#xFF08;&#x5982;&#x679C;&#x914D;&#x7F6E;&#x4E86;&#x7F13;&#x5B58;&#x7684;&#x8BDD;&#xFF09;&#x3002; StatementHandlerStatementHandler &#x662F;&#x771F;&#x6B63;&#x8BBF;&#x95EE;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x5E76;&#x8C03;&#x7528; ResultSetHandler &#x5904;&#x7406;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x3002; ResultSetHandler&#x5904;&#x7406;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x3002; &#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x505A;&#x4E00;&#x4E9B;&#x5B9E;&#x4F8B;&#x6F14;&#x793A;&#x4E0B;&#x3002; &#x5B9E;&#x4F8B;&#x4E00; &#xFF1A;&#x6839;&#x636E;&#x7528;&#x6237; id &#x67E5;&#x8BE2;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x521B;&#x5EFA;&#x8868;&#x6570;&#x636E;12345678910111213141516DROP TABLE IF EXISTS `user`;CREATE TABLE `user` ( `user_id` int(20) NOT NULL COMMENT &apos;&#x7528;&#x6237;id&apos;, `user_name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT &apos;&#x7528;&#x6237;&#x540D;&#x79F0;&apos;, `password` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT &apos;&#x7528;&#x6237;&#x5BC6;&#x7801;&apos;, `age` int(3) NOT NULL COMMENT &apos;&#x7528;&#x6237;&#x5E74;&#x9F84;&apos;, `email` varchar(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT &apos;&#x7528;&#x6237;&#x90AE;&#x7BB1;&apos;, PRIMARY KEY (`user_id`) USING BTREE) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_bin COMMENT = &apos;&#x7528;&#x6237;&#x8868;&apos; ROW_FORMAT = Dynamic;INSERT INTO `user` VALUES (1, &apos;&#x5F20;&#x4E09;&apos;, &apos;e10adc3949ba59abbe56e057f20f883e&apos;, 33, &apos;zhangsan@163.com&apos;);INSERT INTO `user` VALUES (2, &apos;&#x674E;&#x56DB;&apos;, &apos;e10adc3949ba59abbe56e057f20f883e&apos;, 33, &apos;lisi@163.com&apos;);INSERT INTO `user` VALUES (3, &apos;&#x738B;&#x4E94;&apos;, &apos;e10adc3949ba59abbe56e057f20f883e&apos;, 34, &apos;wangwu@163.com&apos;);INSERT INTO `user` VALUES (4, &apos;&#x8D75;&#x516D;&apos;, &apos;e10adc3949ba59abbe56e057f20f883e&apos;, 35, &apos;zhaoliu@163.com&apos;);INSERT INTO `user` VALUES (5, &apos;&#x738B;&#x51AC;&#x51AC;&apos;, &apos;e10adc3949ba59abbe56e057f20f883e&apos;, 36, &apos;wangdongdong@163.com&apos;);INSERT INTO `user` VALUES (6, &apos;&#x738B;&#x535A;&#x535A;&apos;, &apos;e10adc3949ba59abbe56e057f20f883e&apos;, 37, &apos;wangbobo@163.com&apos;); &#x52A0;&#x5165; maven &#x4F9D;&#x8D56;12345&lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;3.3.0&lt;/version&gt;&lt;/dependency&gt; &#x5728; pojo &#x5305;&#x4E0B;&#x65B0;&#x5EFA; User &#x5B9E;&#x4F53;&#x7C7B;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126public class User { /** * &#x7528;&#x6237;id */ private Integer userId; /** * &#x7528;&#x6237;&#x540D;&#x79F0; */ private String userName; /** * &#x7528;&#x6237;&#x5BC6;&#x7801; */ private String password; /** * &#x7528;&#x6237;&#x5E74;&#x9F84; */ private Integer age; /** * &#x7528;&#x6237;&#x90AE;&#x7BB1; */ private String email; /** * * @mbggenerated */ public User(Integer userId, String userName, String password, Integer age, String email) { this.userId = userId; this.userName = userName; this.password = password; this.age = age; this.email = email; } /** * * @mbggenerated */ public User() { super(); } /** * &#x7528;&#x6237;id * @return user_id &#x7528;&#x6237;id */ public Integer getUserId() { return userId; } /** * &#x7528;&#x6237;id * @param userId &#x7528;&#x6237;id */ public void setUserId(Integer userId) { this.userId = userId; } /** * &#x7528;&#x6237;&#x540D;&#x79F0; * @return user_name &#x7528;&#x6237;&#x540D;&#x79F0; */ public String getUserName() { return userName; } /** * &#x7528;&#x6237;&#x540D;&#x79F0; * @param userName &#x7528;&#x6237;&#x540D;&#x79F0; */ public void setUserName(String userName) { this.userName = userName == null ? null : userName.trim(); } /** * &#x7528;&#x6237;&#x5BC6;&#x7801; * @return password &#x7528;&#x6237;&#x5BC6;&#x7801; */ public String getPassword() { return password; } /** * &#x7528;&#x6237;&#x5BC6;&#x7801; * @param password &#x7528;&#x6237;&#x5BC6;&#x7801; */ public void setPassword(String password) { this.password = password == null ? null : password.trim(); } /** * &#x7528;&#x6237;&#x5E74;&#x9F84; * @return age &#x7528;&#x6237;&#x5E74;&#x9F84; */ public Integer getAge() { return age; } /** * &#x7528;&#x6237;&#x5E74;&#x9F84; * @param age &#x7528;&#x6237;&#x5E74;&#x9F84; */ public void setAge(Integer age) { this.age = age; } /** * &#x7528;&#x6237;&#x90AE;&#x7BB1; * @return email &#x7528;&#x6237;&#x90AE;&#x7BB1; */ public String getEmail() { return email; } /** * &#x7528;&#x6237;&#x90AE;&#x7BB1; * @param email &#x7528;&#x6237;&#x90AE;&#x7BB1; */ public void setEmail(String email) { this.email = email == null ? null : email.trim(); }} &#x5728; dao &#x5305;&#x4E0B;&#x65B0;&#x5EFA; UserMapper &#x63A5;&#x53E3;123public interface UserMapper { User selectByPrimaryKey(Integer userId);} &#x5728; resources/mapers &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; UserMapper.xml1234567891011121314151617181920&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot; &gt;&lt;mapper namespace=&quot;com.marklogzhu.ssm.dao.UserMapper&quot; &gt; &lt;resultMap id=&quot;BaseResultMap&quot; type=&quot;com.marklogzhu.ssm.pojo.User&quot; &gt; &lt;constructor &gt; &lt;idArg column=&quot;user_id&quot; jdbcType=&quot;INTEGER&quot; javaType=&quot;java.lang.Integer&quot; /&gt; &lt;arg column=&quot;user_name&quot; jdbcType=&quot;VARCHAR&quot; javaType=&quot;java.lang.String&quot; /&gt; &lt;arg column=&quot;password&quot; jdbcType=&quot;VARCHAR&quot; javaType=&quot;java.lang.String&quot; /&gt; &lt;arg column=&quot;age&quot; jdbcType=&quot;INTEGER&quot; javaType=&quot;java.lang.Integer&quot; /&gt; &lt;arg column=&quot;email&quot; jdbcType=&quot;VARCHAR&quot; javaType=&quot;java.lang.String&quot; /&gt; &lt;/constructor&gt; &lt;/resultMap&gt; &lt;select id=&quot;selectByPrimaryKey&quot; resultMap=&quot;BaseResultMap&quot; parameterType=&quot;java.lang.Integer&quot; &gt; select user_id, user_name, password, age, email from user where user_id = #{userId,jdbcType=INTEGER} &lt;/select&gt;&lt;/mapper&gt; &#x5728; resources&#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; SqlMapConfig.xml &#x6587;&#x4EF6;123456789101112131415161718192021&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE configuration PUBLIC &quot;-//mybatis.org//DTD SQL Map Config 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;&lt;configuration&gt; &lt;environments default=&quot;development&quot;&gt; &lt;environment id=&quot;development&quot;&gt; &lt;transactionManager type=&quot;JDBC&quot;/&gt; &lt;dataSource type=&quot;POOLED&quot;&gt; &lt;property name=&quot;driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt; &lt;!--&#x8BF7;&#x4F7F;&#x7528;&#x81EA;&#x5DF1;&#x7684;&#x6570;&#x636E;&#x5E93;&#x53CA;&#x8D26;&#x53F7;&#x4FE1;&#x606F;--&gt; &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/test?useUnicode=true&amp;amp;characterEncoding=utf8&quot;/&gt; &lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt; &lt;property name=&quot;password&quot; value=&quot;sa000&quot;/&gt; &lt;/dataSource&gt; &lt;/environment&gt; &lt;/environments&gt; &lt;mappers&gt; &lt;mapper resource=&quot;mappers/UserMapper.xml&quot;/&gt; &lt;/mappers&gt; &lt;/configuration&gt; test &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; UserTest.java &#x6D4B;&#x8BD5;&#x7C7B;1234567891011121314151617181920public class UserTest { @Test public void findUserById() throws IOException { // &#x7B2C;&#x4E00;&#x6B65;&#xFF0C;&#x521B;&#x5EFA;SqlSessionFactoryBuilder&#x5BF9;&#x8C61; SqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder(); // &#x7B2C;&#x4E8C;&#x6B65;&#xFF0C;&#x52A0;&#x8F7D;&#x914D;&#x7F6E;&#x6587;&#x4EF6; InputStream inputStream = Resources.getResourceAsStream(&quot;mybatis/mybatis-config.xml&quot;); // &#x7B2C;&#x4E09;&#x6B65;&#xFF0C;&#x521B;&#x5EFA;SqlSessionFactory&#x5BF9;&#x8C61; SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(inputStream); // &#x7B2C;&#x56DB;&#x6B65;&#xFF0C;&#x521B;&#x5EFA;SqlSession&#x5BF9;&#x8C61; SqlSession sqlSession = sqlSessionFactory.openSession(); // &#x7B2C;&#x4E94;&#x6B65;&#xFF0C;&#x4F7F;&#x7528;SqlSession&#x5BF9;&#x8C61;&#x6267;&#x884C;&#x67E5;&#x8BE2;&#xFF0C;&#x5F97;&#x5230;User&#x5BF9;&#x8C61; // &#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;&#x6267;&#x884C;&#x67E5;&#x8BE2;&#x7684;StatementId User user = sqlSession.selectOne(&quot;selectByPrimaryKey&quot;, 1); // &#x7B2C;&#x516D;&#x6B65;&#xFF0C;&#x6253;&#x5370;&#x7ED3;&#x679C; System.out.println(&quot;&#x7528;&#x6237;&#x59D3;&#x540D;&#xFF1A;&quot;+user.getUserName()+&quot;;&#x7528;&#x6237;&#x90AE;&#x7BB1;&#xFF1A;&quot;+user.getEmail()); // &#x7B2C;&#x4E03;&#x6B65;&#xFF0C;&#x91CA;&#x653E;&#x8D44;&#x6E90;&#xFF0C;&#x6BCF;&#x4E00;&#x4E2A;sqlSession&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5; sqlSession.close(); }} &#x8FD0;&#x884C;&#xFF0C;&#x89C2;&#x5BDF;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;1&#x7528;&#x6237;&#x59D3;&#x540D;&#xFF1A;&#x5F20;&#x4E09;;&#x7528;&#x6237;&#x90AE;&#x7BB1;&#xFF1A;zhangsan@163.com &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5DF2;&#x7ECF;&#x6210;&#x529F;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x67E5;&#x8BE2;&#x5230;&#x6570;&#x636E;&#x4E86;&#xFF0C;&#x8BF4;&#x660E;&#x6211;&#x4EEC;&#x7684;&#x4EE3;&#x7801;&#x8FD0;&#x884C;&#x6CA1;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x662F;&#x4E4B;&#x524D;&#x6211;&#x4EEC;&#x8BB2;&#x5230; SqlSessionFactoryBuilder &#x548C; SqlSessionFactory &#x5BF9;&#x8C61;&#x6CA1;&#x6709;&#x5FC5;&#x8981;&#x9891;&#x7E41;&#x7684;&#x521B;&#x5EFA;&#xFF0C;&#x90A3;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x4F18;&#x5316;&#x4E0B;&#x521A;&#x521A;&#x7684;&#x6D4B;&#x8BD5;&#x65B9;&#x6CD5;&#x3002; 123456789101112131415161718192021222324252627public class UserTest { private SqlSessionFactory sqlSessionFactory; @Before public void init() throws IOException { // &#x7B2C;&#x4E00;&#x6B65;&#xFF0C;&#x521B;&#x5EFA;SqlSessionFactoryBuilder&#x5BF9;&#x8C61; SqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder(); // &#x7B2C;&#x4E8C;&#x6B65;&#xFF0C;&#x52A0;&#x8F7D;&#x914D;&#x7F6E;&#x6587;&#x4EF6; InputStream inputStream = Resources.getResourceAsStream(&quot;mybatis/mybatis-config.xml&quot;); // &#x7B2C;&#x4E09;&#x6B65;&#xFF0C;&#x521B;&#x5EFA;SqlSessionFactory&#x5BF9;&#x8C61; sqlSessionFactory = sqlSessionFactoryBuilder.build(inputStream); } @Test public void findUserById() { // &#x7B2C;&#x56DB;&#x6B65;&#xFF0C;&#x521B;&#x5EFA;SqlSession&#x5BF9;&#x8C61; SqlSession sqlSession = sqlSessionFactory.openSession(); // &#x7B2C;&#x4E94;&#x6B65;&#xFF0C;&#x4F7F;&#x7528;SqlSession&#x5BF9;&#x8C61;&#x6267;&#x884C;&#x67E5;&#x8BE2;&#xFF0C;&#x5F97;&#x5230;User&#x5BF9;&#x8C61; // &#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;&#x6267;&#x884C;&#x67E5;&#x8BE2;&#x7684;StatementId User user = sqlSession.selectOne(&quot;selectByPrimaryKey&quot;, 1); // &#x7B2C;&#x516D;&#x6B65;&#xFF0C;&#x6253;&#x5370;&#x7ED3;&#x679C; System.out.println(&quot;&#x7528;&#x6237;&#x59D3;&#x540D;&#xFF1A;&quot;+user.getUserName()+&quot;;&#x7528;&#x6237;&#x90AE;&#x7BB1;&#xFF1A;&quot;+user.getEmail()); // &#x7B2C;&#x4E03;&#x6B65;&#xFF0C;&#x91CA;&#x653E;&#x8D44;&#x6E90;&#xFF0C;&#x6BCF;&#x4E00;&#x4E2A;sqlSession&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5; sqlSession.close(); }} &#x5B9E;&#x4F8B;&#x4E8C;&#xFF1A;&#x6839;&#x636E;&#x7528;&#x6237;&#x540D;&#x79F0;&#x6A21;&#x7CCA;&#x67E5;&#x8BE2;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x5217;&#x8868;&#x7F16;&#x8F91; UserMapper &#x63A5;&#x53E3;&#x65B0;&#x589E;&#x5982;&#x4E0B;&#x65B9;&#x6CD5;&#xFF1A;1List&lt;User&gt; findUserByUserName(String userName); &#x7F16;&#x8F91; UserMapper.xml &#x65B0;&#x589E;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;123456&lt;select id=&quot;findUserByUserName&quot; parameterType=&quot;String&quot; resultMap=&quot;BaseResultMap&quot;&gt; select user_id, user_name, password, age, email from user where user_name like #{userName}&lt;/select&gt; UserTest &#x6D4B;&#x8BD5;&#x7C7B;&#x65B0;&#x589E;&#x5982;&#x4E0B;&#x65B9;&#x6CD5;12345678910111213141516@Testpublic void findUserByUserName(){ // &#x7B2C;&#x56DB;&#x6B65;&#xFF0C;&#x521B;&#x5EFA;SqlSession&#x5BF9;&#x8C61; SqlSession sqlSession = sqlSessionFactory.openSession(); // &#x7B2C;&#x4E94;&#x6B65;&#xFF0C;&#x4F7F;&#x7528;SqlSession&#x5BF9;&#x8C61;&#x6267;&#x884C;&#x67E5;&#x8BE2;&#xFF0C;&#x5F97;&#x5230;User&#x5BF9;&#x8C61; // &#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;&#x6267;&#x884C;&#x67E5;&#x8BE2;&#x7684;StatementId List&lt;User&gt; userList = sqlSession.selectList(&quot;findUserByUserName&quot;, &quot;%&#x5F20;%&quot;); if(userList!=null &amp;&amp; userList.size()&gt;0) { for (User user : userList) { // &#x7B2C;&#x516D;&#x6B65;&#xFF0C;&#x6253;&#x5370;&#x7ED3;&#x679C; System.out.println(&quot;&#x7528;&#x6237;&#x59D3;&#x540D;&#xFF1A;&quot; + user.getUserName() + &quot;;&#x7528;&#x6237;&#x90AE;&#x7BB1;&#xFF1A;&quot; + user.getEmail()); } } // &#x7B2C;&#x4E03;&#x6B65;&#xFF0C;&#x91CA;&#x653E;&#x8D44;&#x6E90;&#xFF0C;&#x6BCF;&#x4E00;&#x4E2A;sqlSession&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5; sqlSession.close();} &#x8FD0;&#x884C;&#xFF0C;&#x89C2;&#x5BDF;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;1&#x7528;&#x6237;&#x59D3;&#x540D;&#xFF1A;&#x5F20;&#x4E09;;&#x7528;&#x6237;&#x90AE;&#x7BB1;&#xFF1A;zhangsan@163.com &#x9664;&#x4E86; #{} &#x5360;&#x4F4D;&#x7B26;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x7528;&#x5462;&#x53E6;&#x4E00;&#x79CD;&#x5F62;&#x5F0F; &#x7F16;&#x8F91; UserMapper &#x63A5;&#x53E3;&#x589E;&#x52A0; findUserByUserName2&#x65B9;&#x6CD5;1List&lt;User&gt; findUserByUserName2(String userName); &#x7F16;&#x8F91; UserMapper.xml &#x589E;&#x52A0; findUserByUserName2&#x65B9;&#x6CD5;123456&lt;select id=&quot;findUserByUserName2&quot; parameterType=&quot;String&quot; resultMap=&quot;BaseResultMap&quot;&gt; select &lt;include refid=&quot;Base_Column_List&quot; /&gt; from user where user_name like &apos;%${value}%&apos;&lt;/select&gt; &#x8FD0;&#x884C;&#xFF0C;&#x89C2;&#x5BDF;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;1&#x7528;&#x6237;&#x59D3;&#x540D;&#xFF1A;&#x5F20;&#x4E09;;&#x7528;&#x6237;&#x90AE;&#x7BB1;&#xFF1A;zhangsan@163.com &#x603B;&#x7ED3;#{} &#x548C; ${}#{} &#x8868;&#x793A;&#x4E00;&#x4E2A;&#x5360;&#x4F4D;&#x7B26;&#xFF0C;&#x901A;&#x8FC7; #{} &#x53EF;&#x4EE5;&#x5B9E;&#x73B0; PreparedStatement &#x5411;&#x5360;&#x4F4D;&#x7B26;&#x4E2D;&#x8BBE;&#x7F6E;&#x503C;&#xFF0C;&#x81EA;&#x52A8;&#x8FDB;&#x884C; Java &#x7C7B;&#x578B;&#x548C; JBDC &#x7C7B;&#x578B;&#x8F6C;&#x6362;&#xFF0C;&#x53EF;&#x4EE5;&#x6709;&#x6548;&#x9632;&#x6B62; SQL&#x6CE8;&#x5165; &#x3002;#{} &#x53EF;&#x4EE5;&#x63A5;&#x6536;&#x57FA;&#x7840;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x6216; proj &#x5C5E;&#x6027;&#x503C;&#xFF0C;&#x5982;&#x679C; ParameterType &#x4F20;&#x8F93;&#x5355;&#x4E2A;&#x57FA;&#x7840;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x503C;&#xFF0C;#{} &#x62EC;&#x53F7;&#x4E2D;&#x53EF;&#x4EE5;&#x662F; values &#x6216;&#x5176;&#x4ED6;&#x540D;&#x79F0;&#x3002; ${value} &#x8868;&#x793A;&#x4E00;&#x4E2A;&#x62FC;&#x63A5; SQL &#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x901A;&#x8FC7; ${} &#x53EF;&#x4EE5;&#x5C06; PreparedStatement &#x4F20;&#x5165;&#x7684;&#x5185;&#x5BB9;&#x62FC;&#x63A5;&#x5728; sql &#x4E2D;&#x4E14;&#x4E0D;&#x8FDB;&#x884C; jdbc &#x7C7B;&#x578B;&#x8F6C;&#x6362;&#xFF0C; ${} &#x53EF;&#x4EE5;&#x63A5;&#x6536;&#x57FA;&#x7840;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x503C;&#x6216; pojo &#x5C5E;&#x6027;&#x503C;&#xFF0C;&#x5982;&#x679C;PreparedStatement &#x4F20;&#x8F93;&#x5355;&#x4E2A;&#x57FA;&#x7840;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x503C;&#xFF0C;${}&#x62EC;&#x53F7;&#x4E2D;&#x53EA;&#x80FD;&#x662F; value&#x3002; ${value} &#x5F62;&#x5F0F;&#x65E0;&#x6CD5;&#x907F;&#x514D;SQL&#x6CE8;&#x5165;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x65E5;&#x5E38;&#x5F00;&#x53D1;&#x4E2D;&#x5C3D;&#x91CF;&#x4F7F;&#x7528; #{} &#x7684;&#x5F62;&#x5F0F;&#x3002; parameterType &#x548C; resultTypeparameterType &#x6307;&#x5B9A;&#x8F93;&#x5165;&#x53C2;&#x6570;&#x7C7B;&#x578B;&#xFF0C;mybatis &#x901A;&#x8FC7; ognl &#x4ECE;&#x8F93;&#x5165;&#x5BF9;&#x8C61;&#x4E2D;&#x83B7;&#x53D6;&#x53C2;&#x6570;&#x503C;&#x62FC;&#x63A5;&#x5728; sql&#x4E2D;&#x3002; resultType &#x6307;&#x5B9A;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x7C7B;&#x578B;&#xFF0C;mybatis &#x5C06; sql &#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x7684;&#x4E00;&#x884C;&#x8BB0;&#x5F55;&#x6570;&#x636E;&#x6620;&#x5C04;&#x4E3A;resultType &#x6307;&#x5B9A;&#x7C7B;&#x578B;&#x7684;&#x5BF9;&#x8C61;&#x3002; selectOne &#x548C; selectListselectOne : &#x67E5;&#x8BE2;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x5982;&#x679C;&#x8FD4;&#x56DE;&#x591A;&#x6761;&#x6570;&#x636E;&#x4F1A;&#x62A5;&#x5982;&#x4E0B;&#x5F02;&#x5E38;&#xFF1A; 1java.lang.ClassCastException: com.marklogzhu.ssm.pojo.User cannot be cast to java.util.List selectList &#xFF1A;&#x67E5;&#x8BE2;&#x4E00;&#x6761;&#x6216;&#x591A;&#x6761;&#x6570;&#x636E;&#xFF0C;&#x8FD4;&#x56DE; List &#x5BF9;&#x8C61;","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"MyBatis","slug":"MyBatis","permalink":"https://marklogzhu.github.io/tags/MyBatis/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"}]},{"title":"MyBatis三剑客之MyBatis-plugin","date":"2018-05-11T02:44:00.000Z","path":"MyBatis/后台/Java/Mybatis/MyBatis三剑客之MyBatis-plugin/","text":"&#x4F60;&#x8BD5;&#x8FC7;&#x5728;&#x4E00;&#x5806; mapper &#x6587;&#x4EF6;&#x4E2D;&#x627E;&#x6307;&#x5B9A;&#x7684;&#x6587;&#x4EF6;&#x5417;&#xFF0C;&#x6216;&#x662F;&#x5728;&#x51E0;&#x4E07;&#x884C;&#x7684; mapper &#x6587;&#x4EF6;&#x4E2D;&#x5BF9;&#x5E94;&#x7684;&#x65B9;&#x6CD5;&#x5417;&#xFF1F;&#x5982;&#x679C;&#x7B54;&#x6848;&#x662F;&#x80AF;&#x5B9A;&#x7684;&#x8BDD;&#xFF0C;&#x4ECA;&#x5929;&#x5C31;&#x7ED9;&#x5927;&#x5BB6;&#x4ECB;&#x7ECD;&#x4E00;&#x4E2A;&#x597D;&#x4E1C;&#x897F;&#x2013;MyBatis-plugin (&#x5F53;&#x7136;&#x597D;&#x4E1C;&#x897F;&#x57FA;&#x672C;&#x4E0A;&#x90FD;&#x662F;&#x4ED8;&#x8D39;&#x7684;)&#x3002;&#x5F53;&#x7136;&#x5B83;&#x9664;&#x4E86;&#x5E2E;&#x6211;&#x4EEC;&#x5FEB;&#x901F;&#x67E5;&#x627E;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E;&#x5916;,&#x4E5F;&#x662F;&#x6709;&#x5176;&#x4ED6;&#x7684;&#x529F;&#x80FD;&#x3002; MyBatis-plugin &#x529F;&#x80FD;&#x4ECB;&#x7ECD; &#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x80FD;&#x591F;&#x8FFD;&#x8E2A;dao&#x63A5;&#x53E3;&#x548C;mapper&#x6587;&#x4EF6;&#x91CC;xml&#x7684;&#x4E00;&#x4E2A;&#x63D2;&#x4EF6; &#x63D0;&#x4F9B;Mapper&#x63A5;&#x53E3;&#x4E0E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x5BF9;&#x5E94;SQL&#x7684;&#x5BFC;&#x822A; &#x63D0;&#x4F9B;Mapper&#x63A5;&#x53E3;&#x4E0E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x5BF9;&#x5E94;SQL&#x7684;&#x5BFC;&#x822A; &#x7F16;&#x8F91;XML&#x6587;&#x4EF6;&#x65F6;&#x81EA;&#x52A8;&#x8865;&#x5168; &#x6839;&#x636E;Mapper&#x63A5;&#x53E3;, &#x4F7F;&#x7528;&#x5FEB;&#x6377;&#x952E;&#x751F;&#x6210;xml&#x6587;&#x4EF6;&#x53CA;SQL&#x6807;&#x7B7E; ResultMap&#x4E2D;&#x7684;property&#x652F;&#x6301;&#x81EA;&#x52A8;&#x8865;&#x5168;&#xFF0C;&#x652F;&#x6301;&#x7EA7;&#x8054;(&#x5C5E;&#x6027;A.&#x5C5E;&#x6027;B.&#x5C5E;&#x6027;C) &#x5FEB;&#x6377;&#x952E;&#x751F;&#x6210;@Param&#x6CE8;&#x89E3; XML&#x4E2D;&#x7F16;&#x8F91;SQL&#x65F6;, &#x62EC;&#x53F7;&#x81EA;&#x52A8;&#x8865;&#x5168; XML&#x4E2D;&#x7F16;&#x8F91;SQL&#x65F6;, &#x652F;&#x6301;&#x53C2;&#x6570;&#x81EA;&#x52A8;&#x8865;&#x5168;(&#x57FA;&#x4E8E;@Param&#x6CE8;&#x89E3;&#x8BC6;&#x522B;&#x53C2;&#x6570;) &#x81EA;&#x52A8;&#x68C0;&#x67E5;Mapper XML&#x6587;&#x4EF6;&#x4E2D;ID&#x51B2;&#x7A81; &#x81EA;&#x52A8;&#x68C0;&#x67E5;Mapper XML&#x6587;&#x4EF6;&#x4E2D;&#x9519;&#x8BEF;&#x7684;&#x5C5E;&#x6027;&#x503C; &#x652F;&#x6301;Find Usage &#x652F;&#x6301;&#x91CD;&#x6784;&#x4ECE;&#x547D;&#x540D; &#x652F;&#x6301;&#x522B;&#x540D; &#x81EA;&#x52A8;&#x751F;&#x6210;ResultMap&#x5C5E;&#x6027; &#x5FEB;&#x6377;&#x952E;: Option + Enter(Mac) | Alt + Enter(Windows) &#x5B89;&#x88C5;&#x63D2;&#x4EF6; &#x70B9;&#x51FB;dao&#x53EF;&#x4EE5;&#x8FFD;&#x8E2A;&#x5230;xml&#xFF0C;&#x540C;&#x7406;&#x70B9;&#x51FB;xml&#x7684;sql&#x53F3;&#x8FB9;&#x5C0F;&#x7BAD;&#x5934;&#xFF0C;&#x53EF;&#x4EE5;&#x8FFD;&#x8E2A;&#x5230;dao&#x65B9;&#x6CD5;","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"MyBatis","slug":"MyBatis","permalink":"https://marklogzhu.github.io/tags/MyBatis/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"}]},{"title":"MyBatis三剑客之MyBatis-PageHelper","date":"2018-05-11T02:28:00.000Z","path":"MyBatis/后台/Java/Mybatis/MyBatis三剑客之MyBatis-PageHelper/","text":"mybatis &#x6709;&#x5F88;&#x591A;&#x4F18;&#x70B9;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x6709;&#x5F88;&#x591A;&#x7F3A;&#x70B9;&#xFF0C;&#x6BD4;&#x5982;&#x4ECA;&#x5929;&#x6211;&#x4EEC;&#x8981;&#x8BB2;&#x7684;&#x5206;&#x9875;&#x529F;&#x80FD;&#xFF0C;&#x5728; mybatis &#x4E2D;&#x8981;&#x4F7F;&#x7528;&#x5206;&#x9875;&#x529F;&#x80FD;&#x9700;&#x8981;&#x5982;&#x4E0B;&#x64CD;&#x4F5C;&#xFF1A; * &#x67E5;&#x8BE2;&#x5206;&#x9875;&#x6570;&#x636E; * &#x83B7;&#x53D6;&#x5206;&#x9875;&#x957F;&#x5EA6; &#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x9700;&#x8981;&#x8C03;&#x7528;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#x624D;&#x80FD;&#x5B8C;&#x6210;&#x5206;&#x9875;&#x529F;&#x80FD;&#xFF0C;&#x8FD9;&#x5C31;&#x663E;&#x5F97;&#x5F88;&#x7E41;&#x7410;&#x3002;&#x5E78;&#x597D;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x4E0D;&#x6B62;&#x6211;&#x9047;&#x5230;&#xFF0C;&#x65E9;&#x6709;&#x5927;&#x4F6C;&#x5F00;&#x53D1;&#x4E86;&#x4E00;&#x4E2A;&#x5206;&#x9875;&#x63D2;&#x4EF6;&#x6765;&#x7B80;&#x5316;&#x6211;&#x4EEC;&#x7684;&#x5F00;&#x53D1;,&#x90A3;&#x5C31;&#x662F; pagehelper&#x5206;&#x9875;&#x63D2;&#x4EF6;&#x3002;&#x5B83;&#x7684;&#x539F;&#x7406;&#x662F;&#x5229;&#x7528; mybatis&#x62E6;&#x622A;&#x5668;&#xFF0C;&#x5728;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5E93;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x62E6;&#x622A;&#x4E0B; SQL&#xFF0C;&#x7136;&#x540E;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#xFF0C;&#x4ECE;&#x800C;&#x5B9E;&#x73B0;&#x5206;&#x9875;&#x529F;&#x80FD;&#x3002; &#x7B80;&#x5355;&#x4F7F;&#x7528;&#x6DFB;&#x52A0;&#x6570;&#x636E;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4E0A;&#x4E00;&#x7AE0;&#x8282;&#x7684; user &#x8868;&#xFF0C;&#x5F53;&#x7136;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x4F60;&#x672C;&#x5730;&#x4EFB;&#x610F;&#x8868;&#x6765;&#x64CD;&#x4F5C; 12345678910111213141516DROP TABLE IF EXISTS `user`;CREATE TABLE `user` ( `user_id` int(20) NOT NULL COMMENT &apos;&#x7528;&#x6237;id&apos;, `user_name` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT &apos;&#x7528;&#x6237;&#x540D;&#x79F0;&apos;, `password` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT &apos;&#x7528;&#x6237;&#x5BC6;&#x7801;&apos;, `age` int(3) NOT NULL COMMENT &apos;&#x7528;&#x6237;&#x5E74;&#x9F84;&apos;, `email` varchar(30) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL COMMENT &apos;&#x7528;&#x6237;&#x90AE;&#x7BB1;&apos;, PRIMARY KEY (`user_id`) USING BTREE) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_bin COMMENT = &apos;&#x7528;&#x6237;&#x8868;&apos; ROW_FORMAT = Dynamic;INSERT INTO `user` VALUES (1, &apos;&#x5F20;&#x4E09;&apos;, &apos;e10adc3949ba59abbe56e057f20f883e&apos;, 33, &apos;zhangsan@163.com&apos;);INSERT INTO `user` VALUES (2, &apos;&#x674E;&#x56DB;&apos;, &apos;e10adc3949ba59abbe56e057f20f883e&apos;, 33, &apos;lisi@163.com&apos;);INSERT INTO `user` VALUES (3, &apos;&#x738B;&#x4E94;&apos;, &apos;e10adc3949ba59abbe56e057f20f883e&apos;, 34, &apos;wangwu@163.com&apos;);INSERT INTO `user` VALUES (4, &apos;&#x8D75;&#x516D;&apos;, &apos;e10adc3949ba59abbe56e057f20f883e&apos;, 35, &apos;zhaoliu@163.com&apos;);INSERT INTO `user` VALUES (5, &apos;&#x738B;&#x51AC;&#x51AC;&apos;, &apos;e10adc3949ba59abbe56e057f20f883e&apos;, 36, &apos;wangdongdong@163.com&apos;);INSERT INTO `user` VALUES (6, &apos;&#x738B;&#x535A;&#x535A;&apos;, &apos;e10adc3949ba59abbe56e057f20f883e&apos;, 37, &apos;wangbobo@163.com&apos;); &#x52A0;&#x5165;&#x4F9D;&#x8D56;123456&lt;!--mybatis &#x5206;&#x9875;--&gt;&lt;dependency&gt; &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt; &lt;artifactId&gt;pagehelper&lt;/artifactId&gt; &lt;version&gt;4.1.4&lt;/version&gt;&lt;/dependency&gt; mybatis-config.xml &#x6DFB;&#x52A0;&#x914D;&#x7F6E;1234567891011121314151617181920212223242526272829303132333435&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE configuration PUBLIC &quot;-//mybatis.org//DTD SQL Map Config 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;&lt;configuration&gt; &lt;plugins&gt; &lt;plugin interceptor=&quot;com.github.pagehelper.PageHelper&quot;&gt; &lt;!--&#x6307;&#x660E;&#x6570;&#x636E;&#x5E93; 4.0.0&#x4EE5;&#x540E;&#x4E0D;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x6B64;&#x5C5E;&#x6027;--&gt; &lt;property name=&quot;dialect&quot; value=&quot;mysql&quot;/&gt; &lt;!-- &#x8BE5;&#x53C2;&#x6570;&#x9ED8;&#x8BA4;&#x4E3A;false --&gt; &lt;!-- &#x8BBE;&#x7F6E;&#x4E3A;true&#x65F6;&#xFF0C;&#x4F1A;&#x5C06;RowBounds&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;offset&#x5F53;&#x6210;pageNum&#x9875;&#x7801;&#x4F7F;&#x7528; --&gt; &lt;!-- &#x548C;startPage&#x4E2D;&#x7684;pageNum&#x6548;&#x679C;&#x4E00;&#x6837;--&gt; &lt;property name=&quot;offsetAsPageNum&quot; value=&quot;true&quot;/&gt; &lt;!-- &#x8BE5;&#x53C2;&#x6570;&#x9ED8;&#x8BA4;&#x4E3A;false --&gt; &lt;!-- &#x8BBE;&#x7F6E;&#x4E3A;true&#x65F6;&#xFF0C;&#x4F7F;&#x7528;RowBounds&#x5206;&#x9875;&#x4F1A;&#x8FDB;&#x884C;count&#x67E5;&#x8BE2; --&gt; &lt;property name=&quot;rowBoundsWithCount&quot; value=&quot;true&quot;/&gt; &lt;!-- &#x8BBE;&#x7F6E;&#x4E3A;true&#x65F6;&#xFF0C;&#x5982;&#x679C;pageSize=0&#x6216;&#x8005;RowBounds.limit = 0&#x5C31;&#x4F1A;&#x67E5;&#x8BE2;&#x51FA;&#x5168;&#x90E8;&#x7684;&#x7ED3;&#x679C; --&gt; &lt;!-- &#xFF08;&#x76F8;&#x5F53;&#x4E8E;&#x6CA1;&#x6709;&#x6267;&#x884C;&#x5206;&#x9875;&#x67E5;&#x8BE2;&#xFF0C;&#x4F46;&#x662F;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x4ECD;&#x7136;&#x662F;Page&#x7C7B;&#x578B;&#xFF09;--&gt; &lt;property name=&quot;pageSizeZero&quot; value=&quot;true&quot;/&gt; &lt;!-- 3.3.0&#x7248;&#x672C;&#x53EF;&#x7528; - &#x5206;&#x9875;&#x53C2;&#x6570;&#x5408;&#x7406;&#x5316;&#xFF0C;&#x9ED8;&#x8BA4;false&#x7981;&#x7528; --&gt; &lt;!-- &#x542F;&#x7528;&#x5408;&#x7406;&#x5316;&#x65F6;&#xFF0C;&#x5982;&#x679C;pageNum&lt;1&#x4F1A;&#x67E5;&#x8BE2;&#x7B2C;&#x4E00;&#x9875;&#xFF0C;&#x5982;&#x679C;pageNum&gt;pages&#x4F1A;&#x67E5;&#x8BE2;&#x6700;&#x540E;&#x4E00;&#x9875; --&gt; &lt;!-- &#x7981;&#x7528;&#x5408;&#x7406;&#x5316;&#x65F6;&#xFF0C;&#x5982;&#x679C;pageNum&lt;1&#x6216;pageNum&gt;pages&#x4F1A;&#x8FD4;&#x56DE;&#x7A7A;&#x6570;&#x636E; --&gt; &lt;property name=&quot;reasonable&quot; value=&quot;true&quot;/&gt; &lt;!-- 3.5.0&#x7248;&#x672C;&#x53EF;&#x7528; - &#x4E3A;&#x4E86;&#x652F;&#x6301;startPage(Object params)&#x65B9;&#x6CD5; --&gt; &lt;!-- &#x589E;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;`params`&#x53C2;&#x6570;&#x6765;&#x914D;&#x7F6E;&#x53C2;&#x6570;&#x6620;&#x5C04;&#xFF0C;&#x7528;&#x4E8E;&#x4ECE;Map&#x6216;ServletRequest&#x4E2D;&#x53D6;&#x503C; --&gt; &lt;!-- &#x53EF;&#x4EE5;&#x914D;&#x7F6E;pageNum,pageSize,count,pageSizeZero,reasonable,orderBy,&#x4E0D;&#x914D;&#x7F6E;&#x6620;&#x5C04;&#x7684;&#x7528;&#x9ED8;&#x8BA4;&#x503C; --&gt; &lt;!-- &#x4E0D;&#x7406;&#x89E3;&#x8BE5;&#x542B;&#x4E49;&#x7684;&#x524D;&#x63D0;&#x4E0B;&#xFF0C;&#x4E0D;&#x8981;&#x968F;&#x4FBF;&#x590D;&#x5236;&#x8BE5;&#x914D;&#x7F6E; --&gt; &lt;property name=&quot;params&quot; value=&quot;pageNum=start;pageSize=limit;&quot;/&gt; &lt;!-- &#x652F;&#x6301;&#x901A;&#x8FC7;Mapper&#x63A5;&#x53E3;&#x53C2;&#x6570;&#x6765;&#x4F20;&#x9012;&#x5206;&#x9875;&#x53C2;&#x6570; --&gt; &lt;property name=&quot;supportMethodsArguments&quot; value=&quot;true&quot;/&gt; &lt;!-- always&#x603B;&#x662F;&#x8FD4;&#x56DE;PageInfo&#x7C7B;&#x578B;,check&#x68C0;&#x67E5;&#x8FD4;&#x56DE;&#x7C7B;&#x578B;&#x662F;&#x5426;&#x4E3A;PageInfo,none&#x8FD4;&#x56DE;Page --&gt; &lt;property name=&quot;returnPageInfo&quot; value=&quot;check&quot;/&gt; &lt;/plugin&gt; &lt;/plugins&gt;&lt;/configuration&gt; &#x5728; UserMapper.java &#x6DFB;&#x52A0;&#x67E5;&#x8BE2;&#x6240;&#x6709;&#x7528;&#x6237;&#x63A5;&#x53E3;123public interface UserMapper { List&lt;User&gt; findAllUser();} &#x5728; UserMapper.xml &#x6DFB;&#x52A0;&#x63A5;&#x53E3;SQL12345&lt;select id=&quot;findAllUser&quot; resultMap=&quot;BaseResultMap&quot;&gt; select &lt;include refid=&quot;Base_Column_List&quot; /&gt; from user&lt;/select&gt; service &#x6DFB;&#x52A0;&#x67E5;&#x8BE2;&#x7528;&#x6237;&#x65B9;&#x6CD5;12345678910111213@Servicepublic class UserService { @Autowired private UserMapper userMapper; public List&lt;User&gt; findAllUser(int currentPage, int pageSize){ PageHelper.startPage(currentPage, pageSize); List&lt;User&gt; docs = userMapper.findAllUser(); PageInfo&lt;User&gt; pageInfo = new PageInfo&lt;&gt;(docs); return pageInfo.getList(); }} Controller &#x6DFB;&#x52A0;&#x6D4B;&#x8BD5;&#x65B9;&#x6CD5;12345678910111213@Controller@RequestMapping(&quot;/test&quot;)public class TestController { @Autowired private UserService userService; @RequestMapping(&quot;/findAllUser&quot;) @ResponseBody public JsonData findAllUser(int currentPage, int pageSize){ return JsonData.createBySuccess(userService.findAllUser(currentPage,pageSize)); }} &#x542F;&#x52A8;&#x6D4B;&#x8BD5; &#x8BBF;&#x95EE; http://localhost:8080/test/findAllUser?currentPage=1&amp;pageSize=4 12345678910111213141516171819202122232425262728293031323334{ &quot;status&quot;: 0, &quot;msg&quot;: null, &quot;data&quot;: [ { &quot;userId&quot;: 1, &quot;userName&quot;: &quot;&#x5F20;&#x4E09;&quot;, &quot;password&quot;: &quot;e10adc3949ba59abbe56e057f20f883e&quot;, &quot;age&quot;: 33, &quot;email&quot;: &quot;zhangsan@163.com&quot; }, { &quot;userId&quot;: 2, &quot;userName&quot;: &quot;&#x674E;&#x56DB;&quot;, &quot;password&quot;: &quot;e10adc3949ba59abbe56e057f20f883e&quot;, &quot;age&quot;: 33, &quot;email&quot;: &quot;lisi@163.com&quot; }, { &quot;userId&quot;: 3, &quot;userName&quot;: &quot;&#x738B;&#x4E94;&quot;, &quot;password&quot;: &quot;e10adc3949ba59abbe56e057f20f883e&quot;, &quot;age&quot;: 34, &quot;email&quot;: &quot;wangwu@163.com&quot; }, { &quot;userId&quot;: 4, &quot;userName&quot;: &quot;&#x8D75;&#x516D;&quot;, &quot;password&quot;: &quot;e10adc3949ba59abbe56e057f20f883e&quot;, &quot;age&quot;: 35, &quot;email&quot;: &quot;zhaoliu@163.com&quot; } ]} &#x8BBF;&#x95EE; http://localhost:8080/test/findAllUser?currentPage=2&amp;pageSize=4 1234567891011121314151617181920{ &quot;status&quot;: 0, &quot;msg&quot;: null, &quot;data&quot;: [ { &quot;userId&quot;: 5, &quot;userName&quot;: &quot;&#x738B;&#x51AC;&#x51AC;&quot;, &quot;password&quot;: &quot;e10adc3949ba59abbe56e057f20f883e&quot;, &quot;age&quot;: 36, &quot;email&quot;: &quot;wangdongdong@163.com&quot; }, { &quot;userId&quot;: 6, &quot;userName&quot;: &quot;&#x738B;&#x535A;&#x535A;&quot;, &quot;password&quot;: &quot;e10adc3949ba59abbe56e057f20f883e&quot;, &quot;age&quot;: 37, &quot;email&quot;: &quot;wangbobo@163.com&quot; } ]} &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6211;&#x4EEC;&#x7684; SQL &#x5E76;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x5206;&#x9875;&#x7684;&#x8BED;&#x53E5;&#xFF0C;&#x4F46;&#x662F;&#x8BF7;&#x6C42;&#x4F20;&#x9012;&#x4E0D;&#x540C;&#x7684; currentPage &#x548C; pageSize &#x53C2;&#x6570;&#x53D1;&#x73B0;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x6570;&#x636E;&#x4E86;&#x3002; &#x6570;&#x636E;&#x884C;&#x7EDF;&#x8BA1;&#x5728;&#x5206;&#x9875;&#x9875;&#x9762;&#x4E2D;&#x901A;&#x5E38;&#x90FD;&#x9700;&#x8981;&#x663E;&#x793A;&#x603B;&#x6570;&#x636E;&#x6761;&#x6570;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x8BA1;&#x7B97;&#x9875;&#x6570;&#x3002;&#x5728;&#x6CA1;&#x6709;&#x4F7F;&#x7528; MyBatis-PageHelper &#x63D2;&#x4EF6;&#x4E4B;&#x524D;&#x9700;&#x8981;&#x5728;&#x5199;&#x4E00;&#x6761; count &#x51FD;&#x6570;&#x6765;&#x7EDF;&#x8BA1;&#x6761;&#x6570;&#xFF0C;&#x800C; MyBatis-PageHelper &#x5C31;&#x4E0D;&#x9700;&#x8981;&#x5728;&#x5199;&#x4E86;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x8BD5;&#x8BD5;&#x770B;&#x3002; &#x4FEE;&#x6539; UserService &#x65B9;&#x6CD5;&#x5982;&#x4E0B;1234567891011121314151617181920212223242526@Service@Slf4jpublic class UserService { @Autowired private UserMapper userMapper; public List&lt;User&gt; findAllUser(int currentPage, int pageSize){ PageHelper.startPage(currentPage, pageSize); List&lt;User&gt; docs = userMapper.findAllUser(); PageInfo&lt;User&gt; pageInfo = new PageInfo&lt;&gt;(docs); log.debug(&quot;&#x603B;&#x6761;&#x6570;:&quot;+pageInfo.getTotal()); log.debug(&quot;&#x5F53;&#x524D;&#x9875;&#x6570;:&quot;+pageInfo.getPageNum()); log.debug(&quot;&#x5F53;&#x524D;&#x9875;&#x9762;&#x6761;&#x6570;:&quot;+pageInfo.getPageSize()); log.debug(&quot;&#x5F53;&#x524D;&#x9875;&#x7B2C;&#x4E00;&#x6761;&#x884C;id:&quot;+pageInfo.getStartRow()); log.debug(&quot;&#x5F53;&#x524D;&#x9875;&#x6700;&#x540E;&#x4E00;&#x6761;&#x884C;id:&quot;+pageInfo.getEndRow()); log.debug(&quot;&#x4E0A;&#x9875;&#x9875;&#x7801;:&quot;+pageInfo.getPrePage()); log.debug(&quot;&#x4E0B;&#x9875;&#x9875;&#x7801;:&quot;+pageInfo.getNextPage()); log.debug(&quot;&#x6700;&#x540E;&#x4E00;&#x9875;&#x9875;&#x7801;:&quot;+pageInfo.getLastPage()); log.debug(&quot;&#x662F;&#x5426;&#x662F;&#x7B2C;&#x4E00;&#x9875;:&quot;+pageInfo.isIsFirstPage()); log.debug(&quot;&#x662F;&#x5426;&#x662F;&#x6700;&#x540E;&#x4E00;&#x9875;:&quot;+pageInfo.isIsLastPage()); log.debug(&quot;&#x662F;&#x5426;&#x6709;&#x4E0A;&#x4E00;&#x9875;:&quot;+pageInfo.isHasPreviousPage()); log.debug(&quot;&#x662F;&#x5426;&#x6709;&#x4E0B;&#x4E00;&#x9875;:&quot;+pageInfo.isHasNextPage()); return pageInfo.getList(); }} &#x63A7;&#x5236;&#x53F0;&#x65E5;&#x5FD7;&#x5982;&#x4E0B;&#xFF1A;1234567891011122018-05-14 09:31:27.142 [http-bio-8080-exec-1] DEBUG com.marklogzhu.ssm.service.UserService - &#x603B;&#x6761;&#x6570;:62018-05-14 09:31:27.142 [http-bio-8080-exec-1] DEBUG com.marklogzhu.ssm.service.UserService - &#x5F53;&#x524D;&#x9875;&#x6570;:22018-05-14 09:31:27.142 [http-bio-8080-exec-1] DEBUG com.marklogzhu.ssm.service.UserService - &#x5F53;&#x524D;&#x9875;&#x9762;&#x6761;&#x6570;:42018-05-14 09:31:27.142 [http-bio-8080-exec-1] DEBUG com.marklogzhu.ssm.service.UserService - &#x5F53;&#x524D;&#x9875;&#x7B2C;&#x4E00;&#x6761;&#x884C;id:52018-05-14 09:31:27.142 [http-bio-8080-exec-1] DEBUG com.marklogzhu.ssm.service.UserService - &#x5F53;&#x524D;&#x9875;&#x6700;&#x540E;&#x4E00;&#x6761;&#x884C;id:62018-05-14 09:31:27.142 [http-bio-8080-exec-1] DEBUG com.marklogzhu.ssm.service.UserService - &#x4E0A;&#x9875;&#x9875;&#x7801;:12018-05-14 09:31:27.142 [http-bio-8080-exec-1] DEBUG com.marklogzhu.ssm.service.UserService - &#x4E0B;&#x9875;&#x9875;&#x7801;:02018-05-14 09:31:27.142 [http-bio-8080-exec-1] DEBUG com.marklogzhu.ssm.service.UserService - &#x6700;&#x540E;&#x4E00;&#x9875;&#x9875;&#x7801;:22018-05-14 09:31:27.142 [http-bio-8080-exec-1] DEBUG com.marklogzhu.ssm.service.UserService - &#x662F;&#x5426;&#x662F;&#x7B2C;&#x4E00;&#x9875;:false2018-05-14 09:31:27.142 [http-bio-8080-exec-1] DEBUG com.marklogzhu.ssm.service.UserService - &#x662F;&#x5426;&#x662F;&#x6700;&#x540E;&#x4E00;&#x9875;:true2018-05-14 09:31:27.142 [http-bio-8080-exec-1] DEBUG com.marklogzhu.ssm.service.UserService - &#x662F;&#x5426;&#x6709;&#x4E0A;&#x4E00;&#x9875;:true2018-05-14 09:31:27.142 [http-bio-8080-exec-1] DEBUG com.marklogzhu.ssm.service.UserService - &#x662F;&#x5426;&#x6709;&#x4E0B;&#x4E00;&#x9875;:false","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"MyBatis","slug":"MyBatis","permalink":"https://marklogzhu.github.io/tags/MyBatis/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"}]},{"title":"MyBatis三剑客之MyBatis-Generate","date":"2018-05-10T09:37:00.000Z","path":"MyBatis/后台/Java/Mybatis/MyBatis三剑客之MyBatis-Generate/","text":"MyBatis&#x4E09;&#x5251;&#x5BA2;&#x6307;&#x7684;&#x662F;&#xFF1A;MyBatis-Generate&#x3001;MyBatis-PageHelper&#x3001;MyBatis-Plugin&#xFF0C;&#x5B83;&#x4EEC;&#x6781;&#x5927;&#x7684;&#x65B9;&#x4FBF;&#x4E86;&#x9879;&#x76EE;&#x7684;&#x5F00;&#x53D1;&#xFF0C;&#x4ECA;&#x5929;&#x5C31;&#x8BA9;&#x6211;&#x4EEC;&#x6765;&#x4E86;&#x89E3;&#x4E0B;&#x5982;&#x4F55;&#x4F7F;&#x7528;&#x5B83;&#x4EEC;&#x5427;&#xFF01; MyBatis-GenerateMyBatis Generator&#xFF08;&#x7B80;&#x79F0; MBG&#xFF09;&#x662F; MyBatis &#x7684;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x5668;.&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x8868;,&#x7136;&#x540E;&#x751F;&#x6210;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x8868;&#x7684;&#x57FA;&#x7840;&#x5BF9;&#x8C61;&#x7C7B;&#x578B;.&#x89E3;&#x51B3;&#x4E86;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x6709;&#x6700;&#x5927;&#x5F71;&#x54CD;&#x7684;&#x4E00;&#x4E9B;&#x7B80;&#x5355;&#x7684; CRUD &#x589E;&#x5220;&#x6539;&#x67E5;&#x64CD;&#x4F5C;,&#x4F46;&#x662F;&#x4ECD;&#x9700;&#x8981;&#x5BF9;&#x8054;&#x5408;&#x67E5;&#x8BE2;&#x548C;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x624B;&#x5199; SQL&#x8BED;&#x53E5;&#x548C;&#x5BF9;&#x8C61;. &#x63A5;&#x4E0B;&#x91CC;&#x6211;&#x4EEC;&#x6765;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x6765;&#x4F7F;&#x7528;&#x4E0B; MyBatis-Generate &#x5EFA;&#x7ACB;&#x7528;&#x6237;&#x8868;12345678CREATE TABLE `test`.`user` ( `user_id` int(20) NOT NULL COMMENT &apos;&#x7528;&#x6237;id&apos;, `user_name` varchar(100) NOT NULL COMMENT &apos;&#x7528;&#x6237;&#x540D;&#x79F0;&apos;, `password` varchar(200) NOT NULL COMMENT &apos;&#x7528;&#x6237;&#x5BC6;&#x7801;&apos;, `age` int(3) NOT NULL COMMENT &apos;&#x7528;&#x6237;&#x5E74;&#x9F84;&apos;, `email` varchar(30) NOT NULL COMMENT &apos;&#x7528;&#x6237;&#x90AE;&#x7BB1;&apos;, PRIMARY KEY (`user_id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT=&apos;&#x7528;&#x6237;&#x8868;&apos;; pom.xml &#x6DFB;&#x52A0; Mybatis Generator&#x63D2;&#x4EF6;12345678910&lt;!--Mybatis Generator &#x63D2;&#x4EF6;--&gt;&lt;plugin&gt; &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt; &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt; &lt;version&gt;1.3.2&lt;/version&gt; &lt;configuration&gt; &lt;verbose&gt;true&lt;/verbose&gt; &lt;overwrite&gt;true&lt;/overwrite&gt; &lt;/configuration&gt;&lt;/plugin&gt; &#x5728; resources &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; generatorConfig.xml &#x6587;&#x4EF6;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;!DOCTYPE generatorConfiguration PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt;&lt;generatorConfiguration&gt; &lt;!--&#x5BFC;&#x5165;&#x5C5E;&#x6027;&#x914D;&#x7F6E;--&gt; &lt;properties resource=&quot;jdbc.properties&quot;&gt;&lt;/properties&gt; &lt;!--&#x6307;&#x5B9A;&#x7279;&#x5B9A;&#x6570;&#x636E;&#x5E93;&#x7684;jdbc&#x9A71;&#x52A8;jar&#x5305;&#x7684;&#x4F4D;&#x7F6E;--&gt; &lt;classPathEntry location=&quot;${driverLocation}&quot;/&gt; &lt;context id=&quot;default&quot; targetRuntime=&quot;MyBatis3&quot;&gt; &lt;!-- &#x6307;&#x5B9A;&#x751F;&#x6210;&#x7684;java&#x6587;&#x4EF6;&#x7684;&#x7F16;&#x7801;,&#x6CA1;&#x6709;&#x76F4;&#x63A5;&#x751F;&#x6210;&#x5230;&#x9879;&#x76EE;&#x65F6;&#x4E2D;&#x6587;&#x53EF;&#x80FD;&#x4F1A;&#x4E71;&#x7801; --&gt; &lt;property name=&quot;javaFileEncoding&quot; value=&quot;UTF-8&quot;/&gt; &lt;!-- optional&#xFF0C;&#x65E8;&#x5728;&#x521B;&#x5EFA;class&#x65F6;&#xFF0C;&#x5BF9;&#x6CE8;&#x91CA;&#x8FDB;&#x884C;&#x63A7;&#x5236; --&gt; &lt;commentGenerator &gt; &lt;!--&#x4E0D;&#x5141;&#x8BB8;&#x751F;&#x6210;&#x521B;&#x5EFA;&#x65E5;&#x671F;--&gt; &lt;property name=&quot;suppressDate&quot; value=&quot;true&quot;/&gt; &lt;!--&#x4E0D;&#x5141;&#x8BB8;&#x751F;&#x6210;&#x6CE8;&#x91CA;--&gt; &lt;property name=&quot;suppressAllComments&quot; value=&quot;true&quot;/&gt; &lt;/commentGenerator&gt; &lt;!--jdbc&#x7684;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5; --&gt; &lt;jdbcConnection driverClass=&quot;${driverClassName}&quot; connectionURL=&quot;${url}&quot; userId=&quot;${username}&quot; password=&quot;${password}&quot;&gt; &lt;!-- &#x9488;&#x5BF9;mysql&#x6570;&#x636E;&#x5E93; --&gt; &lt;property name=&quot;useInformationSchema&quot; value=&quot;true&quot;&gt;&lt;/property&gt; &lt;/jdbcConnection&gt; &lt;!-- &#x975E;&#x5FC5;&#x9700;&#xFF0C;&#x7C7B;&#x578B;&#x5904;&#x7406;&#x5668;&#xFF0C;&#x5728;&#x6570;&#x636E;&#x5E93;&#x7C7B;&#x578B;&#x548C;java&#x7C7B;&#x578B;&#x4E4B;&#x95F4;&#x7684;&#x8F6C;&#x6362;&#x63A7;&#x5236; --&gt; &lt;javaTypeResolver&gt; &lt;property name=&quot;forceBigDecimals&quot; value=&quot;false&quot;/&gt; &lt;/javaTypeResolver&gt; &lt;!-- Model&#x6A21;&#x578B;&#x751F;&#x6210;&#x5668;,&#x7528;&#x6765;&#x751F;&#x6210;&#x542B;&#x6709;&#x4E3B;&#x952E;key&#x7684;&#x7C7B;&#xFF0C;&#x8BB0;&#x5F55;&#x7C7B; &#x4EE5;&#x53CA;&#x67E5;&#x8BE2;Example&#x7C7B; targetPackage &#x6307;&#x5B9A;&#x751F;&#x6210;&#x7684;model&#x751F;&#x6210;&#x6240;&#x5728;&#x7684;&#x5305;&#x540D; targetProject &#x6307;&#x5B9A;&#x5728;&#x8BE5;&#x9879;&#x76EE;&#x4E0B;&#x6240;&#x5728;&#x7684;&#x8DEF;&#x5F84; --&gt; &lt;javaModelGenerator targetPackage=&quot;com.marklogzhu.ssm.pojo&quot; targetProject=&quot;./src/main/java&quot;&gt; &lt;!-- &#x662F;&#x5426;&#x5141;&#x8BB8;&#x5B50;&#x5305;&#xFF0C;&#x5373;targetPackage.schemaName.tableName --&gt; &lt;property name=&quot;enableSubPackages&quot; value=&quot;false&quot;/&gt; &lt;!-- &#x662F;&#x5426;&#x5BF9;model&#x6DFB;&#x52A0; &#x6784;&#x9020;&#x51FD;&#x6570; --&gt; &lt;property name=&quot;constructorBased&quot; value=&quot;true&quot;/&gt; &lt;!-- &#x662F;&#x5426;&#x5BF9;&#x7C7B;CHAR&#x7C7B;&#x578B;&#x7684;&#x5217;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;trim&#x64CD;&#x4F5C; --&gt; &lt;property name=&quot;trimStrings&quot; value=&quot;true&quot;/&gt; &lt;!-- &#x5EFA;&#x7ACB;&#x7684;Model&#x5BF9;&#x8C61;&#x662F;&#x5426; &#x4E0D;&#x53EF;&#x6539;&#x53D8; &#x5373;&#x751F;&#x6210;&#x7684;Model&#x5BF9;&#x8C61;&#x4E0D;&#x4F1A;&#x6709; setter&#x65B9;&#x6CD5;&#xFF0C;&#x53EA;&#x6709;&#x6784;&#x9020;&#x65B9;&#x6CD5; --&gt; &lt;property name=&quot;immutable&quot; value=&quot;false&quot;/&gt; &lt;/javaModelGenerator&gt; &lt;!--mapper&#x6620;&#x5C04;&#x6587;&#x4EF6;&#x751F;&#x6210;&#x6240;&#x5728;&#x7684;&#x76EE;&#x5F55; &#x4E3A;&#x6BCF;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x7684;&#x8868;&#x751F;&#x6210;&#x5BF9;&#x5E94;&#x7684;SqlMap&#x6587;&#x4EF6; --&gt; &lt;!--&lt;sqlMapGenerator targetPackage=&quot;mappers&quot; targetProject=&quot;.\\src\\main\\resources&quot;&gt;--&gt; &lt;sqlMapGenerator targetPackage=&quot;mappers&quot; targetProject=&quot;./src/main/resources&quot;&gt; &lt;property name=&quot;enableSubPackages&quot; value=&quot;false&quot;/&gt; &lt;/sqlMapGenerator&gt; &lt;!-- &#x5BA2;&#x6237;&#x7AEF;&#x4EE3;&#x7801;&#xFF0C;&#x751F;&#x6210;&#x6613;&#x4E8E;&#x4F7F;&#x7528;&#x7684;&#x9488;&#x5BF9;Model&#x5BF9;&#x8C61;&#x548C;XML&#x914D;&#x7F6E;&#x6587;&#x4EF6; &#x7684;&#x4EE3;&#x7801; type=&quot;ANNOTATEDMAPPER&quot;,&#x751F;&#x6210;Java Model &#x548C;&#x57FA;&#x4E8E;&#x6CE8;&#x89E3;&#x7684;Mapper&#x5BF9;&#x8C61; type=&quot;MIXEDMAPPER&quot;,&#x751F;&#x6210;&#x57FA;&#x4E8E;&#x6CE8;&#x89E3;&#x7684;Java Model &#x548C;&#x76F8;&#x5E94;&#x7684;Mapper&#x5BF9;&#x8C61; type=&quot;XMLMAPPER&quot;,&#x751F;&#x6210;SQLMap XML&#x6587;&#x4EF6;&#x548C;&#x72EC;&#x7ACB;&#x7684;Mapper&#x63A5;&#x53E3; --&gt; &lt;!-- targetPackage&#xFF1A;mapper&#x63A5;&#x53E3;dao&#x751F;&#x6210;&#x7684;&#x4F4D;&#x7F6E; --&gt; &lt;javaClientGenerator type=&quot;XMLMAPPER&quot; targetPackage=&quot;com.marklogzhu.ssm.dao&quot; targetProject=&quot;./src/main/java&quot;&gt; &lt;!-- enableSubPackages:&#x662F;&#x5426;&#x8BA9;schema&#x4F5C;&#x4E3A;&#x5305;&#x7684;&#x540E;&#x7F00; --&gt; &lt;property name=&quot;enableSubPackages&quot; value=&quot;false&quot; /&gt; &lt;/javaClientGenerator&gt; &lt;table tableName=&quot;user&quot; domainObjectName=&quot;User&quot; enableCountByExample=&quot;false&quot; enableUpdateByExample=&quot;false&quot; enableDeleteByExample=&quot;false&quot; enableSelectByExample=&quot;false&quot; selectByExampleQueryId=&quot;false&quot;&gt;&lt;/table&gt; &lt;/context&gt;&lt;/generatorConfiguration&gt; &#x5728; resources &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; jdbc.properties &#x6587;&#x4EF6;1234567# &#x6CE8;&#x610F;&#x4F7F;&#x7528;&#x81EA;&#x5DF1;&#x672C;&#x5730; maven &#x4ED3;&#x5E93;&#x4E0B; mysql.jar &#x4F4D;&#x7F6E;driverLocation:E:\\\\repository\\\\mysql\\\\mysql-connector-java\\\\5.1.45\\\\mysql-connector-java-5.1.45.jar# &#x6CE8;&#x610F;&#x4F7F;&#x7528;&#x81EA;&#x5DF1;&#x7684;&#x6570;&#x636E;&#x5E93;&#x8DDF;&#x8D26;&#x53F7;&#x4FE1;&#x606F;url:jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=utf8driverClassName:com.mysql.jdbc.Driverusername:rootpassword:sa000 &#x542F;&#x52A8;&#x8FD0;&#x884C;&#x63D2;&#x4EF6; &#x770B;&#x4E0B;&#x5BF9;&#x5E94;&#x5305;&#x4E0B;&#x751F;&#x6210;&#x7684;&#x6587;&#x4EF6; pojo &#x5305;&#x4E0B; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263public class User { private Integer userId; private String userName; private String password; private Integer age; private String email; public User(Integer userId, String userName, String password, Integer age, String email) { this.userId = userId; this.userName = userName; this.password = password; this.age = age; this.email = email; } public User() { super(); } public Integer getUserId() { return userId; } public void setUserId(Integer userId) { this.userId = userId; } public String getUserName() { return userName; } public void setUserName(String userName) { this.userName = userName == null ? null : userName.trim(); } public String getPassword() { return password; } public void setPassword(String password) { this.password = password == null ? null : password.trim(); } public Integer getAge() { return age; } public void setAge(Integer age) { this.age = age; } public String getEmail() { return email; } public void setEmail(String email) { this.email = email == null ? null : email.trim(); }} dao &#x5305;&#x4E0B; 12345678910111213public interface UserMapper { int deleteByPrimaryKey(Integer userId); int insert(User record); int insertSelective(User record); User selectByPrimaryKey(Integer userId); int updateByPrimaryKeySelective(User record); int updateByPrimaryKey(User record);} resources/mappers &#x76EE;&#x5F55;&#x4E0B; 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot; &gt;&lt;mapper namespace=&quot;com.marklogzhu.ssm.dao.UserMapper&quot; &gt; &lt;resultMap id=&quot;BaseResultMap&quot; type=&quot;com.marklogzhu.ssm.pojo.User&quot; &gt; &lt;constructor &gt; &lt;idArg column=&quot;user_id&quot; jdbcType=&quot;INTEGER&quot; javaType=&quot;java.lang.Integer&quot; /&gt; &lt;arg column=&quot;user_name&quot; jdbcType=&quot;VARCHAR&quot; javaType=&quot;java.lang.String&quot; /&gt; &lt;arg column=&quot;password&quot; jdbcType=&quot;VARCHAR&quot; javaType=&quot;java.lang.String&quot; /&gt; &lt;arg column=&quot;age&quot; jdbcType=&quot;INTEGER&quot; javaType=&quot;java.lang.Integer&quot; /&gt; &lt;arg column=&quot;email&quot; jdbcType=&quot;VARCHAR&quot; javaType=&quot;java.lang.String&quot; /&gt; &lt;/constructor&gt; &lt;/resultMap&gt; &lt;sql id=&quot;Base_Column_List&quot; &gt; user_id, user_name, password, age, email &lt;/sql&gt; &lt;select id=&quot;selectByPrimaryKey&quot; resultMap=&quot;BaseResultMap&quot; parameterType=&quot;java.lang.Integer&quot; &gt; select &lt;include refid=&quot;Base_Column_List&quot; /&gt; from user where user_id = #{userId,jdbcType=INTEGER} &lt;/select&gt; &lt;delete id=&quot;deleteByPrimaryKey&quot; parameterType=&quot;java.lang.Integer&quot; &gt; delete from user where user_id = #{userId,jdbcType=INTEGER} &lt;/delete&gt; &lt;insert id=&quot;insert&quot; parameterType=&quot;com.marklogzhu.ssm.pojo.User&quot; &gt; insert into user (user_id, user_name, password, age, email) values (#{userId,jdbcType=INTEGER}, #{userName,jdbcType=VARCHAR}, #{password,jdbcType=VARCHAR}, #{age,jdbcType=INTEGER}, #{email,jdbcType=VARCHAR}) &lt;/insert&gt; &lt;insert id=&quot;insertSelective&quot; parameterType=&quot;com.marklogzhu.ssm.pojo.User&quot; &gt; insert into user &lt;trim prefix=&quot;(&quot; suffix=&quot;)&quot; suffixOverrides=&quot;,&quot; &gt; &lt;if test=&quot;userId != null&quot; &gt; user_id, &lt;/if&gt; &lt;if test=&quot;userName != null&quot; &gt; user_name, &lt;/if&gt; &lt;if test=&quot;password != null&quot; &gt; password, &lt;/if&gt; &lt;if test=&quot;age != null&quot; &gt; age, &lt;/if&gt; &lt;if test=&quot;email != null&quot; &gt; email, &lt;/if&gt; &lt;/trim&gt; &lt;trim prefix=&quot;values (&quot; suffix=&quot;)&quot; suffixOverrides=&quot;,&quot; &gt; &lt;if test=&quot;userId != null&quot; &gt; #{userId,jdbcType=INTEGER}, &lt;/if&gt; &lt;if test=&quot;userName != null&quot; &gt; #{userName,jdbcType=VARCHAR}, &lt;/if&gt; &lt;if test=&quot;password != null&quot; &gt; #{password,jdbcType=VARCHAR}, &lt;/if&gt; &lt;if test=&quot;age != null&quot; &gt; #{age,jdbcType=INTEGER}, &lt;/if&gt; &lt;if test=&quot;email != null&quot; &gt; #{email,jdbcType=VARCHAR}, &lt;/if&gt; &lt;/trim&gt; &lt;/insert&gt; &lt;update id=&quot;updateByPrimaryKeySelective&quot; parameterType=&quot;com.marklogzhu.ssm.pojo.User&quot; &gt; update user &lt;set &gt; &lt;if test=&quot;userName != null&quot; &gt; user_name = #{userName,jdbcType=VARCHAR}, &lt;/if&gt; &lt;if test=&quot;password != null&quot; &gt; password = #{password,jdbcType=VARCHAR}, &lt;/if&gt; &lt;if test=&quot;age != null&quot; &gt; age = #{age,jdbcType=INTEGER}, &lt;/if&gt; &lt;if test=&quot;email != null&quot; &gt; email = #{email,jdbcType=VARCHAR}, &lt;/if&gt; &lt;/set&gt; where user_id = #{userId,jdbcType=INTEGER} &lt;/update&gt; &lt;update id=&quot;updateByPrimaryKey&quot; parameterType=&quot;com.marklogzhu.ssm.pojo.User&quot; &gt; update user set user_name = #{userName,jdbcType=VARCHAR}, password = #{password,jdbcType=VARCHAR}, age = #{age,jdbcType=INTEGER}, email = #{email,jdbcType=VARCHAR} where user_id = #{userId,jdbcType=INTEGER} &lt;/update&gt;&lt;/mapper&gt; generatorConfig.xml &#x8BE6;&#x7EC6;&#x914D;&#x7F6E;&#x8BF4;&#x660E;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE generatorConfiguration PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt;&lt;generatorConfiguration&gt; &lt;!--&#x5BFC;&#x5165;&#x5C5E;&#x6027;&#x914D;&#x7F6E;--&gt; &lt;properties resource=&quot;jdbc.properties&quot;&gt;&lt;/properties&gt; &lt;!--&#x6307;&#x5B9A;&#x7279;&#x5B9A;&#x6570;&#x636E;&#x5E93;&#x7684;jdbc&#x9A71;&#x52A8;jar&#x5305;&#x7684;&#x4F4D;&#x7F6E;--&gt; &lt;classPathEntry location=&quot;${driverLocation}&quot;/&gt; &lt;!-- context:&#x751F;&#x6210;&#x4E00;&#x7EC4;&#x5BF9;&#x8C61;&#x7684;&#x73AF;&#x5883; id:&#x5FC5;&#x9009;&#xFF0C;&#x4E0A;&#x4E0B;&#x6587;id&#xFF0C;&#x7528;&#x4E8E;&#x5728;&#x751F;&#x6210;&#x9519;&#x8BEF;&#x65F6;&#x63D0;&#x793A; defaultModelType:&#x6307;&#x5B9A;&#x751F;&#x6210;&#x5BF9;&#x8C61;&#x7684;&#x6837;&#x5F0F; 1&#xFF0C;conditional&#xFF1A;&#x7C7B;&#x4F3C;hierarchical&#xFF1B; 2&#xFF0C;flat&#xFF1A;&#x6240;&#x6709;&#x5185;&#x5BB9;&#xFF08;&#x4E3B;&#x952E;&#xFF0C;blob&#xFF09;&#x7B49;&#x5168;&#x90E8;&#x751F;&#x6210;&#x5728;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x4E2D;&#xFF1B; 3&#xFF0C;hierarchical&#xFF1A;&#x4E3B;&#x952E;&#x751F;&#x6210;&#x4E00;&#x4E2A;XXKey&#x5BF9;&#x8C61;(key class)&#xFF0C;Blob&#x7B49;&#x5355;&#x72EC;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x5176;&#x4ED6;&#x7B80;&#x5355;&#x5C5E;&#x6027;&#x5728;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x4E2D;(record class) targetRuntime: 1&#xFF0C;MyBatis3&#xFF1A;&#x9ED8;&#x8BA4;&#x7684;&#x503C;&#xFF0C;&#x751F;&#x6210;&#x57FA;&#x4E8E;MyBatis3.x&#x4EE5;&#x4E0A;&#x7248;&#x672C;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5305;&#x62EC;XXXBySample&#xFF1B; 2&#xFF0C;MyBatis3Simple&#xFF1A;&#x7C7B;&#x4F3C;MyBatis3&#xFF0C;&#x53EA;&#x662F;&#x4E0D;&#x751F;&#x6210;XXXBySample&#xFF1B; introspectedColumnImpl&#xFF1A;&#x7C7B;&#x5168;&#x9650;&#x5B9A;&#x540D;&#xFF0C;&#x7528;&#x4E8E;&#x6269;&#x5C55;MBG --&gt; &lt;context id=&quot;default&quot; targetRuntime=&quot;MyBatis3&quot;&gt; &lt;!-- &#x81EA;&#x52A8;&#x8BC6;&#x522B;&#x6570;&#x636E;&#x5E93;&#x5173;&#x952E;&#x5B57;&#xFF0C;&#x9ED8;&#x8BA4;false&#xFF0C;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E3A;true&#xFF0C;&#x6839;&#x636E;SqlReservedWords&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x5173;&#x952E;&#x5B57;&#x5217;&#x8868;&#xFF1B; &#x4E00;&#x822C;&#x4FDD;&#x7559;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x9047;&#x5230;&#x6570;&#x636E;&#x5E93;&#x5173;&#x952E;&#x5B57;&#xFF08;Java&#x5173;&#x952E;&#x5B57;&#xFF09;&#xFF0C;&#x4F7F;&#x7528;columnOverride&#x8986;&#x76D6; --&gt; &lt;property name=&quot;autoDelimitKeywords&quot; value=&quot;false&quot;/&gt; &lt;!-- &#x751F;&#x6210;&#x7684;Java&#x6587;&#x4EF6;&#x7684;&#x7F16;&#x7801;--&gt; &lt;property name=&quot;javaFileEncoding&quot; value=&quot;UTF-8&quot;/&gt; &lt;!-- &#x683C;&#x5F0F;&#x5316;java&#x4EE3;&#x7801;--&gt; &lt;property name=&quot;javaFormatter&quot; value=&quot;org.mybatis.generator.api.dom.DefaultJavaFormatter&quot;/&gt; &lt;!-- &#x683C;&#x5F0F;&#x5316;XML&#x4EE3;&#x7801;--&gt; &lt;property name=&quot;xmlFormatter&quot; value=&quot;org.mybatis.generator.api.dom.DefaultXmlFormatter&quot;/&gt; &lt;!--beginningDelimiter&#x548C;endingDelimiter&#xFF1A;&#x6307;&#x660E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x7528;&#x4E8E;&#x6807;&#x8BB0;&#x6570;&#x636E;&#x5E93;&#x5BF9;&#x8C61;&#x540D;&#x7684;&#x7B26;&#x53F7;&#xFF0C;&#x6BD4;&#x5982;ORACLE&#x5C31;&#x662F;&#x53CC;&#x5F15;&#x53F7;&#xFF0C;MYSQL&#x9ED8;&#x8BA4;&#x662F;`&#x53CD;&#x5F15;&#x53F7;&#xFF1B; --&gt; &lt;property name=&quot;beginningDelimiter&quot; value=&quot;`&quot;/&gt; &lt;property name=&quot;endingDelimiter&quot; value=&quot;`&quot;/&gt; &lt;!-- optional&#xFF0C;&#x65E8;&#x5728;&#x521B;&#x5EFA;class&#x65F6;&#xFF0C;&#x5BF9;&#x6CE8;&#x91CA;&#x8FDB;&#x884C;&#x63A7;&#x5236; --&gt; &lt;commentGenerator&gt; &lt;property name=&quot;suppressDate&quot; value=&quot;true&quot;/&gt; &lt;property name=&quot;suppressAllComments&quot; value=&quot;true&quot;/&gt; &lt;/commentGenerator&gt; &lt;!--jdbc&#x7684;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5; --&gt; &lt;jdbcConnection driverClass=&quot;${driverClassName}&quot; connectionURL=&quot;${url}&quot; userId=&quot;${username}&quot; password=&quot;${password}&quot; &gt; &lt;!-- &#x9488;&#x5BF9;mysql&#x6570;&#x636E;&#x5E93; --&gt; &lt;property name=&quot;useInformationSchema&quot; value=&quot;true&quot;&gt;&lt;/property&gt; &lt;/jdbcConnection&gt; &lt;!-- java&#x7C7B;&#x578B;&#x5904;&#x7406;&#x5668;,&#x7528;&#x4E8E;&#x5904;&#x7406;DB&#x4E2D;&#x7684;&#x7C7B;&#x578B;&#x5230;Java&#x4E2D;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;JavaTypeResolverDefaultImpl&#xFF1B; &#x6CE8;&#x610F;&#x4E00;&#x70B9;&#xFF0C;&#x9ED8;&#x8BA4;&#x4F1A;&#x5148;&#x5C1D;&#x8BD5;&#x4F7F;&#x7528;Integer&#xFF0C;Long&#xFF0C;Short&#x7B49;&#x6765;&#x5BF9;&#x5E94;DECIMAL&#x548C; NUMERIC&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF1B;--&gt; &lt;javaTypeResolver&gt; &lt;!-- true&#xFF1A;&#x4F7F;&#x7528;BigDecimal&#x5BF9;&#x5E94;DECIMAL&#x548C; NUMERIC&#x6570;&#x636E;&#x7C7B;&#x578B; false&#xFF1A;&#x9ED8;&#x8BA4;, scale&gt;0;length&gt;18&#xFF1A;&#x4F7F;&#x7528;BigDecimal; scale=0;length[10,18]&#xFF1A;&#x4F7F;&#x7528;Long&#xFF1B; scale=0;length[5,9]&#xFF1A;&#x4F7F;&#x7528;Integer&#xFF1B; scale=0;length&lt;5&#xFF1A;&#x4F7F;&#x7528;Short&#xFF1B;--&gt; &lt;property name=&quot;forceBigDecimals&quot; value=&quot;false&quot;/&gt; &lt;/javaTypeResolver&gt; &lt;!-- java&#x6A21;&#x578B;&#x521B;&#x5EFA;&#x5668;&#xFF0C;&#x662F;&#x5FC5;&#x987B;&#x8981;&#x7684;&#x5143;&#x7D20; &#x8D1F;&#x8D23;&#xFF1A;1&#xFF0C;key&#x7C7B;&#xFF08;&#x89C1;context&#x7684;defaultModelType&#xFF09;&#xFF1B;2&#xFF0C;java&#x7C7B;&#xFF1B;3&#xFF0C;&#x67E5;&#x8BE2;&#x7C7B; targetPackage&#xFF1A;&#x751F;&#x6210;&#x7684;&#x7C7B;&#x8981;&#x653E;&#x7684;&#x5305;&#xFF0C;&#x771F;&#x5B9E;&#x7684;&#x5305;&#x53D7;enableSubPackages&#x5C5E;&#x6027;&#x63A7;&#x5236;&#xFF1B; targetProject&#xFF1A;&#x76EE;&#x6807;&#x9879;&#x76EE;&#xFF0C;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x5B58;&#x5728;&#x7684;&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x751F;&#x6210;&#x7684;&#x5185;&#x5BB9;&#x4F1A;&#x653E;&#x5230;&#x6307;&#x5B9A;&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x76EE;&#x5F55;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;MBG&#x4E0D;&#x4F1A;&#x81EA;&#x52A8;&#x5EFA;&#x76EE;&#x5F55;--&gt; &lt;javaModelGenerator targetPackage=&quot;com.marklogzhu.ssm.pojo&quot; targetProject=&quot;./src/main/java&quot;&gt; &lt;!-- for MyBatis3/MyBatis3Simple &#x81EA;&#x52A8;&#x4E3A;&#x6BCF;&#x4E00;&#x4E2A;&#x751F;&#x6210;&#x7684;&#x7C7B;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#xFF0C;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x5305;&#x542B;&#x4E86;&#x6240;&#x6709;&#x7684;field&#xFF1B;&#x800C;&#x4E0D;&#x662F;&#x4F7F;&#x7528;setter&#xFF1B; --&gt; &lt;property name=&quot;constructorBased&quot; value=&quot;true&quot;/&gt; &lt;!-- &#x5728;targetPackage&#x7684;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;&#x6839;&#x636E;&#x6570;&#x636E;&#x5E93;&#x7684;schema&#x518D;&#x751F;&#x6210;&#x4E00;&#x5C42;package&#xFF0C;&#x6700;&#x7EC8;&#x751F;&#x6210;&#x7684;&#x7C7B;&#x653E;&#x5728;&#x8FD9;&#x4E2A;package&#x4E0B;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;false --&gt; &lt;property name=&quot;enableSubPackages&quot; value=&quot;false&quot;/&gt; &lt;!-- for MyBatis3 / MyBatis3Simple &#x662F;&#x5426;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x4E0D;&#x53EF;&#x53D8;&#x7684;&#x7C7B;&#xFF0C;&#x5982;&#x679C;&#x4E3A;true&#xFF0C; &#x90A3;&#x4E48;MBG&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6CA1;&#x6709;setter&#x65B9;&#x6CD5;&#x7684;&#x7C7B;&#xFF0C;&#x53D6;&#x800C;&#x4EE3;&#x4E4B;&#x7684;&#x662F;&#x7C7B;&#x4F3C;constructorBased&#x7684;&#x7C7B; --&gt; &lt;property name=&quot;immutable&quot; value=&quot;false&quot;/&gt; &lt;!-- &#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x6839;&#x5BF9;&#x8C61;&#xFF0C; &#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E86;&#x8FD9;&#x4E2A;&#x6839;&#x5BF9;&#x8C61;&#xFF0C;&#x90A3;&#x4E48;&#x751F;&#x6210;&#x7684;keyClass&#x6216;&#x8005;recordClass&#x4F1A;&#x7EE7;&#x627F;&#x8FD9;&#x4E2A;&#x7C7B;&#xFF1B;&#x5728;Table&#x7684;rootClass&#x5C5E;&#x6027;&#x4E2D;&#x53EF;&#x4EE5;&#x8986;&#x76D6;&#x8BE5;&#x9009;&#x9879; &#x6CE8;&#x610F;&#xFF1A;&#x5982;&#x679C;&#x5728;key class&#x6216;&#x8005;record class&#x4E2D;&#x6709;root class&#x76F8;&#x540C;&#x7684;&#x5C5E;&#x6027;&#xFF0C;MBG&#x5C31;&#x4E0D;&#x4F1A;&#x91CD;&#x65B0;&#x751F;&#x6210;&#x8FD9;&#x4E9B;&#x5C5E;&#x6027;&#x4E86;&#xFF0C;&#x5305;&#x62EC;&#xFF1A; 1&#xFF0C;&#x5C5E;&#x6027;&#x540D;&#x76F8;&#x540C;&#xFF0C;&#x7C7B;&#x578B;&#x76F8;&#x540C;&#xFF0C;&#x6709;&#x76F8;&#x540C;&#x7684;getter/setter&#x65B9;&#x6CD5;&#xFF1B; --&gt; &lt;!--&lt;property name=&quot;rootClass&quot; value=&quot;com.marklogzhu.mybatis.domain.BaseDomain&quot;/&gt;--&gt; &lt;!-- &#x8BBE;&#x7F6E;&#x662F;&#x5426;&#x5728;getter&#x65B9;&#x6CD5;&#x4E2D;&#xFF0C;&#x5BF9;String&#x7C7B;&#x578B;&#x5B57;&#x6BB5;&#x8C03;&#x7528;trim()&#x65B9;&#x6CD5;--&gt; &lt;property name=&quot;trimStrings&quot; value=&quot;true&quot;/&gt; &lt;/javaModelGenerator&gt; &lt;!-- &#x751F;&#x6210;SQL map&#x7684;XML&#x6587;&#x4EF6;&#x751F;&#x6210;&#x5668;&#xFF0C; &#x6CE8;&#x610F;&#xFF0C;&#x5728;Mybatis3&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;mapper.xml&#x6587;&#x4EF6;+Mapper&#x63A5;&#x53E3;&#xFF08;&#x6216;&#x8005;&#x4E0D;&#x7528;mapper&#x63A5;&#x53E3;&#xFF09;&#xFF0C; &#x6216;&#x8005;&#x53EA;&#x4F7F;&#x7528;Mapper&#x63A5;&#x53E3;+Annotation&#xFF0C;&#x6240;&#x4EE5;&#xFF0C;&#x5982;&#x679C; javaClientGenerator&#x914D;&#x7F6E;&#x4E2D;&#x914D;&#x7F6E;&#x4E86;&#x9700;&#x8981;&#x751F;&#x6210;XML&#x7684;&#x8BDD;&#xFF0C;&#x8FD9;&#x4E2A;&#x5143;&#x7D20;&#x5C31;&#x5FC5;&#x987B;&#x914D;&#x7F6E; targetPackage/targetProject:&#x540C;javaModelGenerator--&gt; &lt;sqlMapGenerator targetPackage=&quot;mappers&quot; targetProject=&quot;./src/main/resources&quot;&gt; &lt;!-- &#x5728;targetPackage&#x7684;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;&#x6839;&#x636E;&#x6570;&#x636E;&#x5E93;&#x7684;schema&#x518D;&#x751F;&#x6210;&#x4E00;&#x5C42;package&#xFF0C;&#x6700;&#x7EC8;&#x751F;&#x6210;&#x7684;&#x7C7B;&#x653E;&#x5728;&#x8FD9;&#x4E2A;package&#x4E0B;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;false --&gt; &lt;property name=&quot;enableSubPackages&quot; value=&quot;false&quot;/&gt; &lt;/sqlMapGenerator&gt; &lt;!-- &#x5BF9;&#x4E8E;mybatis&#x6765;&#x8BF4;&#xFF0C;&#x5373;&#x751F;&#x6210;Mapper&#x63A5;&#x53E3;&#xFF0C;&#x6CE8;&#x610F;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x914D;&#x7F6E;&#x8BE5;&#x5143;&#x7D20;&#xFF0C;&#x90A3;&#x4E48;&#x9ED8;&#x8BA4;&#x4E0D;&#x4F1A;&#x751F;&#x6210;Mapper&#x63A5;&#x53E3; targetPackage/targetProject:&#x540C;javaModelGenerator type&#xFF1A;&#x9009;&#x62E9;&#x600E;&#x4E48;&#x751F;&#x6210;mapper&#x63A5;&#x53E3;&#xFF08;&#x5728;MyBatis3/MyBatis3Simple&#x4E0B;&#xFF09;&#xFF1A; 1&#xFF0C;ANNOTATEDMAPPER&#xFF1A;&#x4F1A;&#x751F;&#x6210;&#x4F7F;&#x7528;Mapper&#x63A5;&#x53E3;+Annotation&#x7684;&#x65B9;&#x5F0F;&#x521B;&#x5EFA;&#xFF08;SQL&#x751F;&#x6210;&#x5728;annotation&#x4E2D;&#xFF09;&#xFF0C;&#x4E0D;&#x4F1A;&#x751F;&#x6210;&#x5BF9;&#x5E94;&#x7684;XML&#xFF1B; 2&#xFF0C;MIXEDMAPPER&#xFF1A;&#x4F7F;&#x7528;&#x6DF7;&#x5408;&#x914D;&#x7F6E;&#xFF0C;&#x4F1A;&#x751F;&#x6210;Mapper&#x63A5;&#x53E3;&#xFF0C;&#x5E76;&#x9002;&#x5F53;&#x6DFB;&#x52A0;&#x5408;&#x9002;&#x7684;Annotation&#xFF0C;&#x4F46;&#x662F;XML&#x4F1A;&#x751F;&#x6210;&#x5728;XML&#x4E2D;&#xFF1B; 3&#xFF0C;XMLMAPPER&#xFF1A;&#x4F1A;&#x751F;&#x6210;Mapper&#x63A5;&#x53E3;&#xFF0C;&#x63A5;&#x53E3;&#x5B8C;&#x5168;&#x4F9D;&#x8D56;XML&#xFF1B; &#x6CE8;&#x610F;&#xFF0C;&#x5982;&#x679C;context&#x662F;MyBatis3Simple&#xFF1A;&#x53EA;&#x652F;&#x6301;ANNOTATEDMAPPER&#x548C;XMLMAPPER --&gt; &lt;javaClientGenerator targetPackage=&quot;com.marklogzhu.ssm.dao&quot; type=&quot;ANNOTATEDMAPPER&quot; targetProject=&quot;./src/main/java&quot;&gt; &lt;!-- &#x5728;targetPackage&#x7684;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;&#x6839;&#x636E;&#x6570;&#x636E;&#x5E93;&#x7684;schema&#x518D;&#x751F;&#x6210;&#x4E00;&#x5C42;package&#xFF0C;&#x6700;&#x7EC8;&#x751F;&#x6210;&#x7684;&#x7C7B;&#x653E;&#x5728;&#x8FD9;&#x4E2A;package&#x4E0B;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;false --&gt; &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot;/&gt; &lt;!-- &#x53EF;&#x4EE5;&#x4E3A;&#x6240;&#x6709;&#x751F;&#x6210;&#x7684;&#x63A5;&#x53E3;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x7236;&#x63A5;&#x53E3;&#xFF0C;&#x4F46;&#x662F;MBG&#x53EA;&#x8D1F;&#x8D23;&#x751F;&#x6210;&#xFF0C;&#x4E0D;&#x8D1F;&#x8D23;&#x68C0;&#x67E5; &lt;propertyname=&quot;rootInterface&quot; value=&quot;&quot;/&gt; --&gt; &lt;/javaClientGenerator&gt; &lt;!-- &#x9009;&#x62E9;&#x4E00;&#x4E2A;table&#x6765;&#x751F;&#x6210;&#x76F8;&#x5173;&#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x6709;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;table&#xFF0C;&#x5FC5;&#x987B;&#x8981;&#x6709;table&#x5143;&#x7D20; &#x9009;&#x62E9;&#x7684;table&#x4F1A;&#x751F;&#x6210;&#x4E00;&#x4E0B;&#x6587;&#x4EF6;&#xFF1A; 1&#xFF0C;SQL map&#x6587;&#x4EF6; 2&#xFF0C;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x4E3B;&#x952E;&#x7C7B;&#xFF1B; 3&#xFF0C;&#x9664;&#x4E86;BLOB&#x548C;&#x4E3B;&#x952E;&#x7684;&#x5176;&#x4ED6;&#x5B57;&#x6BB5;&#x7684;&#x7C7B;&#xFF1B; 4&#xFF0C;&#x5305;&#x542B;BLOB&#x7684;&#x7C7B;&#xFF1B; 5&#xFF0C;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x751F;&#x6210;&#x52A8;&#x6001;&#x67E5;&#x8BE2;&#x7684;&#x6761;&#x4EF6;&#x7C7B;&#xFF08;selectByExample,deleteByExample&#xFF09;&#xFF0C;&#x53EF;&#x9009;&#xFF1B; 6&#xFF0C;Mapper&#x63A5;&#x53E3;&#xFF08;&#x53EF;&#x9009;&#xFF09; tableName&#xFF08;&#x5FC5;&#x8981;&#xFF09;&#xFF1A;&#x8981;&#x751F;&#x6210;&#x5BF9;&#x8C61;&#x7684;&#x8868;&#x540D;&#xFF1B; &#x6CE8;&#x610F;&#xFF1A;&#x5927;&#x5C0F;&#x5199;&#x654F;&#x611F;&#x95EE;&#x9898;&#x3002;&#x6B63;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;MBG&#x4F1A;&#x81EA;&#x52A8;&#x7684;&#x53BB;&#x8BC6;&#x522B;&#x6570;&#x636E;&#x5E93;&#x6807;&#x8BC6;&#x7B26;&#x7684;&#x5927;&#x5C0F;&#x5199;&#x654F;&#x611F;&#x5EA6;&#xFF0C;&#x5728;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;MBG&#x4F1A; &#x6839;&#x636E;&#x8BBE;&#x7F6E;&#x7684;schema&#xFF0C;catalog&#x6216;tablename&#x53BB;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x8868;&#xFF0C;&#x6309;&#x7167;&#x4E0B;&#x9762;&#x7684;&#x6D41;&#x7A0B;&#xFF1A; 1&#xFF0C;&#x5982;&#x679C;schema&#xFF0C;catalog&#x6216;tablename&#x4E2D;&#x6709;&#x7A7A;&#x683C;&#xFF0C;&#x90A3;&#x4E48;&#x8BBE;&#x7F6E;&#x7684;&#x662F;&#x4EC0;&#x4E48;&#x683C;&#x5F0F;&#xFF0C;&#x5C31;&#x7CBE;&#x786E;&#x7684;&#x4F7F;&#x7528;&#x6307;&#x5B9A;&#x7684;&#x5927;&#x5C0F;&#x5199;&#x683C;&#x5F0F;&#x53BB;&#x67E5;&#x8BE2;&#xFF1B; 2&#xFF0C;&#x5426;&#x5219;&#xFF0C;&#x5982;&#x679C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6807;&#x8BC6;&#x7B26;&#x4F7F;&#x7528;&#x5927;&#x5199;&#x7684;&#xFF0C;&#x90A3;&#x4E48;MBG&#x81EA;&#x52A8;&#x628A;&#x8868;&#x540D;&#x53D8;&#x6210;&#x5927;&#x5199;&#x518D;&#x67E5;&#x627E;&#xFF1B; 3&#xFF0C;&#x5426;&#x5219;&#xFF0C;&#x5982;&#x679C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6807;&#x8BC6;&#x7B26;&#x4F7F;&#x7528;&#x5C0F;&#x5199;&#x7684;&#xFF0C;&#x90A3;&#x4E48;MBG&#x81EA;&#x52A8;&#x628A;&#x8868;&#x540D;&#x53D8;&#x6210;&#x5C0F;&#x5199;&#x518D;&#x67E5;&#x627E;&#xFF1B; 4&#xFF0C;&#x5426;&#x5219;&#xFF0C;&#x4F7F;&#x7528;&#x6307;&#x5B9A;&#x7684;&#x5927;&#x5C0F;&#x5199;&#x683C;&#x5F0F;&#x67E5;&#x8BE2;&#xFF1B; &#x53E6;&#x5916;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x521B;&#x5EFA;&#x8868;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F7F;&#x7528;&#x7684;&quot;&quot;&#x628A;&#x6570;&#x636E;&#x5E93;&#x5BF9;&#x8C61;&#x89C4;&#x5B9A;&#x5927;&#x5C0F;&#x5199;&#xFF0C;&#x5C31;&#x7B97;&#x6570;&#x636E;&#x5E93;&#x6807;&#x8BC6;&#x7B26;&#x662F;&#x4F7F;&#x7528;&#x7684;&#x5927;&#x5199;&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x4E5F;&#x4F1A;&#x4F7F;&#x7528;&#x7ED9;&#x5B9A;&#x7684;&#x5927;&#x5C0F;&#x5199;&#x6765;&#x521B;&#x5EFA;&#x8868;&#x540D;&#xFF1B; &#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#xFF0C;&#x8BF7;&#x8BBE;&#x7F6E;delimitIdentifiers=&quot;true&quot;&#x5373;&#x53EF;&#x4FDD;&#x7559;&#x5927;&#x5C0F;&#x5199;&#x683C;&#x5F0F;&#xFF1B; &#x53EF;&#x9009;&#xFF1A; 1&#xFF0C;schema&#xFF1A;&#x6570;&#x636E;&#x5E93;&#x7684;schema&#xFF1B; 2&#xFF0C;catalog&#xFF1A;&#x6570;&#x636E;&#x5E93;&#x7684;catalog&#xFF1B; 3&#xFF0C;alias&#xFF1A;&#x4E3A;&#x6570;&#x636E;&#x8868;&#x8BBE;&#x7F6E;&#x7684;&#x522B;&#x540D;&#xFF0C;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E86;alias&#xFF0C;&#x90A3;&#x4E48;&#x751F;&#x6210;&#x7684;&#x6240;&#x6709;&#x7684;SELECT SQL&#x8BED;&#x53E5;&#x4E2D;&#xFF0C;&#x5217;&#x540D;&#x4F1A;&#x53D8;&#x6210;&#xFF1A;alias_actualColumnName 4&#xFF0C;domainObjectName&#xFF1A;&#x751F;&#x6210;&#x7684;domain&#x7C7B;&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x8BBE;&#x7F6E;&#xFF0C;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x8868;&#x540D;&#x4F5C;&#x4E3A;domain&#x7C7B;&#x7684;&#x540D;&#x5B57;&#xFF1B;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E3A;somepck.domainName&#xFF0C;&#x90A3;&#x4E48;&#x4F1A;&#x81EA;&#x52A8;&#x628A;domainName&#x7C7B;&#x518D;&#x653E;&#x5230;somepck&#x5305;&#x91CC;&#x9762;&#xFF1B; 5&#xFF0C;enableInsert&#xFF08;&#x9ED8;&#x8BA4;true&#xFF09;&#xFF1A;&#x6307;&#x5B9A;&#x662F;&#x5426;&#x751F;&#x6210;insert&#x8BED;&#x53E5;&#xFF1B; 6&#xFF0C;enableSelectByPrimaryKey&#xFF08;&#x9ED8;&#x8BA4;true&#xFF09;&#xFF1A;&#x6307;&#x5B9A;&#x662F;&#x5426;&#x751F;&#x6210;&#x6309;&#x7167;&#x4E3B;&#x952E;&#x67E5;&#x8BE2;&#x5BF9;&#x8C61;&#x7684;&#x8BED;&#x53E5;&#xFF08;&#x5C31;&#x662F;getById&#x6216;get&#xFF09;&#xFF1B; 7&#xFF0C;enableSelectByExample&#xFF08;&#x9ED8;&#x8BA4;true&#xFF09;&#xFF1A;MyBatis3Simple&#x4E3A;false&#xFF0C;&#x6307;&#x5B9A;&#x662F;&#x5426;&#x751F;&#x6210;&#x52A8;&#x6001;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#xFF1B; 8&#xFF0C;enableUpdateByPrimaryKey&#xFF08;&#x9ED8;&#x8BA4;true&#xFF09;&#xFF1A;&#x6307;&#x5B9A;&#x662F;&#x5426;&#x751F;&#x6210;&#x6309;&#x7167;&#x4E3B;&#x952E;&#x4FEE;&#x6539;&#x5BF9;&#x8C61;&#x7684;&#x8BED;&#x53E5;&#xFF08;&#x5373;update)&#xFF1B; 9&#xFF0C;enableDeleteByPrimaryKey&#xFF08;&#x9ED8;&#x8BA4;true&#xFF09;&#xFF1A;&#x6307;&#x5B9A;&#x662F;&#x5426;&#x751F;&#x6210;&#x6309;&#x7167;&#x4E3B;&#x952E;&#x5220;&#x9664;&#x5BF9;&#x8C61;&#x7684;&#x8BED;&#x53E5;&#xFF08;&#x5373;delete&#xFF09;&#xFF1B; 10&#xFF0C;enableDeleteByExample&#xFF08;&#x9ED8;&#x8BA4;true&#xFF09;&#xFF1A;MyBatis3Simple&#x4E3A;false&#xFF0C;&#x6307;&#x5B9A;&#x662F;&#x5426;&#x751F;&#x6210;&#x52A8;&#x6001;&#x5220;&#x9664;&#x8BED;&#x53E5;&#xFF1B; 11&#xFF0C;enableCountByExample&#xFF08;&#x9ED8;&#x8BA4;true&#xFF09;&#xFF1A;MyBatis3Simple&#x4E3A;false&#xFF0C;&#x6307;&#x5B9A;&#x662F;&#x5426;&#x751F;&#x6210;&#x52A8;&#x6001;&#x67E5;&#x8BE2;&#x603B;&#x6761;&#x6570;&#x8BED;&#x53E5;&#xFF08;&#x7528;&#x4E8E;&#x5206;&#x9875;&#x7684;&#x603B;&#x6761;&#x6570;&#x67E5;&#x8BE2;&#xFF09;&#xFF1B; 12&#xFF0C;enableUpdateByExample&#xFF08;&#x9ED8;&#x8BA4;true&#xFF09;&#xFF1A;MyBatis3Simple&#x4E3A;false&#xFF0C;&#x6307;&#x5B9A;&#x662F;&#x5426;&#x751F;&#x6210;&#x52A8;&#x6001;&#x4FEE;&#x6539;&#x8BED;&#x53E5;&#xFF08;&#x53EA;&#x4FEE;&#x6539;&#x5BF9;&#x8C61;&#x4E2D;&#x4E0D;&#x4E3A;&#x7A7A;&#x7684;&#x5C5E;&#x6027;&#xFF09;&#xFF1B; 13&#xFF0C;modelType&#xFF1A;&#x53C2;&#x8003;context&#x5143;&#x7D20;&#x7684;defaultModelType&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x8986;&#x76D6;&#xFF1B; 14&#xFF0C;delimitIdentifiers&#xFF1A;&#x53C2;&#x8003;tableName&#x7684;&#x89E3;&#x91CA;&#xFF0C;&#x6CE8;&#x610F;&#xFF0C;&#x9ED8;&#x8BA4;&#x7684;delimitIdentifiers&#x662F;&#x53CC;&#x5F15;&#x53F7;&#xFF0C;&#x5982;&#x679C;&#x7C7B;&#x4F3C;MYSQL&#x8FD9;&#x6837;&#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x662F;`&#xFF08;&#x53CD;&#x5F15;&#x53F7;&#xFF0C;&#x90A3;&#x4E48;&#x8FD8;&#x9700;&#x8981;&#x8BBE;&#x7F6E;context&#x7684;beginningDelimiter&#x548C;endingDelimiter&#x5C5E;&#x6027;&#xFF09; 15&#xFF0C;delimitAllColumns&#xFF1A;&#x8BBE;&#x7F6E;&#x662F;&#x5426;&#x6240;&#x6709;&#x751F;&#x6210;&#x7684;SQL&#x4E2D;&#x7684;&#x5217;&#x540D;&#x90FD;&#x4F7F;&#x7528;&#x6807;&#x8BC6;&#x7B26;&#x5F15;&#x8D77;&#x6765;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A;false&#xFF0C;delimitIdentifiers&#x53C2;&#x8003;context&#x7684;&#x5C5E;&#x6027; &#x6CE8;&#x610F;&#xFF0C;table&#x91CC;&#x9762;&#x5F88;&#x591A;&#x53C2;&#x6570;&#x90FD;&#x662F;&#x5BF9;javaModelGenerator&#xFF0C;context&#x7B49;&#x5143;&#x7D20;&#x7684;&#x9ED8;&#x8BA4;&#x5C5E;&#x6027;&#x7684;&#x4E00;&#x4E2A;&#x590D;&#x5199;&#xFF1B; --&gt; &lt;table tableName=&quot;user&quot; domainObjectName=&quot;User&quot; enableCountByExample=&quot;false&quot; enableUpdateByExample=&quot;false&quot; enableDeleteByExample=&quot;false&quot; enableSelectByExample=&quot;false&quot; selectByExampleQueryId=&quot;false&quot;&gt; &lt;!-- &#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E3A;true&#xFF0C;&#x751F;&#x6210;&#x7684;model&#x7C7B;&#x4F1A;&#x76F4;&#x63A5;&#x4F7F;&#x7528;column&#x672C;&#x8EAB;&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x800C;&#x4E0D;&#x4F1A;&#x518D;&#x4F7F;&#x7528;&#x9A7C;&#x5CF0;&#x547D;&#x540D;&#x65B9;&#x6CD5;&#xFF0C;&#x6BD4;&#x5982;BORN_DATE&#xFF0C;&#x751F;&#x6210;&#x7684;&#x5C5E;&#x6027;&#x540D;&#x5B57;&#x5C31;&#x662F;BORN_DATE,&#x800C;&#x4E0D;&#x4F1A;&#x662F;bornDate --&gt; &lt;property name=&quot;useActualColumnNames&quot; value=&quot;false&quot;/&gt; &lt;/table&gt; &lt;/context&gt;&lt;/generatorConfiguration&gt; &#x5173;&#x4E8E;&#x5B57;&#x6BB5;&#x6CE8;&#x91CA;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6CE8;&#x91CA;&#x6765;&#x5F53; pojo &#x7684;&#x6CE8;&#x91CA;&#xFF0C;&#x5728; mybatis-generator 1.3.3&#x7248;&#x672C;&#x5F00;&#x59CB;&#x5728; commentGenerator &#x6807;&#x7B7E;&#x4E0B;&#x65B0;&#x589E;&#x4E86; addRemarkComments&#x5C5E;&#x6027;,&#x4F46;&#x662F;&#x7B14;&#x8005;&#x6D4B;&#x8BD5;&#x8FC7;&#x4E4B;&#x540E;&#x5E76;&#x6CA1;&#x6709;&#x7528;(&#x4E5F;&#x53EF;&#x80FD;&#x662F;&#x7B14;&#x8005;&#x64CD;&#x4F5C;&#x6709;&#x95EE;&#x9898;)&#x3002; &#x8FD8;&#x597D;&#x5728; mybatis-generator &#x5B98;&#x65B9;&#x6587;&#x6863;&#x4E2D; commentGenerator&#x4E00;&#x8282;&#x4E2D;&#x6709;&#x8FD9;&#x4E48;&#x4E00;&#x6BB5;&#x8BF4;&#x660E; &#xFF1A; 1The default implementation is org.mybatis.generator.internal.DefaultCommentGenerator. The default implementation is designed for extensibility if you only want to modify certain behaviors. &#x65E2;&#x7136;&#x662F;&#x53EF;&#x6269;&#x5C55;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x81EA;&#x5DF1;&#x6765;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x6CE8;&#x91CA;&#x7C7B; &#x52A0;&#x5165;&#x4F9D;&#x8D56;123456&lt;!-- mybatis&#x751F;&#x6210; jar&#x5305; --&gt;&lt;dependency&gt; &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt; &lt;artifactId&gt;mybatis-generator-core&lt;/artifactId&gt; &lt;version&gt;1.3.2&lt;/version&gt;&lt;/dependency&gt; &#x65B0;&#x5EFA;&#x81EA;&#x5B9A;&#x4E49;&#x6CE8;&#x91CA;&#x7C7B;&#x7C7B;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218import static org.mybatis.generator.internal.util.StringUtility.isTrue;import java.text.SimpleDateFormat;import java.util.Date;import java.util.Properties;import org.mybatis.generator.api.CommentGenerator;import org.mybatis.generator.api.IntrospectedColumn;import org.mybatis.generator.api.IntrospectedTable;import org.mybatis.generator.api.dom.java.CompilationUnit;import org.mybatis.generator.api.dom.java.Field;import org.mybatis.generator.api.dom.java.InnerClass;import org.mybatis.generator.api.dom.java.InnerEnum;import org.mybatis.generator.api.dom.java.JavaElement;import org.mybatis.generator.api.dom.java.Method;import org.mybatis.generator.api.dom.java.Parameter;import org.mybatis.generator.api.dom.xml.XmlElement;import org.mybatis.generator.config.MergeConstants;import org.mybatis.generator.config.PropertyRegistry;public class MyCommentGenerator implements CommentGenerator{ private Properties properties; private Properties systemPro; private boolean suppressDate; private boolean suppressAllComments; private String currentDateStr; public MyCommentGenerator() { super(); properties = new Properties(); systemPro = System.getProperties(); suppressDate = false; suppressAllComments = false; currentDateStr = (new SimpleDateFormat(&quot;yyyy-MM-dd&quot;)).format(new Date()); } public void addJavaFileComment(CompilationUnit compilationUnit) { // add no file level comments by default return; } /** * Adds a suitable comment to warn users that the element was generated, and * when it was generated. */ public void addComment(XmlElement xmlElement) { return; } public void addRootComment(XmlElement rootElement) { // add no document level comments by default return; } public void addConfigurationProperties(Properties properties) { this.properties.putAll(properties); suppressDate = isTrue(properties.getProperty(PropertyRegistry.COMMENT_GENERATOR_SUPPRESS_DATE)); suppressAllComments = isTrue(properties.getProperty(PropertyRegistry.COMMENT_GENERATOR_SUPPRESS_ALL_COMMENTS)); } /** * This method adds the custom javadoc tag for. You may do nothing if you do * not wish to include the Javadoc tag - however, if you do not include the * Javadoc tag then the Java merge capability of the eclipse plugin will * break. * * @param javaElement * the java element */ protected void addJavadocTag(JavaElement javaElement, boolean markAsDoNotDelete) { javaElement.addJavaDocLine(&quot; *&quot;); StringBuilder sb = new StringBuilder(); sb.append(&quot; * &quot;); sb.append(MergeConstants.NEW_ELEMENT_TAG); if (markAsDoNotDelete) { sb.append(&quot; do_not_delete_during_merge&quot;); } String s = getDateString(); if (s != null) { sb.append(&apos; &apos;); sb.append(s); } javaElement.addJavaDocLine(sb.toString()); } /** * This method returns a formated date string to include in the Javadoc tag * and XML comments. You may return null if you do not want the date in * these documentation elements. * * @return a string representing the current timestamp, or null */ protected String getDateString() { String result = null; if (!suppressDate) { result = currentDateStr; } return result; } public void addClassComment(InnerClass innerClass, IntrospectedTable introspectedTable) { if (suppressAllComments) { return; } StringBuilder sb = new StringBuilder(); innerClass.addJavaDocLine(&quot;/**&quot;); sb.append(&quot; * &quot;); sb.append(introspectedTable.getFullyQualifiedTable()); sb.append(&quot; &quot;); sb.append(getDateString()); innerClass.addJavaDocLine(sb.toString().replace(&quot;\\n&quot;, &quot; &quot;)); innerClass.addJavaDocLine(&quot; */&quot;); } public void addEnumComment(InnerEnum innerEnum, IntrospectedTable introspectedTable) { if (suppressAllComments) { return; } StringBuilder sb = new StringBuilder(); innerEnum.addJavaDocLine(&quot;/**&quot;); sb.append(&quot; * &quot;); sb.append(introspectedTable.getFullyQualifiedTable()); innerEnum.addJavaDocLine(sb.toString().replace(&quot;\\n&quot;, &quot; &quot;)); innerEnum.addJavaDocLine(&quot; */&quot;); } public void addFieldComment(Field field, IntrospectedTable introspectedTable, IntrospectedColumn introspectedColumn) { if (suppressAllComments) { return; } StringBuilder sb = new StringBuilder(); field.addJavaDocLine(&quot;/**&quot;); sb.append(&quot; * &quot;); sb.append(introspectedColumn.getRemarks()); field.addJavaDocLine(sb.toString().replace(&quot;\\n&quot;, &quot; &quot;)); field.addJavaDocLine(&quot; */&quot;); } public void addFieldComment(Field field, IntrospectedTable introspectedTable) { if (suppressAllComments) { return; } StringBuilder sb = new StringBuilder(); field.addJavaDocLine(&quot;/**&quot;); sb.append(&quot; * &quot;); sb.append(introspectedTable.getFullyQualifiedTable()); field.addJavaDocLine(sb.toString().replace(&quot;\\n&quot;, &quot; &quot;)); field.addJavaDocLine(&quot; */&quot;); } public void addGeneralMethodComment(Method method, IntrospectedTable introspectedTable) { if (suppressAllComments) { return; } method.addJavaDocLine(&quot;/**&quot;); addJavadocTag(method, false); method.addJavaDocLine(&quot; */&quot;); } public void addGetterComment(Method method, IntrospectedTable introspectedTable, IntrospectedColumn introspectedColumn) { if (suppressAllComments) { return; } method.addJavaDocLine(&quot;/**&quot;); StringBuilder sb = new StringBuilder(); sb.append(&quot; * &quot;); sb.append(introspectedColumn.getRemarks()); method.addJavaDocLine(sb.toString().replace(&quot;\\n&quot;, &quot; &quot;)); sb.setLength(0); sb.append(&quot; * @return &quot;); sb.append(introspectedColumn.getActualColumnName()); sb.append(&quot; &quot;); sb.append(introspectedColumn.getRemarks()); method.addJavaDocLine(sb.toString().replace(&quot;\\n&quot;, &quot; &quot;)); method.addJavaDocLine(&quot; */&quot;); } public void addSetterComment(Method method, IntrospectedTable introspectedTable, IntrospectedColumn introspectedColumn) { if (suppressAllComments) { return; } method.addJavaDocLine(&quot;/**&quot;); StringBuilder sb = new StringBuilder(); sb.append(&quot; * &quot;); sb.append(introspectedColumn.getRemarks()); method.addJavaDocLine(sb.toString().replace(&quot;\\n&quot;, &quot; &quot;)); Parameter parm = method.getParameters().get(0); sb.setLength(0); sb.append(&quot; * @param &quot;); sb.append(parm.getName()); sb.append(&quot; &quot;); sb.append(introspectedColumn.getRemarks()); method.addJavaDocLine(sb.toString().replace(&quot;\\n&quot;, &quot; &quot;)); method.addJavaDocLine(&quot; */&quot;); } public void addClassComment(InnerClass innerClass, IntrospectedTable introspectedTable, boolean markAsDoNotDelete) { if (suppressAllComments) { return; } StringBuilder sb = new StringBuilder(); innerClass.addJavaDocLine(&quot;/**&quot;); sb.append(&quot; * &quot;); sb.append(introspectedTable.getFullyQualifiedTable()); innerClass.addJavaDocLine(sb.toString().replace(&quot;\\n&quot;, &quot; &quot;)); sb.setLength(0); sb.append(&quot; * @author &quot;); sb.append(systemPro.getProperty(&quot;user.name&quot;)); sb.append(&quot; &quot;); sb.append(currentDateStr); innerClass.addJavaDocLine(&quot; */&quot;); }} &#x914D;&#x7F6E; generatorConfig.xml &#x6587;&#x4EF6;123456789101112131415161718&lt;!--&#x8BBE;&#x7F6E;&#x6587;&#x4EF6;&#x7F16;&#x7801;&#x683C;&#x5F0F;--&gt;&lt;property name=&quot;javaFileEncoding&quot; value=&quot;UTF-8&quot;/&gt;&lt;commentGenerator type=&quot;com.marklogzhu.ssm.util.MyCommentGenerator&quot;&gt; &lt;!--&#x4E0D;&#x5141;&#x8BB8;&#x751F;&#x6210;&#x521B;&#x5EFA;&#x65E5;&#x671F;--&gt; &lt;property name=&quot;suppressDate&quot; value=&quot;true&quot;/&gt;&lt;/commentGenerator&gt;&lt;!--jdbc&#x7684;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5; --&gt;&lt;jdbcConnection driverClass=&quot;${driverClassName}&quot; connectionURL=&quot;${url}&quot; userId=&quot;${username}&quot; password=&quot;${password}&quot;&gt; &lt;!-- &#x9488;&#x5BF9;oracle&#x6570;&#x636E;&#x5E93; --&gt; &lt;!--&lt;property name=&quot;remarksReporting&quot; value=&quot;true&quot;&gt;&lt;/property&gt;--&gt; &lt;!-- &#x9488;&#x5BF9;mysql&#x6570;&#x636E;&#x5E93; --&gt; &lt;property name=&quot;useInformationSchema&quot; value=&quot;true&quot;&gt;&lt;/property&gt;&lt;/jdbcConnection&gt; &#x542F;&#x52A8;&#x8FD0;&#x884C;&#x5982;&#x679C;&#x901A;&#x8FC7;&#x4E4B;&#x524D;&#x63D2;&#x4EF6;&#x7684;&#x5F62;&#x5F0F;&#x8FD0;&#x884C;&#x7684;&#x8BDD;&#xFF0C;&#x4F1A;&#x62A5;&#x627E;&#x4E0D;&#x5230; MyCommentGenerator &#x9519;&#x8BEF;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; Java &#x7684;&#x65B9;&#x5F0F;&#x542F;&#x52A8; 1234567891011121314151617181920212223242526272829303132333435363738import org.mybatis.generator.api.MyBatisGenerator;import org.mybatis.generator.config.Configuration;import org.mybatis.generator.config.xml.ConfigurationParser;import org.mybatis.generator.exception.InvalidConfigurationException;import org.mybatis.generator.exception.XMLParserException;import org.mybatis.generator.internal.DefaultShellCallback;import java.io.File;import java.io.IOException;import java.sql.SQLException;import java.util.ArrayList;import java.util.List;public class &#xFF2D;ain { public static void main(String[] args){ try { List&lt;String&gt; warnings = new ArrayList&lt;String&gt;(); boolean overwrite = true; File configFile = new File(&quot;src/main/resources/generatorConfig.xml&quot;); ConfigurationParser cp = new ConfigurationParser(warnings); Configuration config = cp.parseConfiguration(configFile); DefaultShellCallback callback = new DefaultShellCallback(overwrite); MyBatisGenerator myBatisGenerator = new MyBatisGenerator(config, callback, warnings); myBatisGenerator.generate(null); } catch (SQLException e) { e.printStackTrace(); } catch (IOException e) { e.printStackTrace(); } catch (InterruptedException e) { e.printStackTrace(); } catch (InvalidConfigurationException e) { e.printStackTrace(); } catch (XMLParserException e) { e.printStackTrace(); } }} &#x751F;&#x6210; user &#x7C7B;&#x5982;&#x4E0B;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128package com.marklogzhu.ssm.pojo;public class User { /** * &#x7528;&#x6237;id */ private Integer userId; /** * &#x7528;&#x6237;&#x540D;&#x79F0; */ private String userName; /** * &#x7528;&#x6237;&#x5BC6;&#x7801; */ private String password; /** * &#x7528;&#x6237;&#x5E74;&#x9F84; */ private Integer age; /** * &#x7528;&#x6237;&#x90AE;&#x7BB1; */ private String email; /** * * @mbggenerated */ public User(Integer userId, String userName, String password, Integer age, String email) { this.userId = userId; this.userName = userName; this.password = password; this.age = age; this.email = email; } /** * * @mbggenerated */ public User() { super(); } /** * &#x7528;&#x6237;id * @return user_id &#x7528;&#x6237;id */ public Integer getUserId() { return userId; } /** * &#x7528;&#x6237;id * @param userId &#x7528;&#x6237;id */ public void setUserId(Integer userId) { this.userId = userId; } /** * &#x7528;&#x6237;&#x540D;&#x79F0; * @return user_name &#x7528;&#x6237;&#x540D;&#x79F0; */ public String getUserName() { return userName; } /** * &#x7528;&#x6237;&#x540D;&#x79F0; * @param userName &#x7528;&#x6237;&#x540D;&#x79F0; */ public void setUserName(String userName) { this.userName = userName == null ? null : userName.trim(); } /** * &#x7528;&#x6237;&#x5BC6;&#x7801; * @return password &#x7528;&#x6237;&#x5BC6;&#x7801; */ public String getPassword() { return password; } /** * &#x7528;&#x6237;&#x5BC6;&#x7801; * @param password &#x7528;&#x6237;&#x5BC6;&#x7801; */ public void setPassword(String password) { this.password = password == null ? null : password.trim(); } /** * &#x7528;&#x6237;&#x5E74;&#x9F84; * @return age &#x7528;&#x6237;&#x5E74;&#x9F84; */ public Integer getAge() { return age; } /** * &#x7528;&#x6237;&#x5E74;&#x9F84; * @param age &#x7528;&#x6237;&#x5E74;&#x9F84; */ public void setAge(Integer age) { this.age = age; } /** * &#x7528;&#x6237;&#x90AE;&#x7BB1; * @return email &#x7528;&#x6237;&#x90AE;&#x7BB1; */ public String getEmail() { return email; } /** * &#x7528;&#x6237;&#x90AE;&#x7BB1; * @param email &#x7528;&#x6237;&#x90AE;&#x7BB1; */ public void setEmail(String email) { this.email = email == null ? null : email.trim(); }}","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"MyBatis","slug":"MyBatis","permalink":"https://marklogzhu.github.io/tags/MyBatis/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"}]},{"title":"Http请求前后监听工具-HttpInterceptor","date":"2018-05-10T05:46:00.000Z","path":"Java/后台/Java/SSM/Http请求前后监听工具-HttpInterceptor/","text":"&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5BF9; HTTP &#x7684;&#x8BF7;&#x6C42;&#x7684;&#x62E6;&#x622A;&#xFF0C;&#x662F;&#x5229;&#x7528; Filter &#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0; Bean &#x9884;&#x5904;&#x7406;&#x3001;&#x540E;&#x5904;&#x7406;&#x3002;Spring MVC &#x7684;&#x62E6;&#x622A;&#x5668;&#x4E0D;&#x4EC5;&#x53EF;&#x5B9E;&#x73B0; Filter &#x7684;&#x6240;&#x6709;&#x529F;&#x80FD;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x66F4;&#x7CBE;&#x786E;&#x7684;&#x63A7;&#x5236;&#x62E6;&#x622A;&#x7CBE;&#x5EA6;&#x3002;Spring &#x4E3A;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x4E86; org.springframework.web.servlet.handler.HandlerInterceptorAdapter &#x8FD9;&#x4E2A;&#x9002;&#x914D;&#x5668;&#xFF0C;&#x7EE7;&#x627F;&#x6B64;&#x7C7B;&#xFF0C;&#x53EF;&#x4EE5;&#x975E;&#x5E38;&#x65B9;&#x4FBF;&#x7684;&#x5B9E;&#x73B0;&#x81EA;&#x5DF1;&#x7684;&#x62E6;&#x622A;&#x5668;&#x3002; HandlerInterceptorAdapterHandlerInterceptorAdapter &#x6709;&#x4E09;&#x4E2A;&#x65B9;&#x6CD5;: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950/** * &#x5728;&#x4E1A;&#x52A1;&#x5904;&#x7406;&#x5668;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x4E4B;&#x524D;&#x88AB;&#x8C03;&#x7528;&#x3002;&#x9884;&#x5904;&#x7406;&#xFF0C;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x7F16;&#x7801;&#x3001;&#x5B89;&#x5168;&#x63A7;&#x5236;&#x7B49;&#x5904;&#x7406;&#xFF1B; * @param request * @param response * @param handler * @return * @throws Exception */@Overridepublic boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception { return true;}/** * &#x5728;&#x4E1A;&#x52A1;&#x5904;&#x7406;&#x5668;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x6267;&#x884C;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x751F;&#x6210;&#x89C6;&#x56FE;&#x4E4B;&#x524D;&#x6267;&#x884C;&#x3002;&#x540E;&#x5904;&#x7406;&#xFF08;&#x8C03;&#x7528;&#x4E86;Service&#x5E76;&#x8FD4;&#x56DE;ModelAndView&#xFF0C;&#x4F46;&#x672A;&#x8FDB;&#x884C;&#x9875;&#x9762;&#x6E32;&#x67D3;&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;ModelAndView&#xFF1B; * @param request * @param response * @param handler * @param modelAndView * @throws Exception */@Overridepublic void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception {}/** * &#x5728;DispatcherServlet&#x5B8C;&#x5168;&#x5904;&#x7406;&#x5B8C;&#x8BF7;&#x6C42;&#x540E;&#x88AB;&#x8C03;&#x7528;&#xFF0C;&#x53EF;&#x7528;&#x4E8E;&#x6E05;&#x7406;&#x8D44;&#x6E90;&#x7B49;&#x3002;&#x8FD4;&#x56DE;&#x5904;&#x7406;&#xFF08;&#x5DF2;&#x7ECF;&#x6E32;&#x67D3;&#x4E86;&#x9875;&#x9762;&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x6839;&#x636E;ex&#x662F;&#x5426;&#x4E3A;null&#x5224;&#x65AD;&#x662F;&#x5426;&#x53D1;&#x751F;&#x4E86;&#x5F02;&#x5E38;&#xFF0C;&#x8FDB;&#x884C;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#xFF1B; * @param request * @param response * @param handler * @param ex * @throws Exception */@Overridepublic void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception {}``` ## &#x5B9E;&#x4F8B;&#x8BF4;&#x660E;`TestController` &#x63A5;&#x53E3;&#x53EA;&#x5728;&#x665A;&#x4E0A;11&#x70B9;&#x5230;12&#x70B9;&#x4E4B;&#x95F4;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;,&#x5176;&#x4ED6;&#x65F6;&#x95F4;&#x63D0;&#x793A;&#x6D3B;&#x52A8;&#x672A;&#x5F00;&#x59CB;### &#x5728; CodeMsg &#x4E2D;&#x65B0;&#x589E;&#x9519;&#x8BEF;&#x7801;``` javapublic static CodeMsg TIME_NOT_MATCH_ERROR = new CodeMsg(500005,&quot;%s&quot;); &#x65B0;&#x5EFA; TimeNotMatchException &#x5F02;&#x5E38;12345678/** * &#x65F6;&#x95F4;&#x4E0D;&#x5339;&#x914D;&#x5F02;&#x5E38; */public class TimeNotMatchException extends GlobalException { public TimeNotMatchException(String msg) { super(CodeMsg.TIME_NOT_MATCH_ERROR.fillArgs(msg)); }} &#x65B0;&#x5EFA; HttpInterceptor12345678910111213141516171819202122232425262728293031323334353637383940public class HttpInterceptor extends HandlerInterceptorAdapter { private int openingTime; private int closingTime; // &#x5229;&#x7528;&#x6B63;&#x5219;&#x6620;&#x5C04;&#x5230;&#x9700;&#x8981;&#x62E6;&#x622A;&#x7684;&#x8DEF;&#x5F84; private String mappingURL; public void setOpeningTime(int openingTime) { this.openingTime = openingTime; } public void setClosingTime(int closingTime) { this.closingTime = closingTime; } public void setMappingURL(String mappingURL) { this.mappingURL = mappingURL; } /** * &#x5728;&#x4E1A;&#x52A1;&#x5904;&#x7406;&#x5668;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x4E4B;&#x524D;&#x88AB;&#x8C03;&#x7528;&#x3002;&#x9884;&#x5904;&#x7406;&#xFF0C;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x7F16;&#x7801;&#x3001;&#x5B89;&#x5168;&#x63A7;&#x5236;&#x7B49;&#x5904;&#x7406;&#xFF1B; * @param request * @param response * @param handler * @return * @throws Exception */ @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception { String url=request.getRequestURL().toString(); if(mappingURL==null || url.matches(mappingURL)){ Calendar c=Calendar.getInstance(); c.setTime(new Date()); int now=c.get(Calendar.HOUR_OF_DAY); if(now&lt;openingTime || now&gt;closingTime){ // &#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF0C;&#x7531;&#x5168;&#x5C40;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x8FD4;&#x56DE;&#x9519;&#x8BEF;&#x4FE1;&#x606F; throw new TimeNotMatchException(&quot;&#x6D3B;&#x52A8;&#x65F6;&#x95F4;&#x4E3A;&#xFF1A;23&#xFF1A;00-24&#xFF1A;00,&#x5F53;&#x524D;&#x672A;&#x5F00;&#x59CB;&quot;); } return true; } return true; }} springmvc.xml &#x6CE8;&#x518C;1234567&lt;mvc:interceptors&gt; &lt;bean class=&quot;com.marklogzhu.ssm.common.HttpInterceptor&quot;&gt; &lt;property name=&quot;openingTime&quot; value=&quot;23&quot; /&gt; &lt;property name=&quot;closingTime&quot; value=&quot;24&quot; /&gt; &lt;property name=&quot;mappingURL&quot; value=&quot;.*/test/.*&quot; /&gt; &lt;/bean&gt;&lt;/mvc:interceptors&gt; &#x8BBF;&#x95EE; http://localhost:8080/test/testContext.json&#xFF0C;&#x9875;&#x9762;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x663E;&#x793A;&#x5982;&#x4E0B;&#xFF1A;1{&quot;data&quot;:null,&quot;msg&quot;:&quot;&#x6D3B;&#x52A8;&#x65F6;&#x95F4;&#x4E3A;&#xFF1A;23&#xFF1A;00-24&#xFF1A;00,&#x5F53;&#x524D;&#x672A;&#x5F00;&#x59CB;&quot;,&quot;status&quot;:500005}","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"}]},{"title":"获取Spring上下文工具-ApplicationContextHelper","date":"2018-05-10T04:50:00.000Z","path":"Java/后台/Java/SSM/获取Spring上下文工具-ApplicationContextHelper/","text":"&#x5728;&#x9879;&#x76EE;&#x4E2D;&#x6709;&#x65F6;&#x5019;&#x9700;&#x8981;&#x901A;&#x8FC7; ApplicationContext &#x6765;&#x83B7;&#x53D6;&#x5BF9;&#x8C61;&#xFF0C;&#x4ECA;&#x5929;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x5982;&#x4F55;&#x5F97;&#x5230; ApplicationContext &#x5BF9;&#x8C61;&#x7684;&#x5DE5;&#x5177;&#x7C7B;&#x5E76;&#x4F7F;&#x7528;&#x5B83;&#x6765;&#x8C03;&#x7528; Serive &#x670D;&#x52A1; ApplicationContextHelper1234567891011121314151617181920212223242526@Component(&quot;applicationContextHelper&quot;)public class ApplicationContextHelper implements ApplicationContextAware { /** * Spring &#x5E94;&#x7528;&#x4E0A;&#x4E0B;&#x6587;&#x73AF;&#x5883; */ private static ApplicationContext applicationContext; public void setApplicationContext(ApplicationContext context) throws BeansException { applicationContext = context; } public static &lt;T&gt; T popBean(Class&lt;T&gt; clazz) { if (applicationContext == null) { return null; } return applicationContext.getBean(clazz); } public static &lt;T&gt; T popBean(String name, Class&lt;T&gt; clazz) { if (applicationContext == null) { return null; } return applicationContext.getBean(name, clazz); }} springmvc.xml &#x914D;&#x7F6E;12&lt;!--&#x6CE8;&#x5165;&#x5E94;&#x7528;&#x4E0A;&#x4E0B;&#x6587;&#x5DE5;&#x5177;&#x7C7B;&#xFF0C;lazy-init=&quot;false&quot; &#x8868;&#x793A;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x65F6;&#x7ACB;&#x523B;&#x5B9E;&#x4F8B;&#x5316;--&gt;&lt;bean class=&quot;com.marklogzhu.ssm.common.ApplicationContextHelper&quot; lazy-init=&quot;false&quot; /&gt; &#x6D4B;&#x8BD5;&#x65B0;&#x5EFA;&#x83DC;&#x5355;&#x5B9E;&#x4F53;&#x7C7B;12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152public class Menu { // &#x83DC;&#x5355;&#x540D; private String name; private String url; // &#x62E5;&#x6709;&#x7684;&#x5B50;&#x83DC;&#x5355;&#x5217;&#x8868; private List&lt;Menu&gt; children; public Menu(){ } public Menu(String name){ this.name = name; } public Menu(String name,String url){ this.name = name; this.url = url; } public Menu(String name,List&lt;Menu&gt; children){ this.name = name; this.children = children; } public Menu(String name,String url,List&lt;Menu&gt; children){ this.name = name; this.url = url; this.children = children; } public String getName() { return name; } public void setName(String name) { this.name = name; } public List&lt;Menu&gt; getChildren() { return children; } public void setChildren(List&lt;Menu&gt; children) { this.children = children; } public String getUrl() { return url; } public void setUrl(String url) { this.url = url; }} &#x65B0;&#x5EFA;&#x4E00;&#x4E2A; MenuSerive &#x63A5;&#x53E3;1234567public interface MenuService { /** * &#x52A0;&#x8F7D;&#x83DC;&#x5355;&#x5217;&#x8868; * @return */ List&lt;Menu&gt; loadMenuList();} &#x65B0;&#x5EFA;&#x5B9E;&#x73B0;&#x7C7B; MenuServiceImpl1234567891011121314151617181920212223242526272829@Servicepublic class MenuServiceImpl implements MenuService { @Override public List&lt;Menu&gt; loadMenuList() { return createMenuTree(); } /** * &#x521B;&#x5EFA;&#x83DC;&#x5355;&#x6811; * * @return List&lt;Menu&gt; */ private List&lt;Menu&gt; createMenuTree() { // &#x521B;&#x5EFA;&#x6839;&#x83DC;&#x5355;&#x5217;&#x8868; List&lt;Menu&gt; rootMenuList = new ArrayList&lt;&gt;(); rootMenuList.add(new Menu(&quot;&#x63A7;&#x5236;&#x53F0;&quot;,createMenuList(&quot;&#x63A7;&#x5236;&#x53F0;&quot;,5))); rootMenuList.add(new Menu(&quot;&#x9875;&#x9762;&quot;,createMenuList(&quot;&#x9875;&#x9762;&quot;,3))); rootMenuList.add(new Menu(&quot;pdf&quot;,&quot;/test/page&quot;)); return rootMenuList; } private List&lt;Menu&gt; createMenuList(String prefix,int size){ List&lt;Menu&gt; menuList = new ArrayList&lt;&gt;(); for(int i=0;i&lt;size;i++){ menuList.add(new Menu(prefix+i,&quot;/test/page&quot;)); } return menuList; }} Controller &#x6D4B;&#x8BD5;123456789101112@Controller@RequestMapping(&quot;/test&quot;)public class TestController { @RequestMapping(&quot;/testContext.json&quot;) @ResponseBody public JsonData testContext(){ MenuService menuService = ApplicationContextHelper.popBean(MenuService.class); List&lt;Menu&gt; menuList = menuService.loadMenuList(); return JsonData.createBySuccess(menuList); }} &#x542F;&#x52A8;&#x5E76;&#x8BBF;&#x95EE; http://localhost:8080/test/testContext.json&#x663E;&#x793A;&#x6570;&#x636E;&#xFF1A; 1{&quot;status&quot;:0,&quot;msg&quot;:null,&quot;data&quot;:[{&quot;name&quot;:&quot;&#x63A7;&#x5236;&#x53F0;&quot;,&quot;url&quot;:null,&quot;children&quot;:[{&quot;name&quot;:&quot;&#x63A7;&#x5236;&#x53F0;0&quot;,&quot;url&quot;:&quot;/test/page&quot;,&quot;children&quot;:null},{&quot;name&quot;:&quot;&#x63A7;&#x5236;&#x53F0;1&quot;,&quot;url&quot;:&quot;/test/page&quot;,&quot;children&quot;:null},{&quot;name&quot;:&quot;&#x63A7;&#x5236;&#x53F0;2&quot;,&quot;url&quot;:&quot;/test/page&quot;,&quot;children&quot;:null},{&quot;name&quot;:&quot;&#x63A7;&#x5236;&#x53F0;3&quot;,&quot;url&quot;:&quot;/test/page&quot;,&quot;children&quot;:null},{&quot;name&quot;:&quot;&#x63A7;&#x5236;&#x53F0;4&quot;,&quot;url&quot;:&quot;/test/page&quot;,&quot;children&quot;:null}]},{&quot;name&quot;:&quot;&#x9875;&#x9762;&quot;,&quot;url&quot;:null,&quot;children&quot;:[{&quot;name&quot;:&quot;&#x9875;&#x9762;0&quot;,&quot;url&quot;:&quot;/test/page&quot;,&quot;children&quot;:null},{&quot;name&quot;:&quot;&#x9875;&#x9762;1&quot;,&quot;url&quot;:&quot;/test/page&quot;,&quot;children&quot;:null},{&quot;name&quot;:&quot;&#x9875;&#x9762;2&quot;,&quot;url&quot;:&quot;/test/page&quot;,&quot;children&quot;:null}]},{&quot;name&quot;:&quot;pdf&quot;,&quot;url&quot;:&quot;/test/page&quot;,&quot;children&quot;:null}]} &#x603B;&#x7ED3;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6211;&#x4EEC;&#x5E76;&#x6CA1;&#x6709;&#x663E;&#x5F0F;&#x6CE8;&#x5165; MenuService &#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x662F;&#x901A;&#x8FC7; ApplicationContextHelper.popBean &#x65B9;&#x6CD5;&#x4E5F;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x5230; MenuService &#x5BF9;&#x8C61;&#x5E76;&#x8C03;&#x7528;&#x65B9;&#x6CD5;&#x3002;","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"}]},{"title":"JSON转换封装","date":"2018-05-10T02:40:00.000Z","path":"Java/后台/Java/SSM/JSON转换封装/","text":"&#x76EE;&#x524D;&#x5F00;&#x6E90;&#x7684; JSON &#x5DE5;&#x5177;&#x7C7B;&#x6709;&#x5F88;&#x591A;&#xFF0C;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x9879;&#x76EE;&#x7684;&#x5B9E;&#x9645;&#x9700;&#x8981;&#x9009;&#x62E9;&#x5176;&#x4E2D;&#x4E00;&#x79CD;&#x6216;&#x6DF7;&#x5408;&#x4F7F;&#x7528;&#xFF0C;&#x5728;&#x4F7F;&#x7528;&#x8FC7;&#x7A0B;&#x4E2D;&#x5982;&#x679C;&#x4E0D;&#x5BF9; JOSN &#x7684;&#x8F6C;&#x6362;&#x505A;&#x8FDB;&#x4E00;&#x6B65;&#x7684;&#x5C01;&#x88C5;(&#x5DE5;&#x5177;&#x7C7B;&#x7684;&#x5F62;&#x5F0F;),&#x90A3;&#x4E48;&#x5728;&#x4E2D;&#x9014;&#x66F4;&#x6362;&#x5DE5;&#x5177;&#x7C7B;&#x5E93;&#x7684;&#x65F6;&#x5019;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x7684;&#x5730;&#x65B9;&#x5C31;&#x5F88;&#x591A;&#xFF0C;&#x6240;&#x6709;&#x6211;&#x4EEC;&#x4ECA;&#x5929;&#x5C31;&#x8981;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A; JSON &#x7684;&#x5DE5;&#x5177;&#x7C7B;&#xFF01; &#x6838;&#x5FC3;&#x4F9D;&#x8D56;12345678910111213141516171819&lt;!-- json --&gt;&lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.9.5&lt;/version&gt;&lt;/dependency&gt;&lt;!--&#x65E5;&#x671F;&#x5DE5;&#x5177;&#x7C7B;&#xFF1A;&#x9762;&#x5411; Java &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x65E5;&#x671F;/&#x65F6;&#x95F4;&#x5E93;&#x7684;&#x66FF;&#x4EE3;&#x9009;&#x62E9;&#xFF0C;Joda-Time &#x4EE4;&#x65F6;&#x95F4;&#x548C;&#x65E5;&#x671F;&#x503C;&#x53D8;&#x5F97;&#x6613;&#x4E8E;&#x7BA1;&#x7406;&#x3001;&#x64CD;&#x4F5C;&#x548C;&#x7406;&#x89E3;--&gt;&lt;dependency&gt; &lt;groupId&gt;joda-time&lt;/groupId&gt; &lt;artifactId&gt;joda-time&lt;/artifactId&gt; &lt;version&gt;2.9.9&lt;/version&gt;&lt;/dependency&gt;&lt;!--Commons&#x9879;&#x76EE;&#x4E2D;&#x7528;&#x6765;&#x5904;&#x7406;Java&#x57FA;&#x672C;&#x5BF9;&#x8C61;&#x65B9;&#x6CD5;&#x7684;&#x5DE5;&#x5177;&#x7C7B;&#x5305;--&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt; &lt;version&gt;3.7&lt;/version&gt;&lt;/dependency&gt; &#x5DE5;&#x5177;&#x7C7B;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103import com.fasterxml.jackson.annotation.JsonInclude;import com.fasterxml.jackson.core.type.TypeReference;import com.fasterxml.jackson.databind.*;import lombok.extern.slf4j.Slf4j;import org.apache.commons.lang3.StringUtils;import java.text.SimpleDateFormat;@Slf4jpublic class JsonUtil { private static ObjectMapper objectMapper = new ObjectMapper(); // &#x521D;&#x59CB;&#x5316;JSON &#x8F6C;&#x6362;&#x89C4;&#x5219; static{ // &#x5BF9;&#x8C61;&#x7684;&#x6240;&#x6709;&#x5B57;&#x6BB5;&#x5168;&#x90E8;&#x5217;&#x5165; objectMapper.setSerializationInclusion(JsonInclude.Include.ALWAYS); // &#x53D6;&#x6D88;&#x9ED8;&#x8BA4;&#x8F6C;&#x6362;timestamps&#x5F62;&#x5F0F; objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS,false); // &#x5FFD;&#x7565;&#x7A7A;Bean&#x8F6C;json&#x7684;&#x9519;&#x8BEF; objectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS,false); // &#x6240;&#x6709;&#x7684;&#x65E5;&#x671F;&#x683C;&#x5F0F;&#x90FD;&#x7EDF;&#x4E00;&#x4E3A;&#x4EE5;&#x4E0B;&#x7684;&#x6837;&#x5F0F;&#xFF0C;&#x5373;yyyy-MM-dd HH:mm:ss objectMapper.setDateFormat(new SimpleDateFormat(DateTimeUtil.STANDARD_FORMAT)); // &#x5FFD;&#x7565; &#x5728;json&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x5B58;&#x5728;&#xFF0C;&#x4F46;&#x662F;&#x5728;java&#x5BF9;&#x8C61;&#x4E2D;&#x4E0D;&#x5B58;&#x5728;&#x5BF9;&#x5E94;&#x5C5E;&#x6027;&#x7684;&#x60C5;&#x51B5;&#x3002;&#x9632;&#x6B62;&#x9519;&#x8BEF; objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES,false); } /** * &#x5C06;&#x5BF9;&#x8C61;&#x8F6C;&#x4E3A;JSON&#x5B57;&#x7B26;&#x4E32; * @param obj &#x5BF9;&#x8C61; * @param &lt;T&gt; &#x5BF9;&#x8C61;&#x7C7B;&#x578B; * @return */ public static &lt;T&gt; String obj2String(T obj){ if(obj == null){ return null; } try { return obj instanceof String ? (String)obj : objectMapper.writeValueAsString(obj); } catch (Exception e) { log.warn(&quot;Parse Object to String error&quot;,e); return null; } } /** * &#x5C06;&#x5BF9;&#x8C61;&#x8F6C;&#x4E3A;JSON&#x5B57;&#x7B26;&#x4E32;&#x5E76;&#x683C;&#x5F0F;&#x5316; * @param obj &#x5BF9;&#x8C61; * @param &lt;T&gt; &#x5BF9;&#x8C61;&#x7C7B;&#x578B; * @return */ public static &lt;T&gt; String obj2StringPretty(T obj){ if(obj == null){ return null; } try { return obj instanceof String ? (String)obj : objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(obj); } catch (Exception e) { log.warn(&quot;Parse Object to String error&quot;,e); return null; } } public static &lt;T&gt; T string2Obj(String str,Class&lt;T&gt; clazz){ if(StringUtils.isEmpty(str) || clazz == null){ return null; } try { return clazz.equals(String.class)? (T)str : objectMapper.readValue(str,clazz); } catch (Exception e) { log.warn(&quot;Parse String to Object error&quot;,e); return null; } } public static &lt;T&gt; T string2Obj(String str, TypeReference&lt;T&gt; typeReference){ if(StringUtils.isEmpty(str) || typeReference == null){ return null; } try { return (T)(typeReference.getType().equals(String.class)? str : objectMapper.readValue(str,typeReference)); } catch (Exception e) { log.warn(&quot;Parse String to Object error&quot;,e); return null; } } public static &lt;T&gt; T string2Obj(String str,Class&lt;?&gt; collectionClass,Class&lt;?&gt;... elementClasses){ JavaType javaType = objectMapper.getTypeFactory().constructParametricType(collectionClass,elementClasses); try { return objectMapper.readValue(str,javaType); } catch (Exception e) { log.warn(&quot;Parse String to Object error&quot;,e); return null; } }} &#x6D4B;&#x8BD5;&#x6D4B;&#x8BD5;&#x5BF9;&#x8C61;12345678910111213141516171819202122232425262728293031323334353637383940414243444546public class TestUser { private String name; private Integer age; private List&lt;String&gt; hobbies; public String getName() { return name; } public void setName(String name) { this.name = name; } public Integer getAge() { return age; } public void setAge(Integer age) { this.age = age; } public List&lt;String&gt; getHobbies() { return hobbies; } public void setHobbies(List&lt;String&gt; hobbies) { this.hobbies = hobbies; } @Override public boolean equals(Object o) { if (this == o) return true; if (o == null || getClass() != o.getClass()) return false; TestUser testUser = (TestUser) o; return Objects.equals(name, testUser.name) &amp;&amp; Objects.equals(age, testUser.age) &amp;&amp; Objects.equals(hobbies, testUser.hobbies); } @Override public int hashCode() { return Objects.hash(name, age, hobbies); }} &#x6D4B;&#x8BD5;&#x65B9;&#x6CD5;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162public class JsonUtilTest { private static final String OBJ2STRING = &quot;{\\&quot;name\\&quot;:\\&quot;marklogzhu\\&quot;,\\&quot;age\\&quot;:18,\\&quot;hobbies\\&quot;:[\\&quot;java&#x7F16;&#x7A0B;\\&quot;,\\&quot;&#x8DB3;&#x7403;\\&quot;,\\&quot;&#x7BEE;&#x7403;\\&quot;]}&quot;; private static final String OBJ2STRING_LIST = &quot;[{\\&quot;name\\&quot;:\\&quot;marklogzhu\\&quot;,\\&quot;age\\&quot;:18,\\&quot;hobbies\\&quot;:[\\&quot;java&#x7F16;&#x7A0B;\\&quot;,\\&quot;&#x8DB3;&#x7403;\\&quot;,\\&quot;&#x7BEE;&#x7403;\\&quot;]},{\\&quot;name\\&quot;:\\&quot;marklogzhu\\&quot;,\\&quot;age\\&quot;:18,\\&quot;hobbies\\&quot;:[\\&quot;java&#x7F16;&#x7A0B;\\&quot;,\\&quot;&#x8DB3;&#x7403;\\&quot;,\\&quot;&#x7BEE;&#x7403;\\&quot;]},{\\&quot;name\\&quot;:\\&quot;marklogzhu\\&quot;,\\&quot;age\\&quot;:18,\\&quot;hobbies\\&quot;:[\\&quot;java&#x7F16;&#x7A0B;\\&quot;,\\&quot;&#x8DB3;&#x7403;\\&quot;,\\&quot;&#x7BEE;&#x7403;\\&quot;]}]&quot;; private static final String OBJ2STRING_LIST_FORMAT =&quot;[ {\\n&quot; + &quot; \\&quot;name\\&quot; : \\&quot;marklogzhu\\&quot;,\\n&quot; + &quot; \\&quot;age\\&quot; : 18,\\n&quot; + &quot; \\&quot;hobbies\\&quot; : [ \\&quot;java&#x7F16;&#x7A0B;\\&quot;, \\&quot;&#x8DB3;&#x7403;\\&quot;, \\&quot;&#x7BEE;&#x7403;\\&quot; ]\\n&quot; + &quot;}, {\\n&quot; + &quot; \\&quot;name\\&quot; : \\&quot;marklogzhu\\&quot;,\\n&quot; + &quot; \\&quot;age\\&quot; : 18,\\n&quot; + &quot; \\&quot;hobbies\\&quot; : [ \\&quot;java&#x7F16;&#x7A0B;\\&quot;, \\&quot;&#x8DB3;&#x7403;\\&quot;, \\&quot;&#x7BEE;&#x7403;\\&quot; ]\\n&quot; + &quot;}, {\\n&quot; + &quot; \\&quot;name\\&quot; : \\&quot;marklogzhu\\&quot;,\\n&quot; + &quot; \\&quot;age\\&quot; : 18,\\n&quot; + &quot; \\&quot;hobbies\\&quot; : [ \\&quot;java&#x7F16;&#x7A0B;\\&quot;, \\&quot;&#x8DB3;&#x7403;\\&quot;, \\&quot;&#x7BEE;&#x7403;\\&quot; ]\\n&quot; + &quot;} ]&quot;; private TestUser getTestUser(){ List&lt;String&gt; hobbies = new ArrayList&lt;&gt;(); hobbies.add(&quot;java&#x7F16;&#x7A0B;&quot;); hobbies.add(&quot;&#x8DB3;&#x7403;&quot;); hobbies.add(&quot;&#x7BEE;&#x7403;&quot;); TestUser user = new TestUser(); user.setName(&quot;marklogzhu&quot;); user.setAge(18); user.setHobbies(hobbies); return user; } private List&lt;TestUser&gt; geTestUserList(){ List&lt;TestUser&gt; userList = new ArrayList&lt;&gt;(); userList.add(getTestUser()); userList.add(getTestUser()); userList.add(getTestUser()); return userList; } @Test public void obj2String() { Assert.assertEquals(OBJ2STRING,JsonUtil.obj2String(getTestUser())); } @Test public void string2Obj() { Assert.assertEquals(getTestUser(),JsonUtil.string2Obj(OBJ2STRING,TestUser.class)); } @Test public void obj2StringPretty() { Assert.assertEquals(OBJ2STRING_LIST_FORMAT,JsonUtil.obj2StringPretty(geTestUserList())); } @Test public void string2Obj1() { Assert.assertEquals(geTestUserList(),JsonUtil.string2Obj(OBJ2STRING_LIST,new TypeReference&lt;List&lt;TestUser&gt;&gt;(){})); } @Test public void string2Obj2() { Assert.assertEquals(geTestUserList(),JsonUtil.string2Obj(OBJ2STRING_LIST,List.class,TestUser.class)); }}","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"}]},{"title":"参数校验工具-BeanValidator","date":"2018-05-09T09:26:00.000Z","path":"Java/后台/Java/SSM/参数校验工具-BeanValidator/","text":"&#x5728; HTTP &#x8BF7;&#x6C42;&#x4E2D;&#x643A;&#x5E26;&#x53C2;&#x6570;&#x662F;&#x5F88;&#x5E38;&#x89C1;&#x7684;&#x4E00;&#x4EF6;&#x4E8B;&#xFF0C;&#x4E3A;&#x4E86;&#x7CFB;&#x7EDF;&#x7684;&#x5065;&#x58EE;&#x6027;(&#x5BF9;&#x4E8E;&#x4E00;&#x5207;&#x8F93;&#x5165;&#x90FD;&#x662F;&#x4E0D;&#x53EF;&#x4FE1;&#x7684;)&#x5BF9;&#x4E8E;&#x53C2;&#x6570;&#x7684;&#x9A8C;&#x8BC1;&#x81EA;&#x7136;&#x662F;&#x907F;&#x514D;&#x4E0D;&#x4E86;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x6BCF;&#x4E2A;&#x63A5;&#x53E3;&#x4E2D;&#x5BF9;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1;&#x81EA;&#x7136;&#x662F;&#x4E00;&#x79CD;&#x5F88;&#x4E0D;&#x4F18;&#x96C5;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x4ECA;&#x5929;&#x6211;&#x4EEC;&#x5C31;&#x901A;&#x8FC7;&#x53C2;&#x6570;&#x6821;&#x9A8C;&#x5DE5;&#x5177; BeanValidator &#x6765;&#x4F18;&#x96C5;&#x7684;&#x5B9E;&#x73B0;&#x4E0B;&#x53C2;&#x6570;&#x7684;&#x9A8C;&#x8BC1;&#xFF01; &#x6821;&#x9A8C;&#x6846;&#x67B6;&#x4ECB;&#x7ECD;JSR303 &#x662F;&#x4E00;&#x5957; JavaBean &#x53C2;&#x6570;&#x6821;&#x9A8C;&#x7684;&#x6807;&#x51C6;&#xFF0C;&#x5B83;&#x5B9A;&#x4E49;&#x4E86;&#x5F88;&#x591A;&#x5E38;&#x7528;&#x7684;&#x6821;&#x9A8C;&#x6CE8;&#x89E3;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5C06;&#x8FD9;&#x4E9B;&#x6CE8;&#x89E3;&#x52A0;&#x5728;&#x6211;&#x4EEC; JavaBean &#x7684;&#x5C5E;&#x6027;&#x4E0A;&#x9762;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5728;&#x9700;&#x8981;&#x6821;&#x9A8C;&#x7684;&#x65F6;&#x5019;&#x8FDB;&#x884C;&#x6821;&#x9A8C;&#x4E86;&#x3002;&#x6CE8;&#x89E3;&#x5982;&#x4E0B;&#xFF1A; &#x6CE8;&#x89E3;&#x540D;&#x79F0; &#x6CE8;&#x89E3;&#x542B;&#x4E49; @Null &#x88AB;&#x6CE8;&#x91CA;&#x7684;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x4E3A;null @NotNull &#x88AB;&#x6CE8;&#x91CA;&#x7684;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x4E0D;&#x4E3A;null @AssertTrue &#x88AB;&#x6CE8;&#x91CA;&#x7684;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x4E3A;true @AssertFalse &#x88AB;&#x6CE8;&#x91CA;&#x7684;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x4E3A;false @Min(value) &#x88AB;&#x6CE8;&#x91CA;&#x7684;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#xFF0C;&#x5176;&#x503C;&#x5FC5;&#x987B;&#x5927;&#x4E8E;&#x7B49;&#x4E8E;&#x6307;&#x5B9A;&#x7684;&#x6700;&#x5C0F;&#x503C; @Max(value) &#x88AB;&#x6CE8;&#x91CA;&#x7684;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#xFF0C;&#x5176;&#x503C;&#x5FC5;&#x987B;&#x5C0F;&#x4E8E;&#x7B49;&#x4E8E;&#x6307;&#x5B9A;&#x7684;&#x6700;&#x5927;&#x503C; @DecimalMin(values) &#x88AB;&#x6CE8;&#x91CA;&#x7684;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#xFF0C;&#x5176;&#x503C;&#x5FC5;&#x987B;&#x5927;&#x4E8E;&#x7B49;&#x4E8E;&#x6307;&#x5B9A;&#x7684;&#x6700;&#x5C0F;&#x503C; @DecimalMax(values) &#x88AB;&#x6CE8;&#x91CA;&#x7684;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#xFF0C;&#x5176;&#x503C;&#x5FC5;&#x987B;&#x5C0F;&#x4E8E;&#x7B49;&#x4E8E;&#x6307;&#x5B9A;&#x7684;&#x6700;&#x5927;&#x503C; @Size(max,min) &#x88AB;&#x6CE8;&#x91CA;&#x7684;&#x5143;&#x7D20;&#x7684;&#x5927;&#x5C0F;&#x5FC5;&#x987B;&#x5728;&#x6307;&#x5B9A;&#x7684;&#x8303;&#x56F4;&#x5185; @Digits(integer,fraction) &#x88AB;&#x6CE8;&#x91CA;&#x7684;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x5E76;&#x4E14;&#x7B26;&#x5408;&#x6307;&#x5B9A;&#x683C;&#x5F0F;&#xFF0C;interger&#x6307;&#x5B9A;&#x6574;&#x6570;&#x7CBE;&#x5EA6;&#xFF0C;fraction&#x6307;&#x5B9A;&#x5C0F;&#x6570;&#x7CBE;&#x5EA6;&#x3002; @Past &#x88AB;&#x6CE8;&#x91CA;&#x7684;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A;&#x8FC7;&#x53BB;&#x7684;&#x65E5;&#x671F; @Future &#x88AB;&#x6CE8;&#x91CA;&#x7684;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A;&#x5C06;&#x6765;&#x7684;&#x65E5;&#x671F; @Pattern(value) &#x88AB;&#x6CE8;&#x91CA;&#x7684;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x7B26;&#x5408;&#x6307;&#x5B9A;&#x7684;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F; Hibernate validator &#x5728; JSR303 &#x7684;&#x57FA;&#x7840;&#x4E0A;&#x5BF9;&#x6821;&#x9A8C;&#x6CE8;&#x89E3;&#x8FDB;&#x884C;&#x4E86;&#x6269;&#x5C55;&#xFF0C;&#x6269;&#x5C55;&#x6CE8;&#x89E3;&#x5982;&#x4E0B;&#xFF1A; &#x6CE8;&#x89E3;&#x540D;&#x79F0; &#x6CE8;&#x89E3;&#x542B;&#x4E49; @Email &#x88AB;&#x6CE8;&#x91CA;&#x7684;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x662F;&#x7535;&#x5B50;&#x90AE;&#x7BB1;&#x5730;&#x5740; @Length &#x88AB;&#x6CE8;&#x91CA;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x5927;&#x5C0F;&#x5FC5;&#x987B;&#x5728;&#x6307;&#x5B9A;&#x7684;&#x8303;&#x56F4;&#x5185; @NotEmpty &#x88AB;&#x6CE8;&#x91CA;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x5FC5;&#x987B;&#x975E;&#x7A7A; @Range &#x88AB;&#x6CE8;&#x91CA;&#x7684;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x5728;&#x5408;&#x9002;&#x7684;&#x8303;&#x56F4;&#x5185; &#x6838;&#x5FC3;&#x4F9D;&#x8D56;12345678910111213&lt;!--&#x53C2;&#x6570;&#x68C0;&#x9A8C;--&gt;&lt;!--&#x53C2;&#x6570;&#x68C0;&#x9A8C;&#x63A5;&#x53E3;--&gt;&lt;dependency&gt; &lt;groupId&gt;javax.validation&lt;/groupId&gt; &lt;artifactId&gt;validation-api&lt;/artifactId&gt; &lt;version&gt;2.0.1.Final&lt;/version&gt;&lt;/dependency&gt;&lt;!--&#x53C2;&#x6570;&#x68C0;&#x9A8C;&#x5B9E;&#x73B0;--&gt;&lt;dependency&gt; &lt;groupId&gt;org.hibernate&lt;/groupId&gt; &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt; &lt;version&gt;6.0.9.Final&lt;/version&gt;&lt;/dependency&gt; &#x5165;&#x95E8;&#x793A;&#x4F8B;&#x7533;&#x660E;&#x5B9E;&#x4F53;&#x7C7B;&#x5BF9;&#x8C61;123456789101112131415161718192021222324252627282930313233343536public class User { @NotNull(message = &quot;&#x7528;&#x6237;&#x540D;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;&quot;) private String userName; @NotNull(message = &quot;&#x8BF7;&#x8F93;&#x5165;&#x5BC6;&#x7801;&quot;) private String password; @NotNull(message = &quot;&#x5E74;&#x9F84;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;&quot;) @Min(value = 1,message = &quot;&#x5E74;&#x9F84;&#x4E0D;&#x80FD;&#x5C0F;&#x4E8E;1&#x5C81;&quot;) @Max(value = 443,message = &quot;&#x5E74;&#x9F84;&#x8D85;&#x8FC7;&#x5409;&#x5C3C;&#x65AF;&#x4E16;&#x754C;&#x7EAA;&#x5F55;&#x4E86;&quot;) private Integer age; public String getUserName() { return userName; } public void setUserName(String userName) { this.userName = userName; } public String getPassword() { return password; } public void setPassword(String password) { this.password = password; } public Integer getAge() { return age; } public void setAge(Integer age) { this.age = age; }} &#x589E;&#x52A0; Controller &#x6D4B;&#x8BD5;&#x65B9;&#x6CD5;12345678910111213141516@Controller@RequestMapping(&quot;/test&quot;)public class TestController { @RequestMapping(&quot;/testParam&quot;) @ResponseBody public JsonData testParam(@Valid User user,BindingResult br){ if(br.hasErrors()) { List&lt;ObjectError&gt; ls=br.getAllErrors(); for (int i = 0; i &lt; ls.size(); i++) { System.out.println(&quot;error:&quot;+ls.get(i).getDefaultMessage()); } } return JsonData.createBySuccess(); }} &#x542F;&#x52A8;&#x5E76;&#x8BBF;&#x95EE; http://localhost:8080/test/testParam &#xFF0C;&#x67E5;&#x770B;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;123error:&#x7528;&#x6237;&#x540D;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;error:&#x8BF7;&#x8F93;&#x5165;&#x5BC6;&#x7801;error:&#x5E74;&#x9F84;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A; &#x6CE8;&#x610F;&#x4E8B;&#x9879; @Valid &#x6CE8;&#x89E3;&#x5FC5;&#x987B;&#x5728;&#x53C2;&#x6570;&#x7684;&#x524D;&#x9762; BindingResult &#x5BF9;&#x8C61;&#x5FC5;&#x987B;&#x5728;&#x7D27;&#x8DDF;&#x5728;&#x53C2;&#x6570;&#x540E;&#x9762;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x62A5;404 &#x9519;&#x8BEF; &#x81EA;&#x5B9A;&#x4E49;&#x6821;&#x9A8C;&#x6CE8;&#x89E3;&#x867D;&#x7136; jSR303 &#x548C; Hibernate Validtor &#x5DF2;&#x7ECF;&#x63D0;&#x4F9B;&#x4E86;&#x5F88;&#x591A;&#x6821;&#x9A8C;&#x6CE8;&#x89E3;&#xFF0C;&#x4F46;&#x662F;&#x5F53;&#x9762;&#x5BF9;&#x590D;&#x6742;&#x53C2;&#x6570;&#x6821;&#x9A8C;&#x65F6;&#xFF0C;&#x8FD8;&#x662F;&#x4E0D;&#x80FD;&#x6EE1;&#x8DB3;&#x6211;&#x4EEC;&#x7684;&#x8981;&#x6C42;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x5C31;&#x9700;&#x8981;&#x81EA;&#x5B9A;&#x4E49;&#x6821;&#x9A8C;&#x6CE8;&#x89E3;&#x3002; &#x4E0B;&#x9762;&#x4EE5;&#x201C;&#x503C;&#x4E0D;&#x80FD;&#x4E3A;1&#x201D;&#x4E3A;&#x5B9E;&#x4F8B;&#x81EA;&#x5B9A;&#x4E49;&#x6821;&#x9A8C;&#x6CE8;&#x89E3; &#x58F0;&#x660E;&#x81EA;&#x5B9A;&#x4E49;&#x6CE8;&#x89E3;123456789101112131415161718192021222324252627282930/** * &#x81EA;&#x5B9A;&#x4E49;&#x6CE8;&#x89E3;&#xFF0C;&#x4E0D;&#x5141;&#x8BB8;&#x503C;&#x4E3A; 1 */@Target({ANNOTATION_TYPE, METHOD, FIELD})@Retention(RUNTIME)@Documented@Constraint(validatedBy = NotOnelValidatorImpl.class)////&#x6B64;&#x5904;&#x6307;&#x5B9A;&#x4E86;&#x6CE8;&#x89E3;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;&#x4E3A;NotOnelValidatorImplpublic @interface NotOne { /** * &#x6DFB;&#x52A0;value&#x5C5E;&#x6027;&#xFF0C;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x6821;&#x9A8C;&#x65F6;&#x7684;&#x6761;&#x4EF6;,&#x82E5;&#x4E0D;&#x9700;&#x8981;&#xFF0C;&#x53EF;&#x53BB;&#x6389;&#x6B64;&#x5904;&#x5B9A;&#x4E49; */ int value() default 0; String message() default &quot;&#x9664;&#x4E86; 1 &#x4F60;&#x987A;&#x4FBF;&#x8F93;&#xFF0C;&#x51FA;&#x9519;&#x7B97;&#x6211;&#x7684;&quot;; Class&lt;?&gt;[] groups() default {}; Class&lt;? extends Payload&gt;[] payload() default {}; /** * &#x5141;&#x8BB8;&#x5728;&#x540C;&#x4E00;&#x5143;&#x7D20;&#x4E0A;&#x5B9A;&#x4E49;&#x591A;&#x4E2A;&#x6CE8;&#x91CA;&#x3002; */ @Target({ METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER }) @Retention(RUNTIME) @Documented @interface List { NotOne[] value(); }} &#x81EA;&#x5B9A;&#x4E49;&#x6CE8;&#x89E3;&#x5B9E;&#x73B0;&#x7C7B;1234567891011121314151617public class NotOnelValidatorImpl implements ConstraintValidator&lt;NotOne, Integer&gt; { private int value; @Override public void initialize(NotOne constraintAnnotation) { //&#x4F20;&#x5165;value &#x503C;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x6821;&#x9A8C;&#x4E2D;&#x4F7F;&#x7528; this.value = constraintAnnotation.value(); } public boolean isValid(Integer value, ConstraintValidatorContext constraintValidatorContext) { if(value == 1){ return false; } return true; }} &#x6D4B;&#x8BD5;&#x7C7B;12345678910111213141516@Controller@RequestMapping(&quot;/test&quot;)public class TestController { @RequestMapping(&quot;/testParam&quot;) @ResponseBody public JsonData testParam( @Valid User user,BindingResult br){ if(br.hasErrors()) { List&lt;ObjectError&gt; ls=br.getAllErrors(); for (int i = 0; i &lt; ls.size(); i++) { System.out.println(&quot;error:&quot;+ls.get(i).getDefaultMessage()); } } return JsonData.createBySuccess(); }} &#x542F;&#x52A8;&#x5E76;&#x8BBF;&#x95EE; http://localhost:8080/test/testParam?userName=123&amp;status=1 &#xFF0C;&#x67E5;&#x770B;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;123error:&#x4E0D;&#x80FD;&#x8F93;&#x5165;1error:&#x8BF7;&#x8F93;&#x5165;&#x5BC6;&#x7801;error:&#x5E74;&#x9F84;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A; &#x5C01;&#x88C5;&#x5DE5;&#x5177;&#x7C7B;&#x4E3A;&#x4E86;&#x5728;&#x9879;&#x76EE;&#x4E2D;&#x66F4;&#x597D;&#x7684;&#x4F7F;&#x7528;&#x53C2;&#x6570;&#x68C0;&#x9A8C;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x5DE5;&#x5177;&#x7C7B; &#x6DFB;&#x52A0;&#x4F9D;&#x8D56;1234567891011121314151617&lt;!-- tools --&gt;&lt;dependency&gt; &lt;groupId&gt;commons-collections&lt;/groupId&gt; &lt;artifactId&gt;commons-collections&lt;/artifactId&gt; &lt;version&gt;3.2.2&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;commons-codec&lt;/groupId&gt; &lt;artifactId&gt;commons-codec&lt;/artifactId&gt; &lt;version&gt;1.10&lt;/version&gt;&lt;/dependency&gt;&lt;!-- google.guava --&gt;&lt;dependency&gt; &lt;groupId&gt;com.google.guava&lt;/groupId&gt; &lt;artifactId&gt;guava&lt;/artifactId&gt; &lt;version&gt;20.0&lt;/version&gt;&lt;/dependency&gt; &#x5728; CodeMsg &#x4E2D;&#x589E;&#x52A0;&#x9519;&#x8BEF;&#x7801;1public static CodeMsg PARAM_CHECK_ERROR = new CodeMsg(500004,&quot;&#x53C2;&#x6570;&#x68C0;&#x9A8C;&#x5F02;&#x5E38;&#xFF0C;&#x5F02;&#x5E38;&#x539F;&#x56E0;&#xFF1A;%s&quot;); &#x65B0;&#x589E;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x5F02;&#x5E38;&#x7C7B;1234567891011/** * &#x53C2;&#x6570;&#x68C0;&#x9A8C;&#x5F02;&#x5E38; */public class ParamException extends GlobalException { public ParamException(String msgStr) { super(CodeMsg.PARAM_CHECK_ERROR.fillArgs(msgStr)); }} &#x5168;&#x5C40;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x7C7B;&#x6DFB;&#x52A0; ParamException &#x5F02;&#x5E38;&#x5904;&#x7406;12345678910111213if (url.endsWith(&quot;.json&quot;)) {// &#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x8981;&#x6C42;&#x9879;&#x76EE;&#x4E2D;&#x6240;&#x6709;&#x8BF7;&#x6C42;json&#x6570;&#x636E;&#xFF0C;&#x90FD;&#x4F7F;&#x7528;.json&#x7ED3;&#x5C3E; if (ex instanceof GlobalException || ex instanceof ParamException ) { JsonData result = JsonData.createByErrorMessage(((GlobalException) ex).getMsg()); mv = new ModelAndView(&quot;jsonView&quot;, result.toMap()); } else { // &#x5173;&#x952E;&#x4F4D;&#x7F6E;&#x9700;&#x8981;&#x505A;&#x597D;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x529F;&#x80FD;&#xFF0C;&#x65B9;&#x4FBF;&#x9879;&#x76EE;&#x4E0A;&#x7EBF;&#x540E;&#x8FFD;&#x6EAF; log.error(&quot;&#x672A;&#x5B9A;&#x4E49; json &#x8BF7;&#x6C42;&#x683C;&#x5F0F;&#x5F02;&#x5E38;, url:&quot; + url, ex); // &#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x4E3A;&#x4E86;&#x6F14;&#x793A;&#x53EA;&#x8FD4;&#x56DE;&#x9ED8;&#x8BA4;&#x670D;&#x52A1;&#x5668;&#x5F02;&#x5E38;&#x4FE1;&#x606F;&#xFF0C;&#x5B9E;&#x9645;&#x9879;&#x76EE;&#x4E2D;&#x6839;&#x636E;&#x9700;&#x8981;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38; JsonData result = JsonData.createByErrorMessage(CodeMsg.UNKNOWN_JSON_ERROR.fillArgs(ex)); mv = new ModelAndView(&quot;jsonView&quot;, result.toMap()); }}...... &#x65B0;&#x589E;&#x53C2;&#x6570;&#x68C0;&#x9A8C;&#x5DE5;&#x5177;&#x7C7B;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566import com.google.common.base.Preconditions;import com.google.common.collect.Lists;import com.google.common.collect.Maps;import com.marklogzhu.ssm.exception.ParamException;import org.apache.commons.collections.MapUtils;import javax.validation.ConstraintViolation;import javax.validation.Validation;import javax.validation.Validator;import javax.validation.ValidatorFactory;import java.util.Collection;import java.util.Collections;import java.util.Iterator;import java.util.LinkedHashMap;import java.util.Map;import java.util.Set;public class BeanValidator { private static ValidatorFactory validatorFactory = Validation.buildDefaultValidatorFactory(); public static &lt;T&gt; Map&lt;String, String&gt; validate(T t, Class... groups) { Validator validator = validatorFactory.getValidator(); Set validateResult = validator.validate(t, groups); if (validateResult.isEmpty()) { return Collections.emptyMap(); } else { LinkedHashMap errors = Maps.newLinkedHashMap(); Iterator iterator = validateResult.iterator(); while (iterator.hasNext()) { ConstraintViolation violation = (ConstraintViolation)iterator.next(); errors.put(violation.getPropertyPath().toString(), violation.getMessage()); } return errors; } } public static Map&lt;String, String&gt; validateList(Collection&lt;?&gt; collection) { Preconditions.checkNotNull(collection); Iterator iterator = collection.iterator(); Map errors; do { if (!iterator.hasNext()) { return Collections.emptyMap(); } Object object = iterator.next(); errors = validate(object, new Class[0]); } while (errors.isEmpty()); return errors; } public static Map&lt;String, String&gt; validateObject(Object first, Object... objects) { if (objects != null &amp;&amp; objects.length &gt; 0) { return validateList(Lists.asList(first, objects)); } else { return validate(first, new Class[0]); } } public static void check(Object param) throws ParamException { Map&lt;String, String&gt; map = BeanValidator.validateObject(param); if (MapUtils.isNotEmpty(map)) { throw new ParamException(map.toString()); } }} &#x589E;&#x52A0;&#x6D4B;&#x8BD5;&#x65B9;&#x6CD5;123456789101112@Controller@RequestMapping(&quot;/test&quot;)public class TestController { @RequestMapping(&quot;/testParam1.json&quot;) @ResponseBody public JsonData testParam( User user) { BeanValidator.check(user); return JsonData.createBySuccess(); }} &#x542F;&#x52A8;&#x5E76;&#x8BBF;&#x95EE; http://localhost:8080/test/testParam1.json?userName=123&amp;status=1&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF1A;12345{ &quot;data&quot;: null, &quot;msg&quot;: &quot;&#x53C2;&#x6570;&#x68C0;&#x9A8C;&#x5F02;&#x5E38;&#xFF0C;&#x5F02;&#x5E38;&#x539F;&#x56E0;&#xFF1A;{status=&#x4E0D;&#x80FD;&#x8F93;&#x5165;1, password=&#x8BF7;&#x8F93;&#x5165;&#x5BC6;&#x7801;, age=&#x5E74;&#x9F84;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;}&quot;, &quot;status&quot;: 500004}","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"}]},{"title":"SSM框架统一异常处理","date":"2018-05-09T02:42:00.000Z","path":"Java/后台/Java/SSM/SSM框架统一异常处理/","text":"&#x5728;&#x4F01;&#x4E1A;&#x7EA7;&#x9879;&#x76EE;&#x4F7F;&#x7528;&#x4E2D;&#x51FA;&#x73B0;&#x5F02;&#x5E38;&#x662F;&#x5F88;&#x6B63;&#x5E38;&#x7684;&#x4E00;&#x4EF6;&#x4E8B;&#x60C5;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x76F4;&#x63A5;&#x5C06;&#x5F02;&#x5E38;&#x4FE1;&#x606F;&#x7ED9;&#x7528;&#x6237;&#x770B;&#x5230;&#x662F;&#x4E00;&#x4EF6;&#x5F88;&#x4E0D;&#x597D;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x800C;&#x4E14;&#x7528;&#x6237;&#x53CD;&#x9988;&#x7684;&#x65F6;&#x5019;&#x4E5F;&#x5F88;&#x6709;&#x53EF;&#x80FD;&#x8BF4;&#x4E0D;&#x6E05;&#x5F02;&#x5E38;&#x95EE;&#x9898;&#xFF0C;&#x6240;&#x4EE5;&#x901A;&#x8FC7;&#x7EDF;&#x4E00;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x5C06;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x5904;&#x7406;&#x6210;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x7684;&#x65B9;&#x5F0F;&#x662F;&#x5F88;&#x6709;&#x5FC5;&#x8981;&#x7684;&#xFF01; &#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x662F;&#x5728;&#x4E0A;&#x4E00;&#x7BC7; &#x5C01;&#x88C5;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;JSON&#x683C;&#x5F0F; &#x7684;&#x57FA;&#x7840;&#x4E0A;&#x589E;&#x52A0;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x4E86;&#x89E3;&#x7684;&#x540C;&#x5B66;&#x53EF;&#x4EE5;&#x5148;&#x53BB;&#x770B;&#x4E0B;&#xFF01; &#x6838;&#x5FC3;&#x4F9D;&#x8D56;12345678910111213141516171819202122232425 &lt;!-- json --&gt;&lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.9.5&lt;/version&gt;&lt;/dependency&gt;&lt;!-- logback &#x65E5;&#x5FD7; --&gt;&lt;dependency&gt; &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; &lt;artifactId&gt;logback-classic&lt;/artifactId&gt; &lt;version&gt;${logback.version}&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt; &lt;version&gt;1.7.25&lt;/version&gt;&lt;/dependency&gt;&lt;!--&#x6CE8;&#x89E3;&#x5DE5;&#x5177;&#x7C7B;--&gt;&lt;dependency&gt; &lt;groupId&gt;org.projectlombok&lt;/groupId&gt; &lt;artifactId&gt;lombok&lt;/artifactId&gt; &lt;version&gt;1.16.20&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt; &#x5728; CodeMsg &#x4E2D;&#x589E;&#x52A0;&#x9519;&#x8BEF;&#x7801;123public static CodeMsg PAGE_ERROR = new CodeMsg(500001,&quot;&#x9875;&#x9762;&#x8BF7;&#x6C42;&#x5F02;&#x5E38;&#xFF0C;&#x5F02;&#x5E38;&#x539F;&#x56E0;&#xFF1A;%s&quot;);public static CodeMsg UNKNOWN_JSON_ERROR = new CodeMsg(500001,&quot;&#x672A;&#x5B9A;&#x4E49;&#x6570;&#x636E;&#x8BF7;&#x6C42;&#x5F02;&#x5E38;&#xFF0C;&#x5F02;&#x5E38;&#x539F;&#x56E0;&#xFF1A;%s&quot;);public static CodeMsg UNKNOWN_ERROR = new CodeMsg(500001,&quot;&#x672A;&#x5B9A;&#x4E49;&#x8BF7;&#x6C42;&#x5F02;&#x5E38;&#xFF0C;&#x5F02;&#x5E38;&#x539F;&#x56E0;&#xFF1A;%s&quot;); &#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x7C7B;12345678910111213141516171819/** * &#x81EA;&#x5B9A;&#x4E49;&#x5168;&#x5C40;&#x5F02;&#x5E38; */public class GlobalException extends RuntimeException { /** * &#x5F02;&#x5E38;&#x4FE1;&#x606F;&#x5BF9;&#x8C61; */ private CodeMsg msg; public GlobalException(CodeMsg msg) { super(msg.toString()); this.msg = msg; } public CodeMsg getMsg() { return msg; }} &#x81EA;&#x5B9A;&#x4E49;&#x5168;&#x5C40;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x5668;12345678910111213141516171819202122232425262728293031/** * &#x81EA;&#x5B9A;&#x4E49;&#x5168;&#x5C40;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x5668; */@Slf4jpublic class GlobalExceptionHandler implements HandlerExceptionResolver { @Override public ModelAndView resolveException(HttpServletRequest request, HttpServletResponse response, Object o, Exception ex) { ModelAndView mv; String url = request.getRequestURL().toString(); if (url.endsWith(&quot;.json&quot;)) {// &#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x8981;&#x6C42;&#x9879;&#x76EE;&#x4E2D;&#x6240;&#x6709;&#x8BF7;&#x6C42;json&#x6570;&#x636E;&#xFF0C;&#x90FD;&#x4F7F;&#x7528;.json&#x7ED3;&#x5C3E; if (ex instanceof GlobalException) { JsonData result = JsonData.createByErrorMessage(((GlobalException) ex).getMsg()); mv = new ModelAndView(&quot;jsonView&quot;, result.toMap()); } else { // &#x5173;&#x952E;&#x4F4D;&#x7F6E;&#x9700;&#x8981;&#x505A;&#x597D;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x529F;&#x80FD;&#xFF0C;&#x65B9;&#x4FBF;&#x9879;&#x76EE;&#x4E0A;&#x7EBF;&#x540E;&#x8FFD;&#x6EAF; log.error(&quot;&#x672A;&#x5B9A;&#x4E49; json &#x8BF7;&#x6C42;&#x683C;&#x5F0F;&#x5F02;&#x5E38;, url:&quot; + url, ex); JsonData result = JsonData.createByErrorMessage(CodeMsg.UNKNOWN_JSON_ERROR.fillArgs(ex)); mv = new ModelAndView(&quot;jsonView&quot;, result.toMap()); } } else if (url.endsWith(&quot;.page&quot;)) { // &#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x8981;&#x6C42;&#x9879;&#x76EE;&#x4E2D;&#x6240;&#x6709;&#x8BF7;&#x6C42;page&#x9875;&#x9762;&#xFF0C;&#x90FD;&#x4F7F;&#x7528;.page&#x7ED3;&#x5C3E; log.error(&quot;&#x672A;&#x5B9A;&#x4E49; page &#x8BF7;&#x6C42;&#x683C;&#x5F0F;&#x5F02;&#x5E38;, url:&quot; + url, ex); JsonData result = JsonData.createByErrorMessage(CodeMsg.PAGE_ERROR.fillArgs(ex)); mv = new ModelAndView(&quot;exception&quot;, result.toMap()); } else { log.error(&quot;&#x672A;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;, url:&quot; + url, ex); JsonData result = JsonData.createByErrorMessage(CodeMsg.UNKNOWN_ERROR.fillArgs(ex)); mv = new ModelAndView(&quot;jsonView&quot;, result.toMap()); } return mv; }} &#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5C31;&#x9700;&#x8981;&#x5728; springmvc.xml &#x6587;&#x4EF6;&#x4E2D;&#x914D;&#x7F6E;&#x4E0B;&#x5168;&#x5C40;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x5668;&#x548C;&#x89C6;&#x56FE;&#x89E3;&#x6790;&#x5668; springmvc.xml&#x5B8C;&#x6574;&#x914D;&#x7F6E;&#x5982;&#x4E0B;&#xFF1A;1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc-3.2.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.2.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd&quot;&gt; &lt;!-- &#x914D;&#x7F6E;Controller --&gt; &lt;context:component-scan base-package=&quot;com.marklogzhu.ssm.controller&quot;/&gt; &lt;!--&#x5F00;&#x542F;&#x6CE8;&#x89E3;&#x529F;&#x80FD;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x8BBE;&#x7F6E;&#x4E5F;&#x4F1A;&#x6DFB;&#x52A0;&#x9ED8;&#x8BA4;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;&#xFF0C;&#x4F46;&#x662F;&#x8BE5;&#x5B9E;&#x73B0;&#x7C7B;&#x5DF2;&#x8FC7;&#x65F6; --&gt; &lt;mvc:annotation-driven/&gt; &lt;!--&#x914D;&#x7F6E;&#x89C6;&#x56FE;&#x89E3;&#x6790;&#x5668;,&#x4F7F;&#x7528;&#x89C6;&#x56FE;&#x540D;&#x79F0;&#x6765;&#x89E3;&#x6790;&#x89C6;&#x56FE;--&gt; &lt;bean class=&quot;org.springframework.web.servlet.view.BeanNameViewResolver&quot; /&gt; &lt;!--Json&#x89E3;&#x6790;&#x89C6;&#x56FE;--&gt; &lt;bean id=&quot;jsonView&quot; class=&quot;org.springframework.web.servlet.view.json.MappingJackson2JsonView&quot;/&gt; &lt;!-- &#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x5168;&#x5C40;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x5668; &#x53EA;&#x8981;&#x5B9E;&#x73B0;HandlerExceptionResolver&#x63A5;&#x53E3;&#x5C31;&#x662F;&#x5168;&#x5C40;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x5668;--&gt; &lt;bean class=&quot;com.marklogzhu.ssm.common.GlobalExceptionHandler&quot;/&gt; &lt;!--&#x672C;&#x793A;&#x4F8B;&#x4F7F;&#x7528; thymeleaf &#xFF0C;&#x4F7F;&#x7528;&#x5176;&#x4ED6;&#x6A21;&#x677F;&#x5F15;&#x64CE;&#x4E5F;&#x4E0D;&#x5F71;&#x54CD;&#x4F7F;&#x7528;--&gt; &lt;!-- &#x4F7F;&#x7528;thymeleaf&#x89E3;&#x6790; --&gt; &lt;bean id=&quot;templateResolver&quot; class=&quot;org.thymeleaf.spring4.templateresolver.SpringResourceTemplateResolver&quot;&gt; &lt;property name=&quot;prefix&quot; value=&quot;/templates/&quot; /&gt; &lt;property name=&quot;suffix&quot; value=&quot;.html&quot; /&gt; &lt;property name=&quot;templateMode&quot; value=&quot;HTML&quot; /&gt; &lt;property name=&quot;cacheable&quot; value=&quot;false&quot; /&gt; &lt;property name=&quot;characterEncoding&quot; value=&quot;UTF-8&quot;/&gt;&lt;!--&#x4E0D;&#x52A0;&#x4F1A;&#x4E71;&#x7801;--&gt; &lt;/bean&gt; &lt;bean id=&quot;templateEngine&quot; class=&quot;org.thymeleaf.spring4.SpringTemplateEngine&quot;&gt; &lt;property name=&quot;templateResolver&quot; ref=&quot;templateResolver&quot; /&gt; &lt;/bean&gt; &lt;bean class=&quot;org.thymeleaf.spring4.view.ThymeleafViewResolver&quot;&gt; &lt;property name=&quot;templateEngine&quot; ref=&quot;templateEngine&quot; /&gt; &lt;!--&#x89E3;&#x51B3;&#x4E2D;&#x6587;&#x4E71;&#x7801;--&gt; &lt;property name=&quot;characterEncoding&quot; value=&quot;UTF-8&quot;/&gt; &lt;/bean&gt; &lt;!--&#x5BF9;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#x7684;&#x8BBF;&#x95EE;--&gt; &lt;mvc:resources mapping=&quot;/static/**&quot; location=&quot;/static/&quot; /&gt; &lt;mvc:resources mapping=&quot;/templates/**&quot; location=&quot;/templates/&quot; /&gt;&lt;/beans&gt; &#x6838;&#x5FC3;&#x914D;&#x7F6E;: 123456&lt;!--&#x914D;&#x7F6E;&#x89C6;&#x56FE;&#x89E3;&#x6790;&#x5668;,&#x4F7F;&#x7528;&#x89C6;&#x56FE;&#x540D;&#x79F0;&#x6765;&#x89E3;&#x6790;&#x89C6;&#x56FE;--&gt;&lt;bean class=&quot;org.springframework.web.servlet.view.BeanNameViewResolver&quot; /&gt;&lt;!--Json&#x89E3;&#x6790;&#x89C6;&#x56FE;--&gt;&lt;bean id=&quot;jsonView&quot; class=&quot;org.springframework.web.servlet.view.json.MappingJackson2JsonView&quot;/&gt;&lt;!-- &#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x5168;&#x5C40;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x5668; &#x53EA;&#x8981;&#x5B9E;&#x73B0;HandlerExceptionResolver&#x63A5;&#x53E3;&#x5C31;&#x662F;&#x5168;&#x5C40;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x5668;--&gt;&lt;bean class=&quot;com.marklogzhu.ssm.common.GlobalExceptionHandler&quot;/&gt; bean &#x52A0;&#x8F7D;&#x987A;&#x5E8F;bena &#x7684;&#x987A;&#x5E8F;&#x5BF9;&#x914D;&#x7F6E;&#x6709;&#x5F71;&#x54CD;&#xFF0C;&#x5982;&#x679C; thymeleaf &#x914D;&#x7F6E;&#x5728; BeanNameViewResolver &#x4E0A;&#x9762;&#x7684;&#x8BDD;&#xFF0C;&#x5C06;&#x51FA;&#x73B0;&#x5982;&#x4E0B;&#x9519;&#x8BEF;: 123456789101112Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;ServletContext resource [/templates/jsonView.html]&quot;)``` &#x89E3;&#x51B3;&#x529E;&#x6CD5;&#xFF1A;1.&#x5C06; `BeanNameViewResolver` &#x914D;&#x7F6E;&#x5728; `thymeleaf` &#x4E0A;&#x9762;2.&#x8BBE;&#x7F6E; `BeanNameViewResolver` &#x7684; `order` &#x5C5E;&#x6027;&#xFF0C;&#x5176;&#x503C;&#x8D8A;&#x5C0F;&#xFF0C;&#x4F18;&#x5148;&#x7EA7;&#x8D8A;&#x9AD8;``` xml&lt;bean class=&quot;org.springframework.web.servlet.view.BeanNameViewResolver&quot; &gt; &lt;property name=&quot;order&quot; value=&quot;10&quot; /&gt;&lt;/bean&gt; &#x589E;&#x52A0; exception.html &#x7528;&#x4EE5;&#x8BF7;&#x6C42;&#x9875;&#x9762;&#x9519;&#x8BEF;&#x65F6;&#x5C55;&#x793A;&#x9519;&#x8BEF;&#x4FE1;&#x606F;12345678910&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;&#x5F02;&#x5E38;&#x4FE1;&#x606F;&#x9875;&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &#x5F02;&#x5E38;&#x4FE1;&#x606F;&#xFF1A;&lt;h3 th:text=&quot;${msg}&quot;&gt;&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt; &#x6D4B;&#x8BD5;12345678910111213141516171819202122232425262728@Controller@RequestMapping(&quot;/test&quot;)public class TestController { @RequestMapping(&quot;/exception&quot;) @ResponseBody public JsonData&lt;String&gt; testException(){ int s = 5/0; return JsonData.createBySuccess(); } @RequestMapping(&quot;/exception.json&quot;) @ResponseBody public JsonData&lt;String&gt; testExceptionJson(){ int s = 5/0; return JsonData.createBySuccess(); } @RequestMapping(&quot;/globalException.json&quot;) @ResponseBody public JsonData&lt;String&gt; testGlobalExceptionJson() throws GlobalException { throw new GlobalException(CodeMsg.ACCESS_LIMIT_REACHED); } @RequestMapping(&quot;/exception.page&quot;) @ResponseBody public JsonData&lt;String&gt; testExceptionPage(){ int s = 5/0; return JsonData.createBySuccess(); }} &#x8BBF;&#x95EE; http://localhost:8080/test/exception &#x8BBF;&#x95EE; http://localhost:8080/test/exception.json &#x8BBF;&#x95EE; http://localhost:8080/test/exception.page &#x8BBF;&#x95EE; http://localhost:8080/test/globalException.json","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"}]},{"title":"封装返回结果JSON格式","date":"2018-05-08T06:40:00.000Z","path":"Java/后台/Java/SSM/封装返回结果JSON格式/","text":"&#x76EE;&#x524D;&#x4F01;&#x4E1A;&#x7EA7;&#x9879;&#x76EE;&#x524D;&#x540E;&#x7AEF;&#x5206;&#x79BB;&#x5927;&#x884C;&#x5176;&#x9053;&#xFF0C;&#x8D8A;&#x6765;&#x8D8A;&#x9700;&#x8981;&#x63A5;&#x53E3;&#x5316;&#x5F00;&#x53D1;&#xFF0C;&#x800C;&#x76F8;&#x6BD4;&#x4E8E; XML &#x683C;&#x5F0F;&#xFF0C; JSON &#x683C;&#x5F0F; &#x4EE5;&#x5176;&#x8F7B;&#x91CF;&#x7EA7;&#x548C;&#x6548;&#x7387;(&#x67E5;&#x627E;&#x3001;&#x89E3;&#x6790;)&#x80DC;&#x51FA;&#xFF0C;&#x4ECA;&#x5929;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x505A;&#x4E00;&#x4E2A;&#x5C06;&#x7ED3;&#x679C;&#x5C01;&#x88C5;&#x6210; JOSN &#x683C;&#x5F0F;&#x7684;&#x5B9E;&#x73B0;&#x3002; &#x6838;&#x5FC3;&#x4F9D;&#x8D56;123456789101112&lt;!--spring mvc &#x5E95;&#x5C42;&#x81EA;&#x52A8;&#x4F9D;&#x8D56; spring-core&#x3001;spring-context&#x3001;spring-aop&#x3001;spring-web &#x6240;&#x4EE5;&#x4E0D;&#x9700;&#x8981;&#x5728;&#x5BFC;&#x5165;&#x4E86; --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;${org.springframework.spring.version}&lt;/version&gt;&lt;/dependency&gt;&lt;!-- json --&gt;&lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.9.5&lt;/version&gt;&lt;/dependency&gt; &#x8FD4;&#x56DE;&#x6D88;&#x606F;&#x7EDF;&#x4E00;&#x5B9A;&#x4E49;&#x5BF9;&#x8C61;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x5C06;&#x5C01;&#x88C5;&#x6240;&#x6709;&#x7684;&#x8FD4;&#x56DE;&#x6D88;&#x606F;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x56FD;&#x9645;&#x5316;&#x8BED;&#x8A00;&#x8981;&#x6C42;&#x7684;&#x8BDD;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728;&#x8FD9;&#x91CC;&#x5904;&#x7406;&#xFF01; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051public class CodeMsg { private int code; private String msg; // &#x901A;&#x7528;&#x7684;&#x9519;&#x8BEF;&#x7801; public static CodeMsg SUCCESS = new CodeMsg(0, &quot;success&quot;); public static CodeMsg SERVER_ERROR = new CodeMsg(500100, &quot;&#x670D;&#x52A1;&#x7AEF;&#x5F02;&#x5E38;&quot;); public static CodeMsg BIND_ERROR = new CodeMsg(500101, &quot;&#x53C2;&#x6570;&#x6821;&#x9A8C;&#x5F02;&#x5E38;&#xFF1A;%s&quot;); public static CodeMsg REQUEST_ILLEGAL = new CodeMsg(500102, &quot;&#x8BF7;&#x6C42;&#x975E;&#x6CD5;&quot;); public static CodeMsg ACCESS_LIMIT_REACHED= new CodeMsg(500104, &quot;&#x8BBF;&#x95EE;&#x592A;&#x9891;&#x7E41;&#xFF01;&quot;); //&#x767B;&#x5F55;&#x6A21;&#x5757; 5002XX public static CodeMsg SESSION_ERROR = new CodeMsg(500210, &quot;Session&#x4E0D;&#x5B58;&#x5728;&#x6216;&#x8005;&#x5DF2;&#x7ECF;&#x5931;&#x6548;&quot;); public static CodeMsg PASSWORD_EMPTY = new CodeMsg(500211, &quot;&#x767B;&#x5F55;&#x5BC6;&#x7801;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;&quot;); public static CodeMsg MOBILE_EMPTY = new CodeMsg(500212, &quot;&#x624B;&#x673A;&#x53F7;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;&quot;); public static CodeMsg MOBILE_ERROR = new CodeMsg(500213, &quot;&#x624B;&#x673A;&#x53F7;&#x683C;&#x5F0F;&#x9519;&#x8BEF;&quot;); public static CodeMsg MOBILE_NOT_EXIST = new CodeMsg(500214, &quot;&#x624B;&#x673A;&#x53F7;&#x4E0D;&#x5B58;&#x5728;&quot;); public static CodeMsg PASSWORD_ERROR = new CodeMsg(500215, &quot;&#x5BC6;&#x7801;&#x9519;&#x8BEF;&quot;); public static CodeMsg SUCCESS_LOGIN = new CodeMsg(0,&quot;&#x767B;&#x5F55;&#x6210;&#x529F;&quot;); // &#x5176;&#x4ED6;&#x6A21;&#x677F;&#x81EA;&#x5B9A;&#x4E49; private CodeMsg( int code,String msg ) { this.code = code; this.msg = msg; } public int getCode() { return code; } public void setCode(int code) { this.code = code; } public String getMsg() { return msg; } public void setMsg(String msg) { this.msg = msg; } public CodeMsg fillArgs(Object... args) { int code = this.code; String message = String.format(this.msg, args); return new CodeMsg(code, message); } @Override public String toString() { return &quot;CodeMsg [code=&quot; + code + &quot;, msg=&quot; + msg + &quot;]&quot;; }} &#x7ED3;&#x679C;&#x5C01;&#x88C5;&#x5BF9;&#x8C61;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384/** * &#x901A;&#x7528; JSON &#x683C;&#x5F0F;&#x8FD4;&#x56DE;&#x7ED3;&#x679C; * * @param &lt;T&gt; */public class JsonData&lt;T&gt; { private int status; private String msg; private T data; public static JsonData createBySuccess() { return new JsonData(CodeMsg.SUCCESS.getCode()); } public static &lt;T&gt; JsonData&lt;T&gt; createBySuccessMessage(CodeMsg msg) { return new JsonData&lt;T&gt;(msg.getCode(), msg.getMsg()); } public static &lt;T&gt; JsonData createBySuccess(T data) { return new JsonData(CodeMsg.SUCCESS.getCode(), data); } public static &lt;T&gt; JsonData&lt;T&gt; createBySuccess(CodeMsg msg, T data) { return new JsonData&lt;T&gt;(msg.getCode(), msg.getMsg(), data); } public static JsonData createByError() { return new JsonData(CodeMsg.SERVER_ERROR.getCode(), CodeMsg.SERVER_ERROR.getMsg()); } public static &lt;T&gt; JsonData&lt;T&gt; createByErrorMessage(CodeMsg msg) { return new JsonData&lt;T&gt;(msg.getCode(), msg.getMsg()); } private JsonData(int status) { this.status = status; } private JsonData(int status, String msg) { this.status = status; this.msg = msg; } private JsonData(int status, T data) { this.status = status; this.data = data; } private JsonData(int status, String msg, T data) { this.status = status; this.msg = msg; this.data = data; } public int getStatus() { return status; } public void setStatus(int status) { this.status = status; } public String getMsg() { return msg; } public void setMsg(String msg) { this.msg = msg; } public T getData() { return data; } public void setData(T data) { this.data = data; }} &#x6CE8;&#xFF1A;&#x4E00;&#x5B9A;&#x8981;&#x6709; get/set &#x65B9;&#x6CD5;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x62A5; 406&#x9519;&#x8BEF;&#xFF0C;&#x5982;&#x679C; jackson &#x7248;&#x672C;&#x6BD4;&#x8F83;&#x4F4E;&#x4F1A;&#x62A5; &#x6CA1;&#x6709;&#x8F6C;&#x6362;&#x5668;&#x9519;&#x8BEF; &#x6D4B;&#x8BD5;&#x6211;&#x4EEC;&#x6765;&#x6D4B;&#x8BD5;&#x4E0B;&#x662F;&#x5426;&#x80FD;&#x6B63;&#x5E38;&#x663E;&#x793A; 123456789101112131415161718192021222324252627282930313233343536373839@Controller@RequestMapping(&quot;/test&quot;)public class TestController { @RequestMapping(&quot;/createBySuccess&quot;) @ResponseBody public JsonData&lt;String&gt; testCreateBySuccess(){ return JsonData.createBySuccess(); } @RequestMapping(&quot;/createBySuccessMessage&quot;) @ResponseBody public JsonData&lt;String&gt; testCreateBySuccessMessage(){ return JsonData.createBySuccessMessage(CodeMsg.SUCCESS_LOGIN); } @RequestMapping(&quot;/createBySuccess2&quot;) @ResponseBody public JsonData&lt;String&gt; testCreateBySuccess2(){ return JsonData.createBySuccess(&quot;&#x64CD;&#x4F5C;&#x6210;&#x529F;&quot;); } @RequestMapping(&quot;/createBySuccess3&quot;) @ResponseBody public JsonData&lt;String&gt; testCreateBySuccess3(){ return JsonData.createBySuccess(CodeMsg.SUCCESS_LOGIN,&quot;&#x64CD;&#x4F5C;&#x6210;&#x529F;&quot;); } @RequestMapping(&quot;/createByError&quot;) @ResponseBody public JsonData&lt;String&gt; testCreateByError(){ return JsonData.createByError(); } @RequestMapping(&quot;/createByErrorMessage&quot;) @ResponseBody public JsonData&lt;String&gt; testCreateByErrorMessage(){ return JsonData.createByErrorMessage(CodeMsg.SERVER_ERROR); }} &#x8BBF;&#x95EE; http://localhost:8080/test/createBySuccess &#x8BBF;&#x95EE; http://localhost:8080/test/createBySuccessMessage &#x8BBF;&#x95EE; http://localhost:8080/test/createBySuccess2 &#x8BBF;&#x95EE; http://localhost:8080/test/createBySuccess3 &#x8BBF;&#x95EE; http://localhost:8080/test/createByError &#x8BBF;&#x95EE; http://localhost:8080/test/createByErrorMessage","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"SSM","slug":"SSM","permalink":"https://marklogzhu.github.io/tags/SSM/"}]},{"title":"Quartz实战入门(四)--Scheduler","date":"2018-05-04T07:42:00.000Z","path":"Quartz/Quartz实战/Quartz实战入门(四)--Scheduler/","text":"SchedulerScheduler &#x5C31;&#x662F; Quartz &#x7684;&#x5927;&#x8111;&#xFF0C;&#x6240;&#x6709;&#x4EFB;&#x52A1;&#x90FD;&#x662F;&#x7531;&#x5B83;&#x6765;&#x8BBE;&#x65BD;&#x3002; Schduelr &#x5305;&#x542B;&#x4E00;&#x4E2A;&#x4E24;&#x4E2A;&#x91CD;&#x8981;&#x7EC4;&#x4EF6;: JobStore &#x548C; ThreadPool&#x3002; JobStore&#x662F;&#x4F1A;&#x6765;&#x5B58;&#x50A8;&#x8FD0;&#x884C;&#x65F6;&#x4FE1;&#x606F;&#x7684;&#xFF0C;&#x5305;&#x62EC;Trigger,Schduler,JobDetail&#xFF0C;&#x4E1A;&#x52A1;&#x9501;&#x7B49;&#x3002;&#x5B83;&#x6709;&#x591A;&#x79CD;&#x5B9E;&#x73B0;RAMJob(&#x5185;&#x5B58;&#x5B9E;&#x73B0;)&#xFF0C;JobStoreTX(JDBC&#xFF0C;&#x4E8B;&#x52A1;&#x7531;Quartz&#x7BA1;&#x7406;&#xFF09;&#xFF0C;JobStoreCMT(JDBC&#xFF0C;&#x4F7F;&#x7528;&#x5BB9;&#x5668;&#x4E8B;&#x52A1;)&#xFF0C;ClusteredJobStore(&#x96C6;&#x7FA4;&#x5B9E;&#x73B0;)&#x3001;TerracottaJobStore(&#x4EC0;&#x4E48;&#x662F;Terractta)&#x3002; ThreadPool&#x5C31;&#x662F;&#x7EBF;&#x7A0B;&#x6C60;&#xFF0C;Quartz&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x7EBF;&#x7A0B;&#x6C60;&#x5B9E;&#x73B0;&#x3002;&#x6240;&#x6709;&#x4EFB;&#x52A1;&#x7684;&#x90FD;&#x4F1A;&#x7531;&#x7EBF;&#x7A0B;&#x6C60;&#x6267;&#x884C;&#x3002; SchedulerFactorySchdulerFactory&#xFF0C;&#x987E;&#x540D;&#x601D;&#x4E49;&#x5C31;&#x662F;&#x6765;&#x7528;&#x521B;&#x5EFA; Schduler &#x4E86;&#xFF0C;&#x6709;&#x4E24;&#x4E2A;&#x5B9E;&#x73B0;&#xFF1A;DirectSchedulerFactory&#x548C; StdSchdulerFactory&#x3002;&#x524D;&#x8005;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x5728;&#x4EE3;&#x7801;&#x91CC;&#x5B9A;&#x5236;&#x4F60;&#x81EA;&#x5DF1;&#x7684; Schduler &#x53C2;&#x6570;&#x3002;&#x540E;&#x8005;&#x662F;&#x76F4;&#x63A5;&#x8BFB;&#x53D6; classpath &#x4E0B;&#x7684; quartz.properties &#xFF08;&#x4E0D;&#x5B58;&#x5728;&#x5C31;&#x90FD;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x503C;&#xFF09;&#x914D;&#x7F6E;&#x6765;&#x5B9E;&#x4F8B;&#x5316; Schduler &#x3002;&#x901A;&#x5E38;&#x6765;&#x8BB2;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528; StdSchdulerFactory &#x4E5F;&#x5C31;&#x8DB3;&#x591F;&#x4E86;&#x3002; SchdulerFactory &#x672C;&#x8EAB;&#x662F;&#x652F;&#x6301;&#x521B;&#x5EFA;RMI stub&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x7BA1;&#x7406;&#x8FDC;&#x7A0B;&#x7684; Scheduler&#xFF0C;&#x529F;&#x80FD;&#x4E0E;&#x672C;&#x5730;&#x4E00;&#x6837;&#xFF0C;&#x53EF;&#x4EE5;&#x8FDC;&#x7A0B;&#x63D0;&#x4EA4;&#x4E2A; Job &#x4EC0;&#x4E48;&#x7684;&#x3002; DirectSchedulerFactory &#x7684;&#x521B;&#x5EFA;&#x63A5;&#x53E3; 123456789101112131415161718192021/** * Same as * {@link DirectSchedulerFactory#createScheduler(ThreadPool threadPool, JobStore jobStore)}, * with the addition of specifying the scheduler name and instance ID. This * scheduler can only be retrieved via * {@link DirectSchedulerFactory#getScheduler(String)} * * @param schedulerName * The name for the scheduler. * @param schedulerInstanceId * The instance ID for the scheduler. * @param threadPool * The thread pool for executing jobs * @param jobStore * The type of job store * @throws SchedulerException * if initialization failed */public void createScheduler(String schedulerName, String schedulerInstanceId, ThreadPool threadPool, JobStore jobStore) throws SchedulerException; StdSchdulerFactory &#x7684;&#x914D;&#x7F6E;&#x4F8B;&#x5B50;&#xFF0C; &#x66F4;&#x591A;&#x914D;&#x7F6E;&#xFF0C;&#x53C2;&#x8003; Quartz&#x914D;&#x7F6E;&#x6307;&#x5357;&#xFF1A; 123456org.quartz.scheduler.instanceName = DefaultQuartzSchedulerorg.quartz.threadPool.class = org.quartz.simpl.SimpleThreadPoolorg.quartz.threadPool.threadCount = 10 org.quartz.threadPool.threadPriority = 5org.quartz.threadPool.threadsInheritContextClassLoaderOfInitializingThread = trueorg.quartz.jobStore.class = org.quartz.simpl.RAMJobStore","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"Quartz","slug":"Quartz","permalink":"https://marklogzhu.github.io/tags/Quartz/"}]},{"title":"Quartz实战入门(三)--JobDetail & Job","date":"2018-05-04T06:42:00.000Z","path":"Quartz/Quartz实战/Quartz实战入门(三)--JobDetailANDJob/","text":"jobDetailjobDetail &#x662F;&#x4EFB;&#x52A1;&#x7684;&#x5B9A;&#x4E49;&#xFF0C;&#x800C; Job &#x662F;&#x4EFB;&#x52A1;&#x7684;&#x6267;&#x884C;&#x903B;&#x8F91;&#x3002;&#x5728; JobDetail&#x91CC;&#x4F1A;&#x5F15;&#x7528;&#x4E00;&#x4E2A; Job Class&#x5B9A;&#x4E49;&#x3002;&#x4E00;&#x4E2A;&#x6700;&#x7B80;&#x5355;&#x7684;&#x4F8B;&#x5B50; 12345678910111213141516171819202122232425262728293031323334353637public class JobTest { public static void main(String[] args) throws SchedulerException, IOException { JobDetail job=newJob() .ofType(DoNothingJob.class) //&#x5F15;&#x7528;Job Class .withIdentity(&quot;job1&quot;, &quot;group1&quot;) //&#x8BBE;&#x7F6E;name/group .withDescription(&quot;this is a test job&quot;) //&#x8BBE;&#x7F6E;&#x63CF;&#x8FF0; .usingJobData(&quot;age&quot;, 18) //&#x52A0;&#x5165;&#x5C5E;&#x6027;&#x5230;ageJobDataMap .build(); job.getJobDataMap().put(&quot;name&quot;, &quot;quertz&quot;); //&#x52A0;&#x5165;&#x5C5E;&#x6027;name&#x5230;JobDataMap //&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x6BCF;&#x79D2;&#x6267;&#x884C;&#x4E00;&#x6B21;&#x7684;SimpleTrigger Trigger trigger=newTrigger() .startNow() .withIdentity(&quot;trigger1&quot;) .withSchedule(simpleSchedule() .withIntervalInSeconds(1) .repeatForever()) .build(); Scheduler sche=StdSchedulerFactory.getDefaultScheduler(); sche.scheduleJob(job, trigger); sche.start(); System.in.read(); sche.shutdown(); }}public class DoNothingJob implements Job { public void execute(JobExecutionContext context) throws JobExecutionException { System.out.println(&quot;do nothing&quot;); }} &#x4ECE;&#x4E0A;&#x4F8B;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x8981;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#xFF0C;&#x9700;&#x8981;&#x5E72;&#x51E0;&#x4EF6;&#x4E8B;&#xFF1A; &#x521B;&#x5EFA;&#x4E00;&#x4E2A; org.quartz.Job &#x7684;&#x5B9E;&#x73B0;&#x7C7B;&#xFF0C;&#x5E76;&#x5B9E;&#x73B0;&#x5B9E;&#x73B0;&#x81EA;&#x5DF1;&#x7684;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x3002;&#x6BD4;&#x5982;&#x4E0A;&#x9762;&#x7684; DoNothingJob&#x3002; &#x5B9A;&#x4E49;&#x4E00;&#x4E2A; JobDetail&#xFF0C;&#x5F15;&#x7528;&#x8FD9;&#x4E2A;&#x5B9E;&#x73B0;&#x7C7B; &#x52A0;&#x5165; scheduleJob Quartz&#x8C03;&#x5EA6;&#x4E00;&#x6B21;&#x4EFB;&#x52A1;&#xFF0C;&#x4F1A;&#x5E72;&#x5982;&#x4E0B;&#x7684;&#x4E8B;&#xFF1A; JobClass jobClass=JobDetail.getJobClass() Job jobInstance=jobClass.newInstance()&#x3002;&#x6240;&#x4EE5;Job&#x5B9E;&#x73B0;&#x7C7B;&#xFF0C;&#x5FC5;&#x987B;&#x6709;&#x4E00;&#x4E2A;public&#x7684;&#x65E0;&#x53C2;&#x6784;&#x5EFA;&#x65B9;&#x6CD5;&#x3002; jobInstance.execute(JobExecutionContext context)&#x3002;JobExecutionContext&#x662F;Job&#x8FD0;&#x884C;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#xFF0C;&#x53EF;&#x4EE5;&#x83B7;&#x5F97;Trigger&#x3001;Scheduler&#x3001;JobDetail&#x7684;&#x4FE1;&#x606F;&#x3002; &#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x6BCF;&#x6B21;&#x8C03;&#x5EA6;&#x90FD;&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684; Job &#x5B9E;&#x4F8B;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x597D;&#x5904;&#x662F;&#x6709;&#x4E9B;&#x4EFB;&#x52A1;&#x5E76;&#x53D1;&#x6267;&#x884C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4E0D;&#x5B58;&#x5728;&#x5BF9;&#x4E34;&#x754C;&#x8D44;&#x6E90;&#x7684;&#x8BBF;&#x95EE;&#x95EE;&#x9898;&#x2014;&#x2014;&#x5F53;&#x7136;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x5171;&#x4EAB; JobDataMap &#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8FD8;&#x662F;&#x5B58;&#x5728;&#x4E34;&#x754C;&#x8D44;&#x6E90;&#x7684;&#x5E76;&#x53D1;&#x8BBF;&#x95EE;&#x7684;&#x95EE;&#x9898;&#x3002; JobDataMapJob &#x90FD;&#x6B21;&#x90FD;&#x662F; newInstance &#x7684;&#x5B9E;&#x4F8B;&#xFF0C;&#x90A3;&#x6211;&#x600E;&#x4E48;&#x4F20;&#x503C;&#x7ED9;&#x5B83;&#xFF1F; &#x6BD4;&#x5982;&#x6211;&#x73B0;&#x5728;&#x6709;&#x4E24;&#x4E2A;&#x53D1;&#x9001;&#x90AE;&#x4EF6;&#x7684;&#x4EFB;&#x52A1;&#xFF0C;&#x4E00;&#x4E2A;&#x662F;&#x53D1;&#x7ED9; &#x201C;liLei&#x201D; ,&#x4E00;&#x4E2A;&#x53D1;&#x7ED9; &#x201C;hanmeimei&#x201D; ,&#x4E0D;&#x80FD;&#x8BF4;&#x6211;&#x8981;&#x5199;&#x4E24;&#x4E2A; Job &#x5B9E;&#x73B0;&#x7C7B; LiLeiSendEmailJob &#x548C; HanMeiMeiSendEmailJob&#x3002;&#x5B9E;&#x73B0;&#x7684;&#x529E;&#x6CD5;&#x662F;&#x901A;&#x8FC7; JobDataMap&#x3002; &#x6BCF;&#x4E00;&#x4E2A; JobDetail &#x90FD;&#x4F1A;&#x6709;&#x4E00;&#x4E2A; JobDataMap &#x3002;JobDataMap &#x672C;&#x8D28;&#x5C31;&#x662F;&#x4E00;&#x4E2A; Map &#x7684;&#x6269;&#x5C55;&#x7C7B;&#xFF0C;&#x53EA;&#x662F;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E9B;&#x66F4;&#x4FBF;&#x6377;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x6BD4;&#x5982; getString() &#x4E4B;&#x7C7B;&#x7684;&#x3002; &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x5B9A;&#x4E49; JobDetail&#xFF0C;&#x52A0;&#x5165;&#x5C5E;&#x6027;&#x503C;&#xFF0C;&#x65B9;&#x5F0F;&#x6709;&#x4E8C;&#xFF1A; 12345// &#x65B9;&#x6CD5;&#x4E00;newJob().usingJobData(&quot;age&quot;, 18) //&#x52A0;&#x5165;&#x5C5E;&#x6027;&#x5230;ageJobDataMap // &#x65B9;&#x6CD5;&#x4E8C; job.getJobDataMap().put(&quot;name&quot;, &quot;quertz&quot;); //&#x52A0;&#x5165;&#x5C5E;&#x6027;name&#x5230;JobDataMap &#x7136;&#x540E;&#x5728;Job&#x4E2D;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x8FD9;&#x4E2A;JobDataMap&#x7684;&#x503C;&#xFF0C;&#x65B9;&#x5F0F;&#x540C;&#x6837;&#x6709;&#x4E8C;&#xFF1A; 123456789101112131415public class HelloQuartz implements Job { private String name; public void execute(JobExecutionContext context) throws JobExecutionException { JobDetail detail = context.getJobDetail(); JobDataMap map = detail.getJobDataMap(); //&#x65B9;&#x6CD5;&#x4E00;&#xFF1A;&#x83B7;&#x5F97;JobDataMap System.out.println(&quot;say hello to &quot; + name + &quot;[&quot; + map.getInt(&quot;age&quot;) + &quot;]&quot; + &quot; at &quot; + new Date()); } //&#x65B9;&#x6CD5;&#x4E8C;&#xFF1A;&#x5C5E;&#x6027;&#x7684;setter&#x65B9;&#x6CD5;&#xFF0C;&#x4F1A;&#x5C06;JobDataMap&#x7684;&#x5C5E;&#x6027;&#x81EA;&#x52A8;&#x6CE8;&#x5165; public void setName(String name) { this.name = name; }} &#x5BF9;&#x4E8E;&#x540C;&#x4E00;&#x4E2A;JobDetail&#x5B9E;&#x4F8B;&#xFF0C;&#x6267;&#x884C;&#x7684;&#x591A;&#x4E2A;Job&#x5B9E;&#x4F8B;&#xFF0C;&#x662F;&#x5171;&#x4EAB;&#x540C;&#x6837;&#x7684;JobDataMap&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x5728;&#x4EFB;&#x52A1;&#x91CC;&#x4FEE;&#x6539;&#x4E86;&#x91CC;&#x9762;&#x7684;&#x503C;&#xFF0C;&#x4F1A;&#x5BF9;&#x5176;&#x4ED6;Job&#x5B9E;&#x4F8B;&#xFF08;&#x5E76;&#x53D1;&#x7684;&#x6216;&#x8005;&#x540E;&#x7EED;&#x7684;&#xFF09;&#x9020;&#x6210;&#x5F71;&#x54CD;&#x3002; &#x9664;&#x4E86;JobDetail&#xFF0C;Trigger&#x540C;&#x6837;&#x6709;&#x4E00;&#x4E2A;JobDataMap&#xFF0C;&#x5171;&#x4EAB;&#x8303;&#x56F4;&#x662F;&#x6240;&#x6709;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;Trigger&#x7684;Job&#x5B9E;&#x4F8B;&#x3002; Job&#x5E76;&#x53D1;Job&#x662F;&#x6709;&#x53EF;&#x80FD;&#x5E76;&#x53D1;&#x6267;&#x884C;&#x7684;&#xFF0C;&#x6BD4;&#x5982;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x8981;&#x6267;&#x884C;10&#x79D2;&#x4E2D;&#xFF0C;&#x800C;&#x8C03;&#x5EA6;&#x7B97;&#x6CD5;&#x662F;&#x6BCF;&#x79D2;&#x4E2D;&#x89E6;&#x53D1;1&#x6B21;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x6709;&#x53EF;&#x80FD;&#x591A;&#x4E2A;&#x4EFB;&#x52A1;&#x88AB;&#x5E76;&#x53D1;&#x6267;&#x884C;&#x3002; &#x6709;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x5E76;&#x4E0D;&#x60F3;&#x4EFB;&#x52A1;&#x5E76;&#x53D1;&#x6267;&#x884C;&#xFF0C;&#x6BD4;&#x5982;&#x8FD9;&#x4E2A;&#x4EFB;&#x52A1;&#x8981;&#x53BB;&#x201D;&#x83B7;&#x5F97;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x6240;&#x6709;&#x672A;&#x53D1;&#x9001;&#x90AE;&#x4EF6;&#x7684;&#x540D;&#x5355;&#x201C;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x5E76;&#x53D1;&#x6267;&#x884C;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x9501;&#x53BB;&#x907F;&#x514D;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x88AB;&#x591A;&#x6B21;&#x5904;&#x7406;&#x3002;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x4E00;&#x4E2A;@DisallowConcurrentExecution&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002; &#x5C31;&#x662F;&#x8FD9;&#x6837;123456public class DoNothingJob implements Job { @DisallowConcurrentExecution public void execute(JobExecutionContext context) throws JobExecutionException { System.out.println(&quot;do nothing&quot;); }} &#x6CE8;&#x610F;&#xFF0C;@DisallowConcurrentExecution &#x662F;&#x5BF9; JobDetail &#x5B9E;&#x4F8B;&#x751F;&#x6548;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5982;&#x679C;&#x4F60;&#x5B9A;&#x4E49;&#x4E24;&#x4E2A; JobDetail&#xFF0C;&#x5F15;&#x7528;&#x540C;&#x4E00;&#x4E2A; Job &#x7C7B;&#xFF0C;&#x662F;&#x53EF;&#x4EE5;&#x5E76;&#x53D1;&#x6267;&#x884C;&#x7684;&#x3002; JobExecutionExceptionJob.execute() &#x65B9;&#x6CD5;&#x662F;&#x4E0D;&#x5141;&#x8BB8;&#x629B;&#x51FA;&#x9664; JobExecutionException &#x4E4B;&#x5916;&#x7684;&#x6240;&#x6709;&#x5F02;&#x5E38;&#x7684;&#xFF08;&#x5305;&#x62EC;RuntimeException)&#xFF0C;&#x6240;&#x4EE5;&#x7F16;&#x7801;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6700;&#x597D;&#x662F; try-catch &#x6240;&#x6709;&#x7684; Throwable&#xFF0C;&#x5C0F;&#x5FC3;&#x5904;&#x7406;&#x3002; &#x5176;&#x4ED6;&#x5C5E;&#x6027; Durability &#x5982;&#x679C;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x4E0D;&#x662F;durable&#xFF0C;&#x90A3;&#x4E48;&#x5F53;&#x6CA1;&#x6709;Trigger&#x5173;&#x8054;&#x5B83;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5B83;&#x5C31;&#x4F1A;&#x88AB;&#x81EA;&#x52A8;&#x5220;&#x9664;&#x3002; RequestsRecovery &#x5982;&#x679C;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x662F;&quot;requests recovery&quot;&#xFF0C;&#x90A3;&#x4E48;&#x5F53;&#x4EFB;&#x52A1;&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x975E;&#x6B63;&#x5E38;&#x9000;&#x51FA;&#x65F6;&#xFF08;&#x6BD4;&#x5982;&#x8FDB;&#x7A0B;&#x5D29;&#x6E83;&#xFF0C;&#x673A;&#x5668;&#x65AD;&#x7535;&#xFF0C;&#x4F46;&#x4E0D;&#x5305;&#x62EC;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF09;&#xFF0C;Quartz&#x518D;&#x6B21;&#x542F;&#x52A8;&#x65F6;&#xFF0C;&#x4F1A;&#x91CD;&#x65B0;&#x8FD0;&#x884C;&#x4E00;&#x6B21;&#x8FD9;&#x4E2A;&#x4EFB;&#x52A1;&#x5B9E;&#x4F8B;&#x3002;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;JobExecutionContext.isRecovering()&#x67E5;&#x8BE2;&#x4EFB;&#x52A1;&#x662F;&#x5426;&#x662F;&#x88AB;&#x6062;&#x590D;&#x7684;&#x3002;","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"Quartz","slug":"Quartz","permalink":"https://marklogzhu.github.io/tags/Quartz/"}]},{"title":"Quartz实战入门(二)--Trigger","date":"2018-05-04T06:21:00.000Z","path":"Quartz/Quartz实战/Quartz实战入门(二)--Trigger/","text":"Trigger &#x7684;&#x4F5C;&#x7528;&#x7B80;&#x5355;&#x6765;&#x8BF4; Trigger &#x5C31;&#x662F;&#x5B9A;&#x65F6;&#x5668;&#x89E6;&#x53D1;&#x7684;&#x6761;&#x4EF6; Trigger &#x7684;&#x79CD;&#x7C7B;Trigger &#x6709;&#x4EE5;&#x4E0B;&#x51E0;&#x79CD;&#x5B9E;&#x73B0;&#x7C7B;: SimpleTrigger CalendarIntervalTrigger DailyTimeIntervalTrigger CronTrigger SimpleTrigger&#x6307;&#x5B9A;&#x4ECE;&#x67D0;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x5F00;&#x59CB;&#xFF0C;&#x4EE5;&#x4E00;&#x5B9A;&#x7684;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#xFF08;&#x5355;&#x4F4D;&#x662F;&#x6BEB;&#x79D2;&#xFF09;&#x6267;&#x884C;&#x7684;&#x4EFB;&#x52A1;&#x3002; &#x5B83;&#x9002;&#x5408;&#x7684;&#x4EFB;&#x52A1;&#x7C7B;&#x4F3C;&#x4E8E;&#x4ECE; 9:00 &#x5F00;&#x59CB;&#xFF0C;&#x6BCF;&#x9694;1&#x5C0F;&#x65F6;&#xFF0C;&#x6267;&#x884C;&#x4E00;&#x6B21;&#x3002;&#x5C5E;&#x6027;&#xFF1A; * repeatInterval: &#x91CD;&#x590D;&#x95F4;&#x9694; * repeatCount: &#x91CD;&#x590D;&#x6B21;&#x6570;&#x3002;&#x5B9E;&#x9645;&#x6267;&#x884C;&#x6B21;&#x6570;&#x662F; repeatCount+1&#x3002;&#x56E0;&#x4E3A;&#x5728;startTime&#x7684;&#x65F6;&#x5019;&#x4E00;&#x5B9A;&#x4F1A;&#x6267;&#x884C;&#x4E00;&#x6B21;&#x3002; &#x5B9E;&#x4F8B;1234567891011121314151617181920212223242526272829303132333435@Testpublic void testBaseTrigger() throws SchedulerException, InterruptedException { //&#x521B;&#x5EFA; scheduler StdSchedulerFactory factory = new StdSchedulerFactory(); Scheduler scheduler = factory.getScheduler(); //&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;Trigger Trigger trigger = TriggerBuilder.newTrigger().withIdentity(&quot;trigger_1&quot;, &quot;tGroup1&quot;).startNow() .withSchedule(getBuilder()).build(); //&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;JobDetail JobDetail job = newJob(PrintJob.class) //&#x5B9A;&#x4E49;Job&#x7C7B;&#x4E3A;PrintJob&#x7C7B;&#xFF0C;&#x8FD9;&#x662F;&#x771F;&#x6B63;&#x7684;&#x6267;&#x884C;&#x903B;&#x8F91;&#x6240;&#x5728; .withIdentity(&quot;printJob&quot;, &quot;group1&quot;) //&#x5B9A;&#x4E49;name/group .usingJobData(&quot;name&quot;, &quot;marklogzhu&quot;) //&#x5B9A;&#x4E49;&#x5C5E;&#x6027; .usingJobData(&quot;age&quot;, 18) //&#x5B9A;&#x4E49;&#x5C5E;&#x6027; .build(); //&#x52A0;&#x5165;&#x8FD9;&#x4E2A;&#x8C03;&#x5EA6; scheduler.scheduleJob(job, trigger); // &#x542F;&#x52A8; scheduler.start(); // junit &#x6D4B;&#x8BD5;&#x9700;&#x8981;&#x65F6;&#x95F4;&#x6240;&#x4EE5;&#x5C3D;&#x91CF;&#x8BBE;&#x7F6E;&#x5927;&#x70B9;&#xFF0C;&#x5426;&#x5219;&#x672A;&#x770B;&#x5230;&#x6548;&#x679C;&#x8FDB;&#x7A0B;&#x5C31;&#x5173;&#x95ED;&#x4E86; Thread.sleep(99999999999); scheduler.shutdown(true); } private ScheduleBuilder getBuilder() { return getSimpleTrigger(); } public SimpleScheduleBuilder getSimpleTrigger(){// return SimpleScheduleBuilder.simpleSchedule().withIntervalInHours(1) //&#x6BCF;&#x5C0F;&#x65F6;&#x6267;&#x884C;&#x4E00;&#x6B21;// .repeatForever(); //&#x6B21;&#x6570;&#x4E0D;&#x9650; return SimpleScheduleBuilder.simpleSchedule().withIntervalInSeconds(1)//&#x6BCF;&#x79D2;&#x6267;&#x884C;&#x4E00;&#x6B21; .withRepeatCount(3); //&#x6B21;&#x6570;&#x4E3A;3&#x6B21; }} &#x8FD0;&#x884C;&#x7ED3;&#x679C;&#xFF1A; CalendarIntervalTrigger&#x7C7B;&#x4F3C;&#x4E8E; SimpleTrigger&#xFF0C;&#x6307;&#x5B9A;&#x4ECE;&#x67D0;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x5F00;&#x59CB;&#xFF0C;&#x4EE5;&#x4E00;&#x5B9A;&#x7684;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#x6267;&#x884C;&#x7684;&#x4EFB;&#x52A1;&#x3002; &#x4F46;&#x662F;&#x4E0D;&#x540C;&#x7684;&#x662F; SimpleTrigger &#x6307;&#x5B9A;&#x7684;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#x4E3A;&#x6BEB;&#x79D2;&#xFF0C;&#x6CA1;&#x529E;&#x6CD5;&#x6307;&#x5B9A;&#x6BCF;&#x9694;&#x4E00;&#x4E2A;&#x6708;&#x6267;&#x884C;&#x4E00;&#x6B21;&#xFF08;&#x6BCF;&#x6708;&#x7684;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#x4E0D;&#x662F;&#x56FA;&#x5B9A;&#x503C;&#xFF09;&#xFF0C;&#x800C; CalendarIntervalTrigger &#x652F;&#x6301;&#x7684;&#x95F4;&#x9694;&#x5355;&#x4F4D;&#x6709;&#x79D2;&#xFF0C;&#x5206;&#x949F;&#xFF0C;&#x5C0F;&#x65F6;&#xFF0C;&#x5929;&#xFF0C;&#x6708;&#xFF0C;&#x5E74;&#xFF0C;&#x661F;&#x671F;&#x3002; &#x76F8;&#x8F83;&#x4E8E; SimpleTrigger &#x6709;&#x4E24;&#x4E2A;&#x4F18;&#x52BF;&#xFF1A; 1&#x3001;&#x66F4;&#x65B9;&#x4FBF;&#xFF0C;&#x6BD4;&#x5982;&#x6BCF;&#x9694;1&#x5C0F;&#x65F6;&#x6267;&#x884C;&#xFF0C;&#x4F60;&#x4E0D;&#x7528;&#x81EA;&#x5DF1;&#x53BB;&#x8BA1;&#x7B97;1&#x5C0F;&#x65F6;&#x7B49;&#x4E8E;&#x591A;&#x5C11;&#x6BEB;&#x79D2;&#x3002; 2&#x3001;&#x652F;&#x6301;&#x4E0D;&#x662F;&#x56FA;&#x5B9A;&#x957F;&#x5EA6;&#x7684;&#x95F4;&#x9694;&#xFF0C;&#x6BD4;&#x5982;&#x95F4;&#x9694;&#x4E3A;&#x6708;&#x548C;&#x5E74;&#x3002;&#x4F46;&#x52A3;&#x52BF;&#x662F;&#x7CBE;&#x5EA6;&#x53EA;&#x80FD;&#x5230;&#x79D2;&#x3002; &#x5B83;&#x9002;&#x5408;&#x7684;&#x4EFB;&#x52A1;&#x7C7B;&#x4F3C;&#x4E8E;&#x4ECE; 9:00 &#x5F00;&#x59CB;&#x6267;&#x884C;&#xFF0C;&#x5E76;&#x4E14;&#x4EE5;&#x540E;&#x6BCF;&#x5468; 9:00 &#x6267;&#x884C;&#x4E00;&#x6B21;&#x5C5E;&#x6027;: * interval: &#x6267;&#x884C;&#x95F4;&#x9694; * intervalUnit: &#x6267;&#x884C;&#x95F4;&#x9694;&#x7684;&#x5355;&#x4F4D;&#xFF08;&#x79D2;&#xFF0C;&#x5206;&#x949F;&#xFF0C;&#x5C0F;&#x65F6;&#xFF0C;&#x5929;&#xFF0C;&#x6708;&#xFF0C;&#x5E74;&#xFF0C;&#x661F;&#x671F;&#xFF09; &#x5B9E;&#x4F8B;123456public CalendarIntervalScheduleBuilder getCalendarIntervalTrigger(){ // &#x6BCF;&#x5929;&#x6267;&#x884C;&#x4E00;&#x6B21; // return calendarIntervalSchedule().withIntervalInDays(1); // &#x6BCF;&#x5468;&#x6267;&#x884C;&#x4E00;&#x6B21; return calendarIntervalSchedule().withIntervalInWeeks(1);} DailyTimeIntervalTrigger&#x6307;&#x5B9A;&#x6BCF;&#x5929;&#x7684;&#x67D0;&#x4E2A;&#x65F6;&#x95F4;&#x6BB5;&#x5185;&#xFF0C;&#x4EE5;&#x4E00;&#x5B9A;&#x7684;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#x6267;&#x884C;&#x4EFB;&#x52A1;&#x3002;&#x5E76;&#x4E14;&#x5B83;&#x53EF;&#x4EE5;&#x652F;&#x6301;&#x6307;&#x5B9A;&#x661F;&#x671F;&#x3002; &#x5B83;&#x9002;&#x5408;&#x7684;&#x4EFB;&#x52A1;&#x7C7B;&#x4F3C;&#x4E8E;&#xFF1A;&#x6307;&#x5B9A;&#x6BCF;&#x5929;9:00 &#x81F3; 18:00 &#xFF0C;&#x6BCF;&#x9694;70&#x79D2;&#x6267;&#x884C;&#x4E00;&#x6B21;&#xFF0C;&#x5E76;&#x4E14;&#x53EA;&#x8981;&#x5468;&#x4E00;&#x81F3;&#x5468;&#x4E94;&#x6267;&#x884C;&#x3002; &#x5C5E;&#x6027;: * startTimeOfDay: &#x6BCF;&#x5929;&#x5F00;&#x59CB;&#x65F6;&#x95F4; * endTimeOfDay: &#x6BCF;&#x5929;&#x7ED3;&#x675F;&#x65F6;&#x95F4; * daysOfWeek: &#x9700;&#x8981;&#x6267;&#x884C;&#x7684;&#x661F;&#x671F; * interval: &#x6267;&#x884C;&#x95F4;&#x9694; * intervalUnit: &#x6267;&#x884C;&#x95F4;&#x9694;&#x7684;&#x5355;&#x4F4D;&#xFF08;&#x79D2;&#xFF0C;&#x5206;&#x949F;&#xFF0C;&#x5C0F;&#x65F6;&#xFF0C;&#x5929;&#xFF0C;&#x6708;&#xFF0C;&#x5E74;&#xFF0C;&#x661F;&#x671F;&#xFF09; * repeatCount: &#x91CD;&#x590D;&#x6B21;&#x6570; &#x5B9E;&#x4F8B;1234567891011121314dailyTimeIntervalSchedule() .startingDailyAt(TimeOfDay.hourAndMinuteOfDay(9, 0)) //&#x7B2C;&#x5929;9&#xFF1A;00&#x5F00;&#x59CB; .endingDailyAt(TimeOfDay.hourAndMinuteOfDay(16, 0)) //16&#xFF1A;00 &#x7ED3;&#x675F; .onDaysOfTheWeek(MONDAY,TUESDAY,WEDNESDAY,THURSDAY,FRIDAY) //&#x5468;&#x4E00;&#x81F3;&#x5468;&#x4E94;&#x6267;&#x884C; .withIntervalInHours(1) //&#x6BCF;&#x95F4;&#x9694;1&#x5C0F;&#x65F6;&#x6267;&#x884C;&#x4E00;&#x6B21; .withRepeatCount(100) //&#x6700;&#x591A;&#x91CD;&#x590D;100&#x6B21;&#xFF08;&#x5B9E;&#x9645;&#x6267;&#x884C;100+1&#x6B21;&#xFF09; .build();dailyTimeIntervalSchedule() .startingDailyAt(TimeOfDay.hourAndMinuteOfDay(9, 0)) //&#x7B2C;&#x5929;9&#xFF1A;00&#x5F00;&#x59CB; .endingDailyAfterCount(10) //&#x6BCF;&#x5929;&#x6267;&#x884C;10&#x6B21;&#xFF0C;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x5B9E;&#x9645;&#x4E0A;&#x6839;&#x636E; startTimeOfDay+interval*count &#x7B97;&#x51FA; endTimeOfDay .onDaysOfTheWeek(MONDAY,TUESDAY,WEDNESDAY,THURSDAY,FRIDAY) //&#x5468;&#x4E00;&#x81F3;&#x5468;&#x4E94;&#x6267;&#x884C; .withIntervalInHours(1) //&#x6BCF;&#x95F4;&#x9694;1&#x5C0F;&#x65F6;&#x6267;&#x884C;&#x4E00;&#x6B21; .build(); CronTrigger&#x9002;&#x5408;&#x4E8E;&#x66F4;&#x590D;&#x6742;&#x7684;&#x4EFB;&#x52A1;&#xFF0C;&#x5B83;&#x652F;&#x6301;&#x7C7B;&#x578B;&#x4E8E; Linux Cron &#x7684;&#x8BED;&#x6CD5;&#xFF08;&#x5E76;&#x4E14;&#x66F4;&#x5F3A;&#x5927;&#xFF09;&#x3002;&#x57FA;&#x672C;&#x4E0A;&#x5B83;&#x8986;&#x76D6;&#x4E86;&#x4EE5;&#x4E0A;&#x4E09;&#x4E2A; Trigger &#x7684;&#x7EDD;&#x5927;&#x90E8;&#x5206;&#x80FD;&#x529B;&#xFF08;&#x4F46;&#x4E0D;&#x662F;&#x5168;&#x90E8;&#xFF09;&#x2014;&#x2014; &#x5F53;&#x7136;&#xFF0C;&#x4E5F;&#x66F4;&#x96BE;&#x7406;&#x89E3;&#x3002; &#x5B83;&#x9002;&#x5408;&#x7684;&#x4EFB;&#x52A1;&#x7C7B;&#x4F3C;&#x4E8E;&#xFF1A;&#x6BCF;&#x5929;0:00,9:00,18:00&#x5404;&#x6267;&#x884C;&#x4E00;&#x6B21;&#x3002; &#x5B83;&#x7684;&#x5C5E;&#x6027;&#x53EA;&#x6709; Cron&#x8868;&#x8FBE;&#x5F0F;&#x3002;&#x4F46;&#x8FD9;&#x4E2A;&#x8868;&#x793A;&#x5F0F;&#x672C;&#x8EAB;&#x5C31;&#x591F;&#x590D;&#x6742;&#x4E86;&#x3002; &#x793A;&#x4F8B;&#xFF1A; 12345678cronSchedule(&quot;0 0/2 8-17 * * ?&quot;) // &#x6BCF;&#x5929;8:00-17:00&#xFF0C;&#x6BCF;&#x9694;2&#x5206;&#x949F;&#x6267;&#x884C;&#x4E00;&#x6B21; .build();cronSchedule(&quot;0 30 9 ? * MON&quot;) // &#x6BCF;&#x5468;&#x4E00;&#xFF0C;9:30&#x6267;&#x884C;&#x4E00;&#x6B21;.build();weeklyOnDayAndHourAndMinute(MONDAY,9, 30) //&#x7B49;&#x540C;&#x4E8E; 0 30 9 ? * MON .build(); Cron&#x8868;&#x8FBE;&#x5F0F; &#x4F4D;&#x7F6E; &#x65F6;&#x95F4;&#x57DF; &#x5141;&#x8BB8;&#x503C; &#x7279;&#x6B8A;&#x503C; 1 &#x79D2; 0-59 , - * / 2 &#x5206;&#x949F; 0-59 , - * / 3 &#x5C0F;&#x65F6; 0-23 , - * / 4 &#x65E5;&#x671F; 1-31 , - * ? / L W C 5 &#x6708;&#x4EFD; 1-12 , - * / 6 &#x661F;&#x671F; 1-7 , - * ? / L C # 7 &#x5E74;&#x4EFD;&#xFF08;&#x53EF;&#x9009;&#xFF09; 1-31 , - * / &#x661F;&#x53F7;()&#xFF1A;&#x53EF;&#x7528;&#x5728;&#x6240;&#x6709;&#x5B57;&#x6BB5;&#x4E2D;&#xFF0C;&#x8868;&#x793A;&#x5BF9;&#x5E94;&#x65F6;&#x95F4;&#x57DF;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x65F6;&#x523B;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C; &#x5728;&#x5206;&#x949F;&#x5B57;&#x6BB5;&#x65F6;&#xFF0C;&#x8868;&#x793A;&#x201C;&#x6BCF;&#x5206;&#x949F;&#x201D;&#xFF1B; &#x95EE;&#x53F7;&#xFF08;?&#xFF09;&#xFF1A;&#x8BE5;&#x5B57;&#x7B26;&#x53EA;&#x5728;&#x65E5;&#x671F;&#x548C;&#x661F;&#x671F;&#x5B57;&#x6BB5;&#x4E2D;&#x4F7F;&#x7528;&#xFF0C;&#x5B83;&#x901A;&#x5E38;&#x6307;&#x5B9A;&#x4E3A;&#x201C;&#x65E0;&#x610F;&#x4E49;&#x7684;&#x503C;&#x201D;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x70B9;&#x4F4D;&#x7B26;&#xFF1B; &#x51CF;&#x53F7;(-)&#xFF1A;&#x8868;&#x8FBE;&#x4E00;&#x4E2A;&#x8303;&#x56F4;&#xFF0C;&#x5982;&#x5728;&#x5C0F;&#x65F6;&#x5B57;&#x6BB5;&#x4E2D;&#x4F7F;&#x7528;&#x201C;10-12&#x201D;&#xFF0C;&#x5219;&#x8868;&#x793A;&#x4ECE;10&#x5230;12&#x70B9;&#xFF0C;&#x5373;10,11,12&#xFF1B; &#x9017;&#x53F7;(,)&#xFF1A;&#x8868;&#x8FBE;&#x4E00;&#x4E2A;&#x5217;&#x8868;&#x503C;&#xFF0C;&#x5982;&#x5728;&#x661F;&#x671F;&#x5B57;&#x6BB5;&#x4E2D;&#x4F7F;&#x7528;&#x201C;MON,WED,FRI&#x201D;&#xFF0C;&#x5219;&#x8868;&#x793A;&#x661F;&#x671F;&#x4E00;&#xFF0C;&#x661F;&#x671F;&#x4E09;&#x548C;&#x661F;&#x671F;&#x4E94;&#xFF1B; &#x659C;&#x6760;(/)&#xFF1A;x/y&#x8868;&#x8FBE;&#x4E00;&#x4E2A;&#x7B49;&#x6B65;&#x957F;&#x5E8F;&#x5217;&#xFF0C;x&#x4E3A;&#x8D77;&#x59CB;&#x503C;&#xFF0C;y&#x4E3A;&#x589E;&#x91CF;&#x6B65;&#x957F;&#x503C;&#x3002;&#x5982;&#x5728;&#x5206;&#x949F;&#x5B57;&#x6BB5;&#x4E2D;&#x4F7F;&#x7528;0/15&#xFF0C;&#x5219;&#x8868;&#x793A;&#x4E3A;0,15,30&#x548C;45&#x79D2;&#xFF0C;&#x800C;5/15&#x5728;&#x5206;&#x949F;&#x5B57;&#x6BB5;&#x4E2D;&#x8868;&#x793A;5,20,35,50&#xFF0C;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;*/y&#xFF0C;&#x5B83;&#x7B49;&#x540C;&#x4E8E;0/y&#xFF1B; L&#xFF1A;&#x8BE5;&#x5B57;&#x7B26;&#x53EA;&#x5728;&#x65E5;&#x671F;&#x548C;&#x661F;&#x671F;&#x5B57;&#x6BB5;&#x4E2D;&#x4F7F;&#x7528;&#xFF0C;&#x4EE3;&#x8868;&#x201C;Last&#x201D;&#x7684;&#x610F;&#x601D;&#xFF0C;&#x4F46;&#x5B83;&#x5728;&#x4E24;&#x4E2A;&#x5B57;&#x6BB5;&#x4E2D;&#x610F;&#x601D;&#x4E0D;&#x540C;&#x3002;L&#x5728;&#x65E5;&#x671F;&#x5B57;&#x6BB5;&#x4E2D;&#xFF0C;&#x8868;&#x793A;&#x8FD9;&#x4E2A;&#x6708;&#x4EFD;&#x7684;&#x6700;&#x540E;&#x4E00;&#x5929;&#xFF0C;&#x5982;&#x4E00;&#x6708;&#x7684;31&#x53F7;&#xFF0C;&#x975E;&#x95F0;&#x5E74;&#x4E8C;&#x6708;&#x7684;28&#x53F7;&#xFF1B;&#x5982;&#x679C;L&#x7528;&#x5728;&#x661F;&#x671F;&#x4E2D;&#xFF0C;&#x5219;&#x8868;&#x793A;&#x661F;&#x671F;&#x516D;&#xFF0C;&#x7B49;&#x540C;&#x4E8E;7&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C;L&#x51FA;&#x73B0;&#x5728;&#x661F;&#x671F;&#x5B57;&#x6BB5;&#x91CC;&#xFF0C;&#x800C;&#x4E14;&#x5728;&#x524D;&#x9762;&#x6709;&#x4E00;&#x4E2A;&#x6570;&#x503C;X&#xFF0C;&#x5219;&#x8868;&#x793A;&#x201C;&#x8FD9;&#x4E2A;&#x6708;&#x7684;&#x6700;&#x540E;X&#x5929;&#x201D;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;6L&#x8868;&#x793A;&#x8BE5;&#x6708;&#x7684;&#x6700;&#x540E;&#x661F;&#x671F;&#x4E94;&#xFF1B; W&#xFF1A;&#x8BE5;&#x5B57;&#x7B26;&#x53EA;&#x80FD;&#x51FA;&#x73B0;&#x5728;&#x65E5;&#x671F;&#x5B57;&#x6BB5;&#x91CC;&#xFF0C;&#x662F;&#x5BF9;&#x524D;&#x5BFC;&#x65E5;&#x671F;&#x7684;&#x4FEE;&#x9970;&#xFF0C;&#x8868;&#x793A;&#x79BB;&#x8BE5;&#x65E5;&#x671F;&#x6700;&#x8FD1;&#x7684;&#x5DE5;&#x4F5C;&#x65E5;&#x3002;&#x4F8B;&#x5982;15W&#x8868;&#x793A;&#x79BB;&#x8BE5;&#x6708;15&#x53F7;&#x6700;&#x8FD1;&#x7684;&#x5DE5;&#x4F5C;&#x65E5;&#xFF0C;&#x5982;&#x679C;&#x8BE5;&#x6708;15&#x53F7;&#x662F;&#x661F;&#x671F;&#x516D;&#xFF0C;&#x5219;&#x5339;&#x914D;14&#x53F7;&#x661F;&#x671F;&#x4E94;&#xFF1B;&#x5982;&#x679C;15&#x65E5;&#x662F;&#x661F;&#x671F;&#x65E5;&#xFF0C;&#x5219;&#x5339;&#x914D;16&#x53F7;&#x661F;&#x671F;&#x4E00;&#xFF1B;&#x5982;&#x679C;15&#x53F7;&#x662F;&#x661F;&#x671F;&#x4E8C;&#xFF0C;&#x90A3;&#x7ED3;&#x679C;&#x5C31;&#x662F;15&#x53F7;&#x661F;&#x671F;&#x4E8C;&#x3002;&#x4F46;&#x5FC5;&#x987B;&#x6CE8;&#x610F;&#x5173;&#x8054;&#x7684;&#x5339;&#x914D;&#x65E5;&#x671F;&#x4E0D;&#x80FD;&#x591F;&#x8DE8;&#x6708;&#xFF0C;&#x5982;&#x4F60;&#x6307;&#x5B9A;1W&#xFF0C;&#x5982;&#x679C;1&#x53F7;&#x662F;&#x661F;&#x671F;&#x516D;&#xFF0C;&#x7ED3;&#x679C;&#x5339;&#x914D;&#x7684;&#x662F;3&#x53F7;&#x661F;&#x671F;&#x4E00;&#xFF0C;&#x800C;&#x975E;&#x4E0A;&#x4E2A;&#x6708;&#x6700;&#x540E;&#x7684;&#x90A3;&#x5929;&#x3002;W&#x5B57;&#x7B26;&#x4E32;&#x53EA;&#x80FD;&#x6307;&#x5B9A;&#x5355;&#x4E00;&#x65E5;&#x671F;&#xFF0C;&#x800C;&#x4E0D;&#x80FD;&#x6307;&#x5B9A;&#x65E5;&#x671F;&#x8303;&#x56F4;&#xFF1B; LW&#x7EC4;&#x5408;&#xFF1A;&#x5728;&#x65E5;&#x671F;&#x5B57;&#x6BB5;&#x53EF;&#x4EE5;&#x7EC4;&#x5408;&#x4F7F;&#x7528;LW&#xFF0C;&#x5B83;&#x7684;&#x610F;&#x601D;&#x662F;&#x5F53;&#x6708;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5DE5;&#x4F5C;&#x65E5;&#xFF1B; &#x4E95;&#x53F7;(#)&#xFF1A;&#x8BE5;&#x5B57;&#x7B26;&#x53EA;&#x80FD;&#x5728;&#x661F;&#x671F;&#x5B57;&#x6BB5;&#x4E2D;&#x4F7F;&#x7528;&#xFF0C;&#x8868;&#x793A;&#x5F53;&#x6708;&#x67D0;&#x4E2A;&#x5DE5;&#x4F5C;&#x65E5;&#x3002;&#x5982;6#3&#x8868;&#x793A;&#x5F53;&#x6708;&#x7684;&#x7B2C;&#x4E09;&#x4E2A;&#x661F;&#x671F;&#x4E94;(6&#x8868;&#x793A;&#x661F;&#x671F;&#x4E94;&#xFF0C;#3&#x8868;&#x793A;&#x5F53;&#x524D;&#x7684;&#x7B2C;&#x4E09;&#x4E2A;)&#xFF0C;&#x800C;4#5&#x8868;&#x793A;&#x5F53;&#x6708;&#x7684;&#x7B2C;&#x4E94;&#x4E2A;&#x661F;&#x671F;&#x4E09;&#xFF0C;&#x5047;&#x8BBE;&#x5F53;&#x6708;&#x6CA1;&#x6709;&#x7B2C;&#x4E94;&#x4E2A;&#x661F;&#x671F;&#x4E09;&#xFF0C;&#x5FFD;&#x7565;&#x4E0D;&#x89E6;&#x53D1;&#xFF1B; C&#xFF1A;&#x8BE5;&#x5B57;&#x7B26;&#x53EA;&#x5728;&#x65E5;&#x671F;&#x548C;&#x661F;&#x671F;&#x5B57;&#x6BB5;&#x4E2D;&#x4F7F;&#x7528;&#xFF0C;&#x4EE3;&#x8868;&#x201C;Calendar&#x201D;&#x7684;&#x610F;&#x601D;&#x3002;&#x5B83;&#x7684;&#x610F;&#x601D;&#x662F;&#x8BA1;&#x5212;&#x6240;&#x5173;&#x8054;&#x7684;&#x65E5;&#x671F;&#xFF0C;&#x5982;&#x679C;&#x65E5;&#x671F;&#x6CA1;&#x6709;&#x88AB;&#x5173;&#x8054;&#xFF0C;&#x5219;&#x76F8;&#x5F53;&#x4E8E;&#x65E5;&#x5386;&#x4E2D;&#x6240;&#x6709;&#x65E5;&#x671F;&#x3002;&#x4F8B;&#x5982;5C&#x5728;&#x65E5;&#x671F;&#x5B57;&#x6BB5;&#x4E2D;&#x5C31;&#x76F8;&#x5F53;&#x4E8E;&#x65E5;&#x5386;5&#x65E5;&#x4EE5;&#x540E;&#x7684;&#x7B2C;&#x4E00;&#x5929;&#x3002;1C&#x5728;&#x661F;&#x671F;&#x5B57;&#x6BB5;&#x4E2D;&#x76F8;&#x5F53;&#x4E8E;&#x661F;&#x671F;&#x65E5;&#x540E;&#x7684;&#x7B2C;&#x4E00;&#x5929;&#x3002; Cron&#x8868;&#x8FBE;&#x5F0F;&#x5BF9;&#x7279;&#x6B8A;&#x5B57;&#x7B26;&#x7684;&#x5927;&#x5C0F;&#x5199;&#x4E0D;&#x654F;&#x611F;&#xFF0C;&#x5BF9;&#x4EE3;&#x8868;&#x661F;&#x671F;&#x7684;&#x7F29;&#x5199;&#x82F1;&#x6587;&#x5927;&#x5C0F;&#x5199;&#x4E5F;&#x4E0D;&#x654F;&#x611F;&#x3002; &#x4E00;&#x4E9B;&#x4F8B;&#x5B50;&#xFF1A; &#x8868;&#x793A;&#x5F0F; &#x8BF4;&#x660E; 0 0 12 ? &#x6BCF;&#x5929;12&#x70B9;&#x8FD0;&#x884C; 0 15 10 ? &#x6BCF;&#x5929;10:15&#x8FD0;&#x884C; 0 15 10 ? &#x6BCF;&#x5929;10:15&#x8FD0;&#x884C; 0 15 10 ? * &#x6BCF;&#x5929;10:15&#x8FD0;&#x884C; 0 15 10 ? 2008 &#x5728;2008&#x5E74;&#x7684;&#x6BCF;&#x5929;10&#xFF1A;15&#x8FD0;&#x884C; 0 14 * ? &#x6BCF;&#x5929;14&#x70B9;&#x5230;15&#x70B9;&#x4E4B;&#x95F4;&#x6BCF;&#x5206;&#x949F;&#x8FD0;&#x884C;&#x4E00;&#x6B21;&#xFF0C;&#x5F00;&#x59CB;&#x4E8E;14:00&#xFF0C;&#x7ED3;&#x675F;&#x4E8E;14:59&#x3002; 0 0/5 14 ? &#x6BCF;&#x5929;14&#x70B9;&#x5230;15&#x70B9;&#x6BCF;5&#x5206;&#x949F;&#x8FD0;&#x884C;&#x4E00;&#x6B21;&#xFF0C;&#x5F00;&#x59CB;&#x4E8E;14:00&#xFF0C;&#x7ED3;&#x675F;&#x4E8E;14:55&#x3002; 0 0/5 14,18 ? &#x6BCF;&#x5929;14&#x70B9;&#x5230;15&#x70B9;&#x6BCF;5&#x5206;&#x949F;&#x8FD0;&#x884C;&#x4E00;&#x6B21;&#xFF0C;&#x6B64;&#x5916;&#x6BCF;&#x5929;18&#x70B9;&#x5230;19&#x70B9;&#x6BCF;5&#x949F;&#x4E5F;&#x8FD0;&#x884C;&#x4E00;&#x6B21;&#x3002; 0 0-5 14 ? &#x6BCF;&#x5929;14:00&#x70B9;&#x5230;14:05&#xFF0C;&#x6BCF;&#x5206;&#x949F;&#x8FD0;&#x884C;&#x4E00;&#x6B21;&#x3002; 0 10,44 14 ? 3 WED 3&#x6708;&#x6BCF;&#x5468;&#x4E09;&#x7684;14:10&#x5206;&#x5230;14:44&#xFF0C;&#x6BCF;&#x5206;&#x949F;&#x8FD0;&#x884C;&#x4E00;&#x6B21;&#x3002; 0 15 10 ? * MON-FRI &#x6BCF;&#x5468;&#x4E00;&#xFF0C;&#x4E8C;&#xFF0C;&#x4E09;&#xFF0C;&#x56DB;&#xFF0C;&#x4E94;&#x7684;10:15&#x5206;&#x8FD0;&#x884C;&#x3002; 0 15 10 15 * ? &#x6BCF;&#x6708;15&#x65E5;10:15&#x5206;&#x8FD0;&#x884C;&#x3002; 0 15 10 L * ? &#x6BCF;&#x6708;&#x6700;&#x540E;&#x4E00;&#x5929;10:15&#x5206;&#x8FD0;&#x884C;&#x3002; 0 15 10 ? * 6L &#x6BCF;&#x6708;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x661F;&#x671F;&#x4E94;10:15&#x5206;&#x8FD0;&#x884C;&#x3002; 0 15 10 ? * 6L 2007-2009 &#x5728;2007,2008,2009&#x5E74;&#x6BCF;&#x4E2A;&#x6708;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x661F;&#x671F;&#x4E94;&#x7684;10:15&#x5206;&#x8FD0;&#x884C;&#x3002; 0 15 10 ? * 6#3 &#x6BCF;&#x6708;&#x7B2C;&#x4E09;&#x4E2A;&#x661F;&#x671F;&#x4E94;&#x7684;10:15&#x5206;&#x8FD0;&#x884C;&#x3002; Trigger &#x7684;&#x5171;&#x6027;StartTime &amp; EndTimestartTime &#x548C; endTime &#x6307;&#x5B9A;&#x7684; Trigger &#x4F1A;&#x88AB;&#x89E6;&#x53D1;&#x7684;&#x65F6;&#x95F4;&#x533A;&#x95F4;&#x3002;&#x5728;&#x8FD9;&#x4E2A;&#x533A;&#x95F4;&#x4E4B;&#x5916;&#xFF0C;Trigger &#x662F;&#x4E0D;&#x4F1A;&#x88AB;&#x89E6;&#x53D1;&#x7684;&#x3002; &#x6240;&#x6709;Trigger&#x90FD;&#x4F1A;&#x5305;&#x542B;&#x8FD9;&#x4E24;&#x4E2A;&#x5C5E;&#x6027;&#x4F18;&#x5148;&#x7EA7;&#xFF08;Priority&#xFF09;&#x5F53; scheduler &#x6BD4;&#x8F83;&#x7E41;&#x5FD9;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53EF;&#x80FD;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x65F6;&#x523B;&#xFF0C;&#x6709;&#x591A;&#x4E2A; Trigger &#x88AB;&#x89E6;&#x53D1;&#x4E86;&#xFF0C;&#x4F46;&#x8D44;&#x6E90;&#x4E0D;&#x8DB3;&#xFF08;&#x6BD4;&#x5982;&#x7EBF;&#x7A0B;&#x6C60;&#x4E0D;&#x8DB3;&#xFF09;&#x3002;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x6BD4;&#x526A;&#x5200;&#x77F3;&#x5934;&#x5E03;&#x66F4;&#x597D;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x5C31;&#x662F;&#x8BBE;&#x7F6E;&#x4F18;&#x5148;&#x7EA7;&#x3002;&#x4F18;&#x5148;&#x7EA7;&#x9AD8;&#x7684;&#x5148;&#x6267;&#x884C;&#x3002; &#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x4F18;&#x5148;&#x7EA7;&#x53EA;&#x6709;&#x5728;&#x540C;&#x4E00;&#x65F6;&#x523B;&#x6267;&#x884C;&#x7684; Trigger &#x4E4B;&#x95F4;&#x624D;&#x4F1A;&#x8D77;&#x4F5C;&#x7528;&#xFF0C;&#x5982;&#x679C;&#x4E00;&#x4E2A; Trigger &#x662F;9:00&#xFF0C;&#x53E6;&#x4E00;&#x4E2A; Trigger &#x662F;9:30&#x3002;&#x90A3;&#x4E48;&#x65E0;&#x8BBA;&#x540E;&#x4E00;&#x4E2A;&#x4F18;&#x5148;&#x7EA7;&#x591A;&#x9AD8;&#xFF0C;&#x524D;&#x4E00;&#x4E2A;&#x90FD;&#x662F;&#x5148;&#x6267;&#x884C;&#x3002; &#x4F18;&#x5148;&#x7EA7;&#x7684;&#x503C;&#x9ED8;&#x8BA4;&#x662F;5&#xFF0C;&#x5F53;&#x4E3A;&#x8D1F;&#x6570;&#x65F6;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x503C;&#x3002;&#x6700;&#x5927;&#x503C;&#x4F3C;&#x4E4E;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#xFF0C;&#x4F46;&#x5EFA;&#x8BAE;&#x9075;&#x5FAA;Java&#x7684;&#x6807;&#x51C6;&#xFF0C;&#x4F7F;&#x7528;1-10&#xFF0C;&#x4E0D;&#x7136;&#x9B3C;&#x624D;&#x77E5;&#x9053;&#x770B;&#x5230;&#x3010;&#x4F18;&#x5148;&#x7EA7;&#x4E3A;10&#x3011;&#x662F;&#x65F6;&#xFF0C;&#x4E0A;&#x5934;&#x8FD8;&#x6709;&#x6CA1;&#x6709;&#x66F4;&#x5927;&#x7684;&#x503C;&#x3002; Misfire(&#x9519;&#x5931;&#x89E6;&#x53D1;&#xFF09;&#x7B56;&#x7565;&#x7C7B;&#x4F3C;&#x7684; Scheduler &#x8D44;&#x6E90;&#x4E0D;&#x8DB3;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6216;&#x8005;&#x673A;&#x5668;&#x5D29;&#x6E83;&#x91CD;&#x542F;&#x7B49;&#xFF0C;&#x6709;&#x53EF;&#x80FD;&#x67D0;&#x4E00;&#x4E9B; Trigger &#x5728;&#x5E94;&#x8BE5;&#x89E6;&#x53D1;&#x7684;&#x65F6;&#x95F4;&#x70B9;&#x6CA1;&#x6709;&#x88AB;&#x89E6;&#x53D1;&#xFF0C;&#x4E5F;&#x5C31;&#x662F; Miss Fire&#x4E86;&#x3002;&#x8FD9;&#x4E2A;&#x65F6;&#x5019; Trigger &#x9700;&#x8981;&#x4E00;&#x4E2A;&#x7B56;&#x7565;&#x6765;&#x5904;&#x7406;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x3002;&#x6BCF;&#x79CD; Trigger &#x53EF;&#x9009;&#x7684;&#x7B56;&#x7565;&#x5404;&#x4E0D;&#x76F8;&#x540C;&#x3002; &#x8FD9;&#x91CC;&#x6709;&#x70B9;&#x9700;&#x8981;&#x91CD;&#x70B9;&#x6CE8;&#x610F;&#xFF1A; MisFire&#x7684;&#x89E6;&#x53D1;&#x662F;&#x6709;&#x4E00;&#x4E2A;&#x9600;&#x503C;&#xFF0C;&#x8FD9;&#x4E2A;&#x9600;&#x503C;&#x662F;&#x914D;&#x7F6E;&#x5728;JobStore&#x7684;&#x3002;&#x6BD4;RAMJobStore&#x662F;org.quartz.jobStore.misfireThreshold&#x3002;&#x53EA;&#x6709;&#x8D85;&#x8FC7;&#x8FD9;&#x4E2A;&#x9600;&#x503C;&#xFF0C;&#x624D;&#x4F1A;&#x7B97;MisFire&#x3002;&#x5C0F;&#x4E8E;&#x8FD9;&#x4E2A;&#x9600;&#x503C;&#xFF0C;Quartz&#x662F;&#x4F1A;&#x5168;&#x90E8;&#x91CD;&#x65B0;&#x89E6;&#x53D1;&#x3002; &#x6240;&#x6709;MisFire&#x7684;&#x7B56;&#x7565;&#x5B9E;&#x9645;&#x4E0A;&#x90FD;&#x662F;&#x89E3;&#x7B54;&#x4E24;&#x4E2A;&#x95EE;&#x9898;&#xFF1A; * &#x5DF2;&#x7ECF;MisFire&#x7684;&#x4EFB;&#x52A1;&#x8FD8;&#x8981;&#x91CD;&#x65B0;&#x89E6;&#x53D1;&#x5417;&#xFF1F; * &#x5982;&#x679C;&#x53D1;&#x751F;MisFire&#xFF0C;&#x8981;&#x8C03;&#x6574;&#x73B0;&#x6709;&#x7684;&#x8C03;&#x5EA6;&#x65F6;&#x95F4;&#x5417;&#xFF1F; &#x6BD4;&#x5982; SimpleTrigger &#x7684; MisFire &#x7B56;&#x7565;&#x6709;&#xFF1A; MISFIRE_INSTRUCTION_IGNORE_MISFIRE_POLICY&#x8FD9;&#x4E2A;&#x4E0D;&#x662F;&#x5FFD;&#x7565;&#x5DF2;&#x7ECF;&#x9519;&#x5931;&#x7684;&#x89E6;&#x53D1;&#x7684;&#x610F;&#x601D;&#xFF0C;&#x800C;&#x662F;&#x8BF4;&#x5FFD;&#x7565;MisFire&#x7B56;&#x7565;&#x3002;&#x5B83;&#x4F1A;&#x5728;&#x8D44;&#x6E90;&#x5408;&#x9002;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x91CD;&#x65B0;&#x89E6;&#x53D1;&#x6240;&#x6709;&#x7684;MisFire&#x4EFB;&#x52A1;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x73B0;&#x6709;&#x7684;&#x8C03;&#x5EA6;&#x65F6;&#x95F4;&#x3002; &#x6BD4;&#x5982;&#xFF0C;SimpleTrigger&#x6BCF;15&#x79D2;&#x6267;&#x884C;&#x4E00;&#x6B21;&#xFF0C;&#x800C;&#x4E2D;&#x95F4;&#x6709;5&#x5206;&#x949F;&#x65F6;&#x95F4;&#x5B83;&#x90FD;MisFire&#x4E86;&#xFF0C;&#x4E00;&#x5171;&#x9519;&#x5931;&#x4E86;20&#x4E2A;&#xFF0C;5&#x5206;&#x949F;&#x540E;&#xFF0C;&#x5047;&#x8BBE;&#x8D44;&#x6E90;&#x5145;&#x8DB3;&#x4E86;&#xFF0C;&#x5E76;&#x4E14;&#x4EFB;&#x52A1;&#x5141;&#x8BB8;&#x5E76;&#x53D1;&#xFF0C;&#x5B83;&#x4F1A;&#x88AB;&#x4E00;&#x6B21;&#x6027;&#x89E6;&#x53D1;&#x3002; &#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x662F;&#x6240;&#x6709;Trigger&#x90FD;&#x9002;&#x7528;&#x3002; MISFIRE_INSTRUCTION_FIRE_NOW&#x5FFD;&#x7565;&#x5DF2;&#x7ECF; MisFire &#x7684;&#x4EFB;&#x52A1;&#xFF0C;&#x5E76;&#x4E14;&#x7ACB;&#x5373;&#x6267;&#x884C;&#x8C03;&#x5EA6;&#x3002;&#x8FD9;&#x901A;&#x5E38;&#x53EA;&#x9002;&#x7528;&#x4E8E;&#x53EA;&#x6267;&#x884C;&#x4E00;&#x6B21;&#x7684;&#x4EFB;&#x52A1;&#x3002; MISFIRE_INSTRUCTION_RESCHEDULE_NOW_WITH_EXISTING_REPEAT_COUNT&#x5C06; startTime &#x8BBE;&#x7F6E;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#xFF0C;&#x7ACB;&#x5373;&#x91CD;&#x65B0;&#x8C03;&#x5EA6;&#x4EFB;&#x52A1;&#xFF0C;&#x5305;&#x62EC;&#x7684; MisFire &#x7684; MISFIRE_INSTRUCTION_RESCHEDULE_NOW_WITH_REMAINING_REPEAT_COUNT&#x7C7B;&#x4F3C; MISFIRE_INSTRUCTION_RESCHEDULE_NOW_WITH_EXISTING_REPEAT_COUNT&#xFF0C;&#x533A;&#x522B;&#x5728;&#x4E8E;&#x4F1A;&#x5FFD;&#x7565;&#x5DF2;&#x7ECF; MisFire &#x7684;&#x4EFB;&#x52A1; MISFIRE_INSTRUCTION_RESCHEDULE_NEXT_WITH_EXISTING_COUNT&#x5728;&#x4E0B;&#x4E00;&#x6B21;&#x8C03;&#x5EA6;&#x65F6;&#x95F4;&#x70B9;&#xFF0C;&#x91CD;&#x65B0;&#x5F00;&#x59CB;&#x8C03;&#x5EA6;&#x4EFB;&#x52A1;&#xFF0C;&#x5305;&#x62EC; MisFire &#x7684; MISFIRE_INSTRUCTION_RESCHEDULE_NEXT_WITH_REMAINING_COUNT&#x7C7B;&#x4F3C;&#x4E8E;MISFIRE_INSTRUCTION_RESCHEDULE_NEXT_WITH_EXISTING_COUNT&#xFF0C;&#x533A;&#x522B;&#x5728;&#x4E8E;&#x4F1A;&#x5FFD;&#x7565;&#x5DF2;&#x7ECF;MisFire&#x7684;&#x4EFB;&#x52A1;&#x3002; MISFIRE_INSTRUCTION_SMART_POLICY&#x6240;&#x6709;&#x7684;Trigger&#x7684;MisFire&#x9ED8;&#x8BA4;&#x503C;&#x90FD;&#x662F;&#x8FD9;&#x4E2A;&#xFF0C;&#x5927;&#x81F4;&#x610F;&#x601D;&#x662F;&#x201C;&#x628A;&#x5904;&#x7406;&#x903B;&#x8F91;&#x4EA4;&#x7ED9;&#x806A;&#x660E;&#x7684;Quartz&#x53BB;&#x51B3;&#x5B9A;&#x201D;&#x3002;&#x57FA;&#x672C;&#x7B56;&#x7565;&#x662F;: * &#x5982;&#x679C;&#x662F;&#x53EA;&#x6267;&#x884C;&#x4E00;&#x6B21;&#x7684;&#x8C03;&#x5EA6;&#xFF0C;&#x4F7F;&#x7528;MISFIRE_INSTRUCTION_FIRE_NOW * &#x5982;&#x679C;&#x662F;&#x65E0;&#x9650;&#x6B21;&#x7684;&#x8C03;&#x5EA6;(repeatCount&#x662F;&#x65E0;&#x9650;&#x7684;)&#xFF0C;&#x4F7F;&#x7528;MISFIRE_INSTRUCTION_RESCHEDULE_NEXT_WITH_REMAINING_COUNT * &#x5426;&#x5219;&#xFF0C;&#x4F7F;&#x7528;MISFIRE_INSTRUCTION_RESCHEDULE_NOW_WITH_EXISTING_REPEAT_COUNT Calendar&#x8FD9;&#x91CC;&#x7684; Calendar &#x4E0D;&#x662F; jdk &#x7684; java.util.Calendar&#xFF0C;&#x4E0D;&#x662F;&#x4E3A;&#x4E86;&#x8BA1;&#x7B97;&#x65E5;&#x671F;&#x7684;&#x3002;&#x5B83;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x5728;&#x4E8E;&#x8865;&#x5145; Trigger &#x7684;&#x65F6;&#x95F4;&#x3002;&#x53EF;&#x4EE5;&#x6392;&#x9664;&#x6216;&#x52A0;&#x5165;&#x67D0;&#x4E00;&#x4E9B;&#x7279;&#x5B9A;&#x7684;&#x65F6;&#x95F4;&#x70B9;&#x3002; &#x4EE5;&#x201D;&#x6BCF;&#x6708;25&#x65E5;&#x96F6;&#x70B9;&#x81EA;&#x52A8;&#x8FD8;&#x5361;&#x503A;&#x201C;&#x4E3A;&#x4F8B;&#xFF0C;&#x6211;&#x4EEC;&#x60F3;&#x6392;&#x9664;&#x6389;&#x6BCF;&#x5E74;&#x7684;2&#x6708;25&#x53F7;&#x96F6;&#x70B9;&#x8FD9;&#x4E2A;&#x65F6;&#x95F4;&#x70B9;&#xFF08;&#x56E0;&#x4E3A;&#x6709;2.14&#xFF0C;&#x6240;&#x4EE5;2&#x6708;&#x4E00;&#x5B9A;&#x4F1A;&#x7834;&#x4EA7;&#xFF09;&#x3002;&#x8FD9;&#x4E2A;&#x65F6;&#x95F4;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x7528; Calendar &#x6765;&#x5B9E;&#x73B0;&#x3002; &#x4F8B;&#x5B50;&#xFF1A; 1234567891011121314AnnualCalendar cal = new AnnualCalendar(); //&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x6BCF;&#x5E74;&#x6267;&#x884C;Calendar&#xFF0C;&#x7CBE;&#x5EA6;&#x4E3A;&#x5929;&#xFF0C;&#x5373;&#x4E0D;&#x80FD;&#x5B9A;&#x4E49;&#x5230;2.25&#x53F7;&#x4E0B;&#x5348;2:00java.util.Calendar excludeDay = new GregorianCalendar();excludeDay.setTime(newDate().inMonthOnDay(2, 25).build());cal.setDayExcluded(excludeDay, true); //&#x8BBE;&#x7F6E;&#x6392;&#x9664;2.25&#x8FD9;&#x4E2A;&#x65E5;&#x671F;scheduler.addCalendar(&quot;FebCal&quot;, cal, false, false); //scheduler&#x52A0;&#x5165;&#x8FD9;&#x4E2A;Calendar//&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;TriggerTrigger trigger = newTrigger().withIdentity(&quot;trigger1&quot;, &quot;group1&quot;) .startNow()//&#x4E00;&#x65E6;&#x52A0;&#x5165;scheduler&#xFF0C;&#x7ACB;&#x5373;&#x751F;&#x6548; .modifiedByCalendar(&quot;FebCal&quot;) //&#x4F7F;&#x7528;Calendar !! .withSchedule(simpleSchedule() .withIntervalInSeconds(1) .repeatForever()) .build(); Quartz&#x4F53;&#x8D34;&#x5730;&#x4E3A;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x4EE5;&#x4E0B;&#x51E0;&#x79CD; Calendar&#xFF0C;&#x6CE8;&#x610F;&#xFF0C;&#x6240;&#x6709;&#x7684; Calendar &#x65E2;&#x53EF;&#x4EE5;&#x662F;&#x6392;&#x9664;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x5305;&#x542B;&#xFF0C;&#x53D6;&#x51B3;&#x4E8E;&#xFF1A; * HolidayCalendar&#x3002;&#x6307;&#x5B9A;&#x7279;&#x5B9A;&#x7684;&#x65E5;&#x671F;&#xFF0C;&#x6BD4;&#x5982;20140613&#x3002;&#x7CBE;&#x5EA6;&#x5230;&#x5929;&#x3002; * DailyCalendar&#x3002;&#x6307;&#x5B9A;&#x6BCF;&#x5929;&#x7684;&#x65F6;&#x95F4;&#x6BB5;&#xFF08;rangeStartingTime, rangeEndingTime)&#xFF0C;&#x683C;&#x5F0F;&#x662F;HH:MM[:SS[:mmm]]&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x6700;&#x5927;&#x7CBE;&#x5EA6;&#x53EF;&#x4EE5;&#x5230;&#x6BEB;&#x79D2;&#x3002; * WeeklyCalendar&#x3002;&#x6307;&#x5B9A;&#x6BCF;&#x661F;&#x671F;&#x7684;&#x661F;&#x671F;&#x51E0;&#xFF0C;&#x53EF;&#x9009;&#x503C;&#x6BD4;&#x5982;&#x4E3A;java.util.Calendar.SUNDAY&#x3002;&#x7CBE;&#x5EA6;&#x662F;&#x5929;&#x3002; * MonthlyCalendar&#x3002;&#x6307;&#x5B9A;&#x6BCF;&#x6708;&#x7684;&#x51E0;&#x53F7;&#x3002;&#x53EF;&#x9009;&#x503C;&#x4E3A;1-31&#x3002;&#x7CBE;&#x5EA6;&#x662F;&#x5929; * AnnualCalendar&#x3002; &#x6307;&#x5B9A;&#x6BCF;&#x5E74;&#x7684;&#x54EA;&#x4E00;&#x5929;&#x3002;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x5982;&#x4E0A;&#x4F8B;&#x3002;&#x7CBE;&#x5EA6;&#x662F;&#x5929;&#x3002; * CronCalendar&#x3002;&#x6307;&#x5B9A;Cron&#x8868;&#x8FBE;&#x5F0F;&#x3002;&#x7CBE;&#x5EA6;&#x53D6;&#x51B3;&#x4E8E;Cron&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6700;&#x5927;&#x7CBE;&#x5EA6;&#x53EF;&#x4EE5;&#x5230;&#x79D2;&#x3002;","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"Quartz","slug":"Quartz","permalink":"https://marklogzhu.github.io/tags/Quartz/"}]},{"title":"Quartz实战入门(一)--入门","date":"2018-05-04T05:17:00.000Z","path":"Quartz/Quartz实战/Quartz实战入门(一)--入门/","text":"&#x4EC0;&#x4E48;&#x662F; Quartz&#x5728;&#x65E5;&#x5E38;&#x751F;&#x6D3B;&#x4E2D;&#x4F60;&#x53EF;&#x4EE5;&#x4F1A;&#x9047;&#x5230;&#x8FD9;&#x6837;&#x7684;&#x95EE;&#x9898; &#x60F3;&#x6BCF;&#x6708;6&#x53F7;&#xFF0C;&#x4FE1;&#x7528;&#x5361;&#x81EA;&#x52A8;&#x8FD8;&#x6B3E; &#x6BCF;&#x9694;&#x4E00;&#x4E2A;&#x5C0F;&#x65F6;&#x5907;&#x4EFD;&#x4E0B;&#x6570;&#x636E;&#x5E93;&#x6570;&#x636E; &#x6BCF;&#x5929;&#x665A;&#x4E0A;&#x6E05;&#x7406;&#x4E0B;&#x7CFB;&#x7EDF;&#x5783;&#x573E;&#x6587;&#x4EF6; &#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#x603B;&#x7ED3;&#x8D77;&#x6765;&#x5C31;&#x662F;&#xFF1A;&#x5728;&#x67D0;&#x4E00;&#x4E2A;&#x6709;&#x89C4;&#x5F8B;&#x7684;&#x65F6;&#x95F4;&#x70B9;&#x5E72;&#x67D0;&#x4EF6;&#x4E8B;&#x3002;&#x5E76;&#x4E14;&#x65F6;&#x95F4;&#x7684;&#x89E6;&#x53D1;&#x7684;&#x6761;&#x4EF6;&#x53EF;&#x4EE5;&#x975E;&#x5E38;&#x590D;&#x6742;&#xFF08;&#x6BD4;&#x5982;&#x6BCF;&#x6708;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5DE5;&#x4F5C;&#x65E5;&#x7684;17:50&#xFF09;&#xFF0C;&#x590D;&#x6742;&#x5230;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x4E13;&#x95E8;&#x7684;&#x6846;&#x67B6;&#x6765;&#x5E72;&#x8FD9;&#x4E2A;&#x4E8B;&#x3002; Quartz &#x5C31;&#x662F;&#x6765;&#x5E72;&#x8FD9;&#x6837;&#x7684;&#x4E8B;&#xFF0C;&#x4F60;&#x7ED9;&#x5B83;&#x4E00;&#x4E2A;&#x89E6;&#x53D1;&#x6761;&#x4EF6;&#x7684;&#x5B9A;&#x4E49;&#xFF0C;&#x5B83;&#x8D1F;&#x8D23;&#x5230;&#x4E86;&#x65F6;&#x95F4;&#x70B9;&#xFF0C;&#x89E6;&#x53D1;&#x76F8;&#x5E94;&#x7684; Job &#x8D77;&#x6765;&#x5E72;&#x6D3B;&#x3002; &#x4E00;&#x53E5;&#x8BDD;&#x6982;&#x62EC; Quartz &#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;&#x8C03;&#x5EA6;&#x6846;&#x67B6;&#x3002; &#x5165;&#x95E8;&#x793A;&#x4F8B;1) &#x5F15;&#x5165;&#x4F9D;&#x8D56; 12345&lt;dependency&gt; &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt; &lt;artifactId&gt;quartz&lt;/artifactId&gt; &lt;version&gt;2.3.0&lt;/version&gt;&lt;/dependency&gt; 2) &#x65B0;&#x5EFA;&#x903B;&#x8F91;&#x5904;&#x7406;&#x7C7B; PrintJob.java 123456789101112131415161718192021222324252627282930package com.marklogzhu.ssm.job;import org.quartz.*;import java.text.SimpleDateFormat;import java.util.Date;public class PrintJob implements Job { @Override public void execute(JobExecutionContext context) throws JobExecutionException { // &#x8F93;&#x51FA;&#x5F53;&#x524D;&#x65F6;&#x95F4; System.out.println(&quot;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#xFF1A;&quot;+getCurrentDate(new Date())); // &#x83B7;&#x53D6;&#x4F20;&#x8F93;&#x6765;&#x7684;&#x53C2;&#x6570; JobDataMap dataMap = context.getJobDetail().getJobDataMap(); System.out.println(&quot;&#x59D3;&#x540D;&#xFF1A;&quot;+dataMap.getString(&quot;name&quot;)); System.out.println(&quot;&#x5E74;&#x9F84;: &quot;+dataMap.getInt(&quot;age&quot;)); System.out.println(&quot;======================================&quot;); } /** * &#x83B7;&#x53D6;&#x5F53;&#x524D;&#x65E5;&#x671F; * @param date * @return */ private String getCurrentDate(Date date){ SimpleDateFormat time=new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;); return time.format(date); }} 3) &#x65B0;&#x5EFA;&#x6D4B;&#x8BD5;&#x7C7B; PrintJobTest.java 1234567891011121314151617181920212223242526272829303132333435363738394041424344package com.marklogzhu.ssm.quartz.test;import com.marklogzhu.ssm.job.PrintJob;import org.junit.Test;import org.quartz.JobDetail;import org.quartz.Scheduler;import org.quartz.SchedulerException;import org.quartz.Trigger;import org.quartz.impl.StdSchedulerFactory;import static org.quartz.JobBuilder.newJob;import static org.quartz.SimpleScheduleBuilder.simpleSchedule;import static org.quartz.TriggerBuilder.newTrigger;public class PrintJobTest { @Test public void testPrintQuartz() throws SchedulerException, InterruptedException { //&#x521B;&#x5EFA; scheduler StdSchedulerFactory factory = new StdSchedulerFactory(); Scheduler scheduler = factory.getScheduler(); //&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;Trigger Trigger trigger = newTrigger().withIdentity(&quot;trigger1&quot;, &quot;group1&quot;) //&#x5B9A;&#x4E49;name/group .startNow()//&#x4E00;&#x65E6;&#x52A0;&#x5165;scheduler&#xFF0C;&#x7ACB;&#x5373;&#x751F;&#x6548; .withSchedule(simpleSchedule() //&#x4F7F;&#x7528;SimpleTrigger .withIntervalInSeconds(1) //&#x6BCF;&#x9694;&#x4E00;&#x79D2;&#x6267;&#x884C;&#x4E00;&#x6B21; .repeatForever()) //&#x4E00;&#x76F4;&#x6267;&#x884C; .build(); //&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;JobDetail JobDetail job = newJob(PrintJob.class) //&#x5B9A;&#x4E49;Job&#x7C7B;&#x4E3A;PrintJob&#x7C7B;&#xFF0C;&#x8FD9;&#x662F;&#x771F;&#x6B63;&#x7684;&#x6267;&#x884C;&#x903B;&#x8F91;&#x6240;&#x5728; .withIdentity(&quot;printJob&quot;, &quot;group1&quot;) //&#x5B9A;&#x4E49;name/group .usingJobData(&quot;name&quot;, &quot;marklogzhu&quot;) //&#x5B9A;&#x4E49;&#x5C5E;&#x6027; .usingJobData(&quot;age&quot;, 18) //&#x5B9A;&#x4E49;&#x5C5E;&#x6027; .build(); //&#x52A0;&#x5165;&#x8FD9;&#x4E2A;&#x8C03;&#x5EA6; scheduler.scheduleJob(job, trigger); // &#x542F;&#x52A8; scheduler.start(); // &#x8FD0;&#x884C;5&#x79D2;&#x540E;&#x5173;&#x95ED; Thread.sleep(5000); scheduler.shutdown(true); }} 4) &#x542F;&#x52A8;&#x6D4B;&#x8BD5;&#x7C7B;&#xFF0C;&#x89C2;&#x5BDF;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA; &#x57FA;&#x672C;&#x4E09;&#x8981;&#x7D20;&#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x6B63;&#x597D;&#x8986;&#x76D6;&#x4E86; Quartz &#x6700;&#x91CD;&#x8981;&#x7684;3&#x4E2A;&#x57FA;&#x672C;&#x8981;&#x7D20;: Scheduler&#xFF1A;&#x8C03;&#x5EA6;&#x5668;,&#x6240;&#x6709;&#x7684;&#x8C03;&#x5EA6;&#x90FD;&#x662F;&#x7531;&#x5B83;&#x63A7;&#x5236;&#x3002; Trigger&#xFF1A; &#x5B9A;&#x4E49;&#x89E6;&#x53D1;&#x7684;&#x6761;&#x4EF6; JobDetail &amp; Job&#xFF1A; JobDetail &#x5B9A;&#x4E49;&#x7684;&#x662F;&#x4EFB;&#x52A1;&#x6570;&#x636E;&#xFF0C;&#x800C;&#x771F;&#x6B63;&#x7684;&#x6267;&#x884C;&#x903B;&#x8F91;&#x662F;&#x5728; Job &#x4E2D;&#x3002; &#x4E3A;&#x4EC0;&#x4E48;&#x8BBE;&#x8BA1;&#x6210; JobDetail + Job&#xFF0C;&#x4E0D;&#x76F4;&#x63A5;&#x4F7F;&#x7528; Job &#xFF1F;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x4EFB;&#x52A1;&#x662F;&#x6709;&#x53EF;&#x80FD;&#x5E76;&#x53D1;&#x6267;&#x884C;&#xFF0C;&#x5982;&#x679C; Scheduler &#x76F4;&#x63A5;&#x4F7F;&#x7528; Job&#xFF0C;&#x5C31;&#x4F1A;&#x5B58;&#x5728;&#x5BF9;&#x540C;&#x4E00;&#x4E2A; Job &#x5B9E;&#x4F8B;&#x5E76;&#x53D1;&#x8BBF;&#x95EE;&#x7684;&#x95EE;&#x9898;&#x3002;&#x800C; JobDetail &amp; Job &#x65B9;&#x5F0F;&#xFF0C;sheduler &#x6BCF;&#x6B21;&#x6267;&#x884C;&#xFF0C;&#x90FD;&#x4F1A;&#x6839;&#x636E; JobDetail &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684; Job &#x5B9E;&#x4F8B;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x89C4;&#x907F;&#x5E76;&#x53D1;&#x8BBF;&#x95EE;&#x7684;&#x95EE;&#x9898;&#x3002; &#x5173;&#x4E8E; name &#x548C; groupJobDetail &#x548C; Trigger &#x90FD;&#x6709; name &#x548C; group&#x3002; name &#x662F;&#x5B83;&#x4EEC;&#x5728;&#x8FD9;&#x4E2A; sheduler &#x91CC;&#x9762;&#x7684;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x3002;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x8981;&#x66F4;&#x65B0;&#x4E00;&#x4E2A; JobDetail &#x5B9A;&#x4E49;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A; name &#x76F8;&#x540C;&#x7684; JobDetail &#x5B9E;&#x4F8B;&#x5373;&#x53EF;&#x3002; group &#x662F;&#x4E00;&#x4E2A;&#x7EC4;&#x7EC7;&#x5355;&#x5143;&#xFF0C;sheduler &#x4F1A;&#x63D0;&#x4F9B;&#x4E00;&#x4E9B;&#x5BF9;&#x6574;&#x7EC4;&#x64CD;&#x4F5C;&#x7684; API &#xFF0C;&#x6BD4;&#x5982; scheduler.resumeJobs()&#x3002;","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"Quartz","slug":"Quartz","permalink":"https://marklogzhu.github.io/tags/Quartz/"}]},{"title":"SSM 框架集成","date":"2018-05-03T09:40:00.000Z","path":"Java/后台/Java/SSM/SSM框架/SSM框架集成/","text":"SSM &#x6846;&#x67B6;&#x7531; Spring Mvc + Spring + Mybatis &#x7EC4;&#x6210;&#xFF0C;&#x5728;&#x65E5;&#x5E38;&#x9879;&#x76EE;&#x5F00;&#x53D1;&#x4E2D;&#x7ECF;&#x5E38;&#x88AB;&#x4F7F;&#x7528;&#x5230;&#xFF0C;&#x76F8;&#x6BD4;&#x4E8E; SSH &#x6846;&#x67B6;&#xFF0C;&#x5B83;&#x5728;&#x8FD1;&#x51E0;&#x5E74;&#x7684;&#x5F00;&#x53D1;&#x4E2D;&#x8FD0;&#x7528;&#x7684;&#x66F4;&#x52A0;&#x5E7F;&#x6CDB;&#x3002; SpringMVC &#x662F; Spring &#x5B9E;&#x73B0;&#x7684;&#x4E00;&#x4E2A; We b&#x5C42;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E; Struts &#x7684;&#x6846;&#x67B6;&#xFF0C;&#x4F46;&#x662F;&#x6BD4; Struts &#x66F4;&#x52A0;&#x7075;&#x6D3B;&#x548C;&#x5F3A;&#x5927;&#xFF01; Spring &#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x8F7B;&#x91CF;&#x7EA7;&#x7684;&#x6846;&#x67B6;&#xFF0C;&#x6709;&#x5F88;&#x591A;&#x7684;&#x62D3;&#x5C55;&#x529F;&#x80FD;&#xFF0C;&#x6700;&#x4E3B;&#x8981;&#x7684;&#x6211;&#x4EEC;&#x4E00;&#x822C;&#x9879;&#x76EE;&#x4F7F;&#x7528;&#x7684;&#x5C31;&#x662F; IOC &#x548C; AOP &#x3002; Mybatis &#x662F; &#x4E00;&#x4E2A;&#x6301;&#x4E45;&#x5C42;&#x7684;&#x6846;&#x67B6;&#xFF0C;&#x5728;&#x4F7F;&#x7528;&#x4E0A;&#x76F8;&#x6BD4; Hibernate &#x66F4;&#x52A0;&#x7075;&#x6D3B;&#xFF0C;&#x53EF;&#x4EE5;&#x63A7;&#x5236; sql &#x7684;&#x7F16;&#x5199;&#xFF0C;&#x4F7F;&#x7528; XML &#x6216; &#x6CE8;&#x89E3; &#x8FDB;&#x884C;&#x76F8;&#x5173;&#x7684;&#x914D;&#x7F6E;&#xFF01; &#x9879;&#x76EE;&#x642D;&#x5EFA;1) &#x901A;&#x8FC7; maven &#x521B;&#x5EFA;&#x4E00;&#x4E2A; web &#x9879;&#x76EE; 2&#xFF09;&#x7F16;&#x8F91; pom.xml &#x6587;&#x4EF6;&#x5BFC;&#x5165;&#x4F9D;&#x8D56;&#x548C; tomcat &#x63D2;&#x4EF6; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.marklogzhu&lt;/groupId&gt; &lt;artifactId&gt;ssm&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;war&lt;/packaging&gt; &lt;name&gt;ssm Maven Webapp&lt;/name&gt; &lt;!-- FIXME change it to the project&apos;s website --&gt; &lt;url&gt;http://www.example.com&lt;/url&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt; &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt; &lt;org.springframework.spring.version&gt;4.3.14.RELEASE&lt;/org.springframework.spring.version&gt; &lt;org.mybatis.version&gt;3.3.0&lt;/org.mybatis.version&gt; &lt;org.mybatis.spring.version&gt;1.2.3&lt;/org.mybatis.spring.version&gt; &lt;mysql.version&gt;5.1.45&lt;/mysql.version&gt; &lt;com.alibaba.druid.version&gt;1.1.9&lt;/com.alibaba.druid.version&gt; &lt;jackson.version&gt;2.5.4&lt;/jackson.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;!--spring mvc &#x5E95;&#x5C42;&#x81EA;&#x52A8;&#x4F9D;&#x8D56; spring-core&#x3001;spring-context&#x3001;spring-aop&#x3001;spring-web &#x6240;&#x4EE5;&#x4E0D;&#x9700;&#x8981;&#x5728;&#x5BFC;&#x5165;&#x4E86; --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;${org.springframework.spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;!-- spring jdbc &#x5E95;&#x5C42;&#x81EA;&#x52A8;&#x4F9D;&#x8D56; spring-tx --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;${org.springframework.spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;!-- servlet-api --&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;servlet-api&lt;/artifactId&gt; &lt;version&gt;2.5&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- mybatis --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;${org.mybatis.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt; &lt;version&gt;${org.mybatis.spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;!-- mysql --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;${mysql.version}&lt;/version&gt; &lt;/dependency&gt; &lt;!-- &#x963F;&#x91CC;&#x5F00;&#x6E90;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;&#xFF0C;&#x4EE3;&#x66FF; commons-dbcp --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;version&gt;${com.alibaba.druid.version}&lt;/version&gt; &lt;/dependency&gt; &lt;!-- json --&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-core&lt;/artifactId&gt; &lt;version&gt;${jackson.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;${jackson.version}&lt;/version&gt; &lt;/dependency&gt; &lt;!-- junit --&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.11&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;finalName&gt;ssm&lt;/finalName&gt; &lt;plugins&gt; &lt;!-- tomcat &#x63D2;&#x4EF6;--&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt; &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt; &lt;version&gt;2.2&lt;/version&gt; &lt;configuration&gt; &lt;path&gt;/&lt;/path&gt; &lt;port&gt;8080&lt;/port&gt; &lt;server&gt;tomcat7&lt;/server&gt; &lt;/configuration&gt; &lt;executions&gt; &lt;execution&gt; &lt;phase&gt;package&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;run&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; 3) &#x521B;&#x5EFA;&#x5982;&#x4E0B;&#x9879;&#x76EE;&#x7ED3;&#x6784; 4) &#x5728; mybatis &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; mybatis-config.xml &#x6587;&#x4EF6;&#xFF0C;&#x57FA;&#x672C;&#x4E0A;&#x5C31;&#x662F;&#x4E2A;&#x7A7A;&#x6587;&#x4EF6;&#x53EA;&#x9700;&#x8981;&#x5E26;&#x6587;&#x4EF6;&#x5934;&#x4FE1;&#x606F;&#x5373;&#x53EF; 123456&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE configuration PUBLIC &quot;-//mybatis.org//DTD SQL Map Config 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;&lt;configuration&gt; &lt;/configuration&gt; 5&#xFF09;&#x5728; resources &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; jdbc.properties &#x5C5E;&#x6027;&#x6587;&#x4EF6; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546# &#x6CE8;&#x610F;&#x4F7F;&#x7528;&#x81EA;&#x5DF1;&#x7684;&#x6570;&#x636E;&#x5E93;&#x8DDF;&#x8D26;&#x53F7;&#x4FE1;&#x606F;url:jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=utf8driverClassName:com.mysql.jdbc.Driverusername:rootpassword:sa000#------------------------------------------------------------------------------------------#&#x914D;&#x7F6E;&#x6269;&#x5C55;&#x63D2;&#x4EF6; &#x76D1;&#x63A7;&#x7EDF;&#x8BA1;&#x7528;filters:stat &#x65E5;&#x5FD7;&#x7528;filters:log4j &#x9632;&#x5FA1;sql&#x6CE8;&#x5165;&#x7528;filters:wallfilters:stat#&#x6700;&#x5927;&#x8FDE;&#x63A5;&#x6C60;&#x6570;&#x91CF; &#x521D;&#x59CB;&#x5316;&#x5EFA;&#x7ACB;&#x7269;&#x7406;&#x8FDE;&#x63A5;&#x7684;&#x4E2A;&#x6570; &#x83B7;&#x53D6;&#x8FDE;&#x63A5;&#x65F6;&#x6700;&#x957F;&#x7684;&#x7B49;&#x5F85;&#x65F6;&#x95F4; &#x6700;&#x5C0F;&#x8FDE;&#x63A5;&#x6C60;&#x6570;&#x91CF; maxIdle&#x5DF2;&#x7ECF;&#x5F03;&#x7528;maxActive:20initialSize:1maxWait:60000minIdle:10maxIdle:15#&#x6709;&#x4E24;&#x4E2A;&#x542B;&#x4E49; 1.Destroy &#x7EBF;&#x7A0B;&#x4F1A;&#x68C0;&#x6D4B;&#x8FDE;&#x63A5;&#x7684;&#x65F6;&#x95F4; 2.testWhileIdle&#x7684;&#x5224;&#x65AD;&#x4F9D;&#x636E;timeBetweenEvictionRunsMillis:60000#Destory&#x7EBF;&#x7A0B;&#x4E2D;&#x5982;&#x679C;&#x68C0;&#x6D4B;&#x5230;&#x5F53;&#x524D;&#x8FDE;&#x63A5;&#x7684;&#x6700;&#x540E;&#x6D3B;&#x8DC3;&#x65F6;&#x95F4;&#x548C;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#x7684;&#x5DEE;&#x503C;&#x5927;&#x4E8E;minEvictableIdleTimeMillis&#xFF0C;&#x5219;&#x5173;&#x95ED;&#x5F53;&#x524D;&#x8FDE;&#x63A5;minEvictableIdleTimeMillis:300000#&#x7528;&#x6765;&#x68C0;&#x6D4B;&#x8FDE;&#x63A5;&#x662F;&#x5426;&#x7684;sql&#xFF0C;&#x8981;&#x6C42;&#x662F;&#x4E00;&#x4E2A;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x3002;&#x5728;mysql&#x4E2D;&#x901A;&#x5E38;&#x8BBE;&#x7F6E;&#x4E3A;SELECT &apos;X&apos;validationQuery:SELECT &apos;x&apos;#&#x7533;&#x8BF7;&#x8FDE;&#x63A5;&#x7684;&#x65F6;&#x5019;&#x68C0;&#x6D4B;&#xFF0C;&#x5982;&#x679C;&#x7A7A;&#x95F2;&#x65F6;&#x95F4;&#x5927;&#x4E8E;timeBetweenEvictionRunsMillis&#xFF0C;&#x6267;&#x884C;validationQuery&#x8FDE;&#x63A5;&#x662F;&#x5426;&#x6709;&#x6548;testWhileIdle:true#&#x7533;&#x8BF7;&#x8FDE;&#x63A5;&#x65F6;&#x6267;&#x884C;validationQuery&#x68C0;&#x6D4B;&#x8FDE;&#x63A5;&#x662F;&#x5426;&#x6709;&#x6548; &#x8FD9;&#x4E2A;&#x914D;&#x7F6E;&#x4F1A;&#x964D;&#x4F4E;&#x6027;&#x80FD;testOnBorrow:false#&#x5F52;&#x8FD8;&#x8FDE;&#x63A5;&#x65F6;&#x6267;&#x884C;validationQuery&#x68C0;&#x6D4B;&#x8FDE;&#x63A5;&#x662F;&#x5426;&#x6709;&#x6548; &#x8FD9;&#x4E2A;&#x914D;&#x7F6E;&#x4F1A;&#x964D;&#x4F4E;&#x6027;&#x80FD;testOnReturn:false#&#x8981;&#x542F;&#x7528;PSCache&#xFF0C;&#x5FC5;&#x987B;&#x914D;&#x7F6E;&#x5927;&#x4E8E;0&#xFF0C;&#x5F53;&#x5927;&#x4E8E;0&#x65F6;&#xFF0C;poolPreparedStatements&#x81EA;&#x52A8;&#x89E6;&#x53D1;&#x4FEE;&#x6539;&#x4E3A;truemaxOpenPreparedStatements:20#&#x5BF9;&#x4E8E;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#x8D85;&#x8FC7;removeAbandonedTimeout&#x7684;&#x8FDE;&#x63A5;&#x5F3A;&#x5236;&#x5173;&#x95ED;removeAbandoned:true#&#x6307;&#x5B9A;&#x8FDE;&#x63A5;&#x5EFA;&#x7ACB;&#x591A;&#x957F;&#x5C31;&#x88AB;&#x5F3A;&#x5236;&#x5173;&#x95ED;removeAbandonedTimeout:1800#&#x6307;&#x5B9A;&#x53D1;&#x751F;removeabandoned&#x65F6;&#xFF0C;&#x662F;&#x5426;&#x8BB0;&#x5F55;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x7684;&#x5806;&#x6808;&#x4FE1;&#x606F;&#x5230;&#x65E5;&#x5FD7;&#x4E2D;logAbandoned:true 6&#xFF09;&#x5728; spring &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; applicationContext-dao.xml &#x6587;&#x4EF6; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xsi:schemaLocation=&quot; http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt; &lt;!--&#x5F15;&#x5165;&#x6570;&#x636E;&#x5E93;&#x5C5E;&#x6027;&#x914D;&#x7F6E;&#x6587;&#x4EF6;--&gt; &lt;bean id=&quot;propertyConfigurer&quot; class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt; &lt;property name=&quot;location&quot; value=&quot;jdbc.properties&quot;/&gt; &lt;/bean&gt; &lt;!-- &#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;&#x8BBE;&#x7F6E; --&gt; &lt;bean id=&quot;dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot; destroy-method=&quot;close&quot;&gt; &lt;property name=&quot;driverClassName&quot; value=&quot;${driver}&quot;/&gt; &lt;property name=&quot;url&quot; value=&quot;${url}&quot;/&gt; &lt;property name=&quot;username&quot; value=&quot;${username}&quot;/&gt; &lt;property name=&quot;password&quot; value=&quot;${password}&quot;/&gt; &lt;!-- &#x521D;&#x59CB;&#x5316;&#x8FDE;&#x63A5;&#x5927;&#x5C0F; --&gt; &lt;property name=&quot;initialSize&quot; value=&quot;${initialSize}&quot;&gt;&lt;/property&gt; &lt;!-- &#x8FDE;&#x63A5;&#x6C60;&#x6700;&#x5927;&#x6570;&#x91CF; --&gt; &lt;property name=&quot;maxActive&quot; value=&quot;${maxActive}&quot;&gt;&lt;/property&gt; &lt;!-- &#x8FDE;&#x63A5;&#x6C60;&#x6700;&#x5927;&#x7A7A;&#x95F2; --&gt; &lt;property name=&quot;maxIdle&quot; value=&quot;${maxIdle}&quot;&gt;&lt;/property&gt; &lt;!-- &#x8FDE;&#x63A5;&#x6C60;&#x6700;&#x5C0F;&#x7A7A;&#x95F2; --&gt; &lt;property name=&quot;minIdle&quot; value=&quot;${minIdle}&quot;&gt;&lt;/property&gt; &lt;!-- &#x83B7;&#x53D6;&#x8FDE;&#x63A5;&#x6700;&#x5927;&#x7B49;&#x5F85;&#x65F6;&#x95F4; --&gt; &lt;property name=&quot;maxWait&quot; value=&quot;${maxWait}&quot;&gt;&lt;/property&gt; &lt;/bean&gt; &lt;!-- spring &#x548C; MyBatis &#x6574;&#x5408; --&gt; &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt; &lt;!-- &#x81EA;&#x52A8;&#x626B;&#x63CF; mapping.xml &#x6587;&#x4EF6; --&gt; &lt;property name=&quot;mapperLocations&quot; value=&quot;classpath:mapper/*.xml&quot;&gt;&lt;/property&gt; &lt;!-- mybatis&#x914D;&#x7F6E;&#x6587;&#x4EF6; --&gt; &lt;property name=&quot;configLocation&quot; value=&quot;classpath:mybatis/mybatis-config.xml&quot;&gt;&lt;/property&gt; &lt;/bean&gt; &lt;!-- DAO&#x63A5;&#x53E3;&#x6240;&#x5728;&#x5305;&#x540D;&#xFF0C;Spring&#x4F1A;&#x81EA;&#x52A8;&#x67E5;&#x627E;&#x5176;&#x4E0B;&#x7684;&#x7C7B; --&gt; &lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt; &lt;property name=&quot;basePackage&quot; value=&quot;com.marklogzhu.ssm.dao&quot;/&gt; &lt;property name=&quot;sqlSessionFactoryBeanName&quot; value=&quot;sqlSessionFactory&quot;&gt;&lt;/property&gt; &lt;/bean&gt; &lt;!-- &#x542F;&#x7528;&#x4E8B;&#x7269;&#x6CE8;&#x89E3; --&gt; &lt;tx:annotation-driven /&gt; &lt;!-- &#x4E8B;&#x52A1;&#x7BA1;&#x7406; --&gt; &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt; &lt;property name=&quot;rollbackOnCommitFailure&quot; value=&quot;true&quot;/&gt; &lt;/bean&gt;&lt;/beans&gt; 7) &#x5728; spring &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; applicationContext-service.xml &#x6587;&#x4EF6; 1234567891011121314151617181920&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xsi:schemaLocation=&quot; http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.0.xsd http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-4.0.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd&quot;&gt; &lt;!-- &#x626B;&#x63CF; service &#x5B9E;&#x73B0;&#x7C7B; --&gt; &lt;context:component-scan base-package=&quot;com.marklogzhu.ssm.service&quot;/&gt;&lt;/beans&gt; 8) &#x5728; spring &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; springmvc.xml &#x6587;&#x4EF6; 123456789101112131415161718192021&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:mav=&quot;http://www.springframework.org/schema/tool&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd http://www.springframework.org/schema/tool http://www.springframework.org/schema/tool/spring-tool.xsd&quot;&gt; &lt;!-- &#x914D;&#x7F6E;Controller --&gt; &lt;context:component-scan base-package=&quot;com.marklogzhu.ssm.controller&quot;/&gt; &lt;!--&#x5F00;&#x542F;&#x6CE8;&#x89E3;&#x529F;&#x80FD;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x8BBE;&#x7F6E;&#x4E5F;&#x4F1A;&#x6DFB;&#x52A0;&#x9ED8;&#x8BA4;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;&#xFF0C;&#x4F46;&#x662F;&#x8BE5;&#x5B9E;&#x73B0;&#x7C7B;&#x5DF2;&#x8FC7;&#x65F6; --&gt; &lt;mvc:annotation-driven/&gt; &lt;!-- jsp &#x89C6;&#x56FE;&#x89E3;&#x6790;&#x5668; --&gt; &lt;bean id=&quot;jspViewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt; &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;/&gt; &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt; &lt;/bean&gt;&lt;/beans&gt; 9) &#x7F16;&#x8F91; WEB-INF &#x76EE;&#x5F55;&#x4E0B; web.xml &#x6587;&#x4EF6; 123456789101112131415161718192021222324252627282930313233343536373839&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;web-app version=&quot;2.4&quot; xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;&gt; &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt; &lt;!--&#x52A0;&#x8F7D; spring &#x5BB9;&#x5668;--&gt; &lt;context-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:spring/applicationContext-*.xml&lt;/param-value&gt; &lt;/context-param&gt; &lt;!--&#x52A0;&#x8F7D;spring mvc --&gt; &lt;servlet&gt; &lt;servlet-name&gt;springMvc&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath*:spring/springmvc.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;springMvc&lt;/servlet-name&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; &lt;!--&#x7F16;&#x7801;&#x8FC7;&#x6EE4;&#x5668;--&gt; &lt;filter&gt; &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt; &lt;init-param&gt; &lt;param-name&gt;encoding&lt;/param-name&gt; &lt;param-value&gt;UTF-8&lt;/param-value&gt; &lt;/init-param&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;/filter-mapping&gt;&lt;/web-app&gt; 10) &#x5728; com.marklogzhu.ssm.controller &#x5305;&#x4E0B;&#x65B0;&#x5EFA; TestController.java 12345678910111213141516171819202122232425262728293031323334353637383940414243package com.marklogzhu.ssm.controller;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.ResponseBody;import java.util.LinkedHashMap;import java.util.Map;@Controller@RequestMapping(&quot;/test&quot;)public class TestController { @RequestMapping(&quot;&quot;) public String index(){ return &quot;test&quot;; } @RequestMapping(&quot;/str&quot;) @ResponseBody public Map&lt;String,Object&gt; jsonStr(){ Map&lt;String,Object&gt; map = new LinkedHashMap&lt;&gt;(); map.put(&quot;name&quot;,&quot;marklogzhu&quot;); map.put(&quot;age&quot;,18); map.put(&quot;email&quot;,&quot;marklogzhu@163.com&quot;); return map; }}``` 11) &#x5728; `WEB-INF` &#x76EE;&#x5F55;&#x4E0B; &#x65B0;&#x5EFA; `jsp` &#x76EE;&#x5F55;&#x5E76;&#x5728;&#x91CC;&#x9762;&#x65B0;&#x5EFA; `test.jsp` &#x6587;&#x4EF6;``` html&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;test&lt;/title&gt;&lt;/head&gt;&lt;body&gt;test&lt;/body&gt;&lt;/html&gt; 12) &#x6253;&#x5F00; run &#x83DC;&#x5355;&#x5217;&#x8868;&#x4E2D;&#x7684; edit Configurgtion...&#x9879;&#x5E76;&#x914D;&#x7F6E;&#x4E00;&#x4E2A; maven &#x8FD0;&#x884C;&#x9879;&#x76EE;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; 13) &#x542F;&#x52A8;&#x9879;&#x76EE;&#xFF0C;&#x5E76;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x5206;&#x522B;&#x8F93;&#x5165;&#x5982;&#x4E0B;&#x5730;&#x5740;: http://localhost:8080/ http://localhost:8080/test http://localhost:8080/test/str","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"SSM框架","slug":"SSM框架","permalink":"https://marklogzhu.github.io/tags/SSM框架/"}]},{"title":"Velocity实战入门(八)--宏","date":"2018-04-25T03:40:00.000Z","path":"Velocity/Velocity实战/Velocity实战入门(八)--宏 /","text":"&#x5B9A;&#x4E49;&#x5B8F;&#x548C;&#x4F7F;&#x7528;&#x5B8F;#macro&#x6307;&#x4EE4; &#x7528;&#x4E8E;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A; VTL &#x6A21;&#x677F;&#x7684;&#x91CD;&#x590D;&#x4EE3;&#x7801;&#x5757;&#x2014;&#x2014;&#x5B8F;&#x3002;&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x5B9A;&#x4E49;&#x5B8F;&#x7684;&#x4F8B;&#x5B50;&#xFF1A; #macro( d ) &lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;tr&gt; #end &#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A;&#x5B8F;&#xFF0C;&#x540D;&#x5B57;&#x4E3A;d&#xFF0C;&#x6CA1;&#x6709;&#x53C2;&#x6570;&#x3002;&#x4E0B;&#x9762;&#x662F;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x5B8F;&#x7684;&#x4EE3;&#x7801;&#xFF1A; #d() Velocity&#x5728;&#x9047;&#x5230;#d()&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x7528; &quot;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&quot; &#x66FF;&#x4EE3;&#x4E0A;&#x9762;&#x7684; #d() &#x8FD9;&#x4E00;&#x884C;&#x3002; &#x5B8F;&#x7684;&#x53C2;&#x6570;&#xFF1A;&#x5B8F;&#x4E5F;&#x53EF;&#x4EE5;&#x5E26;&#x53C2;&#x6570;&#xFF0C;&#x800C;&#x4E14;&#x662F;&#x4EFB;&#x610F;&#x591A;&#x4E2A;&#x53C2;&#x6570;&#x3002;&#x4E0D;&#x8FC7;&#xFF0C;&#x5B8F;&#x5B9A;&#x4E49;&#x65F6;&#x6709;&#x51E0;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x5B8F;&#x8C03;&#x7528;&#x65F6;&#x5C31;&#x8981;&#x63D0;&#x4F9B;&#x540C;&#x6837;&#x6570;&#x76EE;&#x7684;&#x53C2;&#x6570;&#x3002; ## &#x5B9A;&#x4E49;&#x5B8F; #macro( d $name) &lt;tr&gt;&lt;td&gt;$name&lt;/td&gt;&lt;/tr&gt; #end ## &#x8C03;&#x7528;&#x5B8F; #d(&quot;name1&quot;) &#x5B8F;&#x7684;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x662F;&#x4EE5;&#x4E0B;VTL&#x5143;&#x7D20;&#x4E2D;&#x7684;&#x4EFB;&#x610F;&#x4E00;&#x79CD;&#xFF1A;&#x5F15;&#x7528;&#x3001;&#x5B57;&#x7B26;&#x4E32;&#x5B57;&#x9762;&#x503C;&#x3001;&#x6570;&#x503C;&#x5B57;&#x9762;&#x503C;&#x3001;&#x6574;&#x6570;&#x8303;&#x56F4;(&#x6BD4;&#x5982;[1 .. 10]&#x3001;[$start .. $end])&#x3001;&#x6570;&#x7EC4;&#x3001;&#x5E03;&#x5C14;&#x503C;true&#x6216;&#x8005;false&#x3002; &#x5B8F;&#x7684;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x662F;&#x65B9;&#x6CD5;&#xFF0C;&#x90A3;&#x4E48;&#x4E0B;&#x9762;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x9700;&#x8981;&#x7279;&#x522B;&#x6CE8;&#x610F;&#xFF1A; #macro(test $a) $a $a $a #end #test($foo.bar()) &#x4E0A;&#x9762;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;$foo.bar()&#x5C06;&#x4F1A;&#x88AB;&#x8C03;&#x7528;3&#x6B21;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4E00;&#x6B21;&#x3002; &#x5185;&#x8054;&#x7684;&#x5B8F;&#x5F53;&#x5B8F;&#x662F;&#x5728;&#x4E00;&#x4E2A; Velocity &#x6A21;&#x677F;&#x4E2D;&#x5B9A;&#x4E49;&#x65F6;&#xFF0C;&#x8FD9;&#x4E2A;&#x5B8F;(&#x662F;inline&#x7684;)&#x53EA;&#x80FD;&#x88AB;&#x8BE5;&#x6A21;&#x677F;&#x4F7F;&#x7528;&#xFF0C;&#x540C;&#x4E00;&#x4E2A;&#x7F51;&#x7AD9;&#x4E0B;&#x7684;&#x5176;&#x4ED6;&#x6A21;&#x677F;&#x662F;&#x4E0D;&#x80FD;&#x7528;&#x7684;&#x3002;&#x5982;&#x679C;&#x662F;&#x5728;&#x4E00;&#x4E2A; Velocity &#x5B8F;&#x6A21;&#x677F;&#x5E93;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x5B8F;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x88AB;&#x4EFB;&#x4F55;&#x540C;&#x4E00;&#x7F51;&#x7AD9;&#x4E0B;&#x7684;&#x6A21;&#x677F;&#x4F7F;&#x7528;&#x3002; &#x548C;&#x5B8F;&#x6709;&#x5173;&#x7684;&#x4E00;&#x4E9B;Velocity&#x5C5E;&#x6027; * velocimacro.library&#x2014;&#x2014;&#x7528;&#x9017;&#x53F7;&#x5206;&#x9694;&#x7684;&#x4E00;&#x7EC4;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x662F;Velocity&#x5B8F;&#x6A21;&#x677F;&#x5E93;&#x3002;&#x9ED8;&#x8BA4;&#x503C;&#x662F;VM_global_library.vm * velocimacro.permissions.allow.inline&#x2014;&#x2014;&#x5B8F;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x5728;&#x4E00;&#x4E2A;&#x666E;&#x901A;&#x6A21;&#x677F;&#x4E2D;&#x5B9A;&#x4E49;&#x3002;&#x9ED8;&#x8BA4;&#x503C;&#x662F;false&#x3002; * velocimacro.permissions.allow.inline.to.replace.global&#x2014;&#x2014;&#x662F;&#x5426;&#x5141;&#x8BB8;&#x6A21;&#x677F;&#x4E2D;&#x7684;&#x5B8F;&#x8986;&#x76D6;library&#x4E2D;&#x7684;&#x5B8F;&#x3002;&#x9ED8;&#x8BA4;&#x503C;&#x662F;false&#x3002; * velocimacro.permissions.allow.inline.local.scope&#x2014;&#x2014;&#x4E00;&#x4E2A;&#x5728;&#x666E;&#x901A;&#x6A21;&#x677F;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x5B8F;&#xFF0C;&#x662F;&#x5426;&#x5141;&#x8BB8;&#x5176;&#x4ED6;&#x6A21;&#x677F;&#x4F7F;&#x7528;&#x3002;&#x9ED8;&#x8BA4;&#x662F;false&#x3002; * velocimacro.context.localscope&#x2014;&#x2014;&#x5728;&#x4E00;&#x4E2A;&#x5B8F;&#x91CC;&#x901A;&#x8FC7;#set()&#x4FEE;&#x6539;&#x4E86;context&#xFF0C;&#x6B64;&#x4FEE;&#x6539;&#x662F;&#x5426;&#x4EC5;&#x4EC5;&#x5BF9;&#x8FD9;&#x4E2A;&#x5B8F;&#x81EA;&#x8EAB;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6C38;&#x4E45;&#x6027;&#x4FEE;&#x6539;&#x4E86;context&#x3002;&#x9ED8;&#x8BA4;&#x503C;&#x662F;false&#x3002; * velocimacro.library.autoreload&#x2014;&#x2014;Velocity&#x5B8F;&#x6A21;&#x677F;&#x5E93;&#x4FEE;&#x6539;&#x4E4B;&#x540E;&#xFF0C;&#x662F;&#x5426;&#x81EA;&#x52A8;&#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#x3002;&#x9ED8;&#x8BA4;&#x503C;&#x662F;false&#x3002;debug&#x65F6;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E3A;true&#xFF0C;&#x53D1;&#x5E03;&#x65F6;&#x8BBE;&#x7F6E;&#x4E3A;false&#x3002; &#x5176;&#x4ED6;&#x6CE8;&#x610F;&#x70B9;&#x5B8F;&#x5FC5;&#x987B;&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x4F7F;&#x7528;&#x5B83;&#x4E4B;&#x524D;&#x5B9A;&#x4E49;&#x3002;&#x5F53; #Parse() &#x4E00;&#x4E2A;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x65F6;&#xFF0C;&#x5C24;&#x5176;&#x8981;&#x6CE8;&#x610F;&#x8FD9;&#x4E00;&#x70B9;&#x3002;","tags":[{"name":"Velocity","slug":"Velocity","permalink":"https://marklogzhu.github.io/tags/Velocity/"}]},{"title":"Velocity实战入门(七)--引入指令和#Stop指令 ","date":"2018-04-25T02:40:00.000Z","path":"Velocity/Velocity实战/Velocity实战入门(七)--引入指令和Stop指令/","text":"#include &#x6307;&#x4EE4;#include &#x811A;&#x672C;&#x5143;&#x7D20;&#x5141;&#x8BB8;&#x6A21;&#x677F;&#x8BBE;&#x8BA1;&#x8005;&#x5BFC;&#x5165;&#x4E00;&#x4E2A;&#x672C;&#x5730;&#x6587;&#x4EF6;&#xFF0C;&#x5B83;&#x4F1A;&#x88AB;&#x63D2;&#x5165;&#x5230; #include&#x6307;&#x4EE4; &#x6240;&#x5728;&#x7684;&#x4F4D;&#x7F6E;&#x3002;&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x4E0D;&#x4F1A;&#x88AB;&#x6A21;&#x677F;&#x5F15;&#x64CE;&#x5904;&#x7406;&#xFF08;render&#xFF09;&#x6240;&#x4EE5;&#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#x5E94;&#x8BE5;&#x662F;&#x9759;&#x6001;&#x6A21;&#x677F;,&#x5373;&#x4E0D;&#x542B;&#x6709; VTL &#x7684;&#x6A21;&#x677F;&#x3002;&#x51FA;&#x4E8E;&#x5B89;&#x5168;&#x8003;&#x8651;&#xFF0C;&#x88AB;&#x5BFC;&#x5165;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x53EA;&#x80FD;&#x88AB;&#x653E;&#x5728;TEMPLATE_ROOT&#x76EE;&#x5F55;&#x4E0B;&#x3002; #include( &quot;one.txt&quot; ) #include&#x6307;&#x4EE4;&#x8868;&#x660E;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x8981;&#x7528;&#x5F15;&#x53F7;&#x5F15;&#x8D77;&#x6765;&#x3002;&#x5982;&#x679C;&#x8981;&#x5BFC;&#x5165;&#x591A;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x5B83;&#x4EEC;&#x5E94;&#x8BE5;&#x7528;&#x9017;&#x53F7;&#x5206;&#x5F00;&#x3002; #include( &quot;one.gif&quot;,&quot;two.txt&quot;,&quot;three.htm&quot; ) &#x5C06;&#x88AB;&#x5BFC;&#x5165;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x65E0;&#x9700;&#x7528;&#x6587;&#x4EF6;&#x540D;&#x6765;&#x5F15;&#x7528;&#xFF1B;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x5E38;&#x7528;&#x53D8;&#x91CF;&#x6765;&#x4EE3;&#x66FF;&#x6587;&#x4EF6;&#x540D;&#x3002;&#x5F53;&#x9875;&#x9762;&#x8BF7;&#x6C42;&#x63D0;&#x4EA4;&#x540E;&#xFF0C;&#x6839;&#x636E;&#x5B83;&#x786E;&#x5B9A;&#x7684;&#x6807;&#x51C6;&#xFF0C;&#x6765;&#x5B9A;&#x4F4D;&#x8F93;&#x51FA;&#x65F6;&#xFF0C;&#x8FD9;&#x5C31;&#x5F88;&#x6709;&#x7528;&#x4E86;&#x3002;&#x8FD9;&#x91CC;&#x6709;&#x4E2A;&#x6F14;&#x793A;&#x540C;&#x65F6;&#x4F7F;&#x7528;&#x6587;&#x4EF6;&#x540D;&#x548C;&#x53D8;&#x91CF;&#x7684;&#x4F8B;&#x5B50;&#x3002; #include( &quot;greetings.txt&quot;, $seasonalstock ) #Parse &#x6307;&#x4EE4;#parse &#x811A;&#x672C;&#x5143;&#x7D20;&#x5141;&#x8BB8;&#x6A21;&#x677F;&#x8BBE;&#x8BA1;&#x8005;&#x5BFC;&#x5165;&#x5305;&#x542B;VTL&#x7684;&#x672C;&#x5730;&#x6587;&#x4EF6;&#x3002;Velocity&#x5C06;&#x89E3;&#x6790;VTL&#x5E76;&#x5904;&#x7406;&#x5236;&#x5B9A;&#x7684;&#x6A21;&#x677F;&#x3002; #parse( &quot;me.vm&quot; ) &#x8DDF; #include&#x6307;&#x4EE4; &#x4E00;&#x6837;&#xFF0C;#parse&#x4E5F;&#x80FD;&#x7528;&#x53D8;&#x91CF;&#x5BFC;&#x5165;&#x6A21;&#x677F;&#x3002;#parse &#x5F15;&#x7528;&#x7684;&#x4EFB;&#x4F55;&#x6A21;&#x677F;&#xFF0C;&#x5FC5;&#x987B;&#x5305;&#x542B;&#x5728;TEMPLATE_ROOT&#x76EE;&#x5F55;&#x4E0B;&#x3002;&#x8DDF; #include &#x6307;&#x4EE4;&#x4E0D;&#x540C;&#x7684;&#x662F;&#xFF0C;#parse&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x3002; VTL&#x6A21;&#x677F;&#x5141;&#x8BB8; #parse &#x8BED;&#x53E5;&#x5BFC;&#x5165;&#x7684;&#x6A21;&#x677F;&#xFF0C;&#x4E5F;&#x5305;&#x542B; #parse &#x8BED;&#x53E5;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;velocity.properties &#x4E2D;&#x7684; directive.parse.max.depth &#x503C;&#x662F;10&#xFF0C;&#x5B83;&#x4E5F;&#x5141;&#x8BB8;&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x3002;&#xFF08;&#x6CE8;&#x610F;&#xFF1A;&#x5982;&#x679C; velocity.properties &#x6587;&#x4EF6;&#x4E2D;&#x7684; directive.parse.max.depth &#x672A;&#x8BBE;&#x7F6E;&#xFF0C;Velocity &#x4F1A;&#x5C06;&#x5B83;&#x8BBE;&#x7F6E;&#x4E3A;&#x7F3A;&#x7701;&#x503C;10&#xFF09;&#x3002;&#x9012;&#x5F52;&#x662F;&#x5141;&#x8BB8;&#x7684;&#xFF0C;&#x4F8B;&#x5982;&#xFF0C;&#x6A21;&#x677F;dofoo.vm&#x5305;&#x542B;&#x5982;&#x4E0B;&#x7684;&#x6587;&#x4EF6;&#xFF1A; Count down. #set( $count = 8 ) #parse( &quot;parsefoo.vm&quot; ) All done with dofoo.vm! &#x5B83;&#x5BFC;&#x5165;parsefoo.vm&#xFF0C;&#x800C;&#x5B83;&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x5982;&#x4E0B;&#x7684;VTL: $count #set( $count = $count - 1 ) #if( $count &gt; 0 ) #parse( &quot;parsefoo.vm&quot; ) #else All done with parsefoo.vm! #end &#x5728;&#x201D;Count down.&#x201D;&#x663E;&#x793A;&#x540E;&#xFF0C;Velocity&#x89E3;&#x6790;parsefoo.vm&#xFF0C;&#x4ECE;8&#x5F80;&#x4E0B;&#x9012;&#x51CF;&#x3002;&#x5F53;&#x5230;&#x8FBE;0&#x65F6;&#xFF0C;&#x5C06;&#x4F1A;&#x663E;&#x793A;&#x201D;All done with parsefoo.vm!&#x201D;&#x7684;&#x4FE1;&#x606F;&#x3002;&#x8FD9;&#x65F6;&#xFF0C;Velocity&#x5C06;&#x8FD4;&#x56DE;dofoo.vm&#xFF0C;&#x5E76;&#x4E14;&#x8F93;&#x51FA;&#x201D;All done with dofoo.vm!&#x201D;&#x7684;&#x4FE1;&#x606F; #Break&#x4E2D;&#x6B62;#break&#x6307;&#x4EE4;&#x505C;&#x6B62;&#x5F53;&#x524D;&#x6267;&#x884C;&#x8FD4;&#x56DE;&#x7684;&#x7EE7;&#x7EED;&#x5904;&#x7406;&#x3002;&#x8DDF;#stop&#x4E0D;&#x540C;&#xFF0C;#break&#x4EC5;&#x4E2D;&#x6B62;&#x6700;&#x91CC;&#x5C42;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x4E2D;&#x6B62;&#x8DF3;&#x51FA;&#x7279;&#x5B9A;&#x7684;&#x6267;&#x884C;&#x8303;&#x56F4;&#xFF0C;&#x90A3;&#x4E48;&#xFF0C;&#x4F60;&#x53EF;&#x5C06;&#x8303;&#x56F4;&#x63A7;&#x5236;&#x5F15;&#x7528;&#xFF08;&#x4F8B;&#x5982;$foreach&#xFF0C;$template&#xFF0C;$evaluate&#xFF0C;$define&#xFF0C;$macro&#xFF0C;&#x6216;$somebodymacro&#xFF09;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x7ED9;#break&#x3002;&#xFF08;&#x4F8B;&#x5982;#break($macro)&#xFF09;&#x3002;&#x8FD9;&#x4F1A;&#x505C;&#x6B62;&#x6240;&#x6709;&#x8303;&#x56F4;&#x7684;&#x5904;&#x7406;&#xFF0C;&#x76F4;&#x5230;&#x9000;&#x51FA;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x90A3;&#x4E2A;&#x3002;&#x5728;&#x540C;&#x6837;&#x7C7B;&#x578B;&#x7684;&#x5D4C;&#x5957;&#x8303;&#x56F4;&#x5185;&#xFF0C;&#x8BB0;&#x4F4F;&#xFF0C;&#x4F60;&#x603B;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;$&#x8BBF;&#x95EE;&#x7236;&#x8303;&#x56F4;&#x3002;&#x7236;&#x8303;&#x56F4;&#x6216;$.topmost&#x4F20;&#x9012;&#x7ED9;#break&#xFF08;&#x4F8B;&#x5982;#break($foreach.parent)&#x6216;#break($macro.topmost)&#xFF09;&#x3002; Stop&#x505C;&#x6B62;#stop&#x6307;&#x4EE4; &#x505C;&#x6B62;&#x6A21;&#x677F;&#x7EE7;&#x7EED;&#x5904;&#x7406;&#x6216;&#x6267;&#x884C;&#x5E76;&#x8FD4;&#x56DE;&#x3002;&#x8FD9;&#x5728;debug&#x4E2D;&#x6BD4;&#x8F83;&#x6709;&#x7528;&#x3002;","tags":[{"name":"Velocity","slug":"Velocity","permalink":"https://marklogzhu.github.io/tags/Velocity/"}]},{"title":"Velocity实战入门(六)--#foreach指令","date":"2018-04-25T02:26:00.000Z","path":"Velocity/Velocity实战/Velocity实战入门(六)--foreach指令/","text":"#foreach&#x6307;&#x4EE4;#foreach &#x6307;&#x4EE4;&#x7528;&#x6765;&#x8FDB;&#x884C; Foreach &#x5FAA;&#x73AF;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A; #set($allProducts = [&quot;&#x5F20;&#x4E09;&quot;, &quot;&#x674E;&#x56DB;&quot;, &quot;&#x738B;&#x4E94;&quot;, &quot;&#x8D75;&#x516D;&quot;]) #foreach( $product in $allProducts ) &lt;li&gt;$product&lt;/li&gt; #end &#x8FD9;&#x4E2A; #foreach &#x5FAA;&#x73AF;&#xFF0C;&#x80FD;&#x5FAA;&#x73AF;&#x8BBF;&#x95EE; $allProducts &#x5217;&#x8868;&#xFF08;&#x5BF9;&#x8C61;&#xFF09;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x4EA7;&#x54C1;&#x3002;&#x6BCF;&#x6B21;&#x5FAA;&#x73AF;&#xFF0C;&#x5C06;$allProducts&#x4E2D;&#x7684;&#x503C;&#xFF0C;&#x8D4B;&#x503C;&#x7ED9; $product &#x53D8;&#x91CF;&#x3002; &#x53D8;&#x91CF; $allProducts &#x7684;&#x5185;&#x5BB9;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A; Vector&#xFF0C;Hashtable &#x6216; Array&#x3002;&#x8D4B;&#x7ED9;&#x53D8;&#x91CF; $product &#x7684;&#x503C;&#x662F;&#x4E2A; Java &#x5BF9;&#x8C61;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x50CF;&#x8FD9;&#x6837;&#x901A;&#x8FC7;&#x53D8;&#x91CF;&#x6765;&#x5F15;&#x7528;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5047;&#x5982; $product &#x662F; Java &#x4E2D;&#x7684; Product&#x7C7B;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; $product.Name &#x65B9;&#x6CD5;&#xFF08;$Product.getName()&#xFF09;&#x83B7;&#x53D6;&#x5230;&#x5B83;&#x7684;&#x540D;&#x79F0;&#x3002; &#x5047;&#x8BBE; $allProducts &#x662F;&#x4E2A; Hashtable &#x3002;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x83B7;&#x53D6; Hashtable &#x7684;&#x952E;&#x503C;&#xFF0C;&#x5C31;&#x50CF;&#x83B7;&#x53D6; Hashtable &#x4E2D;&#x7684;&#x5BF9;&#x8C61;&#x4E00;&#x6837;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x7F16;&#x7801;&#xFF1A; &lt;ul&gt; #foreach( $key in $allProducts.keySet() ) &lt;li&gt;Key: $key -&gt; Value: $allProducts.get($key)&lt;/li&gt; #end &lt;/ul&gt; Velocity&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x83B7;&#x53D6;&#x5FAA;&#x73AF;&#x8BA1;&#x6570;&#x7684;&#x7B80;&#x5355;&#x65B9;&#x6CD5;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x505A;&#xFF1A; &lt;table&gt; #foreach( $customer in $customerList ) &lt;tr&gt;&lt;td&gt;$foreach.count&lt;/td&gt;&lt;td&gt;$customer.Name&lt;/td&gt;&lt;/tr&gt; #end &lt;/table&gt; Velocity&#x4E5F;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x544A;&#x8BC9;&#x4F60;&#x662F;&#x5426;&#x4E3A;&#x5FAA;&#x73AF;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x7684;&#x7B80;&#x5355;&#x65B9;&#x6CD5;&#xFF1A; #foreach( $customer in $customerList ) $customer.Name#if( $foreach.hasNext ),#end #end &#x5982;&#x679C;&#x4F60;&#x60F3;&#x5F97;&#x5230;&#x5FAA;&#x73AF;&#x7684;&#x4E00;&#x4E2A;&#x4EE5;0&#x5F00;&#x59CB;&#x7684;&#x7D22;&#x5F15;&#xFF0C;&#x4F60;&#x53EF;&#x7528; $foreach.index &#x6765;&#x4EE3;&#x66FF; $foreach.count&#x3002;&#x540C;&#x6837;&#x5730;&#xFF0C;$foreach.first &#x548C; $foreach.last &#x53EF;&#x4EE5;&#x8DDF; $foreach.hasNext &#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x3002;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x8BBF;&#x95EE;&#x5916;&#x5C42; #foreach &#x5FAA;&#x73AF;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x901A;&#x8FC7; $foreach.parent &#x6216; $foreach.topmost &#x5F15;&#x7528;&#x5B83;&#x4EEC;&#x7684;&#x5C5E;&#x6027;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;$foreach.parent.index&#x6216;$foreach.topmost.hasNext&#xFF09;&#x3002; &#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x5FAA;&#x73AF;&#x6267;&#x884C;&#x7684;&#x6700;&#x5927;&#x6B21;&#x6570;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#xFF0C;&#x6CA1;&#x6709;&#x6700;&#x5927;&#x6B21;&#x6570;&#xFF08;&#x8BBE;&#x7F6E;&#x4E3A;0&#x6216;&#x8D1F;&#x6570;&#xFF09;&#xFF0C;&#x4F46;&#x8FD9;&#x53EF;&#x5728; velocity.properties &#x4E2D;&#x8BBE;&#x7F6E;&#x4E3A;&#x4EFB;&#x610F;&#x6570;&#x503C;&#x3002;&#x4F5C;&#x4E3A;&#x5931;&#x6548;&#x5B89;&#x5168;&#xFF0C;&#x8FD9;&#x5F88;&#x6709;&#x7528;&#x3002; # &#x5141;&#x8BB8;&#x7684;&#x6700;&#x5927;&#x5FAA;&#x73AF;&#x6B21;&#x6570; directive.foreach.maxloops = -1 &#x5982;&#x679C;&#x4F60;&#x60F3;&#x5728;&#x6A21;&#x677F;&#x4E2D;&#x7EC8;&#x6B62;&#x5FAA;&#x73AF;&#xFF0C;&#x4F60;&#x53EF;&#x5728;&#x4EFB;&#x4F55;&#x65F6;&#x5019;&#xFF0C;&#x7528;#break&#x6307;&#x4EE4;&#x7EC8;&#x6B62;&#x5B83;&#x3002; ## &#x4EC5;&#x5217;&#x51FA;&#x524D;5&#x4E2A;&#x987E;&#x5BA2; #foreach( $customer in $customerList ) #if( $foreach.count &gt; 5 ) #break #end $customer.Name #end","tags":[{"name":"Velocity","slug":"Velocity","permalink":"https://marklogzhu.github.io/tags/Velocity/"}]},{"title":"Velocity实战入门(五)--#if指令 ","date":"2018-04-25T02:12:00.000Z","path":"Velocity/Velocity实战/Velocity实战入门(五)--if指令/","text":"#if &#x6307;&#x4EE4;#if &#x6307;&#x4EE4; &#x7528;&#x4E8E;&#x5224;&#x65AD;&#x67D0;&#x4E2A;&#x6761;&#x4EF6;&#x662F;&#x5426;&#x4E3A; true&#x3002;&#x4EE5;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x4E3A;&#x4F8B;&#xFF0C;&#x5F53; $age &gt;= 18&#x4E3A;true&#x65F6;&#xFF0C;&#x5C06;&#x4F1A;&#x663E;&#x793A;&#x201D;&#x4F60;&#x5DF2;&#x7ECF;&#x6210;&#x5E74;&#x4E86;&#x54E6;&#x201D;&#x3002; #set ($age = 12) #if($age&gt;=18) &#x4F60;&#x5DF2;&#x7ECF;&#x6210;&#x5E74;&#x4E86;&#x54E6; #else &#x4F60;&#x8FD8;&#x6CA1;&#x6709;&#x6210;&#x5E74;&#x5462; #end &#x6CE8;&#xFF1A;#end &#x4E0D;&#x80FD;&#x7701;&#x7565; &#x5173;&#x7CFB;&#x548C;&#x903B;&#x8F91;&#x8FD0;&#x7B97;&#x7B26;Velocity &#x4F7F;&#x7528;&#x7B49;&#x53F7;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x6765;&#x51B3;&#x5B9A;&#x53D8;&#x91CF;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;&#x3002;&#x4E0B;&#x9762;&#x662F;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x6765;&#x6F14;&#x793A;&#x7B49;&#x53F7;&#x8FD0;&#x7B97;&#x7B26;&#x662F;&#x600E;&#x4E48;&#x4F7F;&#x7528;&#x7684;&#x3002; #set ($foo = &quot;deoxyribonucleic acid&quot;) #set ($bar = &quot;ribonucleic acid&quot;) #if ($foo == $bar) &#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x5F88;&#x660E;&#x663E;&#x5B83;&#x4EEC;&#x662F;&#x76F8;&#x7B49;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x3002;&#x3002;&#x3002; #else &#x5B83;&#x4EEC;&#x4E0D;&#x76F8;&#x7B49;&#xFF0C;&#x8FD9;&#x884C;&#x4F1A;&#x88AB;&#x8F93;&#x51FA;&#x3002; #end &#x6CE8;&#x610F;&#xFF0C;== &#x7684;&#x542B;&#x4E49;&#x8DDF;Java&#x91CC;&#x7684; == &#x6709;&#x70B9;&#x4E0D;&#x540C;&#xFF0C;Java&#x4E2D; == &#x53EA;&#x80FD;&#x8FDB;&#x884C;&#x5BF9;&#x8C61;&#x6BD4;&#x8F83;&#x3002;&#x5728;Velocity&#x4E2D;&#xFF0C;&#x7B49;&#x53F7;&#x8FD0;&#x7B97;&#x7B26;&#xFF0C;&#x53EF;&#x88AB;&#x7528;&#x6765;&#x76F4;&#x63A5;&#x6BD4;&#x8F83;&#x6570;&#x503C;&#xFF0C;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x6216;&#x8005;&#x5BF9;&#x8C61;&#x3002;&#x5F53;&#x5BF9;&#x8C61;&#x4E0D;&#x662F;&#x540C;&#x4E00;&#x7C7B;&#x65F6;&#xFF0C;&#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x90FD;&#x4F1A;&#x5148;&#x7528; toString()&#x83B7;&#x53D6;&#x5176;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x7136;&#x540E;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#x3002; Velocity &#x4E5F;&#x6709;&#x903B;&#x8F91;&#x8FD0;&#x7B97;&#x7B26; AND&#xFF0C;OR&#x548C;NOT&#x3002;&#x4E0B;&#x9762;&#x662F;&#x6F14;&#x793A;&#x903B;&#x8F91;&#x8FD0;&#x7B97;&#x7B26;AND&#xFF0C;OR&#x548C;NOT&#x7684;&#x4F8B;&#x5B50;&#x3002; ## &#x903B;&#x8F91;AND #if( $foo &amp;&amp; $bar ) &lt;strong&gt; This AND that&lt;/strong&gt; #end &#x4EC5;&#x5F53; $foo &#x548C;$bar&#x90FD;true&#x65F6;&#xFF0C;#if()&#x6307;&#x4EE4;&#x7684;&#x503C;&#x624D;&#x4E3A;true&#x3002;&#x5982;&#x679C;$foo&#x662F;false&#xFF0C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#x662F;false&#xFF1B;$bar&#x4E0D;&#x518D;&#x8BA1;&#x7B97;&#x3002; &#x5982;&#x679C;$foo&#x662F;true&#xFF0C;Velocity&#x6A21;&#x677F;&#x5F15;&#x64CE;&#x5C06;&#x68C0;&#x67E5;$bar&#x7684;&#x503C;&#xFF1B;&#x5982;&#x679C;$bar&#x662F;true&#xFF0C;&#x8FD9;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#x662F;true&#xFF0C;This AND that &#x4F1A;&#x88AB;&#x8F93;&#x51FA;&#x3002;&#x5982;&#x679C;$bar&#x662F;false&#xFF0C;&#x6574;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x662F;false&#xFF0C;&#x6CA1;&#x6709;&#x8F93;&#x51FA;&#x3002; &#x903B;&#x8F91;&#x8FD0;&#x7B97;&#x7B26;OR&#x4E5F;&#x540C;&#x6837;&#x5DE5;&#x4F5C;&#xFF0C;&#x53EA;&#x8981;&#x4E00;&#x4E2A;&#x5F15;&#x7528;&#x7684;&#x503C;&#x4E3A;true&#xFF0C;&#x6574;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#x5C31;&#x662F;true&#x3002;&#x770B;&#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x3002; ## &#x903B;&#x8F91;OR #if( $foo || $bar ) &lt;strong&gt;This OR That&lt;/strong&gt; #end &#x5982;&#x679C;$foo&#x662F;true&#xFF0C;Velocity&#x6A21;&#x677F;&#x5F15;&#x8D77;&#x4E0D;&#x4F1A;&#x7BA1;$bar&#x4E86;&#xFF1B;&#x4E0D;&#x7BA1;$bar&#x662F;true&#x6216;false&#xFF0C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#x90FD;&#x662F;true&#xFF0C;This OR That&#x4F1A;&#x8F93;&#x51FA;&#x3002;&#x5982;&#x679C;$foo&#x662F;false&#xFF0C;&#x90A3;&#x4E48;&#xFF0C;$bar &#x5FC5;&#x987B;&#x68C0;&#x67E5;&#x3002;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5982;&#x679C;$bar&#x4E5F;&#x662F;false&#xFF0C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#x662F;false&#xFF0C;&#x6CA1;&#x6709;&#x8F93;&#x51FA;&#x3002;&#x76F8;&#x53CD;&#xFF0C;&#x5982;&#x679C;$bar&#x662F;true&#xFF0C;&#x6574;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#x662F;true&#xFF0C;&#x5E76;&#x4E14;&#x8F93;&#x51FA;This OR That&#x3002; &#x903B;&#x8F91;&#x8FD0;&#x7B97;&#x7B26;NOT&#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF1A; ##&#x903B;&#x8F91;NOT #if( !$foo ) &lt;strong&gt;NOT that&lt;/strong&gt; #end &#x8FD9;&#x91CC;&#xFF0C;&#x5982;&#x679C;$foo&#x662F;true&#xFF0C;&#x90A3;&#x4E48;!$foo&#x5C31;&#x662F;false&#xFF0C;&#x5C31;&#x6CA1;&#x8F93;&#x51FA;&#x3002;&#x5982;&#x679C;$foo&#x662F;false&#xFF0C;&#x90A3;&#x4E48;!$foo&#x5C31;&#x662F;true&#xFF0C;&#x5E76;&#x4E14;NOT that&#x4F1A;&#x8F93;&#x51FA;&#x3002;&#x6CE8;&#x610F;&#x4E0D;&#x8981;&#x5C06;&#x8FD9;&#x548C;&#x9759;&#x6001;&#x5F15;&#x7528;$!foo&#x641E;&#x6DF7;&#x4E86;&#xFF0C;&#x5B83;&#x53EF;&#x5B8C;&#x5168;&#x4E0D;&#x540C;&#x3002; &#x6240;&#x6709;&#x903B;&#x8F91;&#x64CD;&#x4F5C;&#x7B26;&#xFF0C;&#x8FD8;&#x6709;&#x6587;&#x672C;&#x7248;&#x672C;&#xFF0C;&#x5305;&#x62EC;eq&#xFF0C;ne&#xFF0C;and&#xFF0C;or&#xFF0C;not&#xFF0C;gt&#xFF0C;ge&#xFF0C;lt&#x548C;le&#x3002;","tags":[{"name":"Velocity","slug":"Velocity","permalink":"https://marklogzhu.github.io/tags/Velocity/"}]},{"title":"Velocity实战入门(四)--注释 ","date":"2018-04-25T01:47:00.000Z","path":"Velocity/Velocity实战/Velocity实战入门(四)--注释 /","text":"&#x6CE8;&#x91CA;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x5F0F; &#x4EC0;&#x4E48;&#x662F;&#x6CE8;&#x91CA;&#x6CE8;&#x91CA;&#x5141;&#x8BB8;&#x5305;&#x542B;&#x4E00;&#x4E9B;&#x63CF;&#x8FF0;&#x6027;&#x7684;&#x6587;&#x672C;&#xFF0C;&#x5B83;&#x4EEC;&#x5E76;&#x4E0D;&#x4F1A;&#x5728;&#x6A21;&#x7248;&#x5F15;&#x64CE;&#x4E2D;&#x8F93;&#x51FA;&#x3002;&#x6CE8;&#x91CA;&#x80FD;&#x6709;&#x6548;&#x5730;&#x63D0;&#x9192;&#x4F60;&#x81EA;&#x5DF1;&#xFF0C;&#x6216;&#x89E3;&#x91CA;&#x7ED9;&#x522B;&#x4EBA;&#xFF0C;&#x4F60;&#x7684; VTL &#x8BED;&#x53E5;&#x5728;&#x505A;&#x4EC0;&#x4E48;&#xFF0C;&#x6216;&#x8005;&#x5176;&#x4ED6;&#x4F60;&#x53D1;&#x73B0;&#x6709;&#x7528;&#x7684;&#x4EFB;&#x4F55;&#x76EE;&#x7684;&#x3002; &#x6CE8;&#x91CA;&#x79CD;&#x7C7B;&#x6CE8;&#x91CA;&#x5206;&#x4E3A;&#x4E09;&#x79CD;&#xFF1A; * &#x5355;&#x884C;&#x6CE8;&#x91CA; * &#x591A;&#x884C;&#x6CE8;&#x91CA; * VTL&#x6CE8;&#x91CA;&#x5757; VTL&#x6CE8;&#x91CA;&#x5757; &#x5355;&#x884C;&#x6CE8;&#x91CA;&#x8BED;&#x6CD5;&#xFF1A; ## &#x6CE8;&#x91CA;&#x5185;&#x5BB9; &#x591A;&#x884C;&#x6CE8;&#x91CA;&#x8BED;&#x6CD5;&#xFF1A; #* &#x8FD9;&#x91CC;&#x662F;&#x6CE8;&#x91CA;&#x5185;&#x5BB9; &#x8FD9;&#x91CC;&#x662F;&#x6CE8;&#x91CA;&#x5185;&#x5BB9; &#x8FD9;&#x91CC;&#x662F;&#x6CE8;&#x91CA;&#x5185;&#x5BB9; *# VTL&#x6CE8;&#x91CA;&#x5757;&#x8BED;&#x6CD5;&#xFF1A; #** &#x8FD9;&#x662F;VTL&#x6CE8;&#x91CA;&#x5757;&#xFF0C;&#x53EF;&#x7528;&#x6237;&#x4FDD;&#x5B58;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#xFF0C;&#x6BD4;&#x5982;&#x4F5C;&#x8005;&#x548C;&#x7248;&#x672C;&#x4FE1;&#x606F;&#xFF1A; @author @version 5 *#","tags":[{"name":"Velocity","slug":"Velocity","permalink":"https://marklogzhu.github.io/tags/Velocity/"}]},{"title":"Velocity实战入门(三)--赋值","date":"2018-04-25T01:38:00.000Z","path":"Velocity/Velocity实战/Velocity实战入门(三)--赋值/","text":"&#x5728;&#x4E0A;&#x4E00;&#x7BC7;&#x4E2D;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x4E86;&#x89E3;&#x4E86;&#x600E;&#x4E48;&#x53D6;&#x503C;&#xFF0C;&#x73B0;&#x5728;&#x5C31;&#x8BA9;&#x6211;&#x4EEC;&#x6765;&#x5B66;&#x4E60;&#x4E0B;&#x600E;&#x4E48;&#x8D4B;&#x503C; &#x8D4B;&#x503C;&#x65B9;&#x5F0F;&#x8D4B;&#x503C;&#x65B9;&#x5F0F;&#x6709;&#x4E24;&#x79CD;&#xFF1A; * &#x540E;&#x53F0;&#x8D4B;&#x503C; * &#x9875;&#x9762; #set &#x6307;&#x4EE4;&#x8D4B;&#x503C; &#x540E;&#x53F0;&#x8D4B;&#x503C;&#x6211;&#x4EEC;&#x5148;&#x6765;&#x770B;&#x770B;&#x540E;&#x53F0;&#x662F;&#x600E;&#x4E48;&#x8D4B;&#x503C;&#x7684; @RequestMapping(&quot;/index2&quot;) public String vmIndex2(Model model) { model.addAttribute(&quot;user&quot;, initUser()); model.addAttribute(&quot;args&quot;,initArgs()); return &quot;test2&quot;; } private User initUser(){ User user = new User(); user.setUserName(&quot;marklogzhu&quot;); user.setAge(18); return user; } private String[] initArgs(){ return new String[]{&quot;&#x5F20;&#x4E09;&quot;,&quot;&#x674E;&#x56DB;&quot;,&quot;&#x738B;&#x4E94;&quot;,&quot;&#x8D75;&#x516D;&quot;}; } &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x662F;&#x76F4;&#x63A5;&#x58F0;&#x660E;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x5E76;&#x628A;&#x5B83;&#x6DFB;&#x52A0;&#x5230; model &#x5BF9;&#x8C61;&#x4E2D;&#x53BB;&#xFF0C;&#x6700;&#x540E;&#x7531; model &#x653E;&#x7F6E;&#x5230; request &#x4F5C;&#x7528;&#x57DF;&#x91CC; &#x9875;&#x9762; #set &#x6307;&#x4EE4;&#x8D4B;&#x503C;&#x9664;&#x4E86;&#x5728;&#x540E;&#x53F0;&#x8D4B;&#x503C;&#x7684;&#x65B9;&#x5F0F;&#x5916;&#x8FD8;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728;&#x9875;&#x9762;&#x901A;&#x8FC7; #set &#x6307;&#x4EE4;&#x6765;&#x8D4B;&#x503C; 1) &#x5728; HelloController.java &#x6587;&#x4EF6;&#x4E2D;&#x589E;&#x52A0;&#x5982;&#x4E0B;&#x65B9;&#x6CD5;&#xFF1A; @RequestMapping(&quot;/index3&quot;) public String vmIndex3(Model model) { model.addAttribute(&quot;age&quot;,&quot;5&quot;); return &quot;test3&quot;; } 2) &#x5728; templates &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; test3.vm &#x6587;&#x4EF6; #set ($name = &quot;marklogzhu&quot;) #set ($age = 18) #set ($class = $ccc) #set($args = [&quot;&#x5F20;&#x4E09;&quot;, &quot;&#x674E;&#x56DB;&quot;, &quot;&#x738B;&#x4E94;&quot;, &quot;&#x8D75;&#x516D;&quot;]) &lt;html&gt; &lt;head&gt; &lt;title&gt;Spring MVC and Velocity&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &#x9875;&#x9762;&#x8D4B;&#x503C;&#x5BF9;&#x8C61;:$name &lt;br&gt; &#x540E;&#x7AEF;&#x8D4B;&#x503C;&#x4E3A;5&#xFF0C;&#x9875;&#x9762;&#x8D4B;&#x503C;&#x4E3A;18&#xFF0C;&#x7ED3;&#x679C;&#x4E3A;&#xFF1A;$age &lt;br&gt; #set ($age = $age+1) &lt;br&gt; &#x901A;&#x8FC7;\\#set&#x6307;&#x4EE4;&#x52A0; 1 &#x540E;&#x7684;&#x503C;&#xFF1A; $age &lt;br&gt; &#x8D4B;&#x503C;&#x5BF9;&#x8C61;&#x672A;&#x5B9A;&#x4E49;&#x60C5;&#x51B5;&#x7ED3;&#x679C;&#x4E3A;: $class &lt;/body&gt; &lt;/html&gt; 3) &#x542F;&#x52A8;&#x9879;&#x76EE;&#x5E76;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8F93;&#x5165; http://localhost:8080/hello/index3 &#x4ECE;&#x4E0A;&#x9762;&#x7684;&#x7ED3;&#x679C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#xFF1A; * #set($key = value) &#x7684;&#x5F62;&#x5F0F;&#x53EF;&#x4EE5;&#x5728;&#x9875;&#x9762;&#x8D4B;&#x503C; * &#x540E;&#x7AEF;&#x8DDF;&#x9875;&#x9762;&#x5BF9;&#x540C;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x8D4B;&#x503C;&#x65F6;&#xFF0C;&#x9875;&#x9762;&#x4F1A;&#x8986;&#x76D6;&#x6389;&#x540E;&#x7AEF;&#x7684;&#x503C; * #set &#x8D4B;&#x503C;&#x65F6; value&#x4E3A; null &#x65F6;&#xFF0C;&#x4ED6;&#x7684;&#x503C;&#x5C31;&#x662F; kye &#x7684;&#x5B57;&#x9762;&#x91CF; * &#x6CA1;&#x6709; $age++&#x3001;++$age &#x8FD9;&#x79CD;&#x81EA;&#x589E;&#x65B9;&#x5F0F;","tags":[{"name":"Velocity","slug":"Velocity","permalink":"https://marklogzhu.github.io/tags/Velocity/"}]},{"title":"Velocity实战入门(二)--取值","date":"2018-04-25T00:42:00.000Z","path":"Velocity/Velocity实战/Velocity实战入门(二)--取值/","text":"&#x53D6;&#x503C;&#x65B9;&#x5F0F;&#x5728;&#x4E0A;&#x4E00;&#x7BC7;&#x4E2D;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x642D;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x5165;&#x95E8;&#x6848;&#x4F8B;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5728;&#x540E;&#x53F0;&#x7ED9;&#x524D;&#x53F0;&#x8FD4;&#x56DE;&#x4E86;&#x4E00;&#x4E2A;&#x5C5E;&#x6027; @RequestMapping(&quot;/index&quot;) public String vmIndex(Model model) { model.addAttribute(&quot;hello&quot;, &quot;hello velocity&quot;); return &quot;test&quot;; } &#x90A3;&#x4E48; Velocity &#x662F;&#x600E;&#x4E48;&#x53D6;&#x503C;&#x7684;&#x5462;&#xFF1F;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x4E0B;&#x4E0A;&#x4E2A;&#x6848;&#x4F8B;&#x4E2D;&#x7684; test.vm &#x9875;&#x9762; &lt;html&gt; &lt;head&gt; &lt;title&gt;Spring MVC and Velocity&lt;/title&gt; &lt;/head&gt; &lt;body&gt; $hello &lt;/body&gt; &lt;/html&gt; &#x53EF;&#x4EE5;&#x53D1;&#x73B0; &#x5B83;&#x662F;&#x901A;&#x8FC7; $ + &#x53D8;&#x91CF;&#x540D; &#x7684;&#x5F62;&#x5F0F;&#x6765;&#x6362;&#x53D6;&#x503C;&#x7684; &#x6211;&#x4EEC;&#x73B0;&#x5728;&#x53EA;&#x662F;&#x8D4B;&#x503C;&#x4E86;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x8BD5;&#x8BD5;&#x770B;&#x80FD;&#x4E0D;&#x80FD;&#x4F20;&#x9012;&#x4E0B;&#x5BF9;&#x8C61; &#x793A;&#x4F8B;1) &#x65B0;&#x5EFA; pojo &#x5305;&#x5E76;&#x5728;&#x4E0B;&#x9762;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A; User.java public class User { private String userName; private int age; public String print(String userName,int age){ return &quot;&#x6211;&#x53EB;&quot;+userName+&quot;&#x4ECA;&#x5E74;&quot;+age + &quot;&#x5C81;&#x4E86;&quot;; } @Override public String toString() { return &quot;User{&quot; + &quot;&#x59D3;&#x540D;=&apos;&quot; + userName + &apos;\\&apos;&apos; + &quot;, &#x5E74;&#x9F84;=&quot; + age + &apos;}&apos;; } // get set ... } 2) &#x5728; HelloController.java &#x4E0B;&#x65B0;&#x589E;&#x65B9;&#x6CD5; @RequestMapping(&quot;/index2&quot;) public String vmIndex2(Model model) { model.addAttribute(&quot;user&quot;, initUser()); model.addAttribute(&quot;args&quot;,initArgs()); return &quot;test2&quot;; } private User initUser(){ User user = new User(); user.setUserName(&quot;marklogzhu&quot;); user.setAge(18); return user; } private String[] initArgs(){ return new String[]{&quot;&#x5F20;&#x4E09;&quot;,&quot;&#x674E;&#x56DB;&quot;,&quot;&#x738B;&#x4E94;&quot;,&quot;&#x8D75;&#x516D;&quot;}; } 3) &#x5728; templates &#x76EE;&#x7C7B;&#x4E0B;&#x65B0;&#x5EFA; test2.vm &#x6587;&#x4EF6; &lt;html&gt; &lt;head&gt; &lt;title&gt;Spring MVC and Velocity&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h3&gt;&#x5BF9;&#x8C61;&#x7684;&#x4F7F;&#x7528;&lt;/h3&gt; user &#x5BF9;&#x8C61;: $user &lt;h3&gt;&#x65B9;&#x6CD5;&#x7684;&#x4F7F;&#x7528;&lt;/h3&gt; user.toString(): $user.toString() &lt;br&gt; user.getUserName() : $user.getUserName() &lt;br&gt; user.getAge() : $user.getAge() &lt;br&gt; user .print(): $user.print($user.userName,$user.age) &lt;br&gt; &lt;h3&gt;&#x5C5E;&#x6027;&#x7684;&#x4F7F;&#x7528;&lt;/h3&gt; user.age &#x5C5E;&#x6027; : $user.age &lt;br&gt; user.userName &#x5C5E;&#x6027; : $user.userName &lt;h3&gt;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x5BF9;&#x8C61;&#x7684;&#x4F7F;&#x7528;&lt;/h3&gt; admin&#x5B57;&#x7B26;&#x4E32; &#xFF1A; $admin &lt;br&gt; admin&#x5B57;&#x7B26;&#x4E32; &#xFF1A;$!{admin} &lt;h3&gt;&#x6570;&#x7EC4;&#x7D22;&#x5F15;&#x7684;&#x4F7F;&#x7528;&lt;/h3&gt; args : $!{args[0]},$!{args[1]},$!{args[2]} &lt;/body&gt; &lt;/html&gt; 4) &#x542F;&#x52A8;&#x9879;&#x76EE;,&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8F93;&#x5165; http://localhost:8080/hello/index2 &#x4ECE;&#x4E0A;&#x9762;&#x7684;&#x7ED3;&#x679C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#xFF1A; * &#x6240;&#x6709;&#x7684;&#x5F15;&#x7528;&#x7684;&#x503C;&#x90FD;&#x88AB;&#x8F6C;&#x4E3A;&#x4E86; String &#x7C7B;&#x578B;, &#x5C31;&#x7B97;&#x662F;&#x5BF9;&#x8C61;&#x4E5F;&#x4F1A;&#x88AB;&#x8C03;&#x7528; toString() &#x65B9;&#x6CD5; * &#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5F15;&#x7528;&#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027; * &#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8C03;&#x7528;&#x5BF9;&#x8C61;&#x7684;&#x65B9;&#x6CD5;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x4F20;&#x53C2; * $admin &#x8FD9;&#x79CD;&#x5199;&#x6CD5;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x8FD9;&#x4E2A;&#x503C;&#x7684;&#x8BDD;&#x5C31;&#x4F1A;&#x539F;&#x6837;&#x8F93;&#x51FA;&#xFF0C;&#x800C;&#x901A;&#x8FC7; $!{admin} &#x5C31;&#x4E0D;&#x4F1A;&#x663E;&#x793A;&#x5728;&#x9875;&#x9762;&#x4E2D;&#x4E86; * ${admin} &#x7684;&#x5199;&#x6CD5;&#x4E0D;&#x4F1A;&#x5728;&#x4E0E;&#x5176;&#x4ED6;&#x6587;&#x672C;&#x76F8;&#x5173;&#x8054;&#x7684;&#x65F6;&#x5019; &#x8BA9; Velocity &#x89E3;&#x6790;&#x9519;&#x8BEF;&#x5982;&#xFF1A; $adminUsername * &#x6570;&#x7EC4;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7D22;&#x5F15;&#x7684;&#x5F62;&#x5F0F;&#x8F93;&#x51FA; &#x5F15;&#x7528;&#x53D6;&#x503C;&#x7684;&#x5B66;&#x540D;&#x53EB;&#x505A;&#x5F15;&#x7528;&#xFF0C; &#x6B63;&#x89C4;&#x7684;&#x5F15;&#x7528;&#x683C;&#x5F0F;&#x8BED;&#x6CD5;: ${mudSlinger} ${customer.Address} ${purchase.getTotal()} &#x7B80;&#x5199;&#x7684;&#x5F15;&#x7528;&#x683C;&#x5F0F;&#x8BED;&#x6CD5;: $mudSlinger $customer.Address $purchase.getTotal() &#x503C;&#x4E3A;null &#x65F6;&#x4E0D;&#x8F93;&#x51FA;&#x7684;&#x5F15;&#x7528;&#x683C;&#x5F0F;&#x8BED;&#x6CD5;: $!{admin}","tags":[{"name":"Velocity","slug":"Velocity","permalink":"https://marklogzhu.github.io/tags/Velocity/"}]},{"title":"Velocity实战入门(一)--环境搭建","date":"2018-04-24T08:38:00.000Z","path":"Velocity/Velocity实战/Velocity实战入门(一)--环境搭建/","text":"&#x4EC0;&#x4E48;&#x662F; VelocityVelocity &#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E; Java &#x7684;&#x6A21;&#x7248;&#x5F15;&#x64CE;&#x3002;&#x5B83;&#x5141;&#x8BB8;&#x9875;&#x9762;&#x8BBE;&#x8BA1;&#x4EBA;&#x5458;&#x5F15;&#x7528; Java &#x4EE3;&#x7801;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x65B9;&#x6CD5;&#x3002;Web &#x9875;&#x9762;&#x8BBE;&#x8BA1;&#x4EBA;&#x5458;&#xFF0C;&#x53EF;&#x4EE5;&#x8DDF;Java&#x7A0B;&#x5E8F;&#x5458;&#x5E76;&#x884C;&#x5DE5;&#x4F5C;&#xFF1A;&#x6839;&#x636E;MVC&#x6A21;&#x578B;&#xFF0C;&#x4EE5;&#x5F00;&#x53D1;Web&#x9875;&#x9762;&#xFF1B;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x3002;Web&#x9875;&#x9762;&#x8BBE;&#x8BA1;&#x4EBA;&#x5458;&#x80FD;&#x4E13;&#x6CE8;&#x4E8E;&#x521B;&#x5EFA;&#x66F4;&#x597D;&#x7684;&#x9875;&#x9762;&#xFF0C;&#x800C;&#x7A0B;&#x5E8F;&#x5458;&#x80FD;&#x4E13;&#x6CE8;&#x4E8E;&#x7F16;&#x5199;&#x4F18;&#x79C0;&#x7684;&#x4EE3;&#x7801;&#x3002;Velocity&#x5206;&#x79BB;&#x4E86;Java&#x4EE3;&#x7801;&#x548C;Web&#x9875;&#x9762;&#xFF0C;&#x5B83;&#x4F7F;&#x5F97; Web &#x9875;&#x9762;&#x4ECE;&#x957F;&#x8FDC;&#x6765;&#x770B;&#x66F4;&#x5BB9;&#x6613;&#x7EF4;&#x62A4;&#xFF0C;&#x5B83;&#x4E3A; JSP &#x6216; PHP &#x63D0;&#x4F9B;&#x4E86;&#x53EF;&#x66FF;&#x4EE3;&#x7684;&#x65B9;&#x6848;&#x3002; Velocity&#x53EF;&#x7528;&#x6765;&#x4ECE;&#x6A21;&#x7248;&#x4E2D;&#xFF0C;&#x751F;&#x6210;Web&#x9875;&#x9762;&#xFF0C;SQL&#xFF0C;PostScript&#x548C;&#x5176;&#x4ED6;&#x8F93;&#x51FA;&#x3002;&#x5B83;&#x5373;&#x53EF;&#x4F5C;&#x4E3A;&#x72EC;&#x7ACB;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x7528;&#x6765;&#x751F;&#x6210;&#x6E90;&#x4EE3;&#x7801;&#x548C;&#x62A5;&#x544A;&#xFF1B;&#x4E5F;&#x53EF;&#x4F5C;&#x4E3A;&#x5176;&#x4ED6;&#x7CFB;&#x7EDF;&#x7684;&#x4E00;&#x4E2A;&#x96C6;&#x6210;&#x7EC4;&#x4EF6;&#x3002;&#x96C6;&#x6210;&#x597D;&#x540E;&#xFF0C;Velocity&#x5C06;&#x4E3A;Turbine Web&#x5E94;&#x7528;&#x6846;&#x67B6;&#x63D0;&#x4F9B;&#x6A21;&#x677F;&#x670D;&#x52A1;&#x3002; Velocity+Turbine&#x63D0;&#x4F9B;&#x7684;&#x6A21;&#x677F;&#x670D;&#x52A1;&#xFF0C;&#x5C06;&#x53EF;&#x5B9E;&#x73B0;&#x6839;&#x636E;&#x4E00;&#x4E2A;&#x771F;&#x6B63;&#x7684;MVC&#x6A21;&#x578B;&#xFF0C;&#x5F00;&#x53D1;Web&#x5E94;&#x7528;&#x3002; &#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x5B66; Velocity&#x65B0;&#x5165;&#x804C;&#x516C;&#x53F8;&#x9879;&#x76EE;&#x4E2D;&#x7528;&#x5230;&#x4E86; Velocity &#x5B66;&#x4E60;&#x65B9;&#x5F0F;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x4E2A;&#x5C0F;&#x793A;&#x4F8B;&#x6765;&#x5B66;&#x4E60; Velocity &#x7684;&#x5404;&#x9879;&#x529F;&#x80FD; &#x5B66;&#x4E60;&#x8D44;&#x6599;: velocity &#x4F7F;&#x7528;&#x624B;&#x518C;&#x82F1;&#x6587;&#x7248; velocity &#x4F7F;&#x7528;&#x624B;&#x518C;&#x4E2D;&#x6587;&#x7248; &#x73AF;&#x5883;&#x642D;&#x5EFA; (spring mvc + Velocity)1) &#x901A;&#x8FC7; maven &#x521B;&#x5EFA;&#x4E00;&#x4E2A; web &#x9879;&#x76EE;2) &#x6253;&#x5F00;pom &#x6587;&#x4EF6;,&#x5BFC;&#x5165;&#x4EE5;&#x4E0B;&#x4F9D;&#x8D56; &lt;!--spring &#x76F8;&#x5173;--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;${org.springframework.spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;${org.springframework.spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;!-- &#x542B;&#x652F;&#x6301;UI&#x6A21;&#x7248;&#xFF08;Velocity&#xFF0C;FreeMarker&#xFF0C;JasperReports&#xFF09;&#xFF0C;&#x90AE;&#x4EF6;&#x670D;&#x52A1;&#xFF0C;&#x811A;&#x672C;&#x670D;&#x52A1;(JRuby)&#xFF0C;&#x7F13;&#x5B58;Cache&#xFF08;EHCache&#xFF09;&#xFF0C; &#x4EFB;&#x52A1;&#x8BA1;&#x5212;Scheduling&#xFF08;uartz&#xFF09;&#x65B9;&#x9762;&#x7684;&#x7C7B;&#x3002;&#x5916;&#x90E8;&#x4F9D;&#x8D56;spring-context, (spring-jdbc, Velocity, FreeMarker, JasperReports, BSH, Groovy, JRuby, Quartz, EHCache) --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt; &lt;version&gt;${org.springframework.spring.version}&lt;/version&gt; &lt;/dependency&gt; &lt;!-- servlet-api --&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;servlet-api&lt;/artifactId&gt; &lt;version&gt;2.5&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- velocity --&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt; &lt;artifactId&gt;velocity&lt;/artifactId&gt; &lt;version&gt;1.7&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt; &lt;artifactId&gt;velocity-tools&lt;/artifactId&gt; &lt;version&gt;2.0&lt;/version&gt; &lt;/dependency&gt; 3) &#x5728; pom &#x6587;&#x4EF6;&#x4E0B;&#x52A0;&#x5165; tomcat7 &#x63D2;&#x4EF6; &lt;build&gt; &lt;finalName&gt;velocityDemo&lt;/finalName&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt; &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt; &lt;version&gt;2.2&lt;/version&gt; &lt;configuration&gt; &lt;path&gt;/&lt;/path&gt; &lt;port&gt;8080&lt;/port&gt; &lt;server&gt;tomcat7&lt;/server&gt; &lt;/configuration&gt; &lt;executions&gt; &lt;execution&gt; &lt;phase&gt;package&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;run&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; 4) &#x5728; webapp/WEB-INI &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; springMvc-servlet.xml &#x6587;&#x4EF6;&#x5E76;&#x7F16;&#x8F91;&#x5982;&#x4E0B;&#x5185;&#x5BB9; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xsi:schemaLocation=&quot; http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.2.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.2.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.2.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.2.xsd&quot;&gt; &lt;context:annotation-config/&gt; &lt;context:component-scan base-package=&quot;com.learn.controller&quot;/&gt; &lt;!-- velocity &#x73AF;&#x5883;&#x914D;&#x7F6E; --&gt; &lt;bean id=&quot;velocityConfig&quot; class=&quot;org.springframework.web.servlet.view.velocity.VelocityConfigurer&quot;&gt; &lt;!-- velocity&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8DEF;&#x5F84; &#x6216;&#x8005;&#x76F4;&#x63A5;&#x7528;velocityProperties&#x5C5E;&#x6027; --&gt; &lt;property name=&quot;configLocation&quot; value=&quot;classpath:velocity.properties&quot;/&gt; &lt;!-- velocity&#x6A21;&#x677F;&#x8DEF;&#x5F84; --&gt; &lt;property name=&quot;resourceLoaderPath&quot; value=&quot;/WEB-INF/templates/&quot;/&gt; &lt;/bean&gt; &lt;!-- velocity &#x89C6;&#x56FE;&#x89E3;&#x6790;&#x5668; --&gt; &lt;bean id=&quot;velocityViewResolver&quot; class=&quot;org.springframework.web.servlet.view.velocity.VelocityLayoutViewResolver&quot;&gt; &lt;property name=&quot;order&quot; value=&quot;0&quot;/&gt; &lt;property name=&quot;contentType&quot; value=&quot;text/html;charset=UTF-8&quot;/&gt; &lt;property name=&quot;cache&quot; value=&quot;true&quot;/&gt; &lt;property name=&quot;suffix&quot; value=&quot;.vm&quot;/&gt; &lt;property name=&quot;layoutUrl&quot; value=&quot;layout/layout.vm&quot;/&gt; &lt;property name=&quot;exposeSpringMacroHelpers&quot; value=&quot;true&quot;/&gt;&lt;!--&#x662F;&#x5426;&#x4F7F;&#x7528;spring&#x5BF9;&#x5B8F;&#x5B9A;&#x4E49;&#x7684;&#x652F;&#x6301;--&gt; &lt;property name=&quot;exposeSessionAttributes&quot; value=&quot;true&quot;/&gt;&lt;!--&#x662F;&#x5426;&#x5F00;&#x653E;request&#x5C5E;&#x6027;--&gt; &lt;property name=&quot;requestContextAttribute&quot; value=&quot;request&quot;/&gt;&lt;!--request&#x5C5E;&#x6027;&#x5F15;&#x7528;&#x540D;&#x79F0;--&gt; &lt;property name=&quot;dateToolAttribute&quot; value=&quot;dateTool&quot;/&gt; &lt;property name=&quot;numberToolAttribute&quot; value=&quot;numberTool&quot;/&gt; &lt;/bean&gt; &lt;/beans&gt; 5) &#x5728; resources &#x76EE;&#x7C7B;&#x4E0B;&#x65B0;&#x5EFA; velocity.properties &#x6587;&#x4EF6; #&#x8BBE;&#x7F6E;&#x5B57;&#x7B26;&#x96C6; #encoding input.encoding =UTF-8 output.encoding=UTF-8 contentType=text/html;charset=UTF-8 #&#x5F53;vm&#x6539;&#x53D8;&#x65F6;&#x662F;&#x5426;&#x81EA;&#x52A8;&#x91CD;&#x65B0;&#x52A0;&#x8F7D; file.resource.loader.cache=false file.resource.loader.modificationCheckInterval =1 velocimacro.library.autoreload=false 6) &#x7F16;&#x8F91; web.xml &#x6587;&#x4EF6; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;web-app version=&quot;2.4&quot; xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;&gt; &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt; &lt;servlet&gt; &lt;servlet-name&gt;springMvc&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;/WEB-INF/springMvc-servlet.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;springMvc&lt;/servlet-name&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; &lt;/web-app&gt; 7) &#x5728; java &#x76EE;&#x7C7B;&#x4E0B;&#x65B0;&#x5EFA;&#x5305; com.learn.controller &#x5E76;&#x5728;&#x5176;&#x4E0B;&#x65B0;&#x5EFA; HelloController.java &#x6587;&#x4EF6;&#x5E76;&#x7F16;&#x8F91;&#x5982;&#x4E0B;&#x5185;&#x5BB9; @Controller @RequestMapping(&quot;/hello&quot;) public class HelloController { @RequestMapping(&quot;/index&quot;) public String vmIndex(Model model) { model.addAttribute(&quot;hello&quot;, &quot;hello velocity&quot;); return &quot;test&quot;; } } 8) &#x5728; WEB-INI &#x76EE;&#x7C7B;&#x4E0B;&#x65B0;&#x5EFA;&#x6587;&#x4EF6;&#x5939; templates &#x5E76;&#x5728;&#x5176;&#x4E0B;&#x65B0;&#x5EFA; test.vm &#x6587;&#x4EF6; &lt;html&gt; &lt;head&gt; &lt;title&gt;Spring MVC and Velocity&lt;/title&gt; &lt;/head&gt; &lt;body&gt; $hello &lt;/body&gt; &lt;/html&gt; 9) &#x70B9;&#x51FB; edit configurations &#x6DFB;&#x52A0; maven &#x542F;&#x52A8;&#x9879; 10) &#x542F;&#x52A8;&#x9879;&#x76EE;,&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8F93;&#x5165; http://localhost:8080/hello/index","tags":[{"name":"Velocity","slug":"Velocity","permalink":"https://marklogzhu.github.io/tags/Velocity/"}]},{"title":"nginx–s reload 命令无效问题","date":"2018-04-21T12:08:00.000Z","path":"Nginx/后台/Nginx/nginx–s reload命令无效/","text":"&#x4F7F;&#x7528;&#x573A;&#x666F;nginx &#x914D;&#x7F6E;&#x4E24;&#x4E2A;tomcat&#x5B9E;&#x73B0;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#xFF0C;&#x4EBA;&#x4E3A;&#x5C06;&#x5176;&#x4E2D;&#x4E00;&#x53F0;tomcat&#x5173;&#x95ED;&#x6D4B;&#x8BD5;nginx&#x8F6C;&#x53D1;&#x60C5;&#x51B5;&#x5E76;&#x4FEE;&#x6539;&#x8FDE;&#x63A5;&#x8D85;&#x65F6;&#x914D;&#x7F6E; upstream mysvr { #weigth&#x53C2;&#x6570;&#x8868;&#x793A;&#x6743;&#x503C;&#xFF0C;&#x6743;&#x503C;&#x8D8A;&#x9AD8;&#x88AB;&#x5206;&#x914D;&#x5230;&#x7684;&#x51E0;&#x7387;&#x8D8A;&#x5927; #max_fails&#x6700;&#x5927;&#x8D85;&#x65F6;&#x6B21;&#x6570; #fail_timeout&#x670D;&#x52A1;&#x5668;&#x4EE3;&#x7406;&#x76D1;&#x542C;&#x8D85;&#x65F6;&#x65F6;&#x95F4; server 127.0.0.3:8080 weight=1 max_fails=1 fail_timeout=60; server 127.0.0.3:8090 weight=1 max_fails=1 fail_timeout=60; } server { listen 80; server_name localhost; location / { proxy_pass http://mysvr; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; # &#x8BBE;&#x7F6E;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#x4E3A;1&#x79D2; proxy_connect_timeout 1; proxy_read_timeout 1; proxy_send_timeout 1; } } &#x9519;&#x8BEF;&#x73B0;&#x8C61;&#x8D85;&#x65F6;&#x8FDE;&#x63A5;&#x914D;&#x7F6E;&#x4FEE;&#x6539;&#x65E0;&#x6548;&#xFF0C;&#x8FD8;&#x662F;&#x9700;&#x8981;&#x9ED8;&#x8BA4;&#x7684;&#x4E00;&#x5206;&#x949F;&#x65F6;&#x95F4;&#x624D;&#x80FD;&#x8F6C;&#x53D1;&#x5230;&#x53E6;&#x4E00;&#x53F0; tomcat &#x4E0A; &#x9519;&#x8BEF;&#x539F;&#x56E0;&#x4ECE;&#x5B98;&#x7F51;&#x67E5;&#x8BE2;&#x5230; nginx&#x2013;s reload &#x547D;&#x4EE4;&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; 1. Nginx&#x7684;master&#x8FDB;&#x7A0B;&#x68C0;&#x67E5;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x6B63;&#x786E;&#x6027;&#xFF0C;&#x82E5;&#x662F;&#x9519;&#x8BEF;&#x5219;&#x8FD4;&#x56DE;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#xFF0C;nginx&#x7EE7;&#x7EED;&#x91C7;&#x7528;&#x539F;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x5DE5;&#x4F5C;&#xFF08;&#x56E0;&#x4E3A;worker&#x672A;&#x53D7;&#x5230;&#x5F71;&#x54CD;&#xFF09; 2. Nginx&#x542F;&#x52A8;&#x65B0;&#x7684;worker&#x8FDB;&#x7A0B;&#xFF0C;&#x91C7;&#x7528;&#x65B0;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6; 3. Nginx&#x5C06;&#x65B0;&#x7684;&#x8BF7;&#x6C42;&#x5206;&#x914D;&#x65B0;&#x7684;worker&#x8FDB;&#x7A0B; 4. Nginx&#x7B49;&#x5F85;&#x4EE5;&#x524D;&#x7684;worker&#x8FDB;&#x7A0B;&#x7684;&#x5168;&#x90E8;&#x8BF7;&#x6C42;&#x5DF2;&#x7ECF;&#x90FD;&#x8FD4;&#x56DE;&#x540E;&#xFF0C;&#x5173;&#x95ED;&#x76F8;&#x5173;worker&#x8FDB;&#x7A0B; 5. &#x91CD;&#x590D;&#x4E0A;&#x9762;&#x8FC7;&#x7A0B;&#xFF0C;&#x76F4;&#x5230;&#x5168;&#x90E8;&#x65E7;&#x7684;worker&#x8FDB;&#x7A0B;&#x90FD;&#x88AB;&#x5173;&#x95ED;&#x6389; &#x6211;&#x4EEC;&#x6765;&#x770B;&#x4E0B;&#x6587;&#x5B57;&#x8BF4;&#x660E;&#xFF1A; &#x4E3A;&#x4E86;&#x8BA9;&#x4E3B;&#x8FDB;&#x7A0B;&#x91CD;&#x65B0;&#x8BFB;&#x53D6;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5E94;&#x8BE5;&#x5411;&#x4E3B;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x4E00;&#x4E2A;HUP&#x4FE1;&#x53F7;&#xFF0C;&#x4E3B;&#x8FDB;&#x7A0B;&#x4E00;&#x65E6;&#x63A5;&#x6536;&#x5230;&#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#x914D;&#x7F6E;&#x7684;&#x7684;&#x4FE1;&#x53F7;&#xFF0C;&#x5B83;&#x5C31;&#x68C0;&#x67E5;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BED;&#x6CD5;&#x7684;&#x6709;&#x6548;&#x6027;&#xFF0C;&#x7136;&#x540E;&#x8BD5;&#x56FE;&#x5E94;&#x7528;&#x65B0;&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x5373;&#x6253;&#x5F00;&#x65B0;&#x7684;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x548C;&#x65B0;&#x7684;socket &#x76D1;&#x542C;&#xFF0C;&#x5982;&#x679C;&#x5931;&#x8D25;&#xFF0C;&#x5B83;&#x5C06;&#x56DE;&#x6EDA;&#x914D;&#x7F6E;&#x66F4;&#x6539;&#x5E76;&#x7EE7;&#x7EED;&#x4F7F;&#x7528;&#x65E7;&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x5982;&#x679C;&#x6210;&#x529F;&#x4E86;&#xFF0C;&#x5B83;&#x5F00;&#x542F;&#x65B0;&#x7684;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#xFF0C;&#x5E76;&#x7ED9;&#x65E7;&#x7684;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x53D1;&#x6D88;&#x606F;&#x8BA9;&#x5B83;&#x4EEC;&#x4F18;&#x96C5;&#x7684;&#x5173;&#x95ED;&#xFF0C;&#x65E7;&#x7684;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x63A5;&#x6536;&#x5230;&#x5173;&#x95ED;&#x4FE1;&#x53F7;&#x540E;&#xFF0C;&#x4E0D;&#x518D;&#x63A5;&#x6536;&#x65B0;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x5982;&#x679C;&#x5DF2;&#x6709;&#x8BF7;&#x6C42;&#x6B63;&#x5728;&#x5904;&#x7406;&#xFF0C;&#x7B49;&#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x5904;&#x7406;&#x5B8C;&#x6BD5;&#x540E;&#x5173;&#x95ED;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x8BF7;&#x6C42;&#x6B63;&#x5728;&#x5904;&#x7406;&#xFF0C;&#x5219;&#x76F4;&#x63A5;&#x5173;&#x95ED;&#x3002; &#x6839;&#x636E;&#x4E0A;&#x6587;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5982;&#x679C;&#x51FA;&#x73B0;&#x95EE;&#x9898;&#x5C06;&#x4F1A;&#x56DE;&#x6EDA;&#x914D;&#x7F6E;&#x66F4;&#x6539;&#x5E76;&#x7EE7;&#x7EED;&#x4F7F;&#x7528;&#x65E7;&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x6240;&#x4EE5;&#x4F1A;&#x51FA;&#x73B0;&#x914D;&#x7F6E;&#x4FEE;&#x6539;&#x65E0;&#x6548;&#x7684;&#x95EE;&#x9898;&#x3002; &#x89E3;&#x51B3;&#x529E;&#x6CD5;&#x624B;&#x5DE5;&#x5173;&#x95ED;&#x8FDB;&#x7A0B;&#xFF0C;&#x91CD;&#x65B0;&#x542F;&#x52A8; nginx","tags":[{"name":"Nginx","slug":"Nginx","permalink":"https://marklogzhu.github.io/tags/Nginx/"}]},{"title":"(转)svn的使用","date":"2018-04-21T08:55:00.000Z","path":"svn/版本控制/svn/(转)svn的使用/","text":"&#x8FDB;&#x5165;&#x65B0;&#x516C;&#x53F8;&#xFF0C;&#x516C;&#x53F8;&#x7684;&#x9879;&#x76EE;&#x91C7;&#x7528;&#x7684;&#x7248;&#x672C;&#x63A7;&#x5236;&#x662F;svn&#xFF0C;&#x6B63;&#x597D;&#x6765;&#x5B66;&#x4E60;&#x4E0B;svn&#x7684;&#x4F7F;&#x7528; &#x4E0D;&#x8981;&#x91CD;&#x590D;&#x9020;&#x8F6E;&#x5B50;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x5C31;&#x8F6C;&#x4E86;&#x4E0B;&#x522B;&#x4EBA;&#x5199;&#x7684;svn&#x7CFB;&#x5217;&#x6587;&#x7AE0;&#x2026; SVN&#x670D;&#x52A1;&#x5668;&#x642D;&#x5EFA;&#x548C;&#x4F7F;&#x7528;&#xFF08;&#x4E00;&#xFF09;SVN&#x670D;&#x52A1;&#x5668;&#x642D;&#x5EFA;&#x548C;&#x4F7F;&#x7528;&#xFF08;&#x4E8C;&#xFF09;SVN&#x670D;&#x52A1;&#x5668;&#x642D;&#x5EFA;&#x548C;&#x4F7F;&#x7528;&#xFF08;&#x4E09;&#xFF09;","tags":[{"name":"svn","slug":"svn","permalink":"https://marklogzhu.github.io/tags/svn/"},{"name":"版本控制","slug":"版本控制","permalink":"https://marklogzhu.github.io/tags/版本控制/"}]},{"title":"Nginx学习总结(6)--Location指令","date":"2018-04-19T06:26:00.000Z","path":"Nginx/后台/Nginx/Nginx学习总结(6)--Location指令/","text":"Location &#x6307;&#x4EE4;&#x7684;&#x4F5C;&#x7528; location &#x6307;&#x4EE4;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x6839;&#x636E;&#x7528;&#x6237;&#x8BF7;&#x6C42;&#x7684; URI &#x6765;&#x6267;&#x884C;&#x4E0D;&#x540C;&#x7684;&#x5E94;&#x7528;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6839;&#x636E;&#x7528;&#x6237;&#x8BF7;&#x6C42;&#x7684;&#x7F51;&#x7AD9; URL &#x8FDB;&#x884C;&#x5339;&#x914D;&#xFF0C;&#x5339;&#x914D;&#x6210;&#x529F;&#x5373;&#x8FDB;&#x884C;&#x76F8;&#x5173;&#x7684;&#x64CD;&#x4F5C;&#x3002; Location &#x6307;&#x4EE4;&#x53EF;&#x4EE5;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x6216;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x3002;&#x4F46;&#x5982;&#x679C;&#x8981;&#x4F7F;&#x7528;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x5219;&#x5FC5;&#x987B;&#x6307;&#x5B9A;&#x524D;&#x7F00;&#x3002; Location &#x6307;&#x4EE4;&#x8BED;&#x6CD5;location [ = | ~ | ~* | ^~ ] uri * location &#xFF1A;&#x6307;&#x4EE4;&#x540D;&#x79F0; * [ = | ~ | ~* | ^~ ] &#xFF1A;&#x5339;&#x914D;&#x6807;&#x8BC6; * uri &#xFF1A;&#x5339;&#x914D;&#x7684;&#x7F51;&#x7AD9;&#x7F51;&#x5740; * { .... } :&#x5339;&#x914D; URI &#x4E4B;&#x540E;&#x8981;&#x6267;&#x884C;&#x7684;&#x914D;&#x7F6E;&#x6BB5; &#x5339;&#x914D;&#x6807;&#x8BC6;&#x4F18;&#x5148;&#x7EA7; &#x201C;=&#x201D; &#x7684;&#x4F18;&#x5148;&#x7EA7;&#x4E3A;&#x6700;&#x9AD8;&#xFF0C;&#x4E3A;&#x7CBE;&#x786E;&#x5339;&#x914D;&#xFF1B;&#x7279;&#x6B8A;&#x5B57;&#x7B26; &#x201C;~&#x201D; &#x548C; &#x201C;~*&#x201D; &#x7684;&#x533A;&#x522B;&#x5728;&#x4E8E;&#x524D;&#x8005;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#xFF0C;&#x540E;&#x8005;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#xFF0C;&#x4ED6;&#x4EEC;&#x8FD8;&#x53EF;&#x4EE5;&#x7528;&#x903B;&#x8F91;&#x64CD;&#x4F5C;&#x7B26; &#x201C;!&#x201D; &#x6765;&#x53D6;&#x53CD;&#x5339;&#x914D;&#xFF1B;&#x201D;^~&#x201D; &#x7684;&#x610F;&#x601D;&#x662F;&#x5339;&#x914D;&#x4E4B;&#x540E;&#x4E0D;&#x505A;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x68C0;&#x67E5;&#xFF0C;&#x5C31;&#x662F;&#x4E0D;&#x7528;&#x5339;&#x914D;&#x7C7B;&#x4F3C;&#x4E8E; &#x201C;.(gif|jpg|jpeg)$ &#x201C;&#x7684;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x4E86;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4; &#x201C;^~&#x201D; &#x540E;&#x9762;&#x8DDF;&#x4E86;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x4E5F;&#x6CA1;&#x6709;&#x7528;&#x7684;&#x3002; location&#x7684;&#x5339;&#x914D;&#x793A;&#x4F8B;&#xFF1A; * location = / { [ configuration A ] } #&#x7528;&#x6237;&#x8BF7;&#x6C42;&quot;/&quot;&#x65F6;&#xFF0C;&#x5339;&#x914D;A&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;www.marklogzhu.com/ * location / { [ configuration B ] } #&#x5F53;&#x7528;&#x6237;&#x8BF7;&#x6C42;&quot;/index.html&quot;&#x65F6;&#xFF0C;&#x5339;&#x914D;B&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;www.marklogzhu.com/index.html * location /documents/ { [ configuration C ] } #&#x5F53;&#x7528;&#x6237;&#x8BF7;&#x6C42;&quot;/documents/&quot;&#x65F6;&#xFF0C;&#x5339;&#x914D;C&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;www.marklogzhu.com/documents/index.html * location ^~ /images/ { [ configuration D ] } #&#x5F53;&#x7528;&#x6237;&#x8BF7;&#x6C42;&quot;/images/&quot;&#x65F6;&#xFF0C;&#x5339;&#x914D;D&#xFF0C;&#xFF1A;www.marklogzhu.com/images/1.jpg * location ~* \\.(gif|jpg|jpeg)$ { [ configuration E ] } #&#x5F53;&#x7528;&#x6237;&#x8BF7;&#x6C42;&quot;.gif|.jpg|.jpeg&quot;&#x65F6;&#xFF0C;&#x5339;&#x914D;E&#xFF0C;&#x4F8B;&#x5982;:www.marklogzhu.com/documents/1.jpg #&#x4E0A;&#x9762;&#x7684;&#x53CD;&#x659C;&#x6760;&#x662F;&#x8F6C;&#x4E49;&#x5B57;&#x7B26;&#xFF0C;$&#x7684;&#x610F;&#x601D;&#x662F;&#x7ED3;&#x5C3E; &#x5B9E;&#x9645;&#x5E38;&#x7528;&#x89C4;&#x5219;&#x9996;&#x9875;&#x76F4;&#x63A5;&#x5339;&#x914D;&#x7F51;&#x7AD9;&#x6839;&#xFF0C;&#x901A;&#x8FC7;&#x57DF;&#x540D;&#x8BBF;&#x95EE;&#x7F51;&#x7AD9;&#x9996;&#x9875;&#x6BD4;&#x8F83;&#x9891;&#x7E41;&#xFF0C;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x4F1A;&#x52A0;&#x901F;&#x5904;&#x7406;&#x3002; location = / { proxy_passhttp://tomcat:8080/index } &#x6CE8;:&#x8FD9;&#x91CC;&#x662F;&#x76F4;&#x63A5;&#x8F6C;&#x53D1;&#x7ED9;&#x540E;&#x7AEF;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#x4E86;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;&#x9759;&#x6001;&#x9996;&#x9875; &#x9759;&#x6001;&#x6587;&#x4EF6;&#x8BF7;&#x6C42;&#x6709;&#x4E24;&#x79CD;&#x914D;&#x7F6E;&#x6A21;&#x5F0F;&#xFF0C;&#x76EE;&#x5F55;&#x5339;&#x914D;&#x6216;&#x540E;&#x7F00;&#x5339;&#x914D;,&#x4EFB;&#x9009;&#x5176;&#x4E00;&#x6216;&#x642D;&#x914D;&#x4F7F;&#x7528; location ^~ /static/ { # &#x8BF7;&#x6C42;/static/a.txt &#x5C06;&#x88AB;&#x6620;&#x5C04;&#x5230;&#x5B9E;&#x9645;&#x76EE;&#x5F55;&#x6587;&#x4EF6;:/webroot/res/static/a.txt root /webroot/res/; } location ~* \\.(gif|jpg|jpeg|png|css|js|ico)${ root /webroot/res/; } &#x52A8;&#x6001;&#x8BF7;&#x6C42;&#x6839;&#x636E;&#x5B9E;&#x9645;&#x60C5;&#x51B5;&#x914D;&#x7F6E; location / { proxy_pass http://tomcat:8080/ } Location&#x89E3;&#x6790;&#x8FC7;&#x7A0B; &#x603B;&#x7ED3;&#xFF1A; 1&#x3001;&#x5148;&#x5224;&#x65AD;&#x7CBE;&#x51C6;&#x547D;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x547D;&#x4E2D;&#xFF0C;&#x7ACB;&#x5373;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x5E76;&#x7ED3;&#x675F;&#x89E3;&#x6790;&#x8FC7;&#x7A0B;&#x3002;2&#x3001;&#x5224;&#x65AD;&#x666E;&#x901A;&#x547D;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x591A;&#x4E2A;&#x547D;&#x4E2D;&#xFF0C;&#x201C;&#x8BB0;&#x5F55;&#x201D;&#x4E0B;&#x6765;&#x201C;&#x6700;&#x957F;&#x201D;&#x7684;&#x547D;&#x4E2D;&#x7ED3;&#x679C;&#xFF08;&#x8BB0;&#x5F55;&#x4F46;&#x4E0D;&#x7ED3;&#x675F;&#xFF0C;&#x6700;&#x957F;&#x7684;&#x4E3A;&#x51C6;&#xFF09;&#x3002;3&#x3001;&#x7EE7;&#x7EED;&#x5224;&#x65AD;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x89E3;&#x6790;&#x7ED3;&#x679C;&#xFF0C;&#x6309;&#x914D;&#x7F6E;&#x91CC;&#x7684;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x987A;&#x5E8F;&#x4E3A;&#x51C6;&#xFF0C;&#x7531;&#x4E0A;&#x81F3;&#x4E0B;&#x5F00;&#x59CB;&#x5339;&#x914D;&#xFF0C;&#x4E00;&#x65E6;&#x5339;&#x914D;&#x6210;&#x529F;1&#x4E2A;&#xFF0C;&#x7ACB;&#x5373;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF0C;&#x5E76;&#x7ED3;&#x675F;&#x89E3;&#x6790;&#x8FC7;&#x7A0B;&#x3002;4&#x3001;&#x666E;&#x901A;&#x547D;&#x4E2D;&#x987A;&#x5E8F;&#x65E0;&#x6240;&#x8C13;&#xFF0C;&#x662F;&#x56E0;&#x4E3A;&#x6309;&#x547D;&#x4E2D;&#x7684;&#x957F;&#x77ED;&#x6765;&#x786E;&#x5B9A;&#x3002;&#x6B63;&#x5219;&#x547D;&#x4E2D;&#xFF0C;&#x987A;&#x5E8F;&#x6709;&#x6240;&#x8C13;&#xFF0C;&#x56E0;&#x4E3A;&#x662F;&#x4ECE;&#x524D;&#x5165;&#x5F80;&#x540E;&#x547D;&#x4E2D;&#x7684;&#x3002;","tags":[{"name":"Nginx","slug":"Nginx","permalink":"https://marklogzhu.github.io/tags/Nginx/"}]},{"title":"Nginx学习总结(5)--负载均衡","date":"2018-04-13T07:58:00.000Z","path":"Nginx/后台/Nginx/Nginx学习总结(5)--负载均衡/","text":"&#x4EC0;&#x4E48;&#x662F;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x5F53;&#x5E76;&#x53D1;&#x8BF7;&#x6C42;&#x8FC7;&#x5927;&#x65F6;&#xFF0C;&#x5C31;&#x4F1A;&#x5BFC;&#x81F4;&#x670D;&#x52A1;&#x5668;&#x54CD;&#x5E94;&#x7F13;&#x6162;&#xFF0C;&#x6240;&#x4EE5;&#x5C31;&#x9700;&#x8981;&#x5C06;&#x5E94;&#x7528;&#x90E8;&#x7F72;&#x5230;&#x591A;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x7B97;&#x4E00;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x5D29;&#x6E83;&#x4E86;&#xFF0C;&#x4E5F;&#x4E0D;&#x5F71;&#x54CD;&#x7528;&#x6237;&#x7684;&#x4F7F;&#x7528;&#x3002; &#x914D;&#x7F6E;&#x8D1F;&#x8F7D;&#x5747;&#x8861;1) &#x914D;&#x7F6E;&#x4E24;&#x4E2A;tomcat&#x5E76;&#x80FD;&#x6B63;&#x5E38;&#x8BBF;&#x95EE; 2) &#x8FDB;&#x5165; conf &#x76EE;&#x5F55;&#x7F16;&#x8F91; nginx.conf &#x6587;&#x4EF6;3) &#x5728; http &#x8282;&#x70B9;&#x4E2D;&#x65B0;&#x5EFA; upstream &#x8282;&#x70B9; #&#x8BBE;&#x5B9A;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7684;&#x670D;&#x52A1;&#x5668;&#x5217;&#x8868; upstream mysvr { server 127.0.0.1:8080; server 127.0.0.1:8090; } 4) &#x914D;&#x7F6E; location &#x8282;&#x70B9; location / { proxy_pass http://mysvr; #&#x8BF7;&#x6C42;&#x8F6C;&#x5411;mysvr &#x5B9A;&#x4E49;&#x7684;&#x670D;&#x52A1;&#x5668;&#x5217;&#x8868;; proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } 4) &#x91CD;&#x542F; Nginx nginx -s reload 5) &#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8F93;&#x5165; http://localhost &#x591A;&#x6B21;&#x5237;&#x65B0;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x8BBF;&#x95EE;&#x5230;&#x4E0D;&#x540C;&#x7684;tomcat &#x8D85;&#x65F6;&#x8BBE;&#x7F6E;&#x670D;&#x52A1;&#x5668;&#x8D85;&#x65F6;&#x8BBE;&#x7F6E; max_fails:&#x8868;&#x793A;&#x5728;fail_timeout&#x65F6;&#x95F4;&#x6BB5;&#x5185;&#x6700;&#x591A;&#x53EF;&#x4EE5;&#x8D85;&#x65F6;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x5982;&#x679C;&#x8D85;&#x8FC7;&#x8FD9;&#x4E2A;&#x6B21;&#x6570;,nginx &#x5C06;&#x4F1A;&#x628A;&#x8FD9;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x4ECE;&#x5217;&#x8868;&#x4E2D;&#x5254;&#x9664; fail_timeout &#x65F6;&#x95F4;,&#x5373;&#x5728;fail_timeout &#x65F6;&#x95F4;&#x6BB5;&#x5185;&#x8BF7;&#x6C42;&#x4E0D;&#x4F1A;&#x53D1;&#x9001;&#x81F3;&#x8FD9;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;&#x9ED8;&#x8BA4;1&#x6B21;&#xFF0C;&#x8BBE;&#x4E3A;0&#x5373;&#x4E3A;&#x4E0D;&#x68C0;&#x67E5; fail_timeout:&#x670D;&#x52A1;&#x5668;&#x4EE3;&#x7406;&#x76D1;&#x542C;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF0C;&#x9ED8;&#x8BA4;10&#x79D2; # &#x8BBE;&#x5B9A;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7684;&#x670D;&#x52A1;&#x5668;&#x5217;&#x8868; upstream mysvr { # &#x6700;&#x591A;&#x8D85;&#x65F6;1&#x6B21;&#xFF0C;&#x65F6;&#x95F4;&#x4E3A;60&#x79D2; server 127.0.0.1:8080 max_fails=1 fail_timeout=60; server 127.0.0.1:8090 max_fails=1 fail_timeout=60; } &#x8BF7;&#x6C42;&#x8FDE;&#x63A5;&#x8D85;&#x65F6;&#x65F6;&#x95F4; proxy_connecttimeout:&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#x8FDE;&#x63A5;&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#x53D1;&#x8D77;&#x63E1;&#x624B;&#x7B49;&#x5019;&#x54CD;&#x5E94;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF0C;&#x9ED8;&#x8BA4;&#x503C; 60&#x79D2;&#x5E76;&#x4E14;&#x4E0D;&#x80FD;&#x8D85;&#x8FC7;75&#x79D2; proxy_readtimeout:&#x8FDE;&#x63A5;&#x6210;&#x529F;&#x540E;&#x7B49;&#x5019;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#x54CD;&#x5E94;&#x65F6;&#x95F4;_&#x5176;&#x5B9E;&#x5DF2;&#x7ECF;&#x8FDB;&#x5165;&#x540E;&#x7AEF;&#x7684;&#x6392;&#x961F;&#x4E4B;&#x4E2D;&#x7B49;&#x5019;&#x5904;&#x7406;&#xFF08;&#x4E5F;&#x53EF;&#x4EE5;&#x8BF4;&#x662F;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x7684;&#x65F6;&#x95F4;&#xFF09;&#xFF0C;&#x9ED8;&#x8BA4;&#x503C; 60&#x79D2; proxy_sendtimeout :&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#x6570;&#x636E;&#x56DE;&#x4F20;&#x65F6;&#x95F4;&#x5C31;&#x662F;&#x5728;&#x89C4;&#x5B9A;&#x65F6;&#x95F4;&#x4E4B;&#x5185;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#x5FC5;&#x987B;&#x4F20;&#x5B8C;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x9ED8;&#x8BA4;&#x503C; 60&#x79D2; location / { proxy_pass http://mysvr; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_connect_timeout 1; proxy_read_timeout 1; proxy_send_timeout 1; } &#x6CE8;:&#x5982;&#x679C;&#x4FEE;&#x6539;&#x540E;&#x4F7F;&#x7528; nginx -s reload &#x547D;&#x4EE4;&#x65E0;&#x6548;&#xFF0C;&#x5C06; nginx &#x8FDB;&#x7A0B;&#x5173;&#x95ED;&#xFF0C;&#x91CD;&#x542F; nginx &#x5373;&#x53EF;(&#x8BE5;&#x95EE;&#x9898;&#x8017;&#x65F6;&#x534A;&#x5929;) &#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7B56;&#x7565;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7B56;&#x7565;&#x6709;&#x4EE5;&#x4E0B;&#x4E94;&#x79CD;&#x7B56;&#x7565;&#xFF1A; &#x8F6E;&#x8BE2;(&#x9ED8;&#x8BA4;) &#x6307;&#x5B9A;&#x6743;&#x91CD; ip_hash(IP &#x7ED1;&#x5B9A;) fair(&#x7B2C;&#x4E09;&#x65B9;) url_hash(&#x7B2C;&#x4E09;&#x65B9;) &#x8F6E;&#x8BE2;&#x4E4B;&#x524D;&#x7684;&#x4F8B;&#x5B50;&#x5C31;&#x662F;&#x4F7F;&#x7528;&#x8F6E;&#x8BE2;&#x7B56;&#x7565;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; #&#x8BBE;&#x5B9A;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7684;&#x670D;&#x52A1;&#x5668;&#x5217;&#x8868; upstream mysvr { server 127.0.0.1:8080; server 127.0.0.1:8090; } &#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x6309;&#x65F6;&#x95F4;&#x987A;&#x5E8F;&#x9010;&#x4E00;&#x5206;&#x914D;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5982;&#x679C;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#x5B95;&#x673A;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x5254;&#x9664;&#x6389;&#x3002;&#x6CE8;&#xFF1A;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x660E;&#x786E;&#x8BBE;&#x7F6E; fail_timeout &#x5C5E;&#x6027;&#x7684;&#x8BDD;&#xFF0C;fail_timeout &#x9ED8;&#x8BA4;&#x503C;&#x4E3A;10&#x79D2; ,&#x4E5F;&#x5C31;&#x662F;&#x8BF4;10&#x79D2;&#x4E4B;&#x540E;&#x8BF7;&#x6C42;&#x8FD8;&#x662F;&#x4F1A;&#x8F6C;&#x53D1;&#x5230;&#x8FD9;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x4E0A; &#x6307;&#x5B9A;&#x6743;&#x91CD;&#x6307;&#x5B9A;&#x8F6E;&#x8BE2;&#x51E0;&#x7387;&#xFF0C;weight&#x548C;&#x8BBF;&#x95EE;&#x6BD4;&#x7387;&#x6210;&#x6B63;&#x6BD4;&#xFF0C;&#x7528;&#x4E8E;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#x6027;&#x80FD;&#x4E0D;&#x5747;&#x7684;&#x60C5;&#x51B5;&#x3002;&#x5982;&#x679C;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#x5B95;&#x673A;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x5254;&#x9664;&#x6389;&#xFF0C;&#x5254;&#x9664;&#x65F6;&#x95F4;&#x540C;&#x4E0A;&#x3002;&#x6BD4;&#x5982;&#x4E0B;&#x9762;&#x914D;&#x7F6E;&#xFF0C;&#x5219; 90 &#x7AEF;&#x53E3;&#x7684;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8BBF;&#x95EE;&#x91CF;&#x662F; 80 &#x7AEF;&#x53E3;&#x670D;&#x52A1;&#x5668;&#x7684;&#x4E24;&#x500D;&#x3002; upstream mysvr { server 127.0.0.1:8080 weight=1; server 127.0.0.1:8090 weight=2; } ip_hash(IP &#x7ED1;&#x5B9A;)&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x6309;&#x8BBF;&#x95EE; ip &#x7684; hash &#x7ED3;&#x679C;&#x5206;&#x914D;&#xFF0C;&#x8FD9;&#x6837;&#x6BCF;&#x4E2A;&#x8BBF;&#x5BA2;&#x56FA;&#x5B9A;&#x8BBF;&#x95EE;&#x4E00;&#x4E2A;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;session&#x4E0D;&#x80FD;&#x8DE8;&#x670D;&#x52A1;&#x5668;&#x7684;&#x95EE;&#x9898;&#x3002;&#x5982;&#x679C;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#x5B95;&#x673A;&#xFF0C;&#x8981;&#x624B;&#x5DE5;&#x5254;&#x9664;&#x3002; upstream resinserver{ ip_hash; server 127.0.0.1:8080 ; server 127.0.0.1:8090 ; } fair&#xFF08;&#x7B2C;&#x4E09;&#x65B9;&#x63D2;&#x4EF6;&#xFF09;&#x6309;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#x7684;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x6765;&#x5206;&#x914D;&#x8BF7;&#x6C42;&#xFF0C;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x77ED;&#x7684;&#x4F18;&#x5148;&#x5206;&#x914D;&#x3002; upstream resinserver{ server 127.0.0.1:8080 ; server 127.0.0.1:8090 ; fair; } url_hash&#xFF08;&#x7B2C;&#x4E09;&#x65B9;&#x63D2;&#x4EF6;&#xFF09;&#x6309;&#x8BBF;&#x95EE;url&#x7684;hash&#x7ED3;&#x679C;&#x6765;&#x5206;&#x914D;&#x8BF7;&#x6C42;&#xFF0C;&#x4F7F;&#x6BCF;&#x4E2A;url&#x5B9A;&#x5411;&#x5230;&#x540C;&#x4E00;&#x4E2A;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#x4E3A;&#x7F13;&#x5B58;&#x670D;&#x52A1;&#x5668;&#x65F6;&#x6BD4;&#x8F83;&#x6709;&#x6548;&#x3002;&#x5728;upstream&#x4E2D;&#x52A0;&#x5165;hash&#x8BED;&#x53E5;&#xFF0C;hash_method&#x662F;&#x4F7F;&#x7528;&#x7684;hash&#x7B97;&#x6CD5; upstream resinserver{ server 127.0.0.1:8080 ; server 127.0.0.1:8090 ; hash $request_uri; hash_method crc32; } &#x670D;&#x52A1;&#x5668;&#x7684;&#x72B6;&#x6001; down &#x8868;&#x793A;&#x5355;&#x524D;&#x7684;server&#x6682;&#x65F6;&#x4E0D;&#x53C2;&#x4E0E;&#x8D1F;&#x8F7D; weight &#x6743;&#x91CD;,&#x9ED8;&#x8BA4;&#x4E3A;1&#x3002; weight&#x8D8A;&#x5927;&#xFF0C;&#x8D1F;&#x8F7D;&#x7684;&#x6743;&#x91CD;&#x5C31;&#x8D8A;&#x5927;&#x3002; max_fails &#x5141;&#x8BB8;&#x8BF7;&#x6C42;&#x5931;&#x8D25;&#x7684;&#x6B21;&#x6570;&#x9ED8;&#x8BA4;&#x4E3A;1&#x3002;&#x5F53;&#x8D85;&#x8FC7;&#x6700;&#x5927;&#x6B21;&#x6570;&#x65F6;&#xFF0C;&#x8FD4;&#x56DE;proxy_next_upstream &#x6A21;&#x5757;&#x5B9A;&#x4E49;&#x7684;&#x9519;&#x8BEF; fail_timeout max_fails&#x6B21;&#x5931;&#x8D25;&#x540E;&#xFF0C;&#x6682;&#x505C;&#x7684;&#x65F6;&#x95F4;&#x3002; backup &#x5907;&#x7528;&#x670D;&#x52A1;&#x5668;, &#x5176;&#x5B83;&#x6240;&#x6709;&#x7684;&#x975E;backup&#x673A;&#x5668;down&#x6216;&#x8005;&#x5FD9;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8BF7;&#x6C42;backup&#x673A;&#x5668;&#x3002;&#x6240;&#x4EE5;&#x8FD9;&#x53F0;&#x673A;&#x5668;&#x538B;&#x529B;&#x4F1A;&#x6700;&#x8F7B;&#x3002;","tags":[{"name":"Nginx","slug":"Nginx","permalink":"https://marklogzhu.github.io/tags/Nginx/"}]},{"title":"Nginx学习总结(4)--反向代理","date":"2018-04-13T07:22:00.000Z","path":"Nginx/后台/Nginx/Nginx学习总结(4)--反向代理/","text":"&#x4EC0;&#x4E48;&#x662F;&#x53CD;&#x5411;&#x4EE3;&#x7406;&#xFF1F;&#x5BA2;&#x6237;&#x7AEF;&#x672C;&#x6765;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x901A;&#x8FC7;HTTP&#x534F;&#x8BAE;&#x8BBF;&#x95EE;&#x67D0;&#x7F51;&#x7AD9;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5982;&#x679C;&#x7F51;&#x7AD9;&#x7BA1;&#x7406;&#x5458;&#x5728;&#x4E2D;&#x95F4;&#x52A0;&#x4E0A;&#x4E00;&#x4E2A; Nginx&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;Nginx&#xFF0C;Nginx&#x8BF7;&#x6C42;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x7ED3;&#x679C;&#x8FD4;&#x56DE;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x6B64;&#x65F6;Nginx&#x5C31;&#x662F;&#x53CD;&#x5411;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x3002; &#x914D;&#x7F6E; Nginx &#x4EE3;&#x7406; HTTP &#x8BF7;&#x6C42;&#x5230; Tomcat1) &#x542F;&#x52A8;&#x4E00;&#x4E2A;tomcat&#x5E76;&#x80FD;&#x6B63;&#x5E38;&#x8BBF;&#x95EE; 2) &#x8FDB;&#x5165; conf &#x76EE;&#x5F55;&#x7F16;&#x8F91; nginx.conf &#x6587;&#x4EF6;3) &#x5B9A;&#x4F4D;&#x81F3; location &#x8282;&#x70B9;&#xFF0C;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#xFF1A; location / { proxy_pass http://localhost:8080; proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } 4) &#x91CD;&#x542F; Nginx nginx -s reload 5) &#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8F93;&#x5165; http://localhost","tags":[{"name":"Nginx","slug":"Nginx","permalink":"https://marklogzhu.github.io/tags/Nginx/"}]},{"title":"Nginx学习总结(3)--静态文件服务器","date":"2018-04-13T07:07:00.000Z","path":"Nginx/后台/Nginx/Nginx学习总结(3)--静态文件服务器/","text":"&#x4EC0;&#x4E48;&#x662F;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x975E;&#x670D;&#x52A1;&#x5668;&#x52A8;&#x6001;&#x8FD0;&#x884C;&#x751F;&#x6210;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5982;&#xFF1A; html,css,js &#x56FE;&#x7247; &#x89C6;&#x9891; &#x6587;&#x4EF6; &#x663E;&#x793A;&#x56FE;&#x7247;1) &#x8FDB;&#x5165; conf &#x76EE;&#x5F55;&#x7F16;&#x8F91; nginx.conf &#x6587;&#x4EF6;2) &#x5728; server &#x8282;&#x70B9;&#x4E0B;&#x65B0;&#x589E;&#x52A0;&#x4E00;&#x4E2A; location &#x8282;&#x70B9; location ~ .*\\.(gif|jpg|jpeg|png)$ { root D:\\images;#&#x56FE;&#x7247;&#x5B58;&#x653E;&#x76EE;&#x5F55; } 3) &#x91CD;&#x542F; Nginx nginx -s reload 4) &#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8F93;&#x5165; http://localhost/test.jpg","tags":[{"name":"Nginx","slug":"Nginx","permalink":"https://marklogzhu.github.io/tags/Nginx/"}]},{"title":"Nginx学习总结(2)--虚拟主机\"","date":"2018-04-13T06:08:00.000Z","path":"Nginx/后台/Nginx/Nginx学习总结(2)--虚拟主机/","text":"&#x4EC0;&#x4E48;&#x662F;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x662F;&#x6307;&#x5728;&#x7F51;&#x7EDC;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x5206;&#x51FA;&#x4E00;&#x5B9A;&#x7684;&#x78C1;&#x76D8;&#x7A7A;&#x95F4;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x79DF;&#x7528;&#x6B64;&#x90E8;&#x5206;&#x7A7A;&#x95F4;&#xFF0C;&#x4EE5;&#x4F9B;&#x7528;&#x6237;&#x653E;&#x7F6E;&#x7AD9;&#x70B9;&#x53CA;&#x5E94;&#x7528;&#x7EC4;&#x4EF6;&#xFF0C;&#x63D0;&#x4F9B;&#x5FC5;&#x8981;&#x7684;&#x6570;&#x636E;&#x5B58;&#x653E;&#x548C;&#x4F20;&#x8F93;&#x529F;&#x80FD;&#x3002; &#x57FA;&#x4E8E;&#x57DF;&#x540D;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;1) &#x5728; conf &#x540C;&#x7EA7;&#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; test &#x76EE;&#x5F55;&#xFF0C;&#x5E76;&#x5728;&#x91CC;&#x9762;&#x65B0;&#x5EFA; index.html &#x6587;&#x4EF6; &lt;html&gt; &lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt; &lt;/head&gt; &lt;body&gt; &lt;h2&gt;&#x57FA;&#x4E8E;&#x57DF;&#x540D;&#x8BBF;&#x95EE;-index&lt;/h2&gt; &lt;/body&gt; &lt;/html&gt; 2) &#x8FDB;&#x5165; conf &#x76EE;&#x5F55;&#x7F16;&#x8F91; nginx.conf &#x6587;&#x4EF6;3) &#x5B9A;&#x4F4D;&#x81F3; http &#x8282;&#x70B9; http { include mime.types; default_type application/octet-stream; sendfile on; keepalive_timeout 65; server { listen 80; server_name localhost; location / { root html; index index.html index.htm; } } } 4) &#x65B0;&#x589E;&#x52A0;&#x4E00;&#x4E2A; server &#x8282;&#x70B9; server { listen 80; server_name marklogzhu; charset utf-8; location / { root test; } } 5) &#x914D;&#x7F6E; windows &#x672C;&#x673A; host &#x6587;&#x4EF6;(&#x6CE8;&#xFF1A;&#x5426;&#x5219;&#x65E0;&#x6CD5;&#x901A;&#x8FC7;&#x57DF;&#x540D;&#x8BBF;&#x95EE;) &#x6253;&#x5F00;C:\\Windows\\System32\\drivers\\etc&#x4E0B;&#x9762;&#x7684;hosts&#x6587;&#x4EF6; &#x65B0;&#x589E;&#x8BB0;&#x5F55; 127.0.0.1 marklogzhu 6) &#x91CD;&#x542F; Nginx nginx -s reload 7) &#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8F93;&#x5165; http://marklogzhu &#x57FA;&#x4E8E;&#x7AEF;&#x53E3;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;1) &#x8FDB;&#x5165; conf &#x76EE;&#x5F55;&#x7F16;&#x8F91; nginx.conf &#x6587;&#x4EF6;2) &#x5B9A;&#x4F4D;&#x81F3; http &#x8282;&#x70B9;3) &#x65B0;&#x589E;&#x52A0;&#x4E00;&#x4E2A; server &#x8282;&#x70B9; server { listen 8888; server_name marklogzhu; charset utf-8; location / { root test; } } 4) &#x91CD;&#x542F; Nginx &#x5E76;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8F93;&#x5165; http://marklogzhu:8888","tags":[{"name":"Nginx","slug":"Nginx","permalink":"https://marklogzhu.github.io/tags/Nginx/"}]},{"title":"Nginx学习总结(1)--Nginx安装","date":"2018-04-12T12:36:00.000Z","path":"Nginx/后台/Nginx/Nginx学习总结(1)--Nginx安装/","text":"&#x4EC0;&#x4E48;&#x662F;NginxNginx&#x662F;&#x4E00;&#x4E2A;&#x514D;&#x8D39;&#x7684;&#x3001;&#x5F00;&#x6E90;&#x7684;&#x3001;&#x9AD8;&#x6027;&#x80FD;&#x7684;Web&#x670D;&#x52A1;&#x5668;&#x548C;&#x53CD;&#x5411;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4EE5;&#x5176;&#x9AD8;&#x6027;&#x80FD;&#x3001;&#x7A33;&#x5B9A;&#x6027;&#x3001;&#x4E30;&#x5BCC;&#x7684;&#x529F;&#x80FD;&#x3001;&#x914D;&#x7F6E;&#x7B80;&#x5355;&#x3001;&#x8D44;&#x6E90;&#x6D88;&#x8017;&#x5C11;&#x8457;&#x79F0;&#x3002;Nginx&#x6709;&#x522B;&#x4E8E;&#x4F20;&#x7EDF;Web&#x670D;&#x52A1;&#x5668;&#x4F9D;&#x8D56;&#x4E8E;&#x7EBF;&#x7A0B;&#x6765;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#xFF0C;&#x800C;&#x662F;&#x57FA;&#x4E8E;&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x6A21;&#x578B;&#xFF0C;&#x4F7F;&#x7528;&#x66F4;&#x5C11;&#x8D44;&#x6E90;&#x63D0;&#x4F9B;&#x66F4;&#x591A;&#x670D;&#x52A1;&#xFF0C;&#x89E3;&#x51B3;&#x4E86;C10K&#x95EE;&#x9898;&#x3002; Nginx &#x5E38;&#x7528;&#x529F;&#x80FD; &#x865A;&#x62DF;&#x4E3B;&#x673A; &#x9759;&#x6001;&#x6587;&#x4EF6;&#x670D;&#x52A1;&#x5668; &#x53CD;&#x5411;&#x4EE3;&#x7406; &#x8D1F;&#x8F7D;&#x5747;&#x8861; &#x52A8;&#x6001;&#x7F13;&#x5B58; &#x5B89;&#x88C5;windows &#x4E0B;&#x5B89;&#x88C5;1) &#x524D;&#x5F80;&#x5B98;&#x7F51;&#x4E0B;&#x8F7D; http://nginx.org/en/download.html 2) &#x89E3;&#x538B;&#x7F29;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6; * conf&#x76EE;&#x5F55;&#xFF1A;&#x5B58;&#x653E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x5305;&#x542B;&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;nginx.conf&#xFF0C;&#x662F;&#x6211;&#x4EEC;&#x7ECF;&#x5E38;&#x4FEE;&#x6539;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002; * contrib&#x76EE;&#x5F55;&#xFF1A;&#x5B58;&#x653E;&#x5F00;&#x6E90;&#x7231;&#x597D;&#x8005;&#x5171;&#x4EAB;&#x7684;&#x4EE3;&#x7801;&#x3002; * docs&#x76EE;&#x5F55;&#xFF1A;&#x5B58;&#x653E;&#x6587;&#x6863;&#x8D44;&#x6599;&#x3002; * html&#x76EE;&#x5F55;&#xFF1A;&#x9ED8;&#x8BA4;&#x5B58;&#x653E;&#x4E86;Nginx&#x7684;&#x9519;&#x8BEF;&#x9875;&#x9762;&#x548C;&#x6B22;&#x8FCE;&#x9875;&#x9762;&#x3002; * logs&#x76EE;&#x5F55;&#xFF1A;&#x9ED8;&#x8BA4;&#x5B58;&#x653E;&#x4E86;&#x8BBF;&#x95EE;&#x65E5;&#x5FD7;&#x3001;&#x9519;&#x8BEF;&#x65E5;&#x5FD7;&#x548C;Nginx&#x4E3B;&#x8FDB;&#x7A0B;pid&#x6587;&#x4EF6;&#x3002; * temp&#x76EE;&#x5F55;&#xFF1A;&#x4E34;&#x65F6;&#x76EE;&#x5F55;&#xFF0C;&#x7528;&#x4E8E;&#x5B58;&#x653E;Nginx&#x8FD0;&#x884C;&#x65F6;&#x4EA7;&#x751F;&#x7684;&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#x3002; * nginx.exe:&#x53EF;&#x6267;&#x884C;&#x7A0B;&#x5E8F;&#xFF0C;&#x5E38;&#x7528;&#x4E8E;Nginx&#x670D;&#x52A1;&#x7684;&#x542F;&#x52A8;&#x3001;&#x505C;&#x6B62;&#x7B49;&#x7BA1;&#x7406;&#x5DE5;&#x4F5C;&#x3002; 3) &#x901A;&#x8FC7;&#x547D;&#x4EE4;&#x884C;&#x7684;&#x5F62;&#x5F0F;&#x542F;&#x52A8; Nginx (&#x6CE8;&#xFF1A;&#x4E0D;&#x8981;&#x76F4;&#x63A5;&#x53CC;&#x51FB;nginx.exe &#x542F;&#x52A8;&#xFF0C;&#x8FD9;&#x6837;&#x4F1A;&#x5BFC;&#x81F4;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x540E;&#x91CD;&#x542F;&#x3001;&#x505C;&#x6B62;nginx&#x65E0;&#x6548;&#xFF0C;&#x9700;&#x8981;&#x624B;&#x52A8;&#x5173;&#x95ED;&#x4EFB;&#x52A1;&#x7BA1;&#x7406;&#x5668;&#x5185;&#x7684;&#x6240;&#x6709;nginx&#x8FDB;&#x7A0B;) * start nginx : &#x542F;&#x52A8;nginx * nginx -s reload &#xFF1A;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x540E;&#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#x751F;&#x6548; * nginx -s reopen &#xFF1A;&#x91CD;&#x65B0;&#x6253;&#x5F00;&#x65E5;&#x5FD7;&#x6587;&#x4EF6; * nginx -t -c /path/to/nginx.conf &#x6D4B;&#x8BD5;nginx&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x6B63;&#x786E; 4) &#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8F93;&#x5165; http://localhost ,&#x51FA;&#x73B0;&#x4E0B;&#x56FE;&#x5219;&#x8BF4;&#x660E; Nginx &#x5B89;&#x88C5;&#x6210;&#x529F; 5) &#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#x914D;&#x7F6E;&#x6587;&#x4EF6;(&#x7B49;&#x540C;&#x4E8E;&#x91CD;&#x542F;) nginx&#x2013;s reload 6) &#x5173;&#x95ED; Nginx * nginx -s stop :&#x5FEB;&#x901F;&#x505C;&#x6B62;nginx * nginx -s quit &#xFF1A;&#x5B8C;&#x6574;&#x6709;&#x5E8F;&#x7684;&#x505C;&#x6B62;nginx Nginx &#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8FD0;&#x884C;&#x4E2D;&#x7684;Nginx&#x4F1A;&#x5305;&#x542B;&#x5982;&#x4E0B;&#x8FDB;&#x7A0B;&#xFF1A; * &#x4E3B;&#x8FDB;&#x7A0B;master process&#xFF08;&#x7236;&#x8FDB;&#x7A0B;&#xFF09; * &#x5B50;&#x8FDB;&#x7A0B;worker process&#xFF08;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#xFF09; Nginx&#x4E3B;&#x8FDB;&#x7A0B; Nginx&#x4E3B;&#x8FDB;&#x7A0B;&#x5145;&#x5F53;&#x76D1;&#x63A7;&#x8FDB;&#x7A0B;&#xFF0C;&#x800C;&#x7531;&#x4E3B;&#x8FDB;&#x7A0B;&#x751F;&#x6210;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x5219;&#x5145;&#x5F53;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#x3002;&#x4E3B;&#x8FDB;&#x7A0B;&#x5145;&#x5F53;&#x6574;&#x4E2A;&#x8FDB;&#x7A0B;&#x7EC4;&#x4E0E;&#x7BA1;&#x7406;&#x7528;&#x6237;&#x7684;&#x4EA4;&#x4E92;&#x63A5;&#x53E3;&#xFF0C;&#x540C;&#x65F6;&#x5BF9;&#x8FDB;&#x7A0B;&#x8FDB;&#x884C;&#x76D1;&#x62A4;&#x3002;&#x5B83;&#x4E0D;&#x9700;&#x8981;&#x5904;&#x7406;&#x7F51;&#x7EDC;&#x4E8B;&#x4EF6;&#xFF0C;&#x4E0D;&#x8D1F;&#x8D23;&#x4E1A;&#x52A1;&#x6267;&#x884C;&#xFF0C;&#x53EA;&#x4F1A;&#x901A;&#x8FC7;&#x7BA1;&#x7406;worker&#x8FDB;&#x7A0B;&#x6765;&#x5B9E;&#x73B0;&#x91CD;&#x542F;&#x670D;&#x52A1;&#x3001;&#x5173;&#x95ED;&#x670D;&#x52A1;&#x3001;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x751F;&#x6548;&#x7B49;&#x529F;&#x80FD;&#x3002; Nginx&#x5B50;&#x8FDB;&#x7A0B; Nginx&#x5B50;&#x8FDB;&#x7A0B;&#x5145;&#x5F53;&#x5DE5;&#x4F5C;&#x8FDB;&#x7A0B;&#xFF0C;&#x8D1F;&#x8D23;&#x5B8C;&#x6210;&#x5177;&#x4F53;&#x7684;&#x4EFB;&#x52A1;&#x3002;&#x5B50;&#x8FDB;&#x7A0B;&#x4E3B;&#x8981;&#x8D1F;&#x8D23;&#x5B8C;&#x6210;&#x7528;&#x6237;&#x8BF7;&#x6C42;&#x63A5;&#x6536;&#x4E0E;&#x8FD4;&#x56DE;&#x7528;&#x6237;&#x6570;&#x636E;&#xFF0C;&#x4EE5;&#x53CA;&#x4E0E;&#x540E;&#x7AEF;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#x7684;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#x7B49;&#x5DE5;&#x4F5C;&#x3002; Nginx&#x5982;&#x4F55;&#x5904;&#x7406;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42; Nginx&#x6536;&#x5230;&#x5230;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x540E;&#xFF0C;&#x5B83;&#x4F1A;&#x4F9D;&#x636E;&#x5982;&#x4E0B;&#x6B65;&#x9AA4;&#x5904;&#x7406;&#xFF1A; &#x9996;&#x5148;&#xFF0C;&#x6839;&#x636E;http&#x8BF7;&#x6C42;&#x7684;&#x201C;Host&#x201D;&#x5934;&#x4EE5;&#x51B3;&#x5B9A;&#x7531;&#x54EA;&#x4E2A;&#x865A;&#x62DF;&#x673A;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#xFF1B;&#x7136;&#x540E;&#xFF0C;&#x5339;&#x914D;&#x8BF7;&#x6C42;&#x7684;URI&#xFF0C;&#x5E76;&#x6839;&#x636E;URI&#x5B9A;&#x4E49;&#x89C4;&#x5219;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x3002;","tags":[{"name":"Nginx","slug":"Nginx","permalink":"https://marklogzhu.github.io/tags/Nginx/"}]},{"title":"Tomcat学习总结(5)--tomcat资源安全验证方式","date":"2018-04-12T06:18:00.000Z","path":"tomcat/后台/Tomcat/Tomcat学习总结(5)--tomcat资源安全验证方式/","text":"&#x5F53;&#x8BBF;&#x95EE;&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x53D7;&#x4FDD;&#x62A4;&#x7684;&#x8D44;&#x6E90;&#x65F6;&#xFF0C;&#x5BB9;&#x5668;&#x7BA1;&#x7406;&#x7684;&#x9A8C;&#x8BC1;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x63A7;&#x5236;&#x786E;&#x8BA4;&#x7528;&#x6237;&#x8EAB;&#x4EFD;&#x7684;&#x65B9;&#x5F0F;&#x3002;Tomcat&#x652F;&#x6301;&#x56DB;&#x79CD;&#x5BB9;&#x5668;&#x7BA1;&#x7406;&#x7684;&#x5B89;&#x5168;&#x9632;&#x62A4;&#xFF0C;&#x5B83;&#x4EEC;&#x662F;&#xFF1A; BASIC (&#x57FA;&#x672C;&#x9A8C;&#x8BC1;)&#xFF1A;&#x901A;&#x8FC7;HTTP&#x9A8C;&#x8BC1;&#xFF0C;&#x9700;&#x8981;&#x63D0;&#x4F9B;base64&#x7F16;&#x7801;&#x6587;&#x672C;&#x7684;&#x7528;&#x6237;&#x53E3;&#x4EE4; DIGEST (&#x6458;&#x8981;&#x9A8C;&#x8BC1;)&#xFF1A;&#x901A;&#x8FC7;HTTP&#x9A8C;&#x8BC1;&#xFF0C;&#x9700;&#x8981;&#x63D0;&#x4F9B;&#x6458;&#x8981;&#x7F16;&#x7801;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x7528;&#x6237;&#x53E3;&#x4EE4; FORM (&#x8868;&#x5355;&#x9A8C;&#x8BC1;)&#xFF1A;&#x5728;&#x7F51;&#x9875;&#x7684;&#x8868;&#x5355;&#x4E0A;&#x8981;&#x6C42;&#x63D0;&#x4F9B;&#x5BC6;&#x7801; CLIENT-CERT (&#x5BA2;&#x6237;&#x7AEF;&#x8BC1;&#x4E66;&#x9A8C;&#x8BC1;)&#xFF1A;&#x4EE5;&#x5BA2;&#x6237;&#x7AEF;&#x8BC1;&#x4E66;&#x6765;&#x786E;&#x8BA4;&#x7528;&#x6237;&#x7684;&#x8EAB;&#x4EFD; &#x76F8;&#x5173;&#x535A;&#x6587;&#x5730;&#x5740;&#xFF1A; Tomcat&#x5B66;&#x4E60;&#x603B;&#x7ED3;&#xFF08;5&#xFF09;&#x2014;&#x2014;Tomcat&#x5BB9;&#x5668;&#x7BA1;&#x7406;&#x5B89;&#x5168;&#x7684;&#x51E0;&#x79CD;&#x9A8C;&#x8BC1;&#x65B9;&#x5F0F; Web&#x5BB9;&#x5668;&#x5B89;&#x5168;&#x7BA1;&#x7406;&#xFF08;&#x4E0B;&#xFF09;&#x2014;&#x2014;&#x5BB9;&#x5668;&#x57FA;&#x672C;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1; &#x4EE5;&#x4E0A;&#x4E86;&#x89E3;&#x5373;&#x53EF;&#xFF0C;&#x5B9E;&#x9645;&#x9879;&#x76EE;&#x4E2D;&#x57FA;&#x672C;&#x4E0A;&#x901A;&#x8FC7;&#x7F16;&#x7A0B;&#x5F0F;&#x5B89;&#x5168;&#x7BA1;&#x7406;&#x6765;&#x63A7;&#x5236;&#x8D44;&#x6E90;&#x7684;&#x5B89;&#x5168;&#xFF01;","tags":[{"name":"tomcat","slug":"tomcat","permalink":"https://marklogzhu.github.io/tags/tomcat/"}]},{"title":"Tomcat学习总结(4)--tomcat优化","date":"2018-04-12T05:56:00.000Z","path":"tomcat/后台/Tomcat/Tomcat学习总结(4)--tomcat优化/","text":"&#x5185;&#x5B58;&#x4F18;&#x5316; &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;Tomcat&#x7684;&#x76F8;&#x5173;&#x5185;&#x5B58;&#x914D;&#x7F6E;&#x8F83;&#x4F4E;&#xFF0C;&#x8FD9;&#x5BF9;&#x4E8E;&#x4E00;&#x4E9B;&#x5927;&#x578B;&#x9879;&#x76EE;&#x663E;&#x7136;&#x662F;&#x4E0D;&#x591F;&#x7528;&#x7684;&#xFF0C;&#x8FD9;&#x4E9B;&#x9879;&#x76EE;&#x8FD0;&#x884C;&#x5C31;&#x5DF2;&#x7ECF;&#x8017;&#x8D39;&#x4E86;&#x5927;&#x90E8;&#x5206;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#xFF0C;&#x4F55;&#x51B5;&#x5927;&#x89C4;&#x6A21;&#x8BBF;&#x95EE;&#x7684;&#x60C5;&#x51B5;&#x3002;&#x5728;&#x5E76;&#x53D1;&#x8FBE;&#x5230;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x540E;&#x4E5F;&#x4F1A;&#x629B;&#x51FA;&#x4EE5;&#x4E0B;&#x7C7B;&#x4F3C;&#x5F02;&#x5E38;&#xFF1A; &#x4E25;&#x91CD;: Exception invoking periodic operation: java.lang.OutOfMemoryError: Java heap space &#x4E25;&#x91CD;: Error processing request java.lang.OutOfMemoryError: GC overhead limit exceeded &#x4FEE;&#x6539;&#x5185;&#x5B58;&#x7B49; JVM&#x76F8;&#x5173;&#x914D;&#x7F6E; Linux&#x4E0B;&#x4FEE;&#x6539;TOMCAT_HOME/bin/catalina.sh&#xFF0C;&#x5728;&#x5176;&#x4E2D;&#x52A0;&#x5165;&#xFF0C;&#x53EF;&#x4EE5;&#x653E;&#x5728;CLASSPATH=&#x4E0B;&#x9762;&#xFF1A;JAVA_OPTS=&quot;-server -XX:PermSize=512M -XX:MaxPermSize=1024m -Xms2048m -Xmx2048m&quot; Windows&#x4E0B;&#x4FEE;&#x6539;TOMCAT_HOME/bin/catalina.bat&#xFF0C;&#x5728;&#x5176;&#x4E2D;&#x52A0;&#x5165;&#xFF0C;&#x53EF;&#x4EE5;&#x653E;&#x5728;set CLASSPATH=&#x4E0B;&#x9762;&#xFF1A; set JAVA_OPTS=-server -XX:PermSize=512M -XX:MaxPermSize=1024m -Xms2048m -Xmx2048m &#x53C2;&#x6570;&#x8BF4;&#x660E;&#xFF1A; * -server&#xFF1A;&#x542F;&#x7528; JDK&#x7684; server &#x7248;&#x672C;&#xFF1B; * -Xms&#xFF1A;Java&#x865A;&#x62DF;&#x673A;&#x521D;&#x59CB;&#x5316;&#x65F6;&#x5806;&#x7684;&#x6700;&#x5C0F;&#x5185;&#x5B58;&#xFF0C;&#x4E00;&#x822C;&#x4E0E; Xmx&#x914D;&#x7F6E;&#x4E3A;&#x76F8;&#x540C;&#x503C;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x597D;&#x5904;&#x662F;GC&#x4E0D;&#x5FC5;&#x518D;&#x4E3A;&#x6269;&#x5C55;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#x800C;&#x6D88;&#x8017;&#x6027;&#x80FD;&#xFF1B; * -Xmx&#xFF1A;Java&#x865A;&#x62DF;&#x673A;&#x53EF;&#x4F7F;&#x7528;&#x5806;&#x7684;&#x6700;&#x5927;&#x5185;&#x5B58;&#xFF1B; * -XX:PermSize&#xFF1A;Java&#x865A;&#x62DF;&#x673A;&#x6C38;&#x4E45;&#x4EE3;&#x5927;&#x5C0F;&#xFF1B; * -XX:MaxPermSize&#xFF1A;Java&#x865A;&#x62DF;&#x673A;&#x6C38;&#x4E45;&#x4EE3;&#x5927;&#x5C0F;&#x6700;&#x5927;&#x503C;&#xFF1B; &#x9A8C;&#x8BC1;&#x8BBE;&#x7F6E;&#x6210;&#x529F;&#x540E;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5229;&#x7528;JDK&#x81EA;&#x5E26;&#x7684;&#x5DE5;&#x5177;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1;&#xFF0C;&#x8FD9;&#x4E9B;&#x5DE5;&#x5177;&#x90FD;&#x5728;JAVA_HOME/bin&#x76EE;&#x5F55;&#x4E0B;&#xFF1A;1&#xFF09;jps&#xFF1A;&#x7528;&#x6765;&#x663E;&#x793A;&#x672C;&#x5730;&#x7684;java&#x8FDB;&#x7A0B;&#xFF0C;&#x4EE5;&#x53CA;&#x8FDB;&#x7A0B;&#x53F7;&#xFF0C;&#x8FDB;&#x7A0B;&#x542F;&#x52A8;&#x7684;&#x8DEF;&#x5F84;&#x7B49;&#x3002;2&#xFF09;jmap&#xFF1A;&#x89C2;&#x5BDF;&#x8FD0;&#x884C;&#x4E2D;&#x7684;JVM &#x7269;&#x7406;&#x5185;&#x5B58;&#x7684;&#x5360;&#x7528;&#x60C5;&#x51B5;&#xFF0C;&#x5305;&#x62EC;Heap size , Perm size &#x4E0B;&#x8F7D;&#x5730;&#x5740; &#x7B49;&#x3002;&#x8FDB;&#x5165;&#x547D;&#x4EE4;&#x884C;&#x6A21;&#x5F0F;&#x540E;&#xFF0C;&#x8FDB;&#x5165;JAVA_HOME/bin&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x7136;&#x540E;&#x8F93;&#x5165;jps&#x547D;&#x4EE4;&#xFF1A; D:\\&gt;jps 51072 Jps 12868 46772 Bootstrap &#x5176;&#x4E2D; Bootstrap &#x5C31;&#x662F;&#x6211;&#x4EEC;&#x542F;&#x52A8;&#x7684;tomcat(&#x6CE8;&#xFF1A;&#x8BF7;&#x901A;&#x8FC7;startup.bat&#x542F;&#x52A8;&#xFF0C;&#x670D;&#x52A1;&#x542F;&#x52A8;&#x65F6;&#x4E0D;&#x663E;&#x793A; Bootstrap &#x8FDB;&#x7A0B;) &#x6267;&#x884C; jmap -heap 46772 Attaching to process ID 46772, please wait... Debugger attached successfully. Server compiler detected. JVM version is 25.121-b13 using thread-local object allocation. Parallel GC with 4 thread(s) Heap Configuration: MinHeapFreeRatio = 0 MaxHeapFreeRatio = 100 MaxHeapSize = 2147483648 (2048.0MB) NewSize = 715653120 (682.5MB) MaxNewSize = 715653120 (682.5MB) OldSize = 1431830528 (1365.5MB) NewRatio = 2 SurvivorRatio = 8 MetaspaceSize = 21807104 (20.796875MB) CompressedClassSpaceSize = 1073741824 (1024.0MB) MaxMetaspaceSize = 17592186044415 MB G1HeapRegionSize = 0 (0.0MB) Heap Usage: PS Young Generation Eden Space: capacity = 537395200 (512.5MB) used = 236456984 (225.5029525756836MB) free = 300938216 (286.9970474243164MB) 44.0005761123285% used From Space: capacity = 89128960 (85.0MB) used = 0 (0.0MB) free = 89128960 (85.0MB) 0.0% used To Space: capacity = 89128960 (85.0MB) used = 0 (0.2018/4/12 13:560MB) free = 89128960 (85.0MB) 0.0% used PS Old Generation capacity = 1431830528 (1365.5MB) used = 0 (0.0MB) free = 1431830528 (1365.5MB) 0.0% used 12736 interned Strings occupying 1803400 bytes. &#x5E76;&#x53D1;&#x4F18;&#x5316;&#x5728; server.xml &#x8BE6;&#x89E3;&#x4E2D;&#x6211;&#x4EEC;&#x4E86;&#x89E3;&#x5230;&#x4E86; Connector &#x8282;&#x70B9;&#x4E0A;&#x7528;&#x6765;&#x63A5;&#x6536;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8BBE;&#x7F6E;&#x5B83;&#x7684;&#x5C5E;&#x6027;&#x6765;&#x4F18;&#x5316;&#x5E76;&#x53D1;&#x3002;&#x5C5E;&#x6027;&#x8BF4;&#x660E;&#xFF1A; * maxThreads &#x5BA2;&#x6237;&#x8BF7;&#x6C42;&#x6700;&#x5927;&#x7EBF;&#x7A0B;&#x6570; * minSpareThreads Tomcat&#x521D;&#x59CB;&#x5316;&#x65F6;&#x521B;&#x5EFA;&#x7684; socket &#x7EBF;&#x7A0B;&#x6570; * maxSpareThreads Tomcat&#x8FDE;&#x63A5;&#x5668;&#x7684;&#x6700;&#x5927;&#x7A7A;&#x95F2; socket &#x7EBF;&#x7A0B;&#x6570; * enableLookups &#x82E5;&#x8BBE;&#x4E3A;true, &#x5219;&#x652F;&#x6301;&#x57DF;&#x540D;&#x89E3;&#x6790;&#xFF0C;&#x53EF;&#x628A; ip &#x5730;&#x5740;&#x89E3;&#x6790;&#x4E3A;&#x4E3B;&#x673A;&#x540D; * redirectPort &#x5728;&#x9700;&#x8981;&#x57FA;&#x4E8E;&#x5B89;&#x5168;&#x901A;&#x9053;&#x7684;&#x573A;&#x5408;&#xFF0C;&#x628A;&#x5BA2;&#x6237;&#x8BF7;&#x6C42;&#x8F6C;&#x53D1;&#x5230;&#x57FA;&#x4E8E;SSL &#x7684; redirectPort &#x7AEF;&#x53E3; * acceptAccount &#x76D1;&#x542C;&#x7AEF;&#x53E3;&#x961F;&#x5217;&#x6700;&#x5927;&#x6570;&#xFF0C;&#x6EE1;&#x4E86;&#x4E4B;&#x540E;&#x5BA2;&#x6237;&#x8BF7;&#x6C42;&#x4F1A;&#x88AB;&#x62D2;&#x7EDD;&#xFF08;&#x4E0D;&#x80FD;&#x5C0F;&#x4E8E;maxSpareThreads &#xFF09; * connectionTimeout &#x8FDE;&#x63A5;&#x8D85;&#x65F6; * minProcessors &#x670D;&#x52A1;&#x5668;&#x521B;&#x5EFA;&#x65F6;&#x7684;&#x6700;&#x5C0F;&#x5904;&#x7406;&#x7EBF;&#x7A0B;&#x6570; * maxProcessors &#x670D;&#x52A1;&#x5668;&#x540C;&#x65F6;&#x6700;&#x5927;&#x5904;&#x7406;&#x7EBF;&#x7A0B;&#x6570; * URIEncoding URL&#x7EDF;&#x4E00;&#x7F16;&#x7801; * compression &#x6253;&#x5F00;&#x538B;&#x7F29;&#x529F;&#x80FD; * compressionMinSize &#x542F;&#x7528;&#x538B;&#x7F29;&#x7684;&#x8F93;&#x51FA;&#x5185;&#x5BB9;&#x5927;&#x5C0F;&#xFF0C;&#x8FD9;&#x91CC;&#x9762;&#x9ED8;&#x8BA4;&#x4E3A;2KB * compressableMimeType &#x538B;&#x7F29;&#x7C7B;&#x578B; * connectionTimeout &#x5B9A;&#x4E49;&#x5EFA;&#x7ACB;&#x5BA2;&#x6237;&#x8FDE;&#x63A5;&#x8D85;&#x65F6;&#x7684;&#x65F6;&#x95F4;. &#x5982;&#x679C;&#x4E3A; -1, &#x8868;&#x793A;&#x4E0D;&#x9650;&#x5236;&#x5EFA;&#x7ACB;&#x5BA2;&#x6237;&#x8FDE;&#x63A5;&#x7684;&#x65F6;&#x95F4;","tags":[{"name":"tomcat","slug":"tomcat","permalink":"https://marklogzhu.github.io/tags/tomcat/"}]},{"title":"Tomcat学习总结(3)--server.xml详解","date":"2018-04-11T07:08:00.000Z","path":"tomcat/后台/Tomcat/Tomcat学习总结(3)--server.xml详解/","text":"&#x4ECE;&#x4E0A;&#x4E00;&#x7AE0;&#x7684;&#x8BB2;&#x89E3;&#xFF0C;&#x6211;&#x4EEC;&#x53D1;&#x73B0;&#x57FA;&#x672C;&#x4E0A;&#x90FD;&#x662F;&#x5728; sever.xml &#x4E2D;&#x4FEE;&#x6539;&#x7684;&#x4ECE;&#x8FD9;&#x91CC;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x51FA; server.xml &#x6587;&#x4EF6;&#x7684;&#x91CD;&#x8981;&#x6027;&#xFF0C;&#x90A3;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x5B8C;&#x6574;&#x7684;&#x770B;&#x4E0B;server.xml&#x7684;&#x5404;&#x8282;&#x70B9;&#x4F5C;&#x7528; server.xml &#x914D;&#x7F6E;&#x5B9E;&#x4F8B;&lt;!--&#x6307;&#x5B9A; xml &#x7248;&#x672C;&#x548C;&#x7F16;&#x7801;&#x683C;&#x5F0F;--&gt; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;!-- &#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#x8BA9;&#x5BA2;&#x6237;&#x7AEF;&#x80FD;&#x591F;&#x8BBF;&#x95EE;&#x5230;&#x8FD9;&#x4E2A;Service&#x96C6;&#x5408;&#xFF0C;&#x540C;&#x65F6;&#x7EF4;&#x62A4;&#x5B83;&#x6240;&#x5305;&#x542B;&#x7684;&#x6240;&#x6709;&#x7684;Service&#x7684;&#x58F0;&#x660E;&#x5468;&#x671F;&#xFF0C;&#x5305;&#x62EC;&#x5982;&#x4F55;&#x521D;&#x59CB;&#x5316;&#x3001;&#x5982;&#x4F55;&#x7ED3;&#x675F;&#x670D;&#x52A1;&#x3001;&#x5982;&#x4F55;&#x627E;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x8981;&#x8BBF;&#x95EE;&#x7684;Service&#x3002; port:&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x7AEF;&#x53E3;&#xFF0C;&#x8FD9;&#x4E2A;&#x7AEF;&#x53E3;&#x8D1F;&#x8D23;&#x76D1;&#x542C;&#x5173;&#x95ED; Tomcat &#x7684;&#x8BF7;&#x6C42; &#xFF0C;&#x8BBE;&#x4E3A;-1 &#x5373;&#x53EF;&#x7981;&#x7528;&#x8BE5;&#x7AEF;&#x53E3; shutdown:&#x5411;&#x4EE5;&#x4E0A;&#x7AEF;&#x53E3;&#x53D1;&#x9001;&#x7684;&#x5173;&#x95ED;&#x670D;&#x52A1;&#x5668;&#x7684;&#x547D;&#x4EE4;&#x5B57;&#x7B26;&#x4E32; --&gt; &lt;Server port=&quot;8005&quot; shutdown=&quot;SHUTDOWN&quot;&gt; &lt;!-- &#x76D1;&#x542C;&#x5668;,&#x53EF;&#x4EE5;&#x5728;&#x7279;&#x5B9A;&#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x65F6;&#x6267;&#x884C;&#x7279;&#x5B9A;&#x7684;&#x64CD;&#x4F5C;,&#x88AB;&#x76D1;&#x542C;&#x7684;&#x4E8B;&#x4EF6;&#x901A;&#x5E38;&#x662F;Tomcat&#x7684;&#x542F;&#x52A8;&#x548C;&#x505C;&#x6B62;&#x3002;--&gt; &lt;!-- &#x5F53;Tomcat&#x542F;&#x52A8;&#x65F6;&#xFF0C;&#x8BE5;&#x76D1;&#x542C;&#x5668;&#x8BB0;&#x5F55;Tomcat&#x3001;Java&#x548C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x4FE1;&#x606F;&#x3002;&#x8BE5;&#x76D1;&#x542C;&#x5668;&#x5FC5;&#x987B;&#x662F;&#x914D;&#x7F6E;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x76D1;&#x542C;&#x5668;&#x3002; --&gt; &lt;Listener className=&quot;org.apache.catalina.startup.VersionLoggerListener&quot; /&gt; &lt;!-- Tomcat&#x542F;&#x52A8;&#x65F6;&#xFF0C;&#x68C0;&#x67E5;APR&#x5E93;&#xFF0C;&#x5982;&#x679C;&#x5B58;&#x5728;&#x5219;&#x52A0;&#x8F7D;&#x3002;APR&#xFF0C;&#x5373;Apache Portable Runtime&#xFF0C;&#x662F;Apache&#x53EF;&#x79FB;&#x690D;&#x8FD0;&#x884C;&#x5E93;&#xFF0C;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x9AD8;&#x53EF;&#x6269;&#x5C55;&#x6027;&#x3001;&#x9AD8;&#x6027;&#x80FD;&#xFF0C;&#x4EE5;&#x53CA;&#x4E0E;&#x672C;&#x5730;&#x670D;&#x52A1;&#x5668;&#x6280;&#x672F;&#x66F4;&#x597D;&#x7684;&#x96C6;&#x6210;&#x3002; --&gt; &lt;Listener className=&quot;org.apache.catalina.core.AprLifecycleListener&quot; SSLEngine=&quot;on&quot; /&gt; &lt;!-- &#x9632;&#x6B62;&#x5185;&#x5B58;&#x6EA2;&#x51FA;&#x76D1;&#x542C;&#xFF0C;&#x8FD9;&#x4E2A;&#x76D1;&#x542C;&#x5668;&#x6BCF;&#x5C0F;&#x65F6;&#x5C31;&#x4F1A;&#x6267;&#x884C;&#x4E00;&#x6B21;full gc&#x64CD;&#x4F5C;&#xFF0C;&#x53EF;&#x4EE5;&#x589E;&#x52A0;gcDaemonProtection=&quot;false&quot;&#x53C2;&#x6570;&#x7981;&#x7528;&#x76D1;&#x542C; --&gt; &lt;Listener className=&quot;org.apache.catalina.core.JreMemoryLeakPreventionListener&quot; /&gt; &lt;!-- &#x901A;&#x8FC7;&#x8BE5;&#x76D1;&#x542C;&#x5668;&#xFF0C;&#x521D;&#x59CB;&#x5316;&lt; GlobalNamingResources&gt;&#x6807;&#x7B7E;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x5168;&#x5C40;JNDI&#x8D44;&#x6E90;&#xFF1B;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x8BE5;&#x76D1;&#x542C;&#x5668;&#xFF0C;&#x4EFB;&#x4F55;&#x5168;&#x5C40;&#x8D44;&#x6E90;&#x90FD;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;&#x3002; --&gt; &lt;Listener className=&quot;org.apache.catalina.mbeans.GlobalResourcesLifecycleListener&quot; /&gt; &lt;!-- &#x5F53;Web&#x5E94;&#x7528;&#x56E0;thread-local&#x5BFC;&#x81F4;&#x7684;&#x5185;&#x5B58;&#x6CC4;&#x9732;&#x800C;&#x8981;&#x505C;&#x6B62;&#x65F6;&#xFF0C;&#x8BE5;&#x76D1;&#x542C;&#x5668;&#x4F1A;&#x89E6;&#x53D1;&#x7EBF;&#x7A0B;&#x6C60;&#x4E2D;&#x7EBF;&#x7A0B;&#x7684;&#x66F4;&#x65B0;&#x3002;&#x5F53;&#x7EBF;&#x7A0B;&#x6267;&#x884C;&#x5B8C;&#x4EFB;&#x52A1;&#x88AB;&#x6536;&#x56DE;&#x7EBF;&#x7A0B;&#x6C60;&#x65F6;&#xFF0C;&#x6D3B;&#x8DC3;&#x7EBF;&#x7A0B;&#x4F1A;&#x4E00;&#x4E2A;&#x4E00;&#x4E2A;&#x7684;&#x66F4;&#x65B0;&#x3002;&#x53EA;&#x6709;&#x5F53;Web&#x5E94;&#x7528;(&#x5373;Context&#x5143;&#x7D20;)&#x7684;renewThreadsWhenStoppingContext&#x5C5E;&#x6027;&#x8BBE;&#x7F6E;&#x4E3A;true&#x65F6;&#xFF0C;&#x8BE5;&#x76D1;&#x542C;&#x5668;&#x624D;&#x6709;&#x6548;&#x3002; --&gt; &lt;Listener className=&quot;org.apache.catalina.core.ThreadLocalLeakPreventionListener&quot; /&gt; &lt;!-- GlobalNamingResources &#x5143;&#x7D20;&#x5B9A;&#x4E49;&#x4E86;&#x5168;&#x5C40;&#x8D44;&#x6E90; --&gt; &lt;GlobalNamingResources&gt; &lt;!-- &#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x7528;&#x6237;&#x5BC6;&#x7801;&#x4E0E;web&#x5E94;&#x7528;&#x7684;&#x6620;&#x5C04;&#x5173;&#x7CFB;&#xFF0C;&#x4ECE;&#x800C;&#x8FBE;&#x5230;&#x89D2;&#x8272;&#x5B89;&#x5168;&#x7BA1;&#x7406;&#x7684;&#x4F5C;&#x7528; --&gt; &lt;Resource name=&quot;UserDatabase&quot; auth=&quot;Container&quot; type=&quot;org.apache.catalina.UserDatabase&quot; description=&quot;User database that can be updated and saved&quot; factory=&quot;org.apache.catalina.users.MemoryUserDatabaseFactory&quot; pathname=&quot;conf/tomcat-users.xml&quot; /&gt; &lt;/GlobalNamingResources&gt; &lt;!-- Service &#x5728;Connector &#x548C; Engine &#x5916;&#x9762;&#x5305;&#x4E86;&#x4E00;&#x5C42;&#xFF0C;&#x628A;&#x5B83;&#x4EEC;&#x7EC4;&#x88C5;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x5BF9;&#x5916;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#x3002;&#x4E00;&#x4E2A; Service &#x53EF;&#x4EE5;&#x5305;&#x542B;&#x591A;&#x4E2A; Connector&#xFF0C;&#x4F46;&#x662F;&#x53EA;&#x80FD;&#x5305;&#x542B;&#x4E00;&#x4E2A; Engine&#xFF1B;&#x5176;&#x4E2D; Connector &#x7684;&#x4F5C;&#x7528;&#x662F;&#x4ECE;&#x5BA2;&#x6237;&#x7AEF;&#x63A5;&#x6536;&#x8BF7;&#x6C42;&#xFF0C;Engine &#x7684;&#x4F5C;&#x7528;&#x662F;&#x5904;&#x7406;&#x63A5;&#x6536;&#x8FDB;&#x6765;&#x7684;&#x8BF7;&#x6C42;&#x3002; --&gt; &lt;Service name=&quot;Catalina&quot;&gt; &lt;!-- Connector &#x63A5;&#x6536;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#xFF0C;&#x521B;&#x5EFA; Request &#x548C; Response &#x5BF9;&#x8C61;&#x7528;&#x4E8E;&#x548C;&#x8BF7;&#x6C42;&#x7AEF;&#x4EA4;&#x6362;&#x6570;&#x636E;&#xFF1B;&#x7136;&#x540E;&#x5206;&#x914D;&#x7EBF;&#x7A0B;&#x8BA9; Engine &#x6765;&#x5904;&#x7406;&#x8FD9;&#x4E2A;&#x8BF7;&#x6C42;&#xFF0C;&#x5E76;&#x628A;&#x4EA7;&#x751F;&#x7684; Request &#x548C; Response &#x5BF9;&#x8C61;&#x4F20;&#x7ED9; Engine&#x3002; --&gt; &lt;!-- &#x5C5E;&#x6027;&#x8BF4;&#x660E; port:&#x670D;&#x52A1;&#x5668;&#x8FDE;&#x63A5;&#x5668;&#x7684;&#x7AEF;&#x53E3;&#x53F7;,&#x8BE5;&#x8FDE;&#x63A5;&#x5668;&#x5C06;&#x5728;&#x6307;&#x5B9A;&#x7AEF;&#x53E3;&#x4FA6;&#x542C;&#x6765;&#x81EA;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8BF7;&#x6C42;&#x3002; enableLookups:&#x5982;&#x679C;&#x4E3A;true&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8C03;&#x7528;request.getRemoteHost()&#x8FDB;&#x884C;DNS&#x67E5;&#x8BE2;&#x6765;&#x5F97;&#x5230;&#x8FDC;&#x7A0B;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x5B9E;&#x9645;&#x4E3B;&#x673A;&#x540D;&#xFF1B; &#x82E5;&#x4E3A;false&#x5219;&#x4E0D;&#x8FDB;&#x884C;DNS&#x67E5;&#x8BE2;&#xFF0C;&#x800C;&#x662F;&#x8FD4;&#x56DE;&#x5176;ip&#x5730;&#x5740;&#x3002; redirectPort:&#x670D;&#x52A1;&#x5668;&#x6B63;&#x5728;&#x5904;&#x7406;http&#x8BF7;&#x6C42;&#x65F6;&#x6536;&#x5230;&#x4E86;&#x4E00;&#x4E2A;SSL&#x4F20;&#x8F93;&#x8BF7;&#x6C42;&#x540E;&#x91CD;&#x5B9A;&#x5411;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#x3002; acceptCount:&#x5F53;&#x6240;&#x6709;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7684;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x7684;&#x7EBF;&#x7A0B;&#x90FD;&#x88AB;&#x7528;&#x5149;&#x65F6;,&#x53EF;&#x4EE5;&#x653E;&#x5230;&#x5904;&#x7406;&#x961F;&#x5217;&#x4E2D;&#x7684;&#x8BF7;&#x6C42;&#x6570;,&#x8D85;&#x8FC7;&#x8FD9;&#x4E2A;&#x6570;&#x7684;&#x8BF7;&#x6C42;&#x5C06;&#x4E0D;&#x4E88;&#x5904;&#x7406;&#xFF0C;&#x800C;&#x8FD4;&#x56DE;Connection refused&#x9519;&#x8BEF;&#x3002; connectionTimeout:&#x7B49;&#x5F85;&#x8D85;&#x65F6;&#x7684;&#x65F6;&#x95F4;&#x6570;&#xFF08;&#x4EE5;&#x6BEB;&#x79D2;&#x4E3A;&#x5355;&#x4F4D;&#xFF09;&#x3002; maxThreads:&#x8BBE;&#x5B9A;&#x5728;&#x76D1;&#x542C;&#x7AEF;&#x53E3;&#x7684;&#x7EBF;&#x7A0B;&#x7684;&#x6700;&#x5927;&#x6570;&#x76EE;,&#x8FD9;&#x4E2A;&#x503C;&#x4E5F;&#x51B3;&#x5B9A;&#x4E86;&#x670D;&#x52A1;&#x5668;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x54CD;&#x5E94;&#x5BA2;&#x6237;&#x8BF7;&#x6C42;&#x7684;&#x6700;&#x5927;&#x6570;&#x76EE;.&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;200&#x3002; protocol:&#x8BF7;&#x6C42;&#x534F;&#x8BAE;&#x3002; address:&#x5982;&#x679C;&#x670D;&#x52A1;&#x5668;&#x6709;&#x4E24;&#x4E2A;&#x4EE5;&#x4E0A;IP&#x5730;&#x5740;,&#x8BE5;&#x5C5E;&#x6027;&#x53EF;&#x4EE5;&#x8BBE;&#x5B9A;&#x7AEF;&#x53E3;&#x76D1;&#x542C;&#x7684;IP&#x5730;&#x5740;,&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;,&#x7AEF;&#x53E3;&#x4F1A;&#x76D1;&#x542C;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x6240;&#x6709;IP&#x5730;&#x5740;&#x3002; minProcessors:&#x670D;&#x52A1;&#x5668;&#x542F;&#x52A8;&#x65F6;&#x521B;&#x5EFA;&#x7684;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x7684;&#x7EBF;&#x7A0B;&#x6570;&#xFF0C;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x7531;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x8D1F;&#x8D23;&#x3002; maxProcessors:&#x6700;&#x591A;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x7684;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x7684;&#x7EBF;&#x7A0B;&#x6570;&#x3002; minSpareThreads:&#x6700;&#x5C0F;&#x5907;&#x7528;&#x7EBF;&#x7A0B; &#x3002; maxSpareThreads:&#x6700;&#x5927;&#x5907;&#x7528;&#x7EBF;&#x7A0B;&#x3002; debug:&#x65E5;&#x5FD7;&#x7B49;&#x7EA7;&#x3002; disableUploadTimeout:&#x7981;&#x7528;&#x4E0A;&#x4F20;&#x8D85;&#x65F6;,&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x5927;&#x6570;&#x636E;&#x4E0A;&#x4F20;&#x65F6;&#x3002; --&gt; &lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; connectionTimeout=&quot;20000&quot; redirectPort=&quot;8443&quot; URIEncoding=&quot;utf-8&quot;/&gt; &lt;Connector port=&quot;8009&quot; protocol=&quot;AJP/1.3&quot; redirectPort=&quot;8443&quot; /&gt; &lt;!-- Engine&#x7EC4;&#x4EF6;&#x5728;Service&#x7EC4;&#x4EF6;&#x4E2D;&#x6709;&#x4E14;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#xFF1B;Engine&#x662F;Service&#x7EC4;&#x4EF6;&#x4E2D;&#x7684;&#x8BF7;&#x6C42;&#x5904;&#x7406;&#x7EC4;&#x4EF6;&#x3002;Engine&#x7EC4;&#x4EF6;&#x4ECE;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;Connector&#x4E2D;&#x63A5;&#x6536;&#x8BF7;&#x6C42;&#x5E76;&#x5904;&#x7406;&#xFF0C;&#x5E76;&#x5C06;&#x5B8C;&#x6210;&#x7684;&#x54CD;&#x5E94;&#x8FD4;&#x56DE;&#x7ED9;Connector&#xFF0C;&#x6700;&#x7EC8;&#x4F20;&#x9012;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x3002; --&gt; &lt;!-- &#x5C5E;&#x6027;&#x8BF4;&#x660E; name:&#x5BF9;&#x5E94;$CATALINA_HOME/config/Catalina&#x4E2D;&#x7684;Catalina defaultHost:&#x5BF9;&#x5E94;Host&#x5143;&#x7D20;&#x4E2D;&#x7684;name&#x5C5E;&#x6027;,&#x4E5F;&#x5C31;&#x662F;&#x548C;$CATALINA_HOME/config/Catalina/localhost&#x4E2D;&#x7684;localhost &#x7F3A;&#x7701;&#x7684;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x540D;&#xFF0C;&#x5B83;&#x81F3;&#x5C11;&#x4E0E;&#x5176;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;Host&#x5143;&#x7D20;&#x7684;name&#x5C5E;&#x6027;&#x503C;&#x662F;&#x4E00;&#x6837;&#x7684; debug:&#x65E5;&#x5FD7;&#x7B49;&#x7EA7; --&gt; &lt;Engine name=&quot;Catalina&quot; defaultHost=&quot;localhost&quot;&gt; &lt;Realm className=&quot;org.apache.catalina.realm.LockOutRealm&quot;&gt; &lt;Realm className=&quot;org.apache.catalina.realm.UserDatabaseRealm&quot; resourceName=&quot;UserDatabase&quot;/&gt; &lt;/Realm&gt; &lt;!-- Host&#x662F;Engine&#x7684;&#x5B50;&#x5BB9;&#x5668;&#x3002;Engine&#x7EC4;&#x4EF6;&#x4E2D;&#x53EF;&#x4EE5;&#x5185;&#x5D4C;1&#x4E2A;&#x6216;&#x591A;&#x4E2A;Host&#x7EC4;&#x4EF6;&#xFF0C;&#x6BCF;&#x4E2A;Host&#x7EC4;&#x4EF6;&#x4EE3;&#x8868;Engine&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x3002;Host&#x7EC4;&#x4EF6;&#x81F3;&#x5C11;&#x6709;&#x4E00;&#x4E2A;&#xFF0C;&#x4E14;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x7684;name&#x5FC5;&#x987B;&#x4E0E;Engine&#x7EC4;&#x4EF6;&#x7684;defaultHost&#x5C5E;&#x6027;&#x76F8;&#x5339;&#x914D;&#x3002;Host&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x7684;&#x4F5C;&#x7528;&#xFF0C;&#x662F;&#x8FD0;&#x884C;&#x591A;&#x4E2A;Web&#x5E94;&#x7528;&#xFF08;&#x4E00;&#x4E2A;Context&#x4EE3;&#x8868;&#x4E00;&#x4E2A;Web&#x5E94;&#x7528;&#xFF09;&#xFF0C;&#x5E76;&#x8D1F;&#x8D23;&#x5B89;&#x88C5;&#x3001;&#x5C55;&#x5F00;&#x3001;&#x542F;&#x52A8;&#x548C;&#x7ED3;&#x675F;&#x6BCF;&#x4E2A;Web&#x5E94;&#x7528;&#x3002;--&gt; &lt;!-- &#x5C5E;&#x6027;&#x8BF4;&#x660E; name:&#x5728;&#x6B64;&#x4F8B;&#x4E2D;&#x4E00;&#x76F4;&#x88AB;&#x5F3A;&#x8C03;&#x4E3A;$CATALINA_HOME/config/Catalina/localhost&#x4E2D;&#x7684;localhost&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x540D; debug:&#x662F;&#x65E5;&#x5FD7;&#x7684;&#x8C03;&#x8BD5;&#x7B49;&#x7EA7; appBase:&#x9ED8;&#x8BA4;&#x7684;&#x5E94;&#x7528;&#x8DEF;&#x5F84;,&#x4E5F;&#x5C31;&#x662F;&#x628A;&#x5E94;&#x7528;&#x653E;&#x5728;&#x4E00;&#x4E2A;&#x76EE;&#x5F55;&#x4E0B;,&#x5E76;&#x5728;autoDeploy&#x4E3A;true&#x7684;&#x60C5;&#x51B5;&#x4E0B;,&#x53EF;&#x81EA;&#x52A8;&#x90E8;&#x7F72;&#x5E94;&#x7528;&#x6B64;&#x8DEF;&#x5F84;&#x76F8;&#x5BF9;&#x4E8E;$CATALINA_HOME/ (web applications&#x7684;&#x57FA;&#x672C;&#x76EE;&#x5F55;) unpackWARs:&#x8BBE;&#x7F6E;&#x4E3A;true,&#x5728;Web&#x5E94;&#x7528;&#x4E3A;*.war&#x662F;,&#x89E3;&#x538B;&#x6B64;WAR&#x6587;&#x4EF6;. &#x5982;&#x679C;&#x4E3A;true,&#x5219;tomcat&#x4F1A;&#x81EA;&#x52A8;&#x5C06;WAR&#x6587;&#x4EF6;&#x89E3;&#x538B;;&#x5426;&#x5219;&#x4E0D;&#x89E3;&#x538B;,&#x76F4;&#x63A5;&#x4ECE;WAR&#x6587;&#x4EF6;&#x4E2D;&#x8FD0;&#x884C;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;. autoDeploy:&#x9ED8;&#x8BA4;&#x4E3A;true,&#x8868;&#x793A;&#x5982;&#x679C;&#x6709;&#x65B0;&#x7684;WEB&#x5E94;&#x7528;&#x653E;&#x5165;appBase &#x5E76;&#x4E14;Tomcat&#x5728;&#x8FD0;&#x884C;&#x7684;&#x60C5;&#x51B5;&#x4E0B;,&#x81EA;&#x52A8;&#x8F7D;&#x5165;&#x5E94;&#x7528; --&gt; &lt;Host name=&quot;localhost&quot; appBase=&quot;webapps&quot; unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt; &lt;!-- Context&#x5143;&#x7D20;&#x4EE3;&#x8868;&#x5728;&#x7279;&#x5B9A;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x4E0A;&#x8FD0;&#x884C;&#x7684;&#x4E00;&#x4E2A;Web&#x5E94;&#x7528;&#x3002;--&gt; &lt;!-- &#x5C5E;&#x6027;&#x8BF4;&#x660E; path:&#x8BBF;&#x95EE;&#x7684;URI docBase:WEB&#x5E94;&#x7528;&#x7684;&#x76EE;&#x5F55;,&#x6B64;&#x76EE;&#x5F55;&#x5FC5;&#x987B;&#x7B26;&#x5408;Java WEB&#x5E94;&#x7528;&#x7684;&#x89C4;&#x8303;&#xFF0C;web application&#x7684;&#x6587;&#x4EF6;&#x5B58;&#x653E;&#x8DEF;&#x5F84;&#x6216;&#x8005;&#x662F;WAR&#x6587;&#x4EF6;&#x5B58;&#x653E;&#x8DEF;&#x5F84;&#x3002; debug:&#x65E5;&#x5FD7;&#x7B49;&#x7EA7; reloadable:&#x662F;&#x5426;&#x5728;&#x7A0B;&#x5E8F;&#x6709;&#x6539;&#x52A8;&#x65F6;&#x91CD;&#x65B0;&#x8F7D;&#x5165;,&#x8BBE;&#x7F6E;&#x6210;true&#x4F1A;&#x5F71;&#x54CD;&#x6027;&#x80FD;,&#x4F46;&#x53EF;&#x81EA;&#x52A8;&#x8F7D;&#x5165;&#x4FEE;&#x6539;&#x540E;&#x7684;&#x6587;&#x4EF6;&#xFF0C; &#x5982;&#x679C;&#x4E3A;true&#xFF0C;&#x5219;Tomcat&#x5C06;&#x652F;&#x6301;&#x70ED;&#x90E8;&#x7F72;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x68C0;&#x6D4B;web application&#x7684;/WEB-INF/lib&#x548C;/WEB-INF/classes&#x76EE;&#x5F55;&#x7684;&#x53D8;&#x5316;&#xFF0C; &#x81EA;&#x52A8;&#x88C5;&#x8F7D;&#x65B0;&#x7684;JSP&#x548C;Servlet&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x91CD;&#x8D77;Tomcat&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x6539;&#x53D8;web application --&gt; &lt;Context path=&quot;&quot; docBase=&quot;D:\\apache-tomcat-9.0.7\\webapps\\test&quot; reloadable=&quot;true&quot;/&gt; &lt;!-- &#x901A;&#x8FC7;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x5176;&#x6240;&#x5728;&#x7684;&#x5BB9;&#x5668;&#x4E2D;&#x5904;&#x7406;&#x7684;&#x6240;&#x6709;&#x8BF7;&#x6C42; --&gt; &lt;!--&#x5C5E;&#x6027;&#x8BF4;&#x660E;&#xFF1A; className&#xFF1A;&#x89C4;&#x5B9A;&#x4E86;Valve&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x662F;&#x6700;&#x91CD;&#x8981;&#x7684;&#x5C5E;&#x6027;&#xFF1B;&#x672C;&#x4F8B;&#x4E2D;&#xFF0C;&#x901A;&#x8FC7;&#x8BE5;&#x5C5E;&#x6027;&#x89C4;&#x5B9A;&#x4E86;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;AccessLogValve&#x3002; directory&#xFF1A;&#x6307;&#x5B9A;&#x65E5;&#x5FD7;&#x5B58;&#x50A8;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x672C;&#x4F8B;&#x4E2D;&#xFF0C;&#x65E5;&#x5FD7;&#x5B58;&#x50A8;&#x5728;$TOMCAT_HOME/logs&#x76EE;&#x5F55;&#x4E0B;&#x3002; prefix&#xFF1A;&#x6307;&#x5B9A;&#x4E86;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x7684;&#x524D;&#x7F00;&#x3002; suffix&#xFF1A;&#x6307;&#x5B9A;&#x4E86;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x7684;&#x540E;&#x7F00;&#x3002;&#x901A;&#x8FC7;directory&#x3001;prefix&#x548C;suffix&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x5728;$TOMCAT_HOME/logs&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5982;&#x4E0B;&#x6240;&#x793A;&#x7684;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x3002;--&gt; &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot; prefix=&quot;localhost_access_log&quot; suffix=&quot;.txt&quot; pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt; &lt;/Host&gt; &lt;/Engine&gt; &lt;/Service&gt; &lt;/Server&gt;","tags":[{"name":"tomcat","slug":"tomcat","permalink":"https://marklogzhu.github.io/tags/tomcat/"}]},{"title":"Tomcat学习总结(2)--Tomcat常用配置修改","date":"2018-04-11T06:04:00.000Z","path":"tomcat/后台/Tomcat/Tomcat学习总结(2)--Tomcat常用配置修改/","text":"&#x4FEE;&#x6539;&#x9879;&#x76EE;&#x7AEF;&#x53E3;&#x53F7;&#x4F7F;&#x7528;&#x573A;&#x666F;: &#x591A;&#x4E2A; tomcat &#x540C;&#x65F6;&#x8FD0;&#x884C;&#x9519;&#x8BEF;&#x539F;&#x56E0;: tomcat &#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;&#x53F7;&#x662F;8080&#xFF0C;&#x540C;&#x65F6;&#x5B58;&#x5728;&#x591A;&#x4E2A; tomcat&#xFF0C;&#x7AEF;&#x53E3;&#x4F1A;&#x51B2;&#x7A81;&#x89E3;&#x51B3;&#x529E;&#x6CD5;: &#x4FEE;&#x6539;&#x7AEF;&#x53E3;&#x53F7; 1) &#x8FDB;&#x5165; conf &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x7F16;&#x8F91; server.xml &#x6587;&#x4EF6;2) &#x627E;&#x5230; Connector &#x8282;&#x70B9;&#x5E76;&#x4E14;&#x534F;&#x8BAE;&#x662F; http &#x7684; &lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; connectionTimeout=&quot;20000&quot; redirectPort=&quot;8443&quot; /&gt; 3) &#x5C06;&#x7AEF;&#x53E3;&#x4ECE;8080&#x4FEE;&#x6539;&#x4E3A;&#x5176;&#x4ED6;&#x7AEF;&#x53E3;&#xFF0C;&#x5982;8081 &lt;Connector port=&quot;8081&quot; protocol=&quot;HTTP/1.1&quot; connectionTimeout=&quot;20000&quot; redirectPort=&quot;8443&quot; /&gt; 4) &#x91CD;&#x542F; tomcat ,&#x5206;&#x522B;&#x8F93;&#x5165;http://localhost:8080 &#x548C; http://localhost:8081 &#x53EF;&#x4EE5;&#x770B;&#x5230;8080&#x7AEF;&#x53E3;&#x5DF2;&#x7ECF;&#x6253;&#x4E0D;&#x5F00;&#x9875;&#x9762;&#x4E86;&#x4F46;&#x662F;8081&#x53EF;&#x4EE5;&#xFF0C;&#x8BF4;&#x660E;&#x7AEF;&#x53E3;&#x4FEE;&#x6539;&#x6210;&#x529F; GET &#x8BF7;&#x6C42;&#x4E71;&#x7801;&#x4F7F;&#x7528;&#x573A;&#x666F;: http &#x8BF7;&#x6C42;&#x4E2D;&#x6587;&#x4E71;&#x7801;&#x9519;&#x8BEF;&#x539F;&#x56E0;: &#x56E0;&#x4E3A;&#x7F16;&#x7801;&#x683C;&#x5F0F;&#x539F;&#x56E0;&#x5BFC;&#x81F4;&#x4E71;&#x7801;&#x89E3;&#x51B3;&#x529E;&#x6CD5;: &#x7EDF;&#x4E00;&#x7F16;&#x7801;&#x683C;&#x5F0F;&#x4E3A; utf-8 1) &#x642D;&#x5EFA;&#x6D4B;&#x8BD5;&#x73AF;&#x5883; &#x8FDB;&#x5165; webapps &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x590D;&#x5236; root &#x76EE;&#x5F55;&#x5E76;&#x91CD;&#x547D;&#x540D;&#x4E3A; test &#x8FDB;&#x5165; test &#x76EE;&#x5F55;&#xFF0C;&#x7F16;&#x8F91; index.jsp &#x6587;&#x4EF6;&lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot; /&gt; &lt;/head&gt; &lt;body&gt; &#x6D4B;&#x8BD5;! &lt;br&gt; test! &lt;/body&gt; &lt;/html&gt; &#x91CD;&#x542F; tomcat&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8F93;&#x5165; http://localhost:8080/test/ 2) &#x8FDB;&#x5165; conf &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x7F16;&#x8F91; server.xml &#x6587;&#x4EF6;3) &#x627E;&#x5230; Connector &#x8282;&#x70B9;&#x5E76;&#x4E14;&#x534F;&#x8BAE;&#x662F; http &#x7684; &lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; connectionTimeout=&quot;20000&quot; redirectPort=&quot;8443&quot; /&gt; 4) &#x589E;&#x52A0;&#x7F16;&#x7801;&#x683C;&#x5F0F; &lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; connectionTimeout=&quot;20000&quot; redirectPort=&quot;8443&quot; URIEncoding=&quot;UTF-8&quot;/&gt; 5) &#x91CD;&#x542F; tomcat&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8F93;&#x5165; http://localhost:8080/test/ &#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x9879;&#x76EE;&#x540D;&#x79F0;&#x4E0A;&#x9762;&#x6211;&#x4EEC;&#x770B;&#x5230;&#x8BBF;&#x95EE;root&#x9879;&#x76EE;&#x65F6;&#x5728;&#x5730;&#x5740;&#x680F;&#x4E0D;&#x7528;&#x8F93;&#x5165; root &#xFF0C;&#x4F46;&#x662F;&#x8BBF;&#x95EE; test &#x9879;&#x76EE;&#x65F6;&#x5C31;&#x9700;&#x8981;&#x5728;&#x5730;&#x5740;&#x680F;&#x4E2D;&#x8F93;&#x5165;&#x5B8C;&#x6574;&#x9879;&#x76EE;&#x540D;&#x79F0;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x5C1D;&#x8BD5;&#x4FEE;&#x6539;&#x4E0B;&#x9ED8;&#x8BA4;&#x9879;&#x76EE;&#x540D; 1) &#x8FDB;&#x5165; conf &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x7F16;&#x8F91; server.xml &#x6587;&#x4EF6;2) &#x627E;&#x5230; Host &#x8282;&#x70B9;&#xFF0C;&#x5E76;&#x5728;&#x8282;&#x70B9;&#x5185;&#x589E;&#x52A0; Context &#x8282;&#x70B9; &lt;Host name=&quot;localhost&quot; appBase=&quot;webapps&quot; unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt; &lt;!-- &#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x9879;&#x76EE;&#x540D;&#x79F0; --&gt; &lt;Context path=&quot;&quot; docBase=&quot;D:\\apache-tomcat-9.0.7\\webapps\\test&quot; reloadable=&quot;true&quot;/&gt; &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot; prefix=&quot;localhost_access_log&quot; suffix=&quot;.txt&quot; pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt; &lt;/Host&gt; 3) &#x91CD;&#x542F; tomcat&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8F93;&#x5165; http://localhost:8080 &#x914D;&#x7F6E;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x3000;&#x914D;&#x7F6E;&#x865A;&#x4F3C;&#x4E3B;&#x673A;&#x5C31;&#x7B49;&#x540C;&#x4E8E;&#x914D;&#x7F6E;&#x4E00;&#x4E2A;&#x7F51;&#x7AD9;&#x3002;&#x3000;&#x5728;Tomcat&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;&#x4E00;&#x4E2A;&#x865A;&#x62DF;&#x4E3B;&#x673A;(&#x7F51;&#x7AD9;)&#xFF0C;&#x9700;&#x8981;&#x4FEE;&#x6539;conf&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x7684;server.xml&#x8FD9;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x4F7F;&#x7528;Host&#x5143;&#x7D20;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#xFF0C;&#x6253;&#x5F00;server.xml&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;Tomcat&#x670D;&#x52A1;&#x5668;&#x81EA;&#x5E26;&#x7684;&#x4E00;&#x4E2A;&#x540D;&#x79F0;&#x4E3A;localhost&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;(&#x7F51;&#x7AD9;)&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A; &lt;Host name=&quot;localhost&quot; appBase=&quot;webapps&quot; unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt; &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot; prefix=&quot;localhost_access_log&quot; suffix=&quot;.txt&quot; pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt; &lt;/Host&gt; &#x3000;&#x3000;&#x3000;&#x3000;&#x5E73;&#x65F6;&#x6211;&#x4EEC;&#x5C06;&#x5F00;&#x53D1;&#x597D;&#x7684;JavaWeb&#x5E94;&#x7528;&#x653E;&#x5230;webapps&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#xFF0C;&#x7136;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x201D;http://localhost:&#x7AEF;&#x53E3;&#x53F7;/JavaWebAppName&quot;&#x7684;&#x65B9;&#x5F0F;&#x53BB;&#x8BBF;&#x95EE;&#x4E86;&#xFF0C;&#x5176;&#x5B9E;&#x8BBF;&#x95EE;&#x7684;&#x5C31;&#x662F;name&#x662F;&quot;localhost&quot;&#x7684;&#x90A3;&#x53F0;&#x865A;&#x62DF;&#x4E3B;&#x673A;(Host)&#xFF0C;&#x8FD9;&#x53F0;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x7BA1;&#x7406;webapps&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x7684;&#x6240;&#x6709;web&#x5E94;&#x7528;&#x3002;&#x6211;&#x4EEC;&#x6765;&#x81EA;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#xFF0C;1) &#x8FDB;&#x5165; conf &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x7F16;&#x8F91; server.xml &#x6587;&#x4EF6;2) &#x627E;&#x5230; Host &#x8282;&#x70B9; &#xFF0C;&#x5728;&#x5B83;&#x4E0B;&#x65B9;&#x65B0;&#x589E;&#x4E00;&#x4E2A;&#x8282;&#x70B9; &lt;Host name=&quot;marklogzhu&quot; appBase=&quot;webapps&quot; unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt; &lt;/Host&gt; 3) &#x6253;&#x5F00;C:\\Windows\\System32\\drivers\\etc&#x4E0B;&#x9762;&#x7684;hosts&#x6587;&#x4EF6; &#x65B0;&#x589E;&#x8BB0;&#x5F55; 127.0.0.1 marklogzhu 4) &#x91CD;&#x542F;tomcat&#xFF0C;&#x5E76;&#x8F93;&#x5165; http://localhost:8080 &#x3001;http://marklogzhu:8080 (&#x6CE8;&#x610F;&#xFF1A;&#x7AEF;&#x53E3;&#x53F7;&#xFF0C;&#x9879;&#x76EE;&#x540D;&#x79F0;&#x90FD;&#x5DF2;&#x4FEE;&#x6539;&#x4E3A;&#x9ED8;&#x8BA4;) &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x4E24;&#x4E2A;&#x5730;&#x5740;&#x90FD;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x8BBF;&#x95EE;&#x9875;&#x9762; &#x4FEE;&#x6539;Session&#x6709;&#x6548;&#x65F6;&#x95F4;1) &#x8FDB;&#x5165; conf &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x7F16;&#x8F91; web.xml &#x6587;&#x4EF6;2) &#x627E;&#x5230; session-config &#x8282;&#x70B9;&#xFF0C;&#x9ED8;&#x8BA4;&#x65F6;&#x95F4;&#x662F;30&#x5206;&#x949F; &lt;session-config&gt; &lt;session-timeout&gt;30&lt;/session-timeout&gt; &lt;/session-config&gt; 3) &#x4FEE;&#x6539;&#x4E3A;&#x4F60;&#x9700;&#x8981;&#x7684;&#x65F6;&#x95F4;&#x5373;&#x53EF;","tags":[{"name":"tomcat","slug":"tomcat","permalink":"https://marklogzhu.github.io/tags/tomcat/"}]},{"title":"Tomcat学习总结(1)--Tomcat安装","date":"2018-04-11T02:04:00.000Z","path":"tomcat/后台/Tomcat/Tomcat学习总结(1)--Tomcat安装/","text":"&#x4EC0;&#x4E48;&#x662F;tomcatTomcat &#x662F;&#x4E00;&#x4E2A;&#x514D;&#x8D39;&#x7684;&#x5F00;&#x653E;&#x6E90;&#x4EE3;&#x7801;&#x7684; Web &#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5C5E;&#x4E8E;&#x8F7B;&#x91CF;&#x7EA7;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5728;&#x4E2D;&#x5C0F;&#x578B;&#x7CFB;&#x7EDF;&#x548C;&#x5E76;&#x53D1;&#x8BBF;&#x95EE;&#x7528;&#x6237;&#x4E0D;&#x662F;&#x5F88;&#x591A;&#x7684;&#x573A;&#x5408;&#x4E0B;&#x88AB;&#x666E;&#x904D;&#x4F7F;&#x7528;&#xFF0C;&#x662F;&#x5F00;&#x53D1;&#x548C;&#x8C03;&#x8BD5; JSP &#x7A0B;&#x5E8F;&#x7684;&#x9996;&#x9009;&#x3002; &#x6CE8;&#xFF1A;&#x5728;&#x5B89;&#x88C5; tomcat &#x524D;&#x7535;&#x8111;&#x5FC5;&#x987B;&#x6709; jdk &#x73AF;&#x5883;&#xFF0C;&#x5426;&#x5219;&#x5C06;&#x65E0;&#x6CD5;&#x542F;&#x52A8; tomcat &#x5B89;&#x88C5;1) &#x524D;&#x5F80; &#x5B98;&#x7F51; &#x4E0B;&#x8F7D;&#x6307;&#x5B9A;&#x7248;&#x672C; 2) &#x4E0B;&#x8F7D;&#x7CFB;&#x7EDF;&#x5BF9;&#x5E94;&#x7248;&#x672C;&#x7684; zip &#x6587;&#x4EF6;&#x5E76;&#x89E3;&#x538B;&#x5230;&#x6307;&#x5B9A;&#x76EE;&#x5F55;&#x4E0B; &#x76EE;&#x5F55;&#x7ED3;&#x6784; bin : &#x53EF;&#x6267;&#x884C;&#x7A0B;&#x5E8F;,&#x5982;&#x542F;&#x52A8;&#x670D;&#x52A1;&#x3001;&#x5173;&#x95ED;&#x670D;&#x52A1; conf: &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x914D;&#x7F6E;&#x7AEF;&#x53E3;&#x3001;&#x5185;&#x5B58;&#x5927;&#x5C0F;&#x7B49; lib: tomcat &#x8FD0;&#x884C;&#x65F6;&#x4F9D;&#x8D56;&#x7684; jar &#x5305; logs: tomcat &#x8FD0;&#x884C;&#x65F6;&#x7684;&#x65E5;&#x5FD7;&#x6587;&#x4EF6; temp: tomcat &#x4E34;&#x65F6;&#x6587;&#x4EF6; webapps: &#x5B58;&#x653E; web &#x9879;&#x76EE;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x5176;&#x4E2D;&#x6BCF;&#x4E2A;&#x6587;&#x4EF6;&#x5939;&#x90FD;&#x662F;&#x4E00;&#x4E2A;&#x9879;&#x76EE; work: &#x8FD0;&#x884C;&#x65F6;&#x751F;&#x6210;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x6700;&#x7EC8;&#x8FD0;&#x884C;&#x7684;&#x6587;&#x4EF6;&#x90FD;&#x5728;&#x8FD9;&#x91CC;&#x3002;&#x901A;&#x8FC7;webapps&#x4E2D;&#x7684;&#x9879;&#x76EE;&#x751F;&#x6210;&#x7684; license:&#x8BB8;&#x53EF;&#x8BC1; notice: &#x8BF4;&#x660E;&#x6587;&#x4EF6; &#x8FD0;&#x884C;1) &#x8FDB;&#x5165;bin &#x76EE;&#x5F55; &#xFF0C;&#x53CC;&#x51FB;&#x8FD0;&#x884C; startup.bat 2) &#x6253;&#x5F00;&#x6D4F;&#x89C8;&#x5668;&#x8F93;&#x5165; http://localhost:8080/ &#x51FA;&#x73B0;&#x4E0A;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x5C31;&#x8BF4;&#x660E;tomcat&#x5B89;&#x88C5;&#x6210;&#x529F;&#x4E86; &#x5C06;tomcat&#x7A97;&#x53E3;&#x5173;&#x95ED;&#x5E76;&#x5237;&#x65B0;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x53D1;&#x73B0;&#x65E0;&#x6CD5;&#x8BBF;&#x95EE;&#x9ED8;&#x8BA4;&#x7684;&#x9875;&#x9762;&#x4E86;&#x3002; &#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x5C06;tomcat&#x670D;&#x52A1;&#x5173;&#x95ED;&#x4E86;&#x81EA;&#x7136;&#x5C31;&#x4E0D;&#x80FD;&#x6253;&#x5F00;&#x9875;&#x9762;&#x4E86;&#xFF0C;&#x90A3;&#x5982;&#x4F55;&#x53EF;&#x4EE5;&#x4E0D;&#x663E;&#x793A;tomcat&#x7A97;&#x53E3;&#x4E5F;&#x80FD;&#x6B63;&#x5E38;&#x4F7F;&#x7528;tomcat&#x670D;&#x52A1;&#x5462;&#xFF1F;&#x6709;&#x4E24;&#x79CD;&#x65B9;&#x6848;&#xFF1A; * &#x4F7F;&#x7528;&#x5B89;&#x88C5;&#x7248;tomcat * &#x89E3;&#x538B;&#x7248;tomcat&#x6CE8;&#x518C;&#x670D;&#x52A1; &#x6CE8;&#x518C;&#x670D;&#x52A1;1) &#x8FD0;&#x884C;cmd &#x7A0B;&#x5E8F;&#x8FDB;&#x5165; tomcat &#x4E0B;&#x7684; bin &#x76EE;&#x5F55;2) &#x6267;&#x884C;&#x5B89;&#x88C5;&#x670D;&#x52A1;&#x547D;&#x4EE4; service.bat install &#x6CE8;&#xFF1A;&#x5982;&#x679C; bin &#x76EE;&#x5F55;&#x4E0B;&#x6CA1;&#x6709; service.bat &#x6587;&#x4EF6;&#xFF0C;&#x8BF7;&#x53BB;&#x5B98;&#x7F51;&#x4E0B;&#x8F7D;&#x6709;&#x8BE5;&#x6587;&#x4EF6;&#x7684;&#x7248;&#x672C; &#x5378;&#x8F7D;&#x670D;&#x52A1;1) &#x8FD0;&#x884C;cmd &#x7A0B;&#x5E8F;&#x8FDB;&#x5165; tomcat &#x4E0B;&#x7684; bin &#x76EE;&#x5F55;2) &#x6267;&#x884C;&#x5B89;&#x88C5;&#x670D;&#x52A1;&#x547D;&#x4EE4; service.bat remove","tags":[{"name":"tomcat","slug":"tomcat","permalink":"https://marklogzhu.github.io/tags/tomcat/"}]},{"title":"关于我","date":"2018-04-04T05:35:58.000Z","path":"关于/about/","text":"2015-04 ~ 2018-03 &#x4EE5; android &#x5F00;&#x53D1;&#x5DE5;&#x7A0B;&#x5E08;&#x8EAB;&#x4EFD;&#x8FDB;&#x5165;&#x6D59;&#x6C5F;&#x4E2D;&#x63A7;&#x6D41;&#x4F53;&#x6280;&#x672F;&#x516C;&#x53F8; &#xFF0C;&#x81EA;&#x5B66;Java &#x540E;&#x53F0;&#x3002; 2018-03.26 &#x627E;&#x5DE5;&#x4F5C;","tags":[]},{"title":"RabbitMQ学习总结(2)--RabbitMQ消息","date":"2018-03-11T14:23:00.000Z","path":"RabbitMQ/后台/RabbitMQ/RabbitMQ学习总结(2)--RabbitMQ消息/","text":"&#x6D88;&#x606F;&#x786E;&#x8BA4;&#x5047;&#x8BBE;&#x5904;&#x7406;&#x4E00;&#x6761;&#x6D88;&#x606F;&#x4EFB;&#x52A1;&#x6BD4;&#x8F83;&#x8017;&#x65F6;&#xFF0C;&#x5728;&#x5904;&#x7406;&#x8FC7;&#x7A0B;&#x4E2D;&#x51FA;&#x73B0;&#x95EE;&#x9898;&#x5BFC;&#x81F4;&#x6B63;&#x5728;&#x5904;&#x7406;&#x7684;&#x6D88;&#x606F;&#x4EFB;&#x52A1;&#x5C31;&#x6CA1;&#x6709;&#x5B8C;&#x6210;&#x5C31;&#x4F1A;&#x4E22;&#x5931;&#x8FD9;&#x4E2A;&#x6D88;&#x606F;&#x4EFB;&#x52A1;&#x3002;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;RabbitMQ&#x652F;&#x6301;&#x6D88;&#x606F;&#x786E;&#x8BA4;&#x673A;&#x5236;&#x2013;ACK&#x3002; ACK&#x673A;&#x5236;&#x662F;&#x6D88;&#x8D39;&#x8005;&#x7AEF;&#x4ECE;RabbitMQ&#x6536;&#x5230;&#x6D88;&#x606F;&#x5E76;&#x5904;&#x7406;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x53CD;&#x9988;&#x7ED9;RabbitMQ&#xFF0C;RabbitMQ&#x6536;&#x5230;&#x53CD;&#x9988;&#x540E;&#x624D;&#x5C06;&#x6B64;&#x6D88;&#x606F;&#x4ECE;&#x961F;&#x5217;&#x4E2D;&#x5220;&#x9664;&#x3002;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x6D88;&#x8D39;&#x8005;&#x5728;&#x5904;&#x7406;&#x6D88;&#x606F;&#x65F6;&#x6302;&#x6389;&#xFF08;&#x7F51;&#x7EDC;&#x4E0D;&#x7A33;&#x5B9A;&#x3001;&#x670D;&#x52A1;&#x5668;&#x5F02;&#x5E38;&#x3001;&#x7F51;&#x7AD9;&#x6545;&#x969C;&#x7B49;&#x539F;&#x56E0;&#x5BFC;&#x81F4;&#x9891;&#x9053;&#x3001;&#x8FDE;&#x63A5;&#x5173;&#x95ED;&#x6216;&#x8005;TCP&#x8FDE;&#x63A5;&#x4E22;&#x5931;&#x7B49;&#xFF09;&#xFF0C;&#x90A3;&#x4E48;&#x4ED6;&#x5C31;&#x4E0D;&#x4F1A;&#x6709;ACK&#x53CD;&#x9988;&#xFF0C;RabbitMQ&#x4F1A;&#x8BA4;&#x4E3A;&#x8FD9;&#x4E2A;&#x6D88;&#x606F;&#x6CA1;&#x6709;&#x6B63;&#x5E38;&#x6D88;&#x8D39;&#xFF0C;&#x4F1A;&#x5C06;&#x6B64;&#x6D88;&#x606F;&#x91CD;&#x65B0;&#x653E;&#x5165;&#x961F;&#x5217;&#x4E2D;&#x3002;&#x5982;&#x679C;&#x6709;&#x5176;&#x4ED6;&#x6D88;&#x8D39;&#x8005;&#x540C;&#x65F6;&#x5728;&#x7EBF;&#xFF0C;RabbitMQ&#x4F1A;&#x7ACB;&#x5373;&#x5C06;&#x8FD9;&#x4E2A;&#x6D88;&#x606F;&#x63A8;&#x9001;&#x7ED9;&#x8FD9;&#x4E2A;&#x5728;&#x7EBF;&#x7684;&#x6D88;&#x8D39;&#x8005;&#x3002;&#x8FD9;&#x79CD;&#x673A;&#x5236;&#x4FDD;&#x8BC1;&#x4E86;&#x5728;&#x6D88;&#x8D39;&#x8005;&#x670D;&#x52A1;&#x5668;&#x6545;&#x969C;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x80FD;&#x4E0D;&#x4E22;&#x5931;&#x4EFB;&#x4F55;&#x6D88;&#x606F;&#x548C;&#x4EFB;&#x52A1;&#x3002;&#x5982;&#x679C;RabbitMQ&#x5411;&#x6D88;&#x8D39;&#x8005;&#x53D1;&#x9001;&#x6D88;&#x606F;&#x65F6;&#xFF0C;&#x6D88;&#x8D39;&#x8005;&#x670D;&#x52A1;&#x5668;&#x6302;&#x4E86;&#xFF0C;&#x6D88;&#x606F;&#x4E5F;&#x4E0D;&#x4F1A;&#x6709;&#x8D85;&#x65F6;&#xFF1B;&#x5373;&#x4F7F;&#x4E00;&#x4E2A;&#x6D88;&#x606F;&#x9700;&#x8981;&#x975E;&#x5E38;&#x957F;&#x7684;&#x65F6;&#x95F4;&#x5904;&#x7406;&#xFF0C;&#x4E5F;&#x4E0D;&#x4F1A;&#x5BFC;&#x81F4;&#x6D88;&#x606F;&#x8D85;&#x65F6;&#x3002;&#x8FD9;&#x6837;&#x6D88;&#x606F;&#x6C38;&#x8FDC;&#x4E0D;&#x4F1A;&#x4ECE;RabbitMQ&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x5220;&#x9664;&#x3002;&#x53EA;&#x6709;&#x5F53;&#x6D88;&#x8D39;&#x8005;&#x6B63;&#x786E;&#x7684;&#x53D1;&#x9001;ACK&#x786E;&#x8BA4;&#x53CD;&#x9988;&#xFF0C;RabbitMQ&#x786E;&#x8BA4;&#x6536;&#x5230;&#x540E;&#xFF0C;&#x6D88;&#x606F;&#x624D;&#x4F1A;&#x4ECE;RabbitMQ&#x670D;&#x52A1;&#x5668;&#x7684;&#x6570;&#x636E;&#x4E2D;&#x5220;&#x9664;&#x3002; &#x6D88;&#x606F;&#x7684;ACK&#x786E;&#x8BA4;&#x673A;&#x5236;&#x9ED8;&#x8BA4;&#x662F;&#x6253;&#x5F00;&#x7684;&#x3002; &#x5173;&#x95ED;&#x6D88;&#x606F;&#x786E;&#x8BA4;1) &#x65B0;&#x5EFA;&#x53D1;&#x9001;&#x7C7B; public class Send { //&#x961F;&#x5217;&#x540D;&#x79F0; private final static String QUEUE_NAME = &quot;queue&quot;; public static void main(String[] argv) throws java.io.IOException, TimeoutException { /** * &#x521B;&#x5EFA;&#x8FDE;&#x63A5;&#x8FDE;&#x63A5;&#x5230;MabbitMQ */ ConnectionFactory factory = new ConnectionFactory(); //&#x8BBE;&#x7F6E;MabbitMQ&#x6240;&#x5728;&#x4E3B;&#x673A;ip&#x6216;&#x8005;&#x4E3B;&#x673A;&#x540D; factory.setHost(&quot;127.0.0.1&quot;); //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5; Connection connection = factory.newConnection(); //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x9891;&#x9053; Channel channel = connection.createChannel(); //&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x961F;&#x5217; channel.queueDeclare(QUEUE_NAME, false, false, false, null); //&#x5F80;&#x961F;&#x5217;&#x4E2D;&#x53D1;&#x51FA;&#x4E00;&#x6761;&#x6D88;&#x606F; for (int i = 0; i &lt; 15; i++) { //&#x53D1;&#x9001;&#x7684;&#x6D88;&#x606F; String message = &quot;hello world!&quot;+i; channel.basicPublish(&quot;&quot;, QUEUE_NAME, null, message.getBytes()); } //&#x5173;&#x95ED;&#x9891;&#x9053;&#x548C;&#x8FDE;&#x63A5; channel.close(); connection.close(); } 2) &#x65B0;&#x5EFA;&#x63A5;&#x6536;&#x7C7B; import com.rabbitmq.client.*; import java.io.IOException; import java.util.concurrent.TimeoutException; public class Recv { //&#x961F;&#x5217;&#x540D;&#x79F0; private final static String QUEUE_NAME = &quot;queue&quot;; public static void main(String[] argv) throws java.io.IOException, java.lang.InterruptedException, TimeoutException { //&#x6253;&#x5F00;&#x8FDE;&#x63A5;&#x548C;&#x521B;&#x5EFA;&#x9891;&#x9053;&#xFF0C;&#x4E0E;&#x53D1;&#x9001;&#x7AEF;&#x4E00;&#x6837; ConnectionFactory factory = new ConnectionFactory(); //&#x8BBE;&#x7F6E;MabbitMQ&#x6240;&#x5728;&#x4E3B;&#x673A;ip&#x6216;&#x8005;&#x4E3B;&#x673A;&#x540D; factory.setHost(&quot;127.0.0.1&quot;); Connection connection = factory.newConnection(); final Channel channel = connection.createChannel(); // &#x6BCF;&#x6B21;&#x4ECE;&#x961F;&#x5217;&#x4E2D;&#x83B7;&#x53D6;&#x6570;&#x91CF; channel.basicQos(1); //&#x58F0;&#x660E;&#x961F;&#x5217;&#xFF0C;&#x4E3B;&#x8981;&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x6D88;&#x606F;&#x63A5;&#x6536;&#x8005;&#x5148;&#x6267;&#x884C;&#x6B64;&#x7A0B;&#x5E8F;&#xFF0C;&#x961F;&#x5217;&#x8FD8;&#x4E0D;&#x5B58;&#x5728;&#x65F6;&#x521B;&#x5EFA;&#x961F;&#x5217;&#x3002; channel.queueDeclare(QUEUE_NAME, false, false, false, null); System.out.println(&quot;&#x7B49;&#x5F85;&#x6D88;&#x606F;&#x3002; &#x8981;&#x9000;&#x51FA;&#xFF0C;&#x8BF7;&#x6309; CTRL + C&quot;); //&#x521B;&#x5EFA;&#x961F;&#x5217;&#x6D88;&#x8D39;&#x8005; final Consumer consumer = new DefaultConsumer(channel) { @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { String message = new String(body, &quot;UTF-8&quot;); System.out.println(&quot;&#x63A5;&#x6536;&#x5185;&#x5BB9;&#xFF1A; &apos;&quot; + message + &quot;&apos;&quot;); try { doWork(message); } finally { } } }; // &#x8BBE;&#x7F6E;&#x6D88;&#x606F;&#x786E;&#x8BA4;&#x72B6;&#x6001;&#x4E3A;&#x542F;&#x7528; boolean autoAck = true; //&#x6307;&#x5B9A;&#x6D88;&#x8D39;&#x961F;&#x5217; channel.basicConsume(QUEUE_NAME, autoAck, consumer); } /** * &#x4EFB;&#x52A1;&#x5904;&#x7406; * * @param task * void */ private static void doWork(String task) { try { Thread.sleep(1000); // &#x6682;&#x505C;1&#x79D2;&#x949F; } catch (InterruptedException _ignored) { Thread.currentThread().interrupt(); } } } 3) &#x542F;&#x52A8;&#x4E24;&#x4E2A; Recv &#x8FDB;&#x7A0B;&#xFF0C;&#x7136;&#x540E;&#x542F;&#x52A8;Send &#xFF0C;&#x7136;&#x540E;&#x5173;&#x95ED;&#x6389;&#x4E00;&#x4E2A; Recv &#x8FDB;&#x7A0B; &#x53D1;&#x73B0;&#x53EA;&#x6253;&#x5370;&#x4E86;11&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x4E22;&#x5931;&#x6389;4&#x6761;&#x8BB0;&#x5F55;4) &#x4FEE;&#x6539; Recv &#x7C7B; import com.rabbitmq.client.*; import java.io.IOException; import java.util.concurrent.TimeoutException; public class Recv { //&#x961F;&#x5217;&#x540D;&#x79F0; private final static String QUEUE_NAME = &quot;queue&quot;; public static void main(String[] argv) throws java.io.IOException, java.lang.InterruptedException, TimeoutException { //&#x6253;&#x5F00;&#x8FDE;&#x63A5;&#x548C;&#x521B;&#x5EFA;&#x9891;&#x9053;&#xFF0C;&#x4E0E;&#x53D1;&#x9001;&#x7AEF;&#x4E00;&#x6837; ConnectionFactory factory = new ConnectionFactory(); //&#x8BBE;&#x7F6E;MabbitMQ&#x6240;&#x5728;&#x4E3B;&#x673A;ip&#x6216;&#x8005;&#x4E3B;&#x673A;&#x540D; factory.setHost(&quot;127.0.0.1&quot;); Connection connection = factory.newConnection(); final Channel channel = connection.createChannel(); // &#x6BCF;&#x6B21;&#x4ECE;&#x961F;&#x5217;&#x4E2D;&#x83B7;&#x53D6;&#x6570;&#x91CF; channel.basicQos(1); //&#x58F0;&#x660E;&#x961F;&#x5217;&#xFF0C;&#x4E3B;&#x8981;&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x6D88;&#x606F;&#x63A5;&#x6536;&#x8005;&#x5148;&#x6267;&#x884C;&#x6B64;&#x7A0B;&#x5E8F;&#xFF0C;&#x961F;&#x5217;&#x8FD8;&#x4E0D;&#x5B58;&#x5728;&#x65F6;&#x521B;&#x5EFA;&#x961F;&#x5217;&#x3002; channel.queueDeclare(QUEUE_NAME, false, false, false, null); System.out.println(&quot;&#x7B49;&#x5F85;&#x6D88;&#x606F;&#x3002; &#x8981;&#x9000;&#x51FA;&#xFF0C;&#x8BF7;&#x6309; CTRL + C&quot;); //&#x521B;&#x5EFA;&#x961F;&#x5217;&#x6D88;&#x8D39;&#x8005; final Consumer consumer = new DefaultConsumer(channel) { @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { String message = new String(body, &quot;UTF-8&quot;); System.out.println(&quot;&#x63A5;&#x6536;&#x5185;&#x5BB9;&#xFF1A; &apos;&quot; + message + &quot;&apos;&quot;); try { doWork(message); } finally { // &#x6D88;&#x606F;&#x5904;&#x7406;&#x5B8C;&#x6210;&#x786E;&#x8BA4; channel.basicAck(envelope.getDeliveryTag(), false); } } }; // &#x8BBE;&#x7F6E;&#x6D88;&#x606F;&#x786E;&#x8BA4;&#x5173;&#x95ED; boolean autoAck = false; //&#x6307;&#x5B9A;&#x6D88;&#x8D39;&#x961F;&#x5217; channel.basicConsume(QUEUE_NAME, autoAck, consumer); } /** * &#x4EFB;&#x52A1;&#x5904;&#x7406; * * @param task * void */ private static void doWork(String task) { try { Thread.sleep(1000); // &#x6682;&#x505C;1&#x79D2;&#x949F; } catch (InterruptedException _ignored) { Thread.currentThread().interrupt(); } } } 5) &#x542F;&#x52A8;&#x4E24;&#x4E2A; Recv &#x8FDB;&#x7A0B;&#xFF0C;&#x7136;&#x540E;&#x542F;&#x52A8;Send &#xFF0C;&#x7136;&#x540E;&#x5173;&#x95ED;&#x6389;&#x4E00;&#x4E2A; Recv &#x8FDB;&#x7A0B; &#x53D1;&#x73B0;&#x6CA1;&#x6709;&#x4E22;&#x5931;&#x8BB0;&#x5F55; &#x6CE8;&#xFF1A;&#x5982;&#x679C;&#x4F60;&#x5173;&#x95ED;&#x4E86;&#x81EA;&#x52A8;&#x6D88;&#x606F;&#x5E94;&#x7B54;&#xFF0C;&#x624B;&#x52A8;&#x4E5F;&#x672A;&#x8BBE;&#x7F6E;&#x5E94;&#x7B54;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x5F88;&#x7B80;&#x5355;&#x9519;&#x8BEF;&#xFF0C;&#x4F46;&#x662F;&#x540E;&#x679C;&#x5374;&#x662F;&#x6781;&#x5176;&#x4E25;&#x91CD;&#x7684;&#x3002;&#x6D88;&#x606F;&#x5728;&#x5206;&#x53D1;&#x51FA;&#x53BB;&#x4EE5;&#x540E;&#xFF0C;&#x5F97;&#x4E0D;&#x5230;&#x56DE;&#x5E94;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x4F1A;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x5220;&#x9664;&#xFF0C;&#x7ED3;&#x679C;RabbitMQ&#x4F1A;&#x8D8A;&#x6765;&#x8D8A;&#x5360;&#x7528;&#x5185;&#x5B58;&#xFF0C;&#x6700;&#x7EC8;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x4F60;&#x61C2;&#x5F97;&#x3002;&#x3002;&#x3002; &#x6D88;&#x606F;&#x6301;&#x4E45;&#x5316;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x77E5;&#x9053;&#x5982;&#x4F55;&#x786E;&#x4FDD;&#x6D88;&#x8D39;&#x8005;&#x6302;&#x6389;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4EFB;&#x52A1;&#x4E0D;&#x4F1A;&#x6D88;&#x5931;&#x3002;&#x4F46;&#x662F;&#x5982;&#x679C;RabbitMQ&#x670D;&#x52A1;&#x5668;&#x6302;&#x4E86;&#x5462;&#xFF1F;&#x5982;&#x679C;&#x4F60;&#x4E0D;&#x544A;&#x8BC9;RabbitMQ&#xFF0C;&#x5F53;RabbitMQ&#x670D;&#x52A1;&#x5668;&#x6302;&#x4E86;&#xFF0C;&#x5979;&#x53EF;&#x80FD;&#x5C31;&#x4E22;&#x5931;&#x6240;&#x6709;&#x961F;&#x5217;&#x4E2D;&#x7684;&#x6D88;&#x606F;&#x548C;&#x4EFB;&#x52A1;&#x3002;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x8BA9;RabbitMQ&#x8BB0;&#x4F4F;&#x5979;&#x5F53;&#x524D;&#x7684;&#x72B6;&#x6001;&#x548C;&#x5185;&#x5BB9;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x901A;&#x8FC7;2&#x4EF6;&#x4E8B;&#x6765;&#x786E;&#x4FDD;&#x6D88;&#x606F;&#x548C;&#x4EFB;&#x52A1;&#x4E0D;&#x4F1A;&#x4E22;&#x5931;&#x3002;&#x7B2C;&#x4E00;&#x4EF6;&#x4E8B;&#xFF0C;&#x5728;&#x961F;&#x5217;&#x58F0;&#x660E;&#x65F6;&#xFF0C;&#x544A;&#x8BC9;RabbitMQ&#xFF0C;&#x8FD9;&#x4E2A;&#x961F;&#x5217;&#x9700;&#x8981;&#x6301;&#x4E45;&#x5316;&#xFF1A; boolean durable = true; channel.queueDeclare(&quot;hello&quot;, durable, false, false, null); &#x5173;&#x4E8E;&#x6D88;&#x606F;&#x6301;&#x4E45;&#x5316;&#x7684;&#x8BF4;&#x660E; &#x6807;&#x8BB0;&#x4E3A;&#x6301;&#x4E45;&#x5316;&#x540E;&#x7684;&#x6D88;&#x606F;&#x4E5F;&#x4E0D;&#x80FD;&#x5B8C;&#x5168;&#x4FDD;&#x8BC1;&#x4E0D;&#x4F1A;&#x4E22;&#x5931;&#x3002;&#x867D;&#x7136;&#x5DF2;&#x7ECF;&#x544A;&#x8BC9;RabbitMQ&#x6D88;&#x606F;&#x8981;&#x4FDD;&#x5B58;&#x5230;&#x78C1;&#x76D8;&#x4E0A;&#xFF0C;&#x4F46;&#x662F;&#x7406;&#x8BBA;&#x4E0A;&#xFF0C;RabbitMQ&#x5DF2;&#x7ECF;&#x63A5;&#x6536;&#x5230;&#x751F;&#x4EA7;&#x8005;&#x7684;&#x6D88;&#x606F;&#xFF0C;&#x4F46;&#x662F;&#x8FD8;&#x6CA1;&#x6709;&#x6765;&#x5F97;&#x53CA;&#x4FDD;&#x5B58;&#x5230;&#x78C1;&#x76D8;&#x4E0A;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x5C31;&#x6302;&#x4E86;&#xFF08;&#x6BD4;&#x5982;&#x673A;&#x623F;&#x65AD;&#x7535;&#xFF09;&#xFF0C;&#x90A3;&#x4E48;&#x91CD;&#x542F;&#x540E;&#xFF0C;RabbitMQ&#x4E2D;&#x7684;&#x8FD9;&#x6761;&#x672A;&#x53CA;&#x65F6;&#x4FDD;&#x5B58;&#x7684;&#x6D88;&#x606F;&#x5C31;&#x4F1A;&#x4E22;&#x5931;&#x3002;&#x56E0;&#x4E3A;RabbitMQ&#x4E0D;&#x505A;&#x5B9E;&#x65F6;&#x7ACB;&#x5373;&#x7684;&#x78C1;&#x76D8;&#x540C;&#x6B65;&#xFF08;fsync&#xFF09;&#x3002;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5BF9;&#x4E8E;&#x6301;&#x4E45;&#x5316;&#x8981;&#x6C42;&#x4E0D;&#x662F;&#x7279;&#x522B;&#x9AD8;&#x7684;&#x7B80;&#x5355;&#x4EFB;&#x52A1;&#x961F;&#x5217;&#x6765;&#x8BF4;&#xFF0C;&#x8FD8;&#x662F;&#x53EF;&#x4EE5;&#x6EE1;&#x8DB3;&#x7684;&#x3002;&#x5982;&#x679C;&#x9700;&#x8981;&#x66F4;&#x5F3A;&#x5927;&#x7684;&#x4FDD;&#x8BC1;&#xFF0C;&#x90A3;&#x4E48;&#x4F60;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x4F7F;&#x7528;&#x751F;&#x4EA7;&#x8005;&#x786E;&#x8BA4;&#x53CD;&#x9988;&#x673A;&#x5236;&#x3002;","tags":[{"name":"RabbitMQ","slug":"RabbitMQ","permalink":"https://marklogzhu.github.io/tags/RabbitMQ/"}]},{"title":"RabbitMQ学习总结(3)--RabbitMQ发布订阅","date":"2018-03-11T14:23:00.000Z","path":"RabbitMQ/后台/RabbitMQ/RabbitMQ学习总结(3)--RabbitMQ发布订阅/","text":"&#x5728;&#x524D;&#x9762;&#x7684;&#x6559;&#x7A0B;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x5DE5;&#x4F5C;&#x961F;&#x5217;&#xFF0C;&#x90FD;&#x662F;&#x5047;&#x8BBE;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x53EA;&#x4EA4;&#x7ED9;&#x4E00;&#x4E2A;&#x6D88;&#x8D39;&#x8005;&#x3002;&#x8FD9;&#x6B21;&#x6211;&#x4EEC;&#x505A;&#x4E00;&#x4E9B;&#x5B8C;&#x5168;&#x4E0D;&#x540C;&#x7684;&#x4E8B;&#x513F;&#x2014;&#x2014;&#x5C06;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x7ED9;&#x591A;&#x4E2A;&#x6D88;&#x8D39;&#x8005;&#x3002;&#x8FD9;&#x79CD;&#x6A21;&#x5F0F;&#x53EB;&#x505A;&#x201C;&#x53D1;&#x5E03;/&#x8BA2;&#x9605;&#x201D;&#x3002; &#x4E3A;&#x4E86;&#x8BF4;&#x660E;&#x8FD9;&#x4E2A;&#x6A21;&#x5F0F;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x6784;&#x5EFA;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x65E5;&#x5FD7;&#x7CFB;&#x7EDF;&#x3002;&#x5B83;&#x5305;&#x542B;2&#x6BB5;&#x7A0B;&#x5E8F;&#xFF1A;&#x7B2C;&#x4E00;&#x4E2A;&#x5C06;&#x53D1;&#x51FA;&#x65E5;&#x5FD7;&#x6D88;&#x606F;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x63A5;&#x53D7;&#x5E76;&#x6253;&#x5370;&#x6D88;&#x606F;&#x3002; &#x5982;&#x679C;&#x5728;&#x65E5;&#x5FD7;&#x7CFB;&#x7EDF;&#x4E2D;&#x6BCF;&#x4E00;&#x4E2A;&#x63A5;&#x53D7;&#x8005;&#xFF08;&#x8BA2;&#x9605;&#x8005;&#xFF09;&#x90FD;&#x4F1A;&#x7684;&#x5F97;&#x5230;&#x6D88;&#x606F;&#x7684;&#x62F7;&#x8D1D;&#x3002;&#x90A3;&#x6837;&#x7684;&#x8BDD;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x4E00;&#x4E2A;&#x63A5;&#x53D7;&#x8005;&#xFF08;&#x8BA2;&#x9605;&#x8005;&#xFF09;&#x7A0B;&#x5E8F;&#xFF0C;&#x76F4;&#x63A5;&#x628A;&#x65E5;&#x5FD7;&#x8BB0;&#x5F55;&#x5230;&#x786C;&#x76D8;&#x3002;&#x540C;&#x65F6;&#x8FD0;&#x884C;&#x53E6;&#x4E00;&#x4E2A;&#x63A5;&#x53D7;&#x8005;&#xFF08;&#x8BA2;&#x9605;&#x8005;&#xFF09;&#x7A0B;&#x5E8F;&#xFF0C;&#x6253;&#x5370;&#x65E5;&#x5FD7;&#x5230;&#x5C4F;&#x5E55;&#x4E0A;&#x3002; &#x8BF4;&#x767D;&#x4E86;&#xFF0C;&#x53D1;&#x8868;&#x65E5;&#x5FD7;&#x6D88;&#x606F;&#x5C06;&#x88AB;&#x5E7F;&#x64AD;&#x7ED9;&#x6240;&#x6709;&#x7684;&#x63A5;&#x6536;&#x8005;&#x3002; Exchanges&#xFF08;&#x8F6C;&#x53D1;&#x5668;&#xFF09;&#x524D;&#x9762;&#x7684;&#x535A;&#x6587;&#x6C47;&#x603B;&#xFF0C;&#x6211;&#x4EEC;&#x90FD;&#x662F;&#x57FA;&#x4E8E;&#x4E00;&#x4E2A;&#x961F;&#x5217;&#x53D1;&#x9001;&#x548C;&#x63A5;&#x53D7;&#x6D88;&#x606F;&#x3002;&#x73B0;&#x5728;&#x4ECB;&#x7ECD;&#x4E00;&#x4E0B;&#x5B8C;&#x6574;&#x7684;&#x6D88;&#x606F;&#x4F20;&#x9012;&#x6A21;&#x5F0F;&#x3002; RabbitMQ&#x6D88;&#x606F;&#x6A21;&#x5F0F;&#x7684;&#x6838;&#x5FC3;&#x7406;&#x5FF5;&#x662F;&#xFF1A;&#x751F;&#x4EA7;&#x8005;&#x6CA1;&#x6709;&#x76F4;&#x63A5;&#x53D1;&#x9001;&#x4EFB;&#x4F55;&#x6D88;&#x8D39;&#x5230;&#x961F;&#x5217;&#x3002;&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x751F;&#x4EA7;&#x8005;&#x90FD;&#x4E0D;&#x77E5;&#x9053;&#x8FD9;&#x4E2A;&#x6D88;&#x8D39;&#x662F;&#x53D1;&#x9001;&#x7ED9;&#x54EA;&#x4E2A;&#x961F;&#x5217;&#x7684;&#x3002; &#x76F8;&#x53CD;&#xFF0C;&#x751F;&#x4EA7;&#x8005;&#x53EA;&#x80FD;&#x53D1;&#x9001;&#x6D88;&#x606F;&#x7ED9;&#x8F6C;&#x53D1;&#x5668;&#xFF0C;&#x8F6C;&#x53D1;&#x5668;&#x662F;&#x975E;&#x5E38;&#x7B80;&#x5355;&#x7684;&#x3002;&#x4E00;&#x65B9;&#x9762;&#x5B83;&#x63A5;&#x53D7;&#x751F;&#x4EA7;&#x8005;&#x7684;&#x6D88;&#x606F;&#xFF0C;&#x53E6;&#x4E00;&#x65B9;&#x9762;&#x5411;&#x961F;&#x5217;&#x63A8;&#x9001;&#x6D88;&#x606F;&#x3002;&#x8F6C;&#x53D1;&#x5668;&#x5FC5;&#x987B;&#x6E05;&#x695A;&#x7684;&#x77E5;&#x9053;&#x5982;&#x4F55;&#x5904;&#x7406;&#x63A5;&#x6536;&#x5230;&#x7684;&#x6D88;&#x606F;&#x3002;&#x9644;&#x52A0;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x961F;&#x5217;&#x5417;&#xFF1F;&#x9644;&#x52A0;&#x591A;&#x4E2A;&#x961F;&#x5217;&#xFF1F;&#x6216;&#x8005;&#x662F;&#x5426;&#x4E22;&#x5F03;&#xFF1F;&#x8FD9;&#x4E9B;&#x89C4;&#x5219;&#x901A;&#x8FC7;&#x8F6C;&#x53D1;&#x5668;&#x7684;&#x7C7B;&#x578B;&#x8FDB;&#x884C;&#x5B9A;&#x4E49;&#x3002; &#x7C7B;&#x578B;&#x6709;&#xFF1A;Direct&#x3001;Topic&#x3001;Headers&#x548C;Fanout&#x3002;&#x6211;&#x4EEC;&#x5173;&#x6CE8;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x3002;&#x73B0;&#x5728;&#x8BA9;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x8BE5;&#x7C7B;&#x578B;&#x7684;&#x8F6C;&#x53D1;&#x5668;&#xFF0C;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#xFF1A; channel.exchangeDeclare(&quot;logs&quot;, &quot;fanout&quot;); fanout&#x8F6C;&#x53D1;&#x5668;&#x975E;&#x5E38;&#x7B80;&#x5355;&#xFF0C;&#x4ECE;&#x540D;&#x5B57;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x5B83;&#x662F;&#x5E7F;&#x64AD;&#x63A5;&#x53D7;&#x5230;&#x7684;&#x6D88;&#x606F;&#x7ED9;&#x6240;&#x6709;&#x7684;&#x961F;&#x5217;&#x3002;&#x800C;&#x8FD9;&#x6B63;&#x597D;&#x7B26;&#x5408;&#x65E5;&#x5FD7;&#x7CFB;&#x7EDF;&#x7684;&#x9700;&#x6C42;&#x3002; Nameless exchange&#xFF08;&#x533F;&#x540D;&#x8F6C;&#x53D1;&#xFF09;&#x4E4B;&#x524D;&#x6211;&#x4EEC;&#x5BF9;&#x8F6C;&#x6362;&#x5668;&#x4E00;&#x65E0;&#x6240;&#x77E5;&#xFF0C;&#x5374;&#x53EF;&#x4EE5;&#x5C06;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x5230;&#x961F;&#x5217;&#xFF0C;&#x90A3;&#x662F;&#x53EF;&#x80FD;&#x662F;&#x6211;&#x4EEC;&#x7528;&#x4E86;&#x9ED8;&#x8BA4;&#x7684;&#x8F6C;&#x53D1;&#x5668;&#xFF0C;&#x8F6C;&#x53D1;&#x5668;&#x540D;&#x4E3A;&#x7A7A;&#x5B57;&#x7B26;&#x4E32;&#x201D;&#x201D;&#x3002;&#x4E4B;&#x524D;&#x6211;&#x4EEC;&#x53D1;&#x5E03;&#x6D88;&#x606F;&#x7684;&#x4EE3;&#x7801;&#x662F;&#xFF1A; channel.basicPublish(&quot;&quot;, &quot;hello&quot;, null, message.getBytes()); &#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x5C31;&#x662F;&#x8F6C;&#x53D1;&#x5668;&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x7A7A;&#x5B57;&#x7B26;&#x4E32;&#x8868;&#x793A;&#x6A21;&#x5F0F;&#x6216;&#x8005;&#x533F;&#x540D;&#x7684;&#x8F6C;&#x53D1;&#x5668;&#x3002;&#x6D88;&#x606F;&#x901A;&#x8FC7;&#x961F;&#x5217;&#x7684;routingKey&#x8DEF;&#x7531;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x961F;&#x5217;&#x4E2D;&#x53BB;&#xFF0C;&#x5982;&#x679C;&#x5B58;&#x5728;&#x7684;&#x8BDD;&#x3002; &#x73B0;&#x5728;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x8F6C;&#x53D1;&#x5668;&#x7684;&#x540D;&#x5B57;&#x4E86;&#xFF1A; channel.basicPublish( &quot;logs&quot;, &quot;&quot;, null, message.getBytes()); Temporary queues&#xFF08;&#x4E34;&#x65F6;&#x961F;&#x5217;&#xFF09;&#x4F60;&#x53EF;&#x80FD;&#x8FD8;&#x8BB0;&#x5F97;&#x4E4B;&#x524D;&#x6211;&#x4EEC;&#x7528;&#x961F;&#x5217;&#x65F6;&#xFF0C;&#x4F1A;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x540D;&#x5B57;&#x3002;&#x961F;&#x5217;&#x6709;&#x540D;&#x5B57;&#x5BF9;&#x6211;&#x4EEC;&#x6765;&#x8BF4;&#x662F;&#x975E;&#x5E38;&#x91CD;&#x8981;&#x7684;&#x2014;&#x2014;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4E3A;&#x6D88;&#x8D39;&#x8005;&#x6307;&#x5B9A;&#x540C;&#x4E00;&#x4E2A;&#x961F;&#x5217;&#x3002; &#x4F46;&#x8FD9;&#x5E76;&#x4E0D;&#x662F;&#x6211;&#x4EEC;&#x7684;&#x65E5;&#x5FD7;&#x7CFB;&#x7EDF;&#x6240;&#x5173;&#x5FC3;&#x7684;&#x3002;&#x6211;&#x4EEC;&#x8981;&#x76D1;&#x542C;&#x6240;&#x6709;&#x65E5;&#x5FD7;&#x6D88;&#x606F;&#xFF0C;&#x800C;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x4E00;&#x7C7B;&#x65E5;&#x5FD7;&#x3002;&#x6211;&#x4EEC;&#x53EA;&#x5BF9;&#x5BF9;&#x5F53;&#x524D;&#x6D41;&#x52A8;&#x7684;&#x6D88;&#x606F;&#x611F;&#x5174;&#x8DA3;&#x3002;&#x89E3;&#x51B3;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#xFF0C;&#x6211;&#x76DF;&#x9700;&#x8981;&#x5B8C;&#x6210;&#x4E24;&#x4EF6;&#x4E8B;&#x3002; &#x9996;&#x5148;&#xFF0C;&#x6BCF;&#x5F53;&#x6211;&#x76DF;&#x8FDE;&#x63A5;&#x5230;RabbitMQ&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x7A7A;&#x961F;&#x5217;&#x3002;&#x4E3A;&#x6B64;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x968F;&#x673A;&#x540D;&#x5B57;&#x7684;&#x7A7A;&#x961F;&#x5217;&#xFF0C;&#x6216;&#x8005;&#x66F4;&#x597D;&#x7684;&#xFF0C;&#x8BA9;&#x670D;&#x52A1;&#x5668;&#x9009;&#x597D;&#x5E74;&#x5219;&#x4E00;&#x4E2A;&#x968F;&#x673A;&#x540D;&#x5B57;&#x7684;&#x7A7A;&#x961F;&#x5217;&#x7ED9;&#x6211;&#x4EEC;&#x3002; &#x5176;&#x6B21;&#xFF0C;&#x4E00;&#x65E6;&#x6D88;&#x8D39;&#x8005;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#xFF0C;&#x961F;&#x5217;&#x5C06;&#x81EA;&#x52A8;&#x5220;&#x9664;&#x3002; &#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x65E0;&#x53C2;&#x7684;queueDeclare()&#x65B9;&#x6CD5;&#xFF0C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x975E;&#x6301;&#x4E45;&#x5316;&#x3001;&#x72EC;&#x7ACB;&#x7684;&#x3001;&#x81EA;&#x52A8;&#x5220;&#x9664;&#x7684;&#x961F;&#x5217;&#xFF0C;&#x4E14;&#x540D;&#x5B57;&#x662F;&#x968F;&#x673A;&#x751F;&#x6210;&#x7684;&#x3002; String queueName = channel.queueDeclare().getQueue(); queueName &#x662F;&#x4E00;&#x4E2A;&#x968F;&#x673A;&#x961F;&#x5217;&#x540D;&#x3002;&#x770B;&#x8D77;&#x6765;&#x4F1A;&#x50CF; amq.gen-JzTY20BRgKO-HjmUJj0wLg&#x3002; Bindings&#xFF08;&#x7ED1;&#x5B9A;&#xFF09;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x5E7F;&#x64AD;&#x7684;&#x8F6C;&#x53D1;&#x5668;&#x548C;&#x4E00;&#x4E2A;&#x968F;&#x673A;&#x961F;&#x5217;&#x3002;&#x73B0;&#x5728;&#x9700;&#x8981;&#x544A;&#x8BC9;&#x8F6C;&#x53D1;&#x5668;&#x8F6C;&#x53D1;&#x6D88;&#x606F;&#x5230;&#x961F;&#x5217;&#x3002;&#x8FD9;&#x4E2A;&#x5173;&#x8054;&#x8F6C;&#x53D1;&#x5668;&#x548C;&#x961F;&#x5217;&#x7684;&#x6211;&#x4EEC;&#x53EB;&#x5B83;Binding&#x3002; channel.queueBind(queueName, &quot;logs&quot;, &quot;&quot;); &#x8FD9;&#x6837;&#xFF0C;&#x65E5;&#x5FD7;&#x8F6C;&#x53D1;&#x5668;&#x5C06;&#x9644;&#x52A0;&#x5230;&#x65E5;&#x5FD7;&#x961F;&#x5217;&#x4E0A;&#x53BB;&#x3002; &#x793A;&#x4F8B;1) &#x53D1;&#x9001;&#x7C7B; public class Send { private static final String EXCHANGE_NAME = &quot;logs&quot;; public static void main(String[] argv) throws java.io.IOException, TimeoutException { /** * &#x521B;&#x5EFA;&#x8FDE;&#x63A5;&#x8FDE;&#x63A5;&#x5230;MabbitMQ */ ConnectionFactory factory = new ConnectionFactory(); //&#x8BBE;&#x7F6E;MabbitMQ&#x6240;&#x5728;&#x4E3B;&#x673A;ip&#x6216;&#x8005;&#x4E3B;&#x673A;&#x540D; factory.setHost(&quot;127.0.0.1&quot;); //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5; Connection connection = factory.newConnection(); //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x9891;&#x9053; Channel channel = connection.createChannel(); channel.exchangeDeclare(EXCHANGE_NAME, &quot;fanout&quot;); //&#x5F80;&#x961F;&#x5217;&#x4E2D;&#x53D1;&#x51FA;&#x4E00;&#x6761;&#x6D88;&#x606F; for (int i = 0; i &lt; 15; i++) { //&#x53D1;&#x9001;&#x7684;&#x6D88;&#x606F; String message = &quot;hello world!&quot;+i; channel.basicPublish(EXCHANGE_NAME, &quot;&quot;, null, message.getBytes()); } //&#x5173;&#x95ED;&#x9891;&#x9053;&#x548C;&#x8FDE;&#x63A5; channel.close(); connection.close(); } } 2) &#x63A5;&#x6536;&#x7C7B; public class Recv { private static final String EXCHANGE_NAME = &quot;logs&quot;; public static void main(String[] argv) throws IOException, InterruptedException, TimeoutException { //&#x6253;&#x5F00;&#x8FDE;&#x63A5;&#x548C;&#x521B;&#x5EFA;&#x9891;&#x9053;&#xFF0C;&#x4E0E;&#x53D1;&#x9001;&#x7AEF;&#x4E00;&#x6837; ConnectionFactory factory = new ConnectionFactory(); //&#x8BBE;&#x7F6E;MabbitMQ&#x6240;&#x5728;&#x4E3B;&#x673A;ip&#x6216;&#x8005;&#x4E3B;&#x673A;&#x540D; factory.setHost(&quot;127.0.0.1&quot;); Connection connection = factory.newConnection(); final Channel channel = connection.createChannel(); // &#x6BCF;&#x6B21;&#x4ECE;&#x961F;&#x5217;&#x4E2D;&#x83B7;&#x53D6;&#x6570;&#x91CF; channel.basicQos(1); System.out.println(&quot;&#x7B49;&#x5F85;&#x6D88;&#x606F;&#x3002; &#x8981;&#x9000;&#x51FA;&#xFF0C;&#x8BF7;&#x6309; CTRL + C&quot;); channel.exchangeDeclare(EXCHANGE_NAME, &quot;fanout&quot;); String queueName = channel.queueDeclare().getQueue(); channel.queueBind(queueName, EXCHANGE_NAME, &quot;&quot;); //&#x521B;&#x5EFA;&#x961F;&#x5217;&#x6D88;&#x8D39;&#x8005; final Consumer consumer = new DefaultConsumer(channel) { @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { String message = new String(body, &quot;UTF-8&quot;); System.out.println(&quot;&#x63A5;&#x6536;&#x5185;&#x5BB9;&#xFF1A; &apos;&quot; + message + &quot;&apos;&quot;); } }; // &#x8BBE;&#x7F6E;&#x6D88;&#x606F;&#x786E;&#x8BA4;&#x5173;&#x95ED; boolean autoAck = true; //&#x6307;&#x5B9A;&#x6D88;&#x8D39;&#x961F;&#x5217; channel.basicConsume(queueName, autoAck, consumer); } 3) &#x8FD0;&#x884C; Recv &#x548C; Send","tags":[{"name":"RabbitMQ","slug":"RabbitMQ","permalink":"https://marklogzhu.github.io/tags/RabbitMQ/"}]},{"title":"","date":"2018-03-09T11:45:25.000Z","path":"uncategorized/后台/Java/创建JavaWeb项目/","text":"1.&#x70B9;&#x51FB; 2.&#x5BF9;&#x8BDD;&#x6846;&#x4E2D;&#x4F9D;&#x6B21;&#x70B9;&#x51FB; 2.1) &#x9009;&#x4E2D; Java Enterprise &#x9009;&#x9879;&#x5361; 2.2) &#x52FE;&#x9009; Web Application(3.1) &#x590D;&#x9009;&#x6846;&#xFF0C;&#x8FD9;&#x8868;&#x793A;&#x6211;&#x4EEC;&#x65B0;&#x5EFA;&#x7684;&#x9879;&#x76EE;&#x662F;&#x4E2A;&#x7F51;&#x7AD9;&#x3002; 2.3) &#x70B9;&#x51FB; Next &#x6309;&#x94AE;&#xFF0C;&#x8FD9;&#x4F1A;&#x5728; project&#x4E0B;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x9ED8;&#x8BA4;&#x7684;&#x4E0E; project &#x540C;&#x540D;&#x7684; module&#x3002; &#x8F93;&#x5165;&#x9879;&#x76EE;&#x540D;&#x79F0;&#x548C;&#x5B58;&#x653E;&#x4F4D;&#x7F6E;&#xFF0C;&#x7136;&#x540E;&#x70B9;&#x51FB; finish &#x6309;&#x94AE;&#x786E;&#x8BA4; 4.&#x5728; WEB-INI &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; lib &#x548C; classes &#x5305;&#xFF0C;&#x7528;&#x6765;&#x5B58;&#x653E; jar &#x5305;&#x8DDF;&#x7F16;&#x8BD1;&#x540E;&#x7684;&#x7C7B;&#x6587;&#x4EF6; 4.1) &#x5728; WEB-INI &#x76EE;&#x5F55;&#x4E0A;&#x53F3;&#x952E; 4.2) &#x9009;&#x62E9; NEW 4.3) &#x9009;&#x62E9; Directory 4.4) &#x53D6;&#x540D;&#x4E3A; lib/classes 5.&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5939;&#x8DEF;&#x5F84; 5.1) &#x6253;&#x5F00; Project Structure &#x5BF9;&#x8BDD;&#x6846; 5.2) &#x9009;&#x62E9; Module --&gt; Paths --&gt; &#x9009;&#x62E9; Use module compile output path -&gt; &#x5C06;O utput path &#x548C; Test output path&#x90FD;&#x9009;&#x62E9;&#x521A;&#x521A;&#x521B;&#x5EFA;&#x7684; classes &#x6587;&#x4EF6;&#x5939;&#x3002; 5.3) &#x9009;&#x62E9; Dependencies --&gt; &#x70B9;&#x51FB;&#x53F3;&#x8FB9;&#x7684; + &#x53F7; --&gt; &#x9009;&#x62E9; Jars or Directories --&gt; &#x9009;&#x62E9; jar Directory 6.&#x914D;&#x7F6E;Tomcat 6.1) &#x6253;&#x5F00;&#x83DC;&#x5355; Run --&gt; &#x9009;&#x62E9; Edit Configuration 6.2) &#x70B9;&#x51FB; + &#x53F7; --&gt; &#x62C9;&#x5012;&#x6700;&#x540E;&#xFF0C;&#x9009;&#x62E9; 9 items mort... --&gt; &#x9009;&#x62E9; Tomcat Server --&gt; Local 6.3) &#x8BBE;&#x7F6E; Tomcat &#x7684;&#x540D;&#x79F0;&#x548C;&#x5B89;&#x88C5;&#x8DEF;&#x5F84;&#xFF08;&#x6CE8;&#xFF1A;&#x4E0B;&#x9762;&#x7684; Error &#x63D0;&#x793A;&#x662F;&#x56E0;&#x4E3A;&#x8FD8;&#x6CA1;&#x6709;&#x90E8;&#x7F72;&#x9879;&#x76EE;&#xFF09; 7.&#x90E8;&#x7F72;&#x9879;&#x76EE;&#x5E76;&#x8FD0;&#x884C; 7.1) &#x9009;&#x62E9;Deployment --&gt; &#x70B9;&#x51FB; + &#x53F7; --&gt; &#x9009;&#x62E9; Artifact --&gt; &#x70B9;&#x51FB; OK &#x6309;&#x94AE; 7.2)&#x5728; index.jsp &#x6587;&#x4EF6;&#x4E2D;&#x8F93;&#x5165; &lt;h1&gt;Hello world&lt;/h1&gt; &#x5E76;&#x4FDD;&#x5B58; 7.3) &#x70B9;&#x51FB; Tomcat &#x542F;&#x52A8; 7.4) &#x5728;&#x5F39;&#x51FA;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5C31;&#x4F1A;&#x663E;&#x793A;&#x521A;&#x521A;&#x6211;&#x4EEC;&#x6572;&#x5165;&#x7684; Hello world &#x4E86; (&#x6CE8;&#xFF1A;&#x5982;&#x679C;&#x4F60;&#x5728;&#x914D;&#x7F6E; Tomcat &#x65F6;&#x5C06;afer launrch &#x52FE;&#x53BB;&#x6389;&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x542F;&#x52A8;&#x6D4F;&#x89C8;&#x5668;&#x5E76;&#x8F93;&#x5165;&#x5730;&#x5740;&#x4E86;)","tags":[]},{"title":"RabbitMQ学习总结(1)--RabbitMQ入门","date":"2018-03-08T13:25:00.000Z","path":"RabbitMQ/后台/RabbitMQ/RabbitMQ学习总结(1)--RabbitMQ入门/","text":"RabbitMQ &#x662F;&#x4EC0;&#x4E48;MQ &#x662F;&#x6D88;&#x8D39;-&#x751F;&#x4EA7;&#x8005;&#x6A21;&#x578B;&#x7684;&#x4E00;&#x4E2A;&#x5178;&#x578B;&#x7684;&#x4EE3;&#x8868;&#xFF0C;&#x4E00;&#x7AEF;&#x5F80;&#x6D88;&#x606F;&#x961F;&#x5217;&#x4E2D;&#x4E0D;&#x65AD;&#x5199;&#x5165;&#x6D88;&#x606F;&#xFF0C;&#x800C;&#x53E6;&#x4E00;&#x7AEF;&#x5219;&#x53EF;&#x4EE5;&#x8BFB;&#x53D6;&#x6216;&#x8005;&#x8BA2;&#x9605;&#x961F;&#x5217;&#x4E2D;&#x7684;&#x6D88;&#x606F;&#x3002;MQ&#x548C;JMS&#x7C7B;&#x4F3C;&#xFF0C;&#x4F46;&#x4E0D;&#x540C;&#x7684;&#x662F;JMS&#x662F;SUN JAVA&#x6D88;&#x606F;&#x4E2D;&#x95F4;&#x4EF6;&#x670D;&#x52A1;&#x7684;&#x4E00;&#x4E2A;&#x6807;&#x51C6;&#x548C;API&#x5B9A;&#x4E49;&#xFF0C;&#x800C;MQ&#x5219;&#x662F;&#x9075;&#x5FAA;&#x4E86;AMQP&#x534F;&#x8BAE;&#x7684;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x548C;&#x4EA7;&#x54C1;&#x3002; RabbitMQ &#x662F;&#x4E00;&#x4E2A;&#x7531; erlang &#x5F00;&#x53D1;&#x7684; AMQP(Advanved Message Queue) &#x7684;&#x5F00;&#x6E90;&#x5B9E;&#x73B0;&#x3002; &#x5E94;&#x7528;&#x573A;&#x666F;&#x5F02;&#x6B65;&#x5904;&#x7406;&#x7528;&#x6237;&#x6CE8;&#x518C;&#x540E;&#xFF0C;&#x9700;&#x8981;&#x53D1;&#x6CE8;&#x518C;&#x90AE;&#x4EF6;&#x548C;&#x6CE8;&#x518C;&#x77ED;&#x4FE1; &#x5E94;&#x7528;&#x89E3;&#x8026;&#x5546;&#x57CE;&#x53CC;&#x5341;&#x4E00;&#x6D3B;&#x52A8;&#xFF0C;&#x8BA2;&#x5355;&#x7CFB;&#x7EDF;&#x8DDF;&#x5E93;&#x5B58;&#x7CFB;&#x7EDF;&#x7684;&#x4EA4;&#x4E92; &#x6D41;&#x91CF;&#x524A;&#x5CF0;&#x79D2;&#x6740;&#x6D3B;&#x52A8;&#xFF0C;&#x7528;&#x6237;&#x7684;&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x5668;&#x6536;&#x5230;&#x4E4B;&#x540E;,&#x9996;&#x5148;&#x5199;&#x5165;&#x6D88;&#x606F;&#x961F;&#x5217;,&#x52A0;&#x5165;&#x6D88;&#x606F;&#x961F;&#x5217;&#x957F;&#x5EA6;&#x8D85;&#x8FC7;&#x6700;&#x5927;&#x503C;,&#x5219;&#x76F4;&#x63A5;&#x629B;&#x5F03;&#x7528;&#x6237;&#x8BF7;&#x6C42;&#x6216;&#x8DF3;&#x8F6C;&#x5230;&#x9519;&#x8BEF;&#x9875;&#x9762;&#xFF0C;&#x79D2;&#x6740;&#x4E1A;&#x52A1;&#x6839;&#x636E;&#x6D88;&#x606F;&#x961F;&#x5217;&#x4E2D;&#x7684;&#x8BF7;&#x6C42;&#x4FE1;&#x606F;&#xFF0C;&#x518D;&#x505A;&#x540E;&#x7EED;&#x5904;&#x7406;. &#x5B89;&#x88C5;1) &#x5B89;&#x88C5; erlang RabbitMQ&#x7684;&#x6267;&#x884C;&#x987B;&#x8981;erlang&#x7684;&#x652F;&#x6301;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x5148;&#x5B89;&#x88C5;erlang&#x3002; 32&#x4F4D;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;http://www.erlang.org/download/otp_win32_18.2.1.exe 64&#x4F4D;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;http://www.erlang.org/download/otp_win64_18.2.1.exe 2) &#x4E0B;&#x8F7D; RabbitMQ&#xFF0C;&#x65E0;&#x8111;&#x4E0B;&#x4E00;&#x6B65;&#x5373;&#x53EF; &#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;http://www.rabbitmq.com/releases/rabbitmq-server/v3.3.4/rabbitmq-server-3.3.4.exe 3) &#x542F;&#x52A8;&#x670D;&#x52A1; &#x5B89;&#x88C5;&#x597D;&#x4E4B;&#x540E;&#x9ED8;&#x8BA4;&#x5E94;&#x8BE5;&#x542F;&#x52A8;&#x670D;&#x52A1;&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x7684;&#x8BDD;&#x5C31;&#x8FDB;&#x5165;&#x5230;&#x5B89;&#x88C5;&#x6587;&#x4EF6;&#x5939;&#x7684;sbin&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x542F;&#x52A8;&#x3002;&#x547D;&#x4EE4;&#x4F8B;&#x5982;&#x4EE5;&#x4E0B;&#xFF1A; cd C:\\Program Files (x86)\\RabbitMQ Server\\rabbitmq_server-3.3.4\\sbin rabbitmq-server start &#x5B9E;&#x4F8B;1&#xFF1A;&#x53D1;&#x9001;&#x5B57;&#x7B26;&#x4E32;1) &#x5F15;&#x5165;&#x4F9D;&#x8D56; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;com.rabbitmq&lt;/groupId&gt; &lt;artifactId&gt;amqp-client&lt;/artifactId&gt; &lt;version&gt;3.6.0&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; 2) &#x65B0;&#x5EFA; Send &#x7C7B; import com.rabbitmq.client.Channel; import com.rabbitmq.client.Connection; import com.rabbitmq.client.ConnectionFactory; import java.util.concurrent.TimeoutException; public class Send { //&#x961F;&#x5217;&#x540D;&#x79F0; private final static String QUEUE_NAME = &quot;queue&quot;; public static void main(String[] argv) throws java.io.IOException, TimeoutException { /** * &#x521B;&#x5EFA;&#x8FDE;&#x63A5;&#x8FDE;&#x63A5;&#x5230;MabbitMQ */ ConnectionFactory factory = new ConnectionFactory(); //&#x8BBE;&#x7F6E;MabbitMQ&#x6240;&#x5728;&#x4E3B;&#x673A;ip&#x6216;&#x8005;&#x4E3B;&#x673A;&#x540D; factory.setHost(&quot;127.0.0.1&quot;); //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5; Connection connection = factory.newConnection(); //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x9891;&#x9053; Channel channel = connection.createChannel(); //&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x961F;&#x5217; channel.queueDeclare(QUEUE_NAME, false, false, false, null); //&#x53D1;&#x9001;&#x7684;&#x6D88;&#x606F; String message = &quot;hello world!&quot;; //&#x5F80;&#x961F;&#x5217;&#x4E2D;&#x53D1;&#x51FA;&#x4E00;&#x6761;&#x6D88;&#x606F; channel.basicPublish(&quot;&quot;, QUEUE_NAME, null, message.getBytes()); System.out.println(&quot;&#x53D1;&#x9001;&#x5185;&#x5BB9;&#xFF1A; &apos;&quot; + message + &quot;&apos;&quot;); //&#x5173;&#x95ED;&#x9891;&#x9053;&#x548C;&#x8FDE;&#x63A5; channel.close(); connection.close(); } } 3) &#x65B0;&#x5EFA; Recv &#x7C7B; import com.rabbitmq.client.Channel; import com.rabbitmq.client.Connection; import com.rabbitmq.client.ConnectionFactory; import com.rabbitmq.client.QueueingConsumer; import java.util.concurrent.TimeoutException; public class Recv { //&#x961F;&#x5217;&#x540D;&#x79F0; private final static String QUEUE_NAME = &quot;queue&quot;; public static void main(String[] argv) throws java.io.IOException, java.lang.InterruptedException, TimeoutException { //&#x6253;&#x5F00;&#x8FDE;&#x63A5;&#x548C;&#x521B;&#x5EFA;&#x9891;&#x9053;&#xFF0C;&#x4E0E;&#x53D1;&#x9001;&#x7AEF;&#x4E00;&#x6837; ConnectionFactory factory = new ConnectionFactory(); //&#x8BBE;&#x7F6E;MabbitMQ&#x6240;&#x5728;&#x4E3B;&#x673A;ip&#x6216;&#x8005;&#x4E3B;&#x673A;&#x540D; factory.setHost(&quot;127.0.0.1&quot;); Connection connection = factory.newConnection(); Channel channel = connection.createChannel(); //&#x58F0;&#x660E;&#x961F;&#x5217;&#xFF0C;&#x4E3B;&#x8981;&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x6D88;&#x606F;&#x63A5;&#x6536;&#x8005;&#x5148;&#x6267;&#x884C;&#x6B64;&#x7A0B;&#x5E8F;&#xFF0C;&#x961F;&#x5217;&#x8FD8;&#x4E0D;&#x5B58;&#x5728;&#x65F6;&#x521B;&#x5EFA;&#x961F;&#x5217;&#x3002; channel.queueDeclare(QUEUE_NAME, false, false, false, null); System.out.println(&quot;&#x7B49;&#x5F85;&#x6D88;&#x606F;&#x3002; &#x8981;&#x9000;&#x51FA;&#xFF0C;&#x8BF7;&#x6309; CTRL + C&quot;); //&#x521B;&#x5EFA;&#x961F;&#x5217;&#x6D88;&#x8D39;&#x8005; QueueingConsumer consumer = new QueueingConsumer(channel); //&#x6307;&#x5B9A;&#x6D88;&#x8D39;&#x961F;&#x5217; channel.basicConsume(QUEUE_NAME, true, consumer); while (true) { //nextDelivery&#x662F;&#x4E00;&#x4E2A;&#x5835;&#x585E;&#x65B9;&#x6CD5;&#xFF08;&#x5185;&#x90E8;&#x5B9E;&#x73B0;&#x4E8B;&#x5B9E;&#x4E0A;&#x662F;&#x5835;&#x585E;&#x961F;&#x5217;&#x7684;take&#x65B9;&#x6CD5;&#xFF09; QueueingConsumer.Delivery delivery = consumer.nextDelivery(); String message = new String(delivery.getBody()); System.out.println(&quot;&#x63A5;&#x6536;&#x5185;&#x5BB9;&#xFF1A; &apos;&quot; + message + &quot;&apos;&quot;); } } } 4) &#x5148;&#x540E;&#x6267;&#x884C; Recv &#x548C; Send &#x53D1;&#x9001;&#x5BF9;&#x8C61;1) &#x5F15;&#x5165;&#x4F9D;&#x8D56; &lt;!-- &#x5E8F;&#x5217;&#x5316;&#x76F8;&#x5173;&#x4F9D;&#x8D56; --&gt; &lt;dependency&gt; &lt;groupId&gt;commons-lang&lt;/groupId&gt; &lt;artifactId&gt;commons-lang&lt;/artifactId&gt; &lt;version&gt;2.6&lt;/version&gt; &lt;/dependency&gt; 2) &#x65B0;&#x5EFA;&#x5B9E;&#x4F53;&#x7C7B; MessageInfo import java.io.Serializable; public class MessageInfo implements Serializable { private static final long serialVersionUID = 1L; //&#x6E20;&#x9053; private String channel; //&#x6765;&#x6E90; private String content; public String getChannel() { return channel; } public void setChannel(String channel) { this.channel = channel; } public String getContent() { return content; } public void setContent(String content) { this.content = content; } } 3) &#x65B0;&#x5EFA;&#x8FDE;&#x63A5;&#x5DE5;&#x5177;&#x7C7B; BaseConnector import com.rabbitmq.client.*; import java.io.IOException; import java.util.concurrent.TimeoutException; public class BaseConnector { protected Channel channel; protected Connection connection; protected String queueName; public BaseConnector(String queueName) throws IOException, TimeoutException { this.queueName = queueName; //&#x6253;&#x5F00;&#x8FDE;&#x63A5;&#x548C;&#x521B;&#x5EFA;&#x9891;&#x9053; ConnectionFactory factory = new ConnectionFactory(); //&#x8BBE;&#x7F6E;MabbitMQ&#x6240;&#x5728;&#x4E3B;&#x673A;ip&#x6216;&#x8005;&#x4E3B;&#x673A;&#x540D; 127.0.0.1&#x5373;localhost factory.setHost(&quot;127.0.0.1&quot;); //&#x521B;&#x5EFA;&#x8FDE;&#x63A5; connection = factory.newConnection(); //&#x521B;&#x5EFA;&#x9891;&#x9053; channel = connection.createChannel(); //&#x58F0;&#x660E;&#x521B;&#x5EFA;&#x961F;&#x5217; channel.queueDeclare(queueName, false, false, false, null); } } 4) &#x65B0;&#x5EFA;&#x53D1;&#x9001;&#x7C7B; Sender import org.apache.commons.lang.SerializationUtils; import java.io.IOException; import java.io.Serializable; import java.util.concurrent.TimeoutException; public class Sender extends BaseConnector{ public Sender(String queueName) throws IOException,TimeoutException { super(queueName); } public void sendMessage(Serializable object) throws IOException { channel.basicPublish(&quot;&quot;,queueName, null, SerializationUtils.serialize(object)); } } 5) &#x65B0;&#x5EFA;&#x63A5;&#x6536;&#x7C7B; Receiver import com.rabbitmq.client.*; import org.apache.commons.lang.SerializationUtils; import java.io.IOException; import java.util.concurrent.TimeoutException; public class Receiver extends BaseConnector implements Runnable { // &#x521B;&#x5EFA;&#x961F;&#x5217;&#x6D88;&#x8D39;&#x8005; private final Consumer consumer = new DefaultConsumer(channel) { @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { MessageInfo messageInfo = (MessageInfo)SerializationUtils.deserialize(body); System.out.println(&quot;Message ( &quot; + &quot;channel : &quot; + messageInfo.getChannel() + &quot; , content : &quot; + messageInfo.getContent() + &quot; ) received.&quot;); } }; public Receiver(String queueName) throws IOException, TimeoutException { super(queueName); } @Override public void run() { try { channel.basicConsume(queueName, true,consumer); } catch (IOException e) { e.printStackTrace(); } } } 6) &#x65B0;&#x5EFA;&#x6D4B;&#x8BD5;&#x7C7B; public class Test { public static void main(String[] args) throws Exception{ Receiver receiver = new Receiver(&quot;testQueue&quot;); Thread receiverThread = new Thread(receiver); receiverThread.start(); Sender sender = new Sender(&quot;testQueue&quot;); for (int i = 0; i &lt; 10; i++) { MessageInfo messageInfo = new MessageInfo(); messageInfo.setChannel(&quot;test&quot;); messageInfo.setContent(&quot;msg&quot; + i); sender.sendMessage(messageInfo); } } } 7) &#x6267;&#x884C;&#x6D4B;&#x8BD5;","tags":[{"name":"RabbitMQ","slug":"RabbitMQ","permalink":"https://marklogzhu.github.io/tags/RabbitMQ/"}]},{"title":"MyBatis 返回 Map 字段丢失问题","date":"2018-01-16T06:32:18.000Z","path":"MyBatis/后台/Java/Mybatis/MyBatis返回Map字段丢失问题/","text":"&#x95EE;&#x9898;&#x73B0;&#x8C61;&#x6267;&#x884C;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x8FD4;&#x56DE; Map &#x96C6;&#x5408;&#x6570;&#x636E;&#xFF0C;&#x53D1;&#x73B0;&#x6709;&#x5B57;&#x6BB5;&#x4E22;&#x5931;&#x60C5;&#x51B5;&#xFF0C;&#x4ED4;&#x7EC6;&#x7814;&#x7A76;&#x53D1;&#x73B0;&#x4E22;&#x5931;&#x7684;&#x5B57;&#x6BB5;&#x503C;&#x90FD;&#x4E3A; NULL&#x3002; &#x89E3;&#x51B3;&#x529E;&#x6CD5;1&#xFF1A;&#x5728;&#x67E5;&#x8BE2; SQL &#x8BED;&#x53E5;&#x4E2D;&#x589E;&#x52A0; NULL &#x5224;&#x65AD;&#x51FD;&#x6570; 123MSSQL: isnull(&#x5B57;&#x6BB5;&#x540D;,&apos;&apos;)MYSQL: ifnull(&#x5B57;&#x6BB5;&#x540D;,&apos;&apos;)ORACLE: nvl(&#x5B57;&#x6BB5;&#x540D;,&apos;&apos;) &#x89E3;&#x51B3;&#x529E;&#x6CD5;2&#xFF1A;&#x5728; SqlMapConfig.xml &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x589E;&#x52A0;&#x5982;&#x4E0B;&#x914D;&#x7F6E;&#xFF1A; 123&lt;settings&gt; &lt;setting name=&quot;callSettersOnNulls&quot; value=&quot;true&quot;/&gt;&lt;/settings&gt;","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"工作中遇到的问题","slug":"工作中遇到的问题","permalink":"https://marklogzhu.github.io/tags/工作中遇到的问题/"},{"name":"SQL","slug":"SQL","permalink":"https://marklogzhu.github.io/tags/SQL/"},{"name":"MyBatis","slug":"MyBatis","permalink":"https://marklogzhu.github.io/tags/MyBatis/"}]},{"title":"MyBatis 返回 Map 字段丢失问题","date":"2018-01-16T06:32:18.000Z","path":"uncategorized/经验/MyBatis返回Map字段丢失问题/","text":"&#x95EE;&#x9898;&#x73B0;&#x8C61;&#x6267;&#x884C;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x8FD4;&#x56DE; Map &#x96C6;&#x5408;&#x6570;&#x636E;&#xFF0C;&#x53D1;&#x73B0;&#x6709;&#x5B57;&#x6BB5;&#x4E22;&#x5931;&#x60C5;&#x51B5;&#xFF0C;&#x4ED4;&#x7EC6;&#x7814;&#x7A76;&#x53D1;&#x73B0;&#x4E22;&#x5931;&#x7684;&#x5B57;&#x6BB5;&#x503C;&#x90FD;&#x4E3A; NULL&#x3002; &#x89E3;&#x51B3;&#x529E;&#x6CD5;1&#xFF1A;&#x5728;&#x67E5;&#x8BE2; SQL &#x8BED;&#x53E5;&#x4E2D;&#x589E;&#x52A0; NULL &#x5224;&#x65AD;&#x51FD;&#x6570; 123MSSQL: isnull(&#x5B57;&#x6BB5;&#x540D;,&apos;&apos;)MYSQL: ifnull(&#x5B57;&#x6BB5;&#x540D;,&apos;&apos;)ORACLE: nvl(&#x5B57;&#x6BB5;&#x540D;,&apos;&apos;) &#x89E3;&#x51B3;&#x529E;&#x6CD5;2&#xFF1A;&#x5728; SqlMapConfig.xml &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x589E;&#x52A0;&#x5982;&#x4E0B;&#x914D;&#x7F6E;&#xFF1A; 123&lt;settings&gt; &lt;setting name=&quot;callSettersOnNulls&quot; value=&quot;true&quot;/&gt;&lt;/settings&gt;","tags":[{"name":"Java","slug":"Java","permalink":"https://marklogzhu.github.io/tags/Java/"},{"name":"工作中遇到的问题","slug":"工作中遇到的问题","permalink":"https://marklogzhu.github.io/tags/工作中遇到的问题/"},{"name":"SQL","slug":"SQL","permalink":"https://marklogzhu.github.io/tags/SQL/"},{"name":"MyBatis","slug":"MyBatis","permalink":"https://marklogzhu.github.io/tags/MyBatis/"}]},{"title":"Maven学习总结(3)--POM","date":"2017-12-12T13:22:00.000Z","path":"Maven/Maven/Maven学习总结(3)--POM文件/","text":"POM &#x662F;&#x4EC0;&#x4E48;POM &#x4EE3;&#x8868;&#x9879;&#x76EE;&#x5BF9;&#x8C61;&#x6A21;&#x578B;&#x3002;&#x5B83;&#x662F; Maven &#x4E2D;&#x5DE5;&#x4F5C;&#x7684;&#x57FA;&#x672C;&#x5355;&#x4F4D;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A; XML &#x6587;&#x4EF6;&#x3002;&#x5B83;&#x59CB;&#x7EC8;&#x4FDD;&#x5B58;&#x5728;&#x8BE5;&#x9879;&#x76EE;&#x57FA;&#x672C;&#x76EE;&#x5F55;&#x4E2D;&#x7684; pom.xml &#x6587;&#x4EF6;&#x3002; POM &#x5305;&#x542B;&#x7684;&#x9879;&#x76EE;&#x662F;&#x4F7F;&#x7528; Maven &#x6765;&#x6784;&#x5EFA;&#x7684;&#xFF0C;&#x5B83;&#x7528;&#x6765;&#x5305;&#x542B;&#x5404;&#x79CD;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x3002; POM &#x4E5F;&#x5305;&#x542B;&#x4E86;&#x76EE;&#x6807;&#x548C;&#x63D2;&#x4EF6;&#x3002;&#x5728;&#x6267;&#x884C;&#x4EFB;&#x52A1;&#x6216;&#x76EE;&#x6807;&#x65F6;&#xFF0C;Maven &#x4F1A;&#x4F7F;&#x7528;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E2D;&#x7684; POM&#x3002;&#x5B83;&#x8BFB;&#x53D6; POM &#x5F97;&#x5230;&#x6240;&#x9700;&#x8981;&#x7684;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#xFF0C;&#x7136;&#x540E;&#x6267;&#x884C;&#x76EE;&#x6807;&#x3002; &#x7B80;&#x5355;&#x6765;&#x8BF4;&#x3000;setting.xml&#x3000;&#x662F;&#x5168;&#x5C40;&#x7EA7;&#x522B;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x800C;&#x3000;POM.xml &#x662F;&#x9879;&#x76EE;&#x7EA7;&#x522B;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002; &#x57FA;&#x672C; pom.xml &#x6587;&#x4EF6;&#x7ED3;&#x6784;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;!--&#x6307;&#x5B9A;&#x4E86;&#x5F53;&#x524D;pom&#x7684;&#x7248;&#x672C;--&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.tiakon.maven.demo&lt;/groupId&gt; &lt;artifactId&gt;HoictasStudio-MavenDemo01&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;!-- &#x7B2C;&#x4E00;&#x4E2A;0&#x8868;&#x793A;&#x5927;&#x7248;&#x672C;&#x53F7; &#x7B2C;&#x4E8C;&#x4E2A;0&#x8868;&#x793A;&#x5206;&#x652F;&#x7248;&#x672C;&#x53F7; &#x7B2C;&#x4E09;&#x4E2A;0&#x8868;&#x793A;&#x5C0F;&#x7248;&#x672C;&#x53F7; 0.0.1 snapshot &#x5FEB;&#x7167; alpha &#x5185;&#x90E8;&#x6D4B;&#x8BD5; beta &#x516C;&#x6D4B; Release &#x7A33;&#x5B9A; GA &#x6B63;&#x5F0F;&#x53D1;&#x5E03; --&gt; &lt;!-- &#x6253;&#x5305;&#x65B9;&#x5F0F;:&#x9ED8;&#x8BA4;&#x662F;jar,&#x53EF;&#x9009;war&#x3001;zip&#x3001;pom &lt;packaging&gt;&lt;/packaging&gt; --&gt; &lt;!--&#x6307;&#x5B9A;&#x7F16;&#x7801;&#x683C;&#x5F0F;--&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;/properties&gt; &lt;!-- &#x9879;&#x76EE;&#x540D; &lt;name&gt;&lt;/name&gt; &#x9879;&#x76EE;&#x5730;&#x5740; &lt;url&gt;&lt;/url&gt; &#x9879;&#x76EE;&#x63CF;&#x8FF0; &lt;description&gt;&lt;/description&gt; &#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x5217;&#x8868; &lt;developers&gt;&lt;/developers&gt; &#x8BB8;&#x53EF;&#x8BC1;&#x4FE1;&#x606F; &lt;licenses&gt;&lt;/licenses&gt; &#x7EC4;&#x7EC7;&#x4FE1;&#x606F; &lt;organization&gt;&lt;/organization&gt; --&gt; &lt;!--&#x4F9D;&#x8D56;&#x5217;&#x8868;--&gt; &lt;dependencies&gt; &lt;!--&#x4F9D;&#x8D56;&#x9879;--&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;RELEASE&lt;/version&gt; &lt;!--&lt;type&gt;&lt;/type&gt;--&gt; &lt;!--&#x4F9D;&#x8D56;&#x8303;&#x56F4;--&gt; &lt;!--&lt;scope&gt;&lt;/scope&gt;--&gt; &lt;!--&#x8BBE;&#x7F6E;&#x4F9D;&#x8D56;&#x662F;&#x5426;&#x53EF;&#x9009;&#xFF08;&#x9ED8;&#x8BA4;&#xFF09;false--&gt; &lt;!--&lt;optional&gt;&lt;/optional&gt;--&gt; &lt;!--&#x6392;&#x65A5;&#x4F9D;&#x8D56;&#x4F20;&#x9012;&#x5217;&#x8868;--&gt; &lt;!-- &lt;exclusions&gt; &lt;exclusion&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; --&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;!--&#x4F9D;&#x8D56;&#x7684;&#x7BA1;&#x7406;&#xFF0C;&#x4F5C;&#x7528;&#x4E3B;&#x8981;&#x5B9A;&#x4E49;&#x5728;&#x7236;&#x6A21;&#x5757;&#x4E2D;&#xFF0C;&#x5BF9;&#x5B50;&#x6A21;&#x5757;&#x8FDB;&#x884C;&#x7BA1;&#x7406;--&gt; &lt;!-- &lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;/dependencies&gt; &lt;/dependencyManagement&gt; --&gt; &lt;!--&#x5BF9;&#x6784;&#x4EF6;&#x7684;&#x884C;&#x4E3A;&#x63D0;&#x4F9B;&#x76F8;&#x5E94;&#x7684;&#x652F;&#x6301;--&gt; &lt;build&gt; &lt;!--&#x63D2;&#x4EF6;&#x5217;&#x8868;--&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt; &lt;version&gt;3.0.1&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;phase&gt;package&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt; jar-no-fork &lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; &lt;!--&#x901A;&#x5E38;&#x7528;&#x4E8E;&#x5B50;&#x6A21;&#x5757;&#x5BF9;&#x7236;&#x6A21;&#x5757;pom&#x7684;&#x7EE7;&#x627F;--&gt; &lt;!--&lt;parent&gt;&lt;/parent&gt;--&gt; &lt;!--&#x7528;&#x6765;&#x805A;&#x5408;&#x8FD0;&#x884C;Maven&#x9879;&#x76EE;&#xFF0C;&#x6307;&#x5B9A;&#x591A;&#x4E2A;&#x6A21;&#x5757;&#x4E00;&#x8D77;&#x7F16;&#x8BD1;--&gt; &lt;!-- &lt;modules&gt; &lt;module&gt;&lt;/module&gt; &lt;/modules&gt; --&gt; &lt;/project&gt; POM.xml &#x6587;&#x4EF6;&#x8BE6;&#x89E3;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0 &quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance &quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd &quot;&gt; &lt;!--&#x7236;&#x9879;&#x76EE;&#x7684;&#x5750;&#x6807;&#x3002;&#x5982;&#x679C;&#x9879;&#x76EE;&#x4E2D;&#x6CA1;&#x6709;&#x89C4;&#x5B9A;&#x67D0;&#x4E2A;&#x5143;&#x7D20;&#x7684;&#x503C;&#xFF0C;&#x90A3;&#x4E48;&#x7236;&#x9879;&#x76EE;&#x4E2D;&#x7684;&#x5BF9;&#x5E94;&#x503C;&#x5373;&#x4E3A;&#x9879;&#x76EE;&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x3002; &#x5750;&#x6807;&#x5305;&#x62EC;group ID&#xFF0C;artifact ID&#x548C; version&#x3002;--&gt; &lt;parent&gt; &lt;!--&#x88AB;&#x7EE7;&#x627F;&#x7684;&#x7236;&#x9879;&#x76EE;&#x7684;&#x6784;&#x4EF6;&#x6807;&#x8BC6;&#x7B26;--&gt; &lt;artifactId/&gt; &lt;!--&#x88AB;&#x7EE7;&#x627F;&#x7684;&#x7236;&#x9879;&#x76EE;&#x7684;&#x5168;&#x7403;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x7B26;--&gt; &lt;groupId/&gt; &lt;!--&#x88AB;&#x7EE7;&#x627F;&#x7684;&#x7236;&#x9879;&#x76EE;&#x7684;&#x7248;&#x672C;--&gt; &lt;version/&gt; &lt;!--&#x7236;&#x9879;&#x76EE;&#x7684;pom.xml&#x6587;&#x4EF6;&#x7684;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#x3002;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#x5141;&#x8BB8;&#x4F60;&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x8DEF;&#x5F84;&#x3002;&#x9ED8;&#x8BA4;&#x503C;&#x662F;../pom.xml&#x3002;Maven&#x9996;&#x5148;&#x5728;&#x6784;&#x5EFA;&#x5F53;&#x524D;&#x9879;&#x76EE;&#x7684;&#x5730;&#x65B9;&#x5BFB;&#x627E;&#x7236;&#x9879;&#x76EE;&#x7684;pom&#xFF0C;&#x5176;&#x6B21;&#x5728;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x8FD9;&#x4E2A;&#x4F4D;&#x7F6E;&#xFF08;relativePath&#x4F4D;&#x7F6E;&#xFF09;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#xFF0C;&#x6700;&#x540E;&#x5728;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x5BFB;&#x627E;&#x7236;&#x9879;&#x76EE;&#x7684;pom&#x3002;--&gt; &lt;relativePath/&gt; &lt;/parent&gt; &lt;!--&#x58F0;&#x660E;&#x9879;&#x76EE;&#x63CF;&#x8FF0;&#x7B26;&#x9075;&#x5FAA;&#x54EA;&#x4E00;&#x4E2A;POM&#x6A21;&#x578B;&#x7248;&#x672C;&#x3002;&#x6A21;&#x578B;&#x672C;&#x8EAB;&#x7684;&#x7248;&#x672C;&#x5F88;&#x5C11;&#x6539;&#x53D8;&#xFF0C;&#x867D;&#x7136;&#x5982;&#x6B64;&#xFF0C;&#x4F46;&#x5B83;&#x4ECD;&#x7136;&#x662F;&#x5FC5;&#x4E0D;&#x53EF;&#x5C11;&#x7684;&#xFF0C;&#x8FD9;&#x662F;&#x4E3A;&#x4E86;&#x5F53;Maven&#x5F15;&#x5165;&#x4E86;&#x65B0;&#x7684;&#x7279;&#x6027;&#x6216;&#x8005;&#x5176;&#x4ED6;&#x6A21;&#x578B;&#x53D8;&#x66F4;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x786E;&#x4FDD;&#x7A33;&#x5B9A;&#x6027;&#x3002;--&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;!--&#x9879;&#x76EE;&#x7684;&#x5168;&#x7403;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x7B26;&#xFF0C;&#x901A;&#x5E38;&#x4F7F;&#x7528;&#x5168;&#x9650;&#x5B9A;&#x7684;&#x5305;&#x540D;&#x533A;&#x5206;&#x8BE5;&#x9879;&#x76EE;&#x548C;&#x5176;&#x4ED6;&#x9879;&#x76EE;&#x3002;&#x5E76;&#x4E14;&#x6784;&#x5EFA;&#x65F6;&#x751F;&#x6210;&#x7684;&#x8DEF;&#x5F84;&#x4E5F;&#x662F;&#x7531;&#x6B64;&#x751F;&#x6210;&#xFF0C; &#x5982;com.mycompany.app&#x751F;&#x6210;&#x7684;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#x4E3A;&#xFF1A;/com/mycompany/app--&gt; &lt;groupId&gt;asia.banseon&lt;/groupId&gt; &lt;!--&#x6784;&#x4EF6;&#x7684;&#x6807;&#x8BC6;&#x7B26;&#xFF0C;&#x5B83;&#x548C;group ID&#x4E00;&#x8D77;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x4E00;&#x4E2A;&#x6784;&#x4EF6;&#x3002;&#x6362;&#x53E5;&#x8BDD;&#x8BF4;&#xFF0C;&#x4F60;&#x4E0D;&#x80FD;&#x6709;&#x4E24;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x9879;&#x76EE;&#x62E5;&#x6709;&#x540C;&#x6837;&#x7684;artifact ID&#x548C;groupID&#xFF1B;&#x5728;&#x67D0;&#x4E2A;&#x7279;&#x5B9A;&#x7684;group ID&#x4E0B;&#xFF0C;artifact ID&#x4E5F;&#x5FC5;&#x987B;&#x662F;&#x552F;&#x4E00;&#x7684;&#x3002;&#x6784;&#x4EF6;&#x662F;&#x9879;&#x76EE;&#x4EA7;&#x751F;&#x7684;&#x6216;&#x4F7F;&#x7528;&#x7684;&#x4E00;&#x4E2A;&#x4E1C;&#x897F;&#xFF0C;Maven&#x4E3A;&#x9879;&#x76EE;&#x4EA7;&#x751F;&#x7684;&#x6784;&#x4EF6;&#x5305;&#x62EC;&#xFF1A;JARs&#xFF0C;&#x6E90;&#x7801;&#xFF0C;&#x4E8C;&#x8FDB;&#x5236;&#x53D1;&#x5E03;&#x548C;WARs&#x7B49;&#x3002;--&gt; &lt;artifactId&gt;banseon-maven2&lt;/artifactId&gt; &lt;!--&#x9879;&#x76EE;&#x4EA7;&#x751F;&#x7684;&#x6784;&#x4EF6;&#x7C7B;&#x578B;&#xFF0C;&#x4F8B;&#x5982;jar&#x3001;war&#x3001;ear&#x3001;pom&#x3002;&#x63D2;&#x4EF6;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x4ED6;&#x4EEC;&#x81EA;&#x5DF1;&#x7684;&#x6784;&#x4EF6;&#x7C7B;&#x578B;&#xFF0C;&#x6240;&#x4EE5;&#x524D;&#x9762;&#x5217;&#x7684;&#x4E0D;&#x662F;&#x5168;&#x90E8;&#x6784;&#x4EF6;&#x7C7B;&#x578B;--&gt; &lt;packaging&gt;jar&lt;/packaging&gt; &lt;!--&#x9879;&#x76EE;&#x5F53;&#x524D;&#x7248;&#x672C;&#xFF0C;&#x683C;&#x5F0F;&#x4E3A;:&#x4E3B;&#x7248;&#x672C;.&#x6B21;&#x7248;&#x672C;.&#x589E;&#x91CF;&#x7248;&#x672C;-&#x9650;&#x5B9A;&#x7248;&#x672C;&#x53F7;--&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;!--&#x9879;&#x76EE;&#x7684;&#x540D;&#x79F0;, Maven&#x4EA7;&#x751F;&#x7684;&#x6587;&#x6863;&#x7528;--&gt; &lt;name&gt;banseon-maven&lt;/name&gt; &lt;!--&#x9879;&#x76EE;&#x4E3B;&#x9875;&#x7684;URL, Maven&#x4EA7;&#x751F;&#x7684;&#x6587;&#x6863;&#x7528;--&gt; &lt;url&gt;http://www.baidu.com/banseon&lt;/url&gt; &lt;!--&#x9879;&#x76EE;&#x7684;&#x8BE6;&#x7EC6;&#x63CF;&#x8FF0;, Maven &#x4EA7;&#x751F;&#x7684;&#x6587;&#x6863;&#x7528;&#x3002; &#x5F53;&#x8FD9;&#x4E2A;&#x5143;&#x7D20;&#x80FD;&#x591F;&#x7528;HTML&#x683C;&#x5F0F;&#x63CF;&#x8FF0;&#x65F6;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;CDATA&#x4E2D;&#x7684;&#x6587;&#x672C;&#x4F1A;&#x88AB;&#x89E3;&#x6790;&#x5668;&#x5FFD;&#x7565;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5305;&#x542B;HTML&#x6807;&#x7B7E;&#xFF09;&#xFF0C; &#x4E0D;&#x9F13;&#x52B1;&#x4F7F;&#x7528;&#x7EAF;&#x6587;&#x672C;&#x63CF;&#x8FF0;&#x3002;&#x5982;&#x679C;&#x4F60;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x4EA7;&#x751F;&#x7684;web&#x7AD9;&#x70B9;&#x7684;&#x7D22;&#x5F15;&#x9875;&#x9762;&#xFF0C;&#x4F60;&#x5E94;&#x8BE5;&#x4FEE;&#x6539;&#x4F60;&#x81EA;&#x5DF1;&#x7684;&#x7D22;&#x5F15;&#x9875;&#x6587;&#x4EF6;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x8C03;&#x6574;&#x8FD9;&#x91CC;&#x7684;&#x6587;&#x6863;&#x3002;--&gt; &lt;description&gt;A maven project to study maven.&lt;/description&gt; &lt;!--&#x63CF;&#x8FF0;&#x4E86;&#x8FD9;&#x4E2A;&#x9879;&#x76EE;&#x6784;&#x5EFA;&#x73AF;&#x5883;&#x4E2D;&#x7684;&#x524D;&#x63D0;&#x6761;&#x4EF6;&#x3002;--&gt; &lt;prerequisites&gt; &lt;!--&#x6784;&#x5EFA;&#x8BE5;&#x9879;&#x76EE;&#x6216;&#x4F7F;&#x7528;&#x8BE5;&#x63D2;&#x4EF6;&#x6240;&#x9700;&#x8981;&#x7684;Maven&#x7684;&#x6700;&#x4F4E;&#x7248;&#x672C;--&gt; &lt;maven/&gt; &lt;/prerequisites&gt; &lt;!--&#x9879;&#x76EE;&#x7684;&#x95EE;&#x9898;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;(Bugzilla, Jira, Scarab,&#x6216;&#x4EFB;&#x4F55;&#x4F60;&#x559C;&#x6B22;&#x7684;&#x95EE;&#x9898;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;)&#x7684;&#x540D;&#x79F0;&#x548C;URL&#xFF0C;&#x672C;&#x4F8B;&#x4E3A; jira--&gt; &lt;issueManagement&gt; &lt;!--&#x95EE;&#x9898;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#xFF08;&#x4F8B;&#x5982;jira&#xFF09;&#x7684;&#x540D;&#x5B57;&#xFF0C;--&gt; &lt;system&gt;jira&lt;/system&gt; &lt;!--&#x8BE5;&#x9879;&#x76EE;&#x4F7F;&#x7528;&#x7684;&#x95EE;&#x9898;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x7684;URL--&gt; &lt;url&gt;http://jira.baidu.com/banseon&lt;/url&gt; &lt;/issueManagement&gt; &lt;!--&#x9879;&#x76EE;&#x6301;&#x7EED;&#x96C6;&#x6210;&#x4FE1;&#x606F;--&gt; &lt;ciManagement&gt; &lt;!--&#x6301;&#x7EED;&#x96C6;&#x6210;&#x7CFB;&#x7EDF;&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x4F8B;&#x5982;continuum--&gt; &lt;system/&gt; &lt;!--&#x8BE5;&#x9879;&#x76EE;&#x4F7F;&#x7528;&#x7684;&#x6301;&#x7EED;&#x96C6;&#x6210;&#x7CFB;&#x7EDF;&#x7684;URL&#xFF08;&#x5982;&#x679C;&#x6301;&#x7EED;&#x96C6;&#x6210;&#x7CFB;&#x7EDF;&#x6709;web&#x63A5;&#x53E3;&#x7684;&#x8BDD;&#xFF09;&#x3002;--&gt; &lt;url/&gt; &lt;!--&#x6784;&#x5EFA;&#x5B8C;&#x6210;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x901A;&#x77E5;&#x7684;&#x5F00;&#x53D1;&#x8005;/&#x7528;&#x6237;&#x7684;&#x914D;&#x7F6E;&#x9879;&#x3002;&#x5305;&#x62EC;&#x88AB;&#x901A;&#x77E5;&#x8005;&#x4FE1;&#x606F;&#x548C;&#x901A;&#x77E5;&#x6761;&#x4EF6;&#xFF08;&#x9519;&#x8BEF;&#xFF0C;&#x5931;&#x8D25;&#xFF0C;&#x6210;&#x529F;&#xFF0C;&#x8B66;&#x544A;&#xFF09;--&gt; &lt;notifiers&gt; &lt;!--&#x914D;&#x7F6E;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x5F53;&#x6784;&#x5EFA;&#x4E2D;&#x65AD;&#x65F6;&#xFF0C;&#x4EE5;&#x8BE5;&#x65B9;&#x5F0F;&#x901A;&#x77E5;&#x7528;&#x6237;/&#x5F00;&#x53D1;&#x8005;--&gt; &lt;notifier&gt; &lt;!--&#x4F20;&#x9001;&#x901A;&#x77E5;&#x7684;&#x9014;&#x5F84;--&gt; &lt;type/&gt; &lt;!--&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x65F6;&#x662F;&#x5426;&#x901A;&#x77E5;--&gt; &lt;sendOnError/&gt; &lt;!--&#x6784;&#x5EFA;&#x5931;&#x8D25;&#x65F6;&#x662F;&#x5426;&#x901A;&#x77E5;--&gt; &lt;sendOnFailure/&gt; &lt;!--&#x6784;&#x5EFA;&#x6210;&#x529F;&#x65F6;&#x662F;&#x5426;&#x901A;&#x77E5;--&gt; &lt;sendOnSuccess/&gt; &lt;!--&#x53D1;&#x751F;&#x8B66;&#x544A;&#x65F6;&#x662F;&#x5426;&#x901A;&#x77E5;--&gt; &lt;sendOnWarning/&gt; &lt;!--&#x4E0D;&#x8D5E;&#x6210;&#x4F7F;&#x7528;&#x3002;&#x901A;&#x77E5;&#x53D1;&#x9001;&#x5230;&#x54EA;&#x91CC;--&gt; &lt;address/&gt; &lt;!--&#x6269;&#x5C55;&#x914D;&#x7F6E;&#x9879;--&gt; &lt;configuration/&gt; &lt;/notifier&gt; &lt;/notifiers&gt; &lt;/ciManagement&gt; &lt;!--&#x9879;&#x76EE;&#x521B;&#x5EFA;&#x5E74;&#x4EFD;&#xFF0C;4&#x4F4D;&#x6570;&#x5B57;&#x3002;&#x5F53;&#x4EA7;&#x751F;&#x7248;&#x6743;&#x4FE1;&#x606F;&#x65F6;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x503C;&#x3002;--&gt; &lt;inceptionYear/&gt; &lt;!--&#x9879;&#x76EE;&#x76F8;&#x5173;&#x90AE;&#x4EF6;&#x5217;&#x8868;&#x4FE1;&#x606F;--&gt; &lt;mailingLists&gt; &lt;!--&#x8BE5;&#x5143;&#x7D20;&#x63CF;&#x8FF0;&#x4E86;&#x9879;&#x76EE;&#x76F8;&#x5173;&#x7684;&#x6240;&#x6709;&#x90AE;&#x4EF6;&#x5217;&#x8868;&#x3002;&#x81EA;&#x52A8;&#x4EA7;&#x751F;&#x7684;&#x7F51;&#x7AD9;&#x5F15;&#x7528;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x3002;--&gt; &lt;mailingList&gt; &lt;!--&#x90AE;&#x4EF6;&#x7684;&#x540D;&#x79F0;--&gt; &lt;name&gt;Demo&lt;/name&gt; &lt;!--&#x53D1;&#x9001;&#x90AE;&#x4EF6;&#x7684;&#x5730;&#x5740;&#x6216;&#x94FE;&#x63A5;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x90AE;&#x4EF6;&#x5730;&#x5740;&#xFF0C;&#x521B;&#x5EFA;&#x6587;&#x6863;&#x65F6;&#xFF0C;mailto: &#x94FE;&#x63A5;&#x4F1A;&#x88AB;&#x81EA;&#x52A8;&#x521B;&#x5EFA;--&gt; &lt;post&gt;banseon@126.com&lt;/post&gt; &lt;!--&#x8BA2;&#x9605;&#x90AE;&#x4EF6;&#x7684;&#x5730;&#x5740;&#x6216;&#x94FE;&#x63A5;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x90AE;&#x4EF6;&#x5730;&#x5740;&#xFF0C;&#x521B;&#x5EFA;&#x6587;&#x6863;&#x65F6;&#xFF0C;mailto: &#x94FE;&#x63A5;&#x4F1A;&#x88AB;&#x81EA;&#x52A8;&#x521B;&#x5EFA;--&gt; &lt;subscribe&gt;banseon@126.com&lt;/subscribe&gt; &lt;!--&#x53D6;&#x6D88;&#x8BA2;&#x9605;&#x90AE;&#x4EF6;&#x7684;&#x5730;&#x5740;&#x6216;&#x94FE;&#x63A5;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x90AE;&#x4EF6;&#x5730;&#x5740;&#xFF0C;&#x521B;&#x5EFA;&#x6587;&#x6863;&#x65F6;&#xFF0C;mailto: &#x94FE;&#x63A5;&#x4F1A;&#x88AB;&#x81EA;&#x52A8;&#x521B;&#x5EFA;--&gt; &lt;unsubscribe&gt;banseon@126.com&lt;/unsubscribe&gt; &lt;!--&#x4F60;&#x53EF;&#x4EE5;&#x6D4F;&#x89C8;&#x90AE;&#x4EF6;&#x4FE1;&#x606F;&#x7684;URL--&gt; &lt;archive&gt;http:/hi.baidu.com/banseon/demo/dev/&lt;/archive&gt; &lt;/mailingList&gt; &lt;/mailingLists&gt; &lt;!--&#x9879;&#x76EE;&#x5F00;&#x53D1;&#x8005;&#x5217;&#x8868;--&gt; &lt;developers&gt; &lt;!--&#x67D0;&#x4E2A;&#x9879;&#x76EE;&#x5F00;&#x53D1;&#x8005;&#x7684;&#x4FE1;&#x606F;--&gt; &lt;developer&gt; &lt;!--SCM&#x91CC;&#x9879;&#x76EE;&#x5F00;&#x53D1;&#x8005;&#x7684;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x7B26;--&gt; &lt;id&gt;HELLO WORLD&lt;/id&gt; &lt;!--&#x9879;&#x76EE;&#x5F00;&#x53D1;&#x8005;&#x7684;&#x5168;&#x540D;--&gt; &lt;name&gt;banseon&lt;/name&gt; &lt;!--&#x9879;&#x76EE;&#x5F00;&#x53D1;&#x8005;&#x7684;email--&gt; &lt;email&gt;banseon@126.com&lt;/email&gt; &lt;!--&#x9879;&#x76EE;&#x5F00;&#x53D1;&#x8005;&#x7684;&#x4E3B;&#x9875;&#x7684;URL--&gt; &lt;url/&gt; &lt;!--&#x9879;&#x76EE;&#x5F00;&#x53D1;&#x8005;&#x5728;&#x9879;&#x76EE;&#x4E2D;&#x626E;&#x6F14;&#x7684;&#x89D2;&#x8272;&#xFF0C;&#x89D2;&#x8272;&#x5143;&#x7D20;&#x63CF;&#x8FF0;&#x4E86;&#x5404;&#x79CD;&#x89D2;&#x8272;--&gt; &lt;roles&gt; &lt;role&gt;Project Manager&lt;/role&gt; &lt;role&gt;Architect&lt;/role&gt; &lt;/roles&gt; &lt;!--&#x9879;&#x76EE;&#x5F00;&#x53D1;&#x8005;&#x6240;&#x5C5E;&#x7EC4;&#x7EC7;--&gt; &lt;organization&gt;demo&lt;/organization&gt; &lt;!--&#x9879;&#x76EE;&#x5F00;&#x53D1;&#x8005;&#x6240;&#x5C5E;&#x7EC4;&#x7EC7;&#x7684;URL--&gt; &lt;organizationUrl&gt;http://hi.baidu.com/banseon&lt;/organizationUrl&gt; &lt;!--&#x9879;&#x76EE;&#x5F00;&#x53D1;&#x8005;&#x5C5E;&#x6027;&#xFF0C;&#x5982;&#x5373;&#x65F6;&#x6D88;&#x606F;&#x5982;&#x4F55;&#x5904;&#x7406;&#x7B49;--&gt; &lt;properties&gt; &lt;dept&gt;No&lt;/dept&gt; &lt;/properties&gt; &lt;!--&#x9879;&#x76EE;&#x5F00;&#x53D1;&#x8005;&#x6240;&#x5728;&#x65F6;&#x533A;&#xFF0C; -11&#x5230;12&#x8303;&#x56F4;&#x5185;&#x7684;&#x6574;&#x6570;&#x3002;--&gt; &lt;timezone&gt;-5&lt;/timezone&gt; &lt;/developer&gt; &lt;/developers&gt; &lt;!--&#x9879;&#x76EE;&#x7684;&#x5176;&#x4ED6;&#x8D21;&#x732E;&#x8005;&#x5217;&#x8868;--&gt; &lt;contributors&gt; &lt;!--&#x9879;&#x76EE;&#x7684;&#x5176;&#x4ED6;&#x8D21;&#x732E;&#x8005;&#x3002;&#x53C2;&#x89C1;developers/developer&#x5143;&#x7D20;--&gt; &lt;contributor&gt; &lt;name/&gt;&lt;email/&gt;&lt;url/&gt;&lt;organization/&gt;&lt;organizationUrl/&gt;&lt;roles/&gt;&lt;timezone/&gt;&lt;properties/&gt; &lt;/contributor&gt; &lt;/contributors&gt; &lt;!--&#x8BE5;&#x5143;&#x7D20;&#x63CF;&#x8FF0;&#x4E86;&#x9879;&#x76EE;&#x6240;&#x6709;License&#x5217;&#x8868;&#x3002; &#x5E94;&#x8BE5;&#x53EA;&#x5217;&#x51FA;&#x8BE5;&#x9879;&#x76EE;&#x7684;license&#x5217;&#x8868;&#xFF0C;&#x4E0D;&#x8981;&#x5217;&#x51FA;&#x4F9D;&#x8D56;&#x9879;&#x76EE;&#x7684; license&#x5217;&#x8868;&#x3002;&#x5982;&#x679C;&#x5217;&#x51FA;&#x591A;&#x4E2A;license&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x5B83;&#x4EEC;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x800C;&#x4E0D;&#x662F;&#x63A5;&#x53D7;&#x6240;&#x6709;license&#x3002;--&gt; &lt;licenses&gt; &lt;!--&#x63CF;&#x8FF0;&#x4E86;&#x9879;&#x76EE;&#x7684;license&#xFF0C;&#x7528;&#x4E8E;&#x751F;&#x6210;&#x9879;&#x76EE;&#x7684;web&#x7AD9;&#x70B9;&#x7684;license&#x9875;&#x9762;&#xFF0C;&#x5176;&#x4ED6;&#x4E00;&#x4E9B;&#x62A5;&#x8868;&#x548C;validation&#x4E5F;&#x4F1A;&#x7528;&#x5230;&#x8BE5;&#x5143;&#x7D20;&#x3002;--&gt; &lt;license&gt; &lt;!--license&#x7528;&#x4E8E;&#x6CD5;&#x5F8B;&#x4E0A;&#x7684;&#x540D;&#x79F0;--&gt; &lt;name&gt;Apache 2&lt;/name&gt; &lt;!--&#x5B98;&#x65B9;&#x7684;license&#x6B63;&#x6587;&#x9875;&#x9762;&#x7684;URL--&gt; &lt;url&gt;http://www.baidu.com/banseon/LICENSE-2.0.txt&lt;/url&gt; &lt;!--&#x9879;&#x76EE;&#x5206;&#x53D1;&#x7684;&#x4E3B;&#x8981;&#x65B9;&#x5F0F;&#xFF1A; repo&#xFF0C;&#x53EF;&#x4EE5;&#x4ECE;Maven&#x5E93;&#x4E0B;&#x8F7D; manual&#xFF0C; &#x7528;&#x6237;&#x5FC5;&#x987B;&#x624B;&#x52A8;&#x4E0B;&#x8F7D;&#x548C;&#x5B89;&#x88C5;&#x4F9D;&#x8D56;--&gt; &lt;distribution&gt;repo&lt;/distribution&gt; &lt;!--&#x5173;&#x4E8E;license&#x7684;&#x8865;&#x5145;&#x4FE1;&#x606F;--&gt; &lt;comments&gt;A business-friendly OSS license&lt;/comments&gt; &lt;/license&gt; &lt;/licenses&gt; &lt;!--SCM(Source Control Management)&#x6807;&#x7B7E;&#x5141;&#x8BB8;&#x4F60;&#x914D;&#x7F6E;&#x4F60;&#x7684;&#x4EE3;&#x7801;&#x5E93;&#xFF0C;&#x4F9B;Maven web&#x7AD9;&#x70B9;&#x548C;&#x5176;&#x5B83;&#x63D2;&#x4EF6;&#x4F7F;&#x7528;&#x3002;--&gt; &lt;scm&gt; &lt;!--SCM&#x7684;URL,&#x8BE5;URL&#x63CF;&#x8FF0;&#x4E86;&#x7248;&#x672C;&#x5E93;&#x548C;&#x5982;&#x4F55;&#x8FDE;&#x63A5;&#x5230;&#x7248;&#x672C;&#x5E93;&#x3002;&#x6B32;&#x77E5;&#x8BE6;&#x60C5;&#xFF0C;&#x8BF7;&#x770B;SCMs&#x63D0;&#x4F9B;&#x7684;URL&#x683C;&#x5F0F;&#x548C;&#x5217;&#x8868;&#x3002;&#x8BE5;&#x8FDE;&#x63A5;&#x53EA;&#x8BFB;&#x3002;--&gt; &lt;connection&gt; scm:svn:http://svn.baidu.com/banseon/maven/banseon/banseon-maven2-trunk(dao-trunk) &lt;/connection&gt; &lt;!--&#x7ED9;&#x5F00;&#x53D1;&#x8005;&#x4F7F;&#x7528;&#x7684;&#xFF0C;&#x7C7B;&#x4F3C;connection&#x5143;&#x7D20;&#x3002;&#x5373;&#x8BE5;&#x8FDE;&#x63A5;&#x4E0D;&#x4EC5;&#x4EC5;&#x53EA;&#x8BFB;--&gt; &lt;developerConnection&gt; scm:svn:http://svn.baidu.com/banseon/maven/banseon/dao-trunk &lt;/developerConnection&gt; &lt;!--&#x5F53;&#x524D;&#x4EE3;&#x7801;&#x7684;&#x6807;&#x7B7E;&#xFF0C;&#x5728;&#x5F00;&#x53D1;&#x9636;&#x6BB5;&#x9ED8;&#x8BA4;&#x4E3A;HEAD--&gt; &lt;tag/&gt; &lt;!--&#x6307;&#x5411;&#x9879;&#x76EE;&#x7684;&#x53EF;&#x6D4F;&#x89C8;SCM&#x5E93;&#xFF08;&#x4F8B;&#x5982;ViewVC&#x6216;&#x8005;Fisheye&#xFF09;&#x7684;URL&#x3002;--&gt; &lt;url&gt;http://svn.baidu.com/banseon&lt;/url&gt; &lt;/scm&gt; &lt;!--&#x63CF;&#x8FF0;&#x9879;&#x76EE;&#x6240;&#x5C5E;&#x7EC4;&#x7EC7;&#x7684;&#x5404;&#x79CD;&#x5C5E;&#x6027;&#x3002;Maven&#x4EA7;&#x751F;&#x7684;&#x6587;&#x6863;&#x7528;--&gt; &lt;organization&gt; &lt;!--&#x7EC4;&#x7EC7;&#x7684;&#x5168;&#x540D;--&gt; &lt;name&gt;demo&lt;/name&gt; &lt;!--&#x7EC4;&#x7EC7;&#x4E3B;&#x9875;&#x7684;URL--&gt; &lt;url&gt;http://www.baidu.com/banseon&lt;/url&gt; &lt;/organization&gt; &lt;!--&#x6784;&#x5EFA;&#x9879;&#x76EE;&#x9700;&#x8981;&#x7684;&#x4FE1;&#x606F;--&gt; &lt;build&gt; &lt;!--&#x8BE5;&#x5143;&#x7D20;&#x8BBE;&#x7F6E;&#x4E86;&#x9879;&#x76EE;&#x6E90;&#x7801;&#x76EE;&#x5F55;&#xFF0C;&#x5F53;&#x6784;&#x5EFA;&#x9879;&#x76EE;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6784;&#x5EFA;&#x7CFB;&#x7EDF;&#x4F1A;&#x7F16;&#x8BD1;&#x76EE;&#x5F55;&#x91CC;&#x7684;&#x6E90;&#x7801;&#x3002;&#x8BE5;&#x8DEF;&#x5F84;&#x662F;&#x76F8;&#x5BF9;&#x4E8E;pom.xml&#x7684;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#x3002;--&gt; &lt;sourceDirectory/&gt; &lt;!--&#x8BE5;&#x5143;&#x7D20;&#x8BBE;&#x7F6E;&#x4E86;&#x9879;&#x76EE;&#x811A;&#x672C;&#x6E90;&#x7801;&#x76EE;&#x5F55;&#xFF0C;&#x8BE5;&#x76EE;&#x5F55;&#x548C;&#x6E90;&#x7801;&#x76EE;&#x5F55;&#x4E0D;&#x540C;&#xFF1A;&#x7EDD;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x5185;&#x5BB9; &#x4F1A;&#x88AB;&#x62F7;&#x8D1D;&#x5230;&#x8F93;&#x51FA;&#x76EE;&#x5F55;(&#x56E0;&#x4E3A;&#x811A;&#x672C;&#x662F;&#x88AB;&#x89E3;&#x91CA;&#x7684;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x88AB;&#x7F16;&#x8BD1;&#x7684;)&#x3002;--&gt; &lt;scriptSourceDirectory/&gt; &lt;!--&#x8BE5;&#x5143;&#x7D20;&#x8BBE;&#x7F6E;&#x4E86;&#x9879;&#x76EE;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x4F7F;&#x7528;&#x7684;&#x6E90;&#x7801;&#x76EE;&#x5F55;&#xFF0C;&#x5F53;&#x6D4B;&#x8BD5;&#x9879;&#x76EE;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6784;&#x5EFA;&#x7CFB;&#x7EDF;&#x4F1A;&#x7F16;&#x8BD1;&#x76EE;&#x5F55;&#x91CC;&#x7684;&#x6E90;&#x7801;&#x3002;&#x8BE5;&#x8DEF;&#x5F84;&#x662F;&#x76F8;&#x5BF9;&#x4E8E;pom.xml&#x7684;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#x3002;--&gt; &lt;testSourceDirectory/&gt; &lt;!--&#x88AB;&#x7F16;&#x8BD1;&#x8FC7;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;class&#x6587;&#x4EF6;&#x5B58;&#x653E;&#x7684;&#x76EE;&#x5F55;&#x3002;--&gt; &lt;outputDirectory/&gt; &lt;!--&#x88AB;&#x7F16;&#x8BD1;&#x8FC7;&#x7684;&#x6D4B;&#x8BD5;class&#x6587;&#x4EF6;&#x5B58;&#x653E;&#x7684;&#x76EE;&#x5F55;&#x3002;--&gt; &lt;testOutputDirectory/&gt; &lt;!--&#x4F7F;&#x7528;&#x6765;&#x81EA;&#x8BE5;&#x9879;&#x76EE;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x6784;&#x5EFA;&#x6269;&#x5C55;--&gt; &lt;extensions&gt; &lt;!--&#x63CF;&#x8FF0;&#x4F7F;&#x7528;&#x5230;&#x7684;&#x6784;&#x5EFA;&#x6269;&#x5C55;&#x3002;--&gt; &lt;extension&gt; &lt;!--&#x6784;&#x5EFA;&#x6269;&#x5C55;&#x7684;groupId--&gt; &lt;groupId/&gt; &lt;!--&#x6784;&#x5EFA;&#x6269;&#x5C55;&#x7684;artifactId--&gt; &lt;artifactId/&gt; &lt;!--&#x6784;&#x5EFA;&#x6269;&#x5C55;&#x7684;&#x7248;&#x672C;--&gt; &lt;version/&gt; &lt;/extension&gt; &lt;/extensions&gt; &lt;!--&#x5F53;&#x9879;&#x76EE;&#x6CA1;&#x6709;&#x89C4;&#x5B9A;&#x76EE;&#x6807;&#xFF08;Maven2 &#x53EB;&#x505A;&#x9636;&#x6BB5;&#xFF09;&#x65F6;&#x7684;&#x9ED8;&#x8BA4;&#x503C;--&gt; &lt;defaultGoal/&gt; &lt;!--&#x8FD9;&#x4E2A;&#x5143;&#x7D20;&#x63CF;&#x8FF0;&#x4E86;&#x9879;&#x76EE;&#x76F8;&#x5173;&#x7684;&#x6240;&#x6709;&#x8D44;&#x6E90;&#x8DEF;&#x5F84;&#x5217;&#x8868;&#xFF0C;&#x4F8B;&#x5982;&#x548C;&#x9879;&#x76EE;&#x76F8;&#x5173;&#x7684;&#x5C5E;&#x6027;&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x4E9B;&#x8D44;&#x6E90;&#x88AB;&#x5305;&#x542B;&#x5728;&#x6700;&#x7EC8;&#x7684;&#x6253;&#x5305;&#x6587;&#x4EF6;&#x91CC;&#x3002;--&gt; &lt;resources&gt; &lt;!--&#x8FD9;&#x4E2A;&#x5143;&#x7D20;&#x63CF;&#x8FF0;&#x4E86;&#x9879;&#x76EE;&#x76F8;&#x5173;&#x6216;&#x6D4B;&#x8BD5;&#x76F8;&#x5173;&#x7684;&#x6240;&#x6709;&#x8D44;&#x6E90;&#x8DEF;&#x5F84;--&gt; &lt;resource&gt; &lt;!--&#x63CF;&#x8FF0;&#x4E86;&#x8D44;&#x6E90;&#x7684;&#x76EE;&#x6807;&#x8DEF;&#x5F84;&#x3002;&#x8BE5;&#x8DEF;&#x5F84;&#x76F8;&#x5BF9;target/classes&#x76EE;&#x5F55;&#xFF08;&#x4F8B;&#x5982;${project.build.outputDirectory}&#xFF09;&#x3002;&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x8D44;&#x6E90;&#x5728;&#x7279;&#x5B9A;&#x7684;&#x5305;&#x91CC;(org.apache.maven.messages)&#xFF0C;&#x4F60;&#x5C31;&#x5FC5;&#x987B;&#x8BE5;&#x5143;&#x7D20;&#x8BBE;&#x7F6E;&#x4E3A;org/apache/maven/messages&#x3002;&#x7136;&#x800C;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x53EA;&#x662F;&#x60F3;&#x628A;&#x8D44;&#x6E90;&#x653E;&#x5230;&#x6E90;&#x7801;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x91CC;&#xFF0C;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x8BE5;&#x914D;&#x7F6E;&#x3002;--&gt; &lt;targetPath/&gt; &lt;!--&#x662F;&#x5426;&#x4F7F;&#x7528;&#x53C2;&#x6570;&#x503C;&#x4EE3;&#x66FF;&#x53C2;&#x6570;&#x540D;&#x3002;&#x53C2;&#x6570;&#x503C;&#x53D6;&#x81EA;properties&#x5143;&#x7D20;&#x6216;&#x8005;&#x6587;&#x4EF6;&#x91CC;&#x914D;&#x7F6E;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x6587;&#x4EF6;&#x5728;filters&#x5143;&#x7D20;&#x91CC;&#x5217;&#x51FA;&#x3002;--&gt; &lt;filtering/&gt; &lt;!--&#x63CF;&#x8FF0;&#x5B58;&#x653E;&#x8D44;&#x6E90;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x8BE5;&#x8DEF;&#x5F84;&#x76F8;&#x5BF9;POM&#x8DEF;&#x5F84;--&gt; &lt;directory/&gt; &lt;!--&#x5305;&#x542B;&#x7684;&#x6A21;&#x5F0F;&#x5217;&#x8868;&#xFF0C;&#x4F8B;&#x5982;**/*.xml.--&gt; &lt;includes/&gt; &lt;!--&#x6392;&#x9664;&#x7684;&#x6A21;&#x5F0F;&#x5217;&#x8868;&#xFF0C;&#x4F8B;&#x5982;**/*.xml--&gt; &lt;excludes/&gt; &lt;/resource&gt; &lt;/resources&gt; &lt;!--&#x8FD9;&#x4E2A;&#x5143;&#x7D20;&#x63CF;&#x8FF0;&#x4E86;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x76F8;&#x5173;&#x7684;&#x6240;&#x6709;&#x8D44;&#x6E90;&#x8DEF;&#x5F84;&#xFF0C;&#x4F8B;&#x5982;&#x548C;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x76F8;&#x5173;&#x7684;&#x5C5E;&#x6027;&#x6587;&#x4EF6;&#x3002;--&gt; &lt;testResources&gt; &lt;!--&#x8FD9;&#x4E2A;&#x5143;&#x7D20;&#x63CF;&#x8FF0;&#x4E86;&#x6D4B;&#x8BD5;&#x76F8;&#x5173;&#x7684;&#x6240;&#x6709;&#x8D44;&#x6E90;&#x8DEF;&#x5F84;&#xFF0C;&#x53C2;&#x89C1;build/resources/resource&#x5143;&#x7D20;&#x7684;&#x8BF4;&#x660E;--&gt; &lt;testResource&gt; &lt;targetPath/&gt;&lt;filtering/&gt;&lt;directory/&gt;&lt;includes/&gt;&lt;excludes/&gt; &lt;/testResource&gt; &lt;/testResources&gt; &lt;!--&#x6784;&#x5EFA;&#x4EA7;&#x751F;&#x7684;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x5B58;&#x653E;&#x7684;&#x76EE;&#x5F55;--&gt; &lt;directory/&gt; &lt;!--&#x4EA7;&#x751F;&#x7684;&#x6784;&#x4EF6;&#x7684;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x9ED8;&#x8BA4;&#x503C;&#x662F;${artifactId}-${version}&#x3002;--&gt; &lt;finalName/&gt; &lt;!--&#x5F53;filtering&#x5F00;&#x5173;&#x6253;&#x5F00;&#x65F6;&#xFF0C;&#x4F7F;&#x7528;&#x5230;&#x7684;&#x8FC7;&#x6EE4;&#x5668;&#x5C5E;&#x6027;&#x6587;&#x4EF6;&#x5217;&#x8868;--&gt; &lt;filters/&gt; &lt;!--&#x5B50;&#x9879;&#x76EE;&#x53EF;&#x4EE5;&#x5F15;&#x7528;&#x7684;&#x9ED8;&#x8BA4;&#x63D2;&#x4EF6;&#x4FE1;&#x606F;&#x3002;&#x8BE5;&#x63D2;&#x4EF6;&#x914D;&#x7F6E;&#x9879;&#x76F4;&#x5230;&#x88AB;&#x5F15;&#x7528;&#x65F6;&#x624D;&#x4F1A;&#x88AB;&#x89E3;&#x6790;&#x6216;&#x7ED1;&#x5B9A;&#x5230;&#x751F;&#x547D;&#x5468;&#x671F;&#x3002;&#x7ED9;&#x5B9A;&#x63D2;&#x4EF6;&#x7684;&#x4EFB;&#x4F55;&#x672C;&#x5730;&#x914D;&#x7F6E;&#x90FD;&#x4F1A;&#x8986;&#x76D6;&#x8FD9;&#x91CC;&#x7684;&#x914D;&#x7F6E;--&gt; &lt;pluginManagement&gt; &lt;!--&#x4F7F;&#x7528;&#x7684;&#x63D2;&#x4EF6;&#x5217;&#x8868; &#x3002;--&gt; &lt;plugins&gt; &lt;!--plugin&#x5143;&#x7D20;&#x5305;&#x542B;&#x63CF;&#x8FF0;&#x63D2;&#x4EF6;&#x6240;&#x9700;&#x8981;&#x7684;&#x4FE1;&#x606F;&#x3002;--&gt; &lt;plugin&gt; &lt;!--&#x63D2;&#x4EF6;&#x5728;&#x4ED3;&#x5E93;&#x91CC;&#x7684;group ID--&gt; &lt;groupId/&gt; &lt;!--&#x63D2;&#x4EF6;&#x5728;&#x4ED3;&#x5E93;&#x91CC;&#x7684;artifact ID--&gt; &lt;artifactId/&gt; &lt;!--&#x88AB;&#x4F7F;&#x7528;&#x7684;&#x63D2;&#x4EF6;&#x7684;&#x7248;&#x672C;&#xFF08;&#x6216;&#x7248;&#x672C;&#x8303;&#x56F4;&#xFF09;--&gt; &lt;version/&gt; &lt;!--&#x662F;&#x5426;&#x4ECE;&#x8BE5;&#x63D2;&#x4EF6;&#x4E0B;&#x8F7D;Maven&#x6269;&#x5C55;&#xFF08;&#x4F8B;&#x5982;&#x6253;&#x5305;&#x548C;&#x7C7B;&#x578B;&#x5904;&#x7406;&#x5668;&#xFF09;&#xFF0C;&#x7531;&#x4E8E;&#x6027;&#x80FD;&#x539F;&#x56E0;&#xFF0C;&#x53EA;&#x6709;&#x5728;&#x771F;&#x9700;&#x8981;&#x4E0B;&#x8F7D;&#x65F6;&#xFF0C;&#x8BE5;&#x5143;&#x7D20;&#x624D;&#x88AB;&#x8BBE;&#x7F6E;&#x6210;enabled&#x3002;--&gt; &lt;extensions/&gt; &lt;!--&#x5728;&#x6784;&#x5EFA;&#x751F;&#x547D;&#x5468;&#x671F;&#x4E2D;&#x6267;&#x884C;&#x4E00;&#x7EC4;&#x76EE;&#x6807;&#x7684;&#x914D;&#x7F6E;&#x3002;&#x6BCF;&#x4E2A;&#x76EE;&#x6807;&#x53EF;&#x80FD;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x914D;&#x7F6E;&#x3002;--&gt; &lt;executions&gt; &lt;!--execution&#x5143;&#x7D20;&#x5305;&#x542B;&#x4E86;&#x63D2;&#x4EF6;&#x6267;&#x884C;&#x9700;&#x8981;&#x7684;&#x4FE1;&#x606F;--&gt; &lt;execution&gt; &lt;!--&#x6267;&#x884C;&#x76EE;&#x6807;&#x7684;&#x6807;&#x8BC6;&#x7B26;&#xFF0C;&#x7528;&#x4E8E;&#x6807;&#x8BC6;&#x6784;&#x5EFA;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x76EE;&#x6807;&#xFF0C;&#x6216;&#x8005;&#x5339;&#x914D;&#x7EE7;&#x627F;&#x8FC7;&#x7A0B;&#x4E2D;&#x9700;&#x8981;&#x5408;&#x5E76;&#x7684;&#x6267;&#x884C;&#x76EE;&#x6807;--&gt; &lt;id/&gt; &lt;!--&#x7ED1;&#x5B9A;&#x4E86;&#x76EE;&#x6807;&#x7684;&#x6784;&#x5EFA;&#x751F;&#x547D;&#x5468;&#x671F;&#x9636;&#x6BB5;&#xFF0C;&#x5982;&#x679C;&#x7701;&#x7565;&#xFF0C;&#x76EE;&#x6807;&#x4F1A;&#x88AB;&#x7ED1;&#x5B9A;&#x5230;&#x6E90;&#x6570;&#x636E;&#x91CC;&#x914D;&#x7F6E;&#x7684;&#x9ED8;&#x8BA4;&#x9636;&#x6BB5;--&gt; &lt;phase/&gt; &lt;!--&#x914D;&#x7F6E;&#x7684;&#x6267;&#x884C;&#x76EE;&#x6807;--&gt; &lt;goals/&gt; &lt;!--&#x914D;&#x7F6E;&#x662F;&#x5426;&#x88AB;&#x4F20;&#x64AD;&#x5230;&#x5B50;POM--&gt; &lt;inherited/&gt; &lt;!--&#x4F5C;&#x4E3A;DOM&#x5BF9;&#x8C61;&#x7684;&#x914D;&#x7F6E;--&gt; &lt;configuration/&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;!--&#x9879;&#x76EE;&#x5F15;&#x5165;&#x63D2;&#x4EF6;&#x6240;&#x9700;&#x8981;&#x7684;&#x989D;&#x5916;&#x4F9D;&#x8D56;--&gt; &lt;dependencies&gt; &lt;!--&#x53C2;&#x89C1;dependencies/dependency&#x5143;&#x7D20;--&gt; &lt;dependency&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;!--&#x4EFB;&#x4F55;&#x914D;&#x7F6E;&#x662F;&#x5426;&#x88AB;&#x4F20;&#x64AD;&#x5230;&#x5B50;&#x9879;&#x76EE;--&gt; &lt;inherited/&gt; &lt;!--&#x4F5C;&#x4E3A;DOM&#x5BF9;&#x8C61;&#x7684;&#x914D;&#x7F6E;--&gt; &lt;configuration/&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/pluginManagement&gt; &lt;!--&#x4F7F;&#x7528;&#x7684;&#x63D2;&#x4EF6;&#x5217;&#x8868;--&gt; &lt;plugins&gt; &lt;!--&#x53C2;&#x89C1;build/pluginManagement/plugins/plugin&#x5143;&#x7D20;--&gt; &lt;plugin&gt; &lt;groupId/&gt;&lt;artifactId/&gt;&lt;version/&gt;&lt;extensions/&gt; &lt;executions&gt; &lt;execution&gt; &lt;id/&gt;&lt;phase/&gt;&lt;goals/&gt;&lt;inherited/&gt;&lt;configuration/&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;dependencies&gt; &lt;!--&#x53C2;&#x89C1;dependencies/dependency&#x5143;&#x7D20;--&gt; &lt;dependency&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;goals/&gt;&lt;inherited/&gt;&lt;configuration/&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; &lt;!--&#x5728;&#x5217;&#x7684;&#x9879;&#x76EE;&#x6784;&#x5EFA;profile&#xFF0C;&#x5982;&#x679C;&#x88AB;&#x6FC0;&#x6D3B;&#xFF0C;&#x4F1A;&#x4FEE;&#x6539;&#x6784;&#x5EFA;&#x5904;&#x7406;--&gt; &lt;profiles&gt; &lt;!--&#x6839;&#x636E;&#x73AF;&#x5883;&#x53C2;&#x6570;&#x6216;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#x6FC0;&#x6D3B;&#x67D0;&#x4E2A;&#x6784;&#x5EFA;&#x5904;&#x7406;--&gt; &lt;profile&gt; &lt;!--&#x6784;&#x5EFA;&#x914D;&#x7F6E;&#x7684;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x7B26;&#x3002;&#x5373;&#x7528;&#x4E8E;&#x547D;&#x4EE4;&#x884C;&#x6FC0;&#x6D3B;&#xFF0C;&#x4E5F;&#x7528;&#x4E8E;&#x5728;&#x7EE7;&#x627F;&#x65F6;&#x5408;&#x5E76;&#x5177;&#x6709;&#x76F8;&#x540C;&#x6807;&#x8BC6;&#x7B26;&#x7684;profile&#x3002;--&gt; &lt;id/&gt; &lt;!--&#x81EA;&#x52A8;&#x89E6;&#x53D1;profile&#x7684;&#x6761;&#x4EF6;&#x903B;&#x8F91;&#x3002;Activation&#x662F;profile&#x7684;&#x5F00;&#x542F;&#x94A5;&#x5319;&#x3002;profile&#x7684;&#x529B;&#x91CF;&#x6765;&#x81EA;&#x4E8E;&#x5B83; &#x80FD;&#x591F;&#x5728;&#x67D0;&#x4E9B;&#x7279;&#x5B9A;&#x7684;&#x73AF;&#x5883;&#x4E2D;&#x81EA;&#x52A8;&#x4F7F;&#x7528;&#x67D0;&#x4E9B;&#x7279;&#x5B9A;&#x7684;&#x503C;&#xFF1B;&#x8FD9;&#x4E9B;&#x73AF;&#x5883;&#x901A;&#x8FC7;activation&#x5143;&#x7D20;&#x6307;&#x5B9A;&#x3002;activation&#x5143;&#x7D20;&#x5E76;&#x4E0D;&#x662F;&#x6FC0;&#x6D3B;profile&#x7684;&#x552F;&#x4E00;&#x65B9;&#x5F0F;&#x3002;--&gt; &lt;activation&gt; &lt;!--profile&#x9ED8;&#x8BA4;&#x662F;&#x5426;&#x6FC0;&#x6D3B;&#x7684;&#x6807;&#x5FD7;--&gt; &lt;activeByDefault/&gt; &lt;!--&#x5F53;&#x5339;&#x914D;&#x7684;jdk&#x88AB;&#x68C0;&#x6D4B;&#x5230;&#xFF0C;profile&#x88AB;&#x6FC0;&#x6D3B;&#x3002;&#x4F8B;&#x5982;&#xFF0C;1.4&#x6FC0;&#x6D3B;JDK1.4&#xFF0C;1.4.0_2&#xFF0C;&#x800C;!1.4&#x6FC0;&#x6D3B;&#x6240;&#x6709;&#x7248;&#x672C;&#x4E0D;&#x662F;&#x4EE5;1.4&#x5F00;&#x5934;&#x7684;JDK&#x3002;--&gt; &lt;jdk/&gt; &lt;!--&#x5F53;&#x5339;&#x914D;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5C5E;&#x6027;&#x88AB;&#x68C0;&#x6D4B;&#x5230;&#xFF0C;profile&#x88AB;&#x6FC0;&#x6D3B;&#x3002;os&#x5143;&#x7D20;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x4E00;&#x4E9B;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x76F8;&#x5173;&#x7684;&#x5C5E;&#x6027;&#x3002;--&gt; &lt;os&gt; &lt;!--&#x6FC0;&#x6D3B;profile&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x540D;&#x5B57;--&gt; &lt;name&gt;Windows XP&lt;/name&gt; &lt;!--&#x6FC0;&#x6D3B;profile&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x6240;&#x5C5E;&#x5BB6;&#x65CF;(&#x5982; &apos;windows&apos;)--&gt; &lt;family&gt;Windows&lt;/family&gt; &lt;!--&#x6FC0;&#x6D3B;profile&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4F53;&#x7CFB;&#x7ED3;&#x6784; --&gt; &lt;arch&gt;x86&lt;/arch&gt; &lt;!--&#x6FC0;&#x6D3B;profile&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7248;&#x672C;--&gt; &lt;version&gt;5.1.2600&lt;/version&gt; &lt;/os&gt; &lt;!--&#x5982;&#x679C;Maven&#x68C0;&#x6D4B;&#x5230;&#x67D0;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#xFF08;&#x5176;&#x503C;&#x53EF;&#x4EE5;&#x5728;POM&#x4E2D;&#x901A;&#x8FC7;${&#x540D;&#x79F0;}&#x5F15;&#x7528;&#xFF09;&#xFF0C;&#x5176;&#x62E5;&#x6709;&#x5BF9;&#x5E94;&#x7684;&#x540D;&#x79F0;&#x548C;&#x503C;&#xFF0C;Profile&#x5C31;&#x4F1A;&#x88AB;&#x6FC0;&#x6D3B;&#x3002;&#x5982;&#x679C;&#x503C; &#x5B57;&#x6BB5;&#x662F;&#x7A7A;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x5B58;&#x5728;&#x5C5E;&#x6027;&#x540D;&#x79F0;&#x5B57;&#x6BB5;&#x5C31;&#x4F1A;&#x6FC0;&#x6D3B;profile&#xFF0C;&#x5426;&#x5219;&#x6309;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x65B9;&#x5F0F;&#x5339;&#x914D;&#x5C5E;&#x6027;&#x503C;&#x5B57;&#x6BB5;--&gt; &lt;property&gt; &lt;!--&#x6FC0;&#x6D3B;profile&#x7684;&#x5C5E;&#x6027;&#x7684;&#x540D;&#x79F0;--&gt; &lt;name&gt;mavenVersion&lt;/name&gt; &lt;!--&#x6FC0;&#x6D3B;profile&#x7684;&#x5C5E;&#x6027;&#x7684;&#x503C;--&gt; &lt;value&gt;2.0.3&lt;/value&gt; &lt;/property&gt; &lt;!--&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x901A;&#x8FC7;&#x68C0;&#x6D4B;&#x8BE5;&#x6587;&#x4EF6;&#x7684;&#x5B58;&#x5728;&#x6216;&#x4E0D;&#x5B58;&#x5728;&#x6765;&#x6FC0;&#x6D3B;profile&#x3002;missing&#x68C0;&#x67E5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x5B58;&#x5728;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x6FC0;&#x6D3B; profile&#x3002;&#x53E6;&#x4E00;&#x65B9;&#x9762;&#xFF0C;exists&#x5219;&#x4F1A;&#x68C0;&#x67E5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x5B58;&#x5728;&#xFF0C;&#x5982;&#x679C;&#x5B58;&#x5728;&#x5219;&#x6FC0;&#x6D3B;profile&#x3002;--&gt; &lt;file&gt; &lt;!--&#x5982;&#x679C;&#x6307;&#x5B9A;&#x7684;&#x6587;&#x4EF6;&#x5B58;&#x5728;&#xFF0C;&#x5219;&#x6FC0;&#x6D3B;profile&#x3002;--&gt; &lt;exists&gt;/usr/local/hudson/hudson-home/jobs/maven-guide-zh-to-production/workspace/&lt;/exists&gt; &lt;!--&#x5982;&#x679C;&#x6307;&#x5B9A;&#x7684;&#x6587;&#x4EF6;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x5219;&#x6FC0;&#x6D3B;profile&#x3002;--&gt; &lt;missing&gt;/usr/local/hudson/hudson-home/jobs/maven-guide-zh-to-production/workspace/&lt;/missing&gt; &lt;/file&gt; &lt;/activation&gt; &lt;!--&#x6784;&#x5EFA;&#x9879;&#x76EE;&#x6240;&#x9700;&#x8981;&#x7684;&#x4FE1;&#x606F;&#x3002;&#x53C2;&#x89C1;build&#x5143;&#x7D20;--&gt; &lt;build&gt; &lt;defaultGoal/&gt; &lt;resources&gt; &lt;resource&gt; &lt;targetPath/&gt;&lt;filtering/&gt;&lt;directory/&gt;&lt;includes/&gt;&lt;excludes/&gt; &lt;/resource&gt; &lt;/resources&gt; &lt;testResources&gt; &lt;testResource&gt; &lt;targetPath/&gt;&lt;filtering/&gt;&lt;directory/&gt;&lt;includes/&gt;&lt;excludes/&gt; &lt;/testResource&gt; &lt;/testResources&gt; &lt;directory/&gt;&lt;finalName/&gt;&lt;filters/&gt; &lt;pluginManagement&gt; &lt;plugins&gt; &lt;!--&#x53C2;&#x89C1;build/pluginManagement/plugins/plugin&#x5143;&#x7D20;--&gt; &lt;plugin&gt; &lt;groupId/&gt;&lt;artifactId/&gt;&lt;version/&gt;&lt;extensions/&gt; &lt;executions&gt; &lt;execution&gt; &lt;id/&gt;&lt;phase/&gt;&lt;goals/&gt;&lt;inherited/&gt;&lt;configuration/&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;dependencies&gt; &lt;!--&#x53C2;&#x89C1;dependencies/dependency&#x5143;&#x7D20;--&gt; &lt;dependency&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;goals/&gt;&lt;inherited/&gt;&lt;configuration/&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/pluginManagement&gt; &lt;plugins&gt; &lt;!--&#x53C2;&#x89C1;build/pluginManagement/plugins/plugin&#x5143;&#x7D20;--&gt; &lt;plugin&gt; &lt;groupId/&gt;&lt;artifactId/&gt;&lt;version/&gt;&lt;extensions/&gt; &lt;executions&gt; &lt;execution&gt; &lt;id/&gt;&lt;phase/&gt;&lt;goals/&gt;&lt;inherited/&gt;&lt;configuration/&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;dependencies&gt; &lt;!--&#x53C2;&#x89C1;dependencies/dependency&#x5143;&#x7D20;--&gt; &lt;dependency&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;goals/&gt;&lt;inherited/&gt;&lt;configuration/&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; &lt;!--&#x6A21;&#x5757;&#xFF08;&#x6709;&#x65F6;&#x79F0;&#x4F5C;&#x5B50;&#x9879;&#x76EE;&#xFF09; &#x88AB;&#x6784;&#x5EFA;&#x6210;&#x9879;&#x76EE;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x3002;&#x5217;&#x51FA;&#x7684;&#x6BCF;&#x4E2A;&#x6A21;&#x5757;&#x5143;&#x7D20;&#x662F;&#x6307;&#x5411;&#x8BE5;&#x6A21;&#x5757;&#x7684;&#x76EE;&#x5F55;&#x7684;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;--&gt; &lt;modules/&gt; &lt;!--&#x53D1;&#x73B0;&#x4F9D;&#x8D56;&#x548C;&#x6269;&#x5C55;&#x7684;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x5217;&#x8868;&#x3002;--&gt; &lt;repositories&gt; &lt;!--&#x53C2;&#x89C1;repositories/repository&#x5143;&#x7D20;--&gt; &lt;repository&gt; &lt;releases&gt; &lt;enabled/&gt;&lt;updatePolicy/&gt;&lt;checksumPolicy/&gt; &lt;/releases&gt; &lt;snapshots&gt; &lt;enabled/&gt;&lt;updatePolicy/&gt;&lt;checksumPolicy/&gt; &lt;/snapshots&gt; &lt;id/&gt;&lt;name/&gt;&lt;url/&gt;&lt;layout/&gt; &lt;/repository&gt; &lt;/repositories&gt; &lt;!--&#x53D1;&#x73B0;&#x63D2;&#x4EF6;&#x7684;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x5217;&#x8868;&#xFF0C;&#x8FD9;&#x4E9B;&#x63D2;&#x4EF6;&#x7528;&#x4E8E;&#x6784;&#x5EFA;&#x548C;&#x62A5;&#x8868;--&gt; &lt;pluginRepositories&gt; &lt;!--&#x5305;&#x542B;&#x9700;&#x8981;&#x8FDE;&#x63A5;&#x5230;&#x8FDC;&#x7A0B;&#x63D2;&#x4EF6;&#x4ED3;&#x5E93;&#x7684;&#x4FE1;&#x606F;.&#x53C2;&#x89C1;repositories/repository&#x5143;&#x7D20;--&gt; &lt;pluginRepository&gt; &lt;releases&gt; &lt;enabled/&gt;&lt;updatePolicy/&gt;&lt;checksumPolicy/&gt; &lt;/releases&gt; &lt;snapshots&gt; &lt;enabled/&gt;&lt;updatePolicy/&gt;&lt;checksumPolicy/&gt; &lt;/snapshots&gt; &lt;id/&gt;&lt;name/&gt;&lt;url/&gt;&lt;layout/&gt; &lt;/pluginRepository&gt; &lt;/pluginRepositories&gt; &lt;!--&#x8BE5;&#x5143;&#x7D20;&#x63CF;&#x8FF0;&#x4E86;&#x9879;&#x76EE;&#x76F8;&#x5173;&#x7684;&#x6240;&#x6709;&#x4F9D;&#x8D56;&#x3002; &#x8FD9;&#x4E9B;&#x4F9D;&#x8D56;&#x7EC4;&#x6210;&#x4E86;&#x9879;&#x76EE;&#x6784;&#x5EFA;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x4E2A;&#x73AF;&#x8282;&#x3002;&#x5B83;&#x4EEC;&#x81EA;&#x52A8;&#x4ECE;&#x9879;&#x76EE;&#x5B9A;&#x4E49;&#x7684;&#x4ED3;&#x5E93;&#x4E2D;&#x4E0B;&#x8F7D;&#x3002;&#x8981;&#x83B7;&#x53D6;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x770B;&#x9879;&#x76EE;&#x4F9D;&#x8D56;&#x673A;&#x5236;&#x3002;--&gt; &lt;dependencies&gt; &lt;!--&#x53C2;&#x89C1;dependencies/dependency&#x5143;&#x7D20;--&gt; &lt;dependency&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;!--&#x4E0D;&#x8D5E;&#x6210;&#x4F7F;&#x7528;. &#x73B0;&#x5728;Maven&#x5FFD;&#x7565;&#x8BE5;&#x5143;&#x7D20;.--&gt; &lt;reports/&gt; &lt;!--&#x8BE5;&#x5143;&#x7D20;&#x5305;&#x62EC;&#x4F7F;&#x7528;&#x62A5;&#x8868;&#x63D2;&#x4EF6;&#x4EA7;&#x751F;&#x62A5;&#x8868;&#x7684;&#x89C4;&#x8303;&#x3002;&#x5F53;&#x7528;&#x6237;&#x6267;&#x884C;&#x201C;mvn site&#x201D;&#xFF0C;&#x8FD9;&#x4E9B;&#x62A5;&#x8868;&#x5C31;&#x4F1A;&#x8FD0;&#x884C;&#x3002; &#x5728;&#x9875;&#x9762;&#x5BFC;&#x822A;&#x680F;&#x80FD;&#x770B;&#x5230;&#x6240;&#x6709;&#x62A5;&#x8868;&#x7684;&#x94FE;&#x63A5;&#x3002;&#x53C2;&#x89C1;reporting&#x5143;&#x7D20;--&gt; &lt;reporting&gt; &lt;/reporting&gt; &lt;!--&#x53C2;&#x89C1;dependencyManagement&#x5143;&#x7D20;--&gt; &lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;!--&#x53C2;&#x89C1;dependencies/dependency&#x5143;&#x7D20;--&gt; &lt;dependency&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/dependencyManagement&gt; &lt;!--&#x53C2;&#x89C1;distributionManagement&#x5143;&#x7D20;--&gt; &lt;distributionManagement&gt; &lt;/distributionManagement&gt; &lt;!--&#x53C2;&#x89C1;properties&#x5143;&#x7D20;--&gt; &lt;properties/&gt; &lt;/profile&gt; &lt;/profiles&gt; &lt;!--&#x6A21;&#x5757;&#xFF08;&#x6709;&#x65F6;&#x79F0;&#x4F5C;&#x5B50;&#x9879;&#x76EE;&#xFF09; &#x88AB;&#x6784;&#x5EFA;&#x6210;&#x9879;&#x76EE;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x3002;&#x5217;&#x51FA;&#x7684;&#x6BCF;&#x4E2A;&#x6A21;&#x5757;&#x5143;&#x7D20;&#x662F;&#x6307;&#x5411;&#x8BE5;&#x6A21;&#x5757;&#x7684;&#x76EE;&#x5F55;&#x7684;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;--&gt; &lt;modules/&gt; &lt;!--&#x53D1;&#x73B0;&#x4F9D;&#x8D56;&#x548C;&#x6269;&#x5C55;&#x7684;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x5217;&#x8868;&#x3002;--&gt; &lt;repositories&gt; &lt;!--&#x5305;&#x542B;&#x9700;&#x8981;&#x8FDE;&#x63A5;&#x5230;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x7684;&#x4FE1;&#x606F;--&gt; &lt;repository&gt; &lt;!--&#x5982;&#x4F55;&#x5904;&#x7406;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x91CC;&#x53D1;&#x5E03;&#x7248;&#x672C;&#x7684;&#x4E0B;&#x8F7D;--&gt; &lt;releases&gt; &lt;!--true&#x6216;&#x8005;false&#x8868;&#x793A;&#x8BE5;&#x4ED3;&#x5E93;&#x662F;&#x5426;&#x4E3A;&#x4E0B;&#x8F7D;&#x67D0;&#x79CD;&#x7C7B;&#x578B;&#x6784;&#x4EF6;&#xFF08;&#x53D1;&#x5E03;&#x7248;&#xFF0C;&#x5FEB;&#x7167;&#x7248;&#xFF09;&#x5F00;&#x542F;&#x3002; --&gt; &lt;enabled/&gt; &lt;!--&#x8BE5;&#x5143;&#x7D20;&#x6307;&#x5B9A;&#x66F4;&#x65B0;&#x53D1;&#x751F;&#x7684;&#x9891;&#x7387;&#x3002;Maven&#x4F1A;&#x6BD4;&#x8F83;&#x672C;&#x5730;POM&#x548C;&#x8FDC;&#x7A0B;POM&#x7684;&#x65F6;&#x95F4;&#x6233;&#x3002;&#x8FD9;&#x91CC;&#x7684;&#x9009;&#x9879;&#x662F;&#xFF1A;always&#xFF08;&#x4E00;&#x76F4;&#xFF09;&#xFF0C;daily&#xFF08;&#x9ED8;&#x8BA4;&#xFF0C;&#x6BCF;&#x65E5;&#xFF09;&#xFF0C;interval&#xFF1A;X&#xFF08;&#x8FD9;&#x91CC;X&#x662F;&#x4EE5;&#x5206;&#x949F;&#x4E3A;&#x5355;&#x4F4D;&#x7684;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#xFF09;&#xFF0C;&#x6216;&#x8005;never&#xFF08;&#x4ECE;&#x4E0D;&#xFF09;&#x3002;--&gt; &lt;updatePolicy/&gt; &lt;!--&#x5F53;Maven&#x9A8C;&#x8BC1;&#x6784;&#x4EF6;&#x6821;&#x9A8C;&#x6587;&#x4EF6;&#x5931;&#x8D25;&#x65F6;&#x8BE5;&#x600E;&#x4E48;&#x505A;&#xFF1A;ignore&#xFF08;&#x5FFD;&#x7565;&#xFF09;&#xFF0C;fail&#xFF08;&#x5931;&#x8D25;&#xFF09;&#xFF0C;&#x6216;&#x8005;warn&#xFF08;&#x8B66;&#x544A;&#xFF09;&#x3002;--&gt; &lt;checksumPolicy/&gt; &lt;/releases&gt; &lt;!--&#x5982;&#x4F55;&#x5904;&#x7406;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x91CC;&#x5FEB;&#x7167;&#x7248;&#x672C;&#x7684;&#x4E0B;&#x8F7D;&#x3002;&#x6709;&#x4E86;releases&#x548C;snapshots&#x8FD9;&#x4E24;&#x7EC4;&#x914D;&#x7F6E;&#xFF0C;POM&#x5C31;&#x53EF;&#x4EE5;&#x5728;&#x6BCF;&#x4E2A;&#x5355;&#x72EC;&#x7684;&#x4ED3;&#x5E93;&#x4E2D;&#xFF0C;&#x4E3A;&#x6BCF;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x6784;&#x4EF6;&#x91C7;&#x53D6;&#x4E0D;&#x540C;&#x7684;&#x7B56;&#x7565;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x53EF;&#x80FD;&#x6709;&#x4EBA;&#x4F1A;&#x51B3;&#x5B9A;&#x53EA;&#x4E3A;&#x5F00;&#x53D1;&#x76EE;&#x7684;&#x5F00;&#x542F;&#x5BF9;&#x5FEB;&#x7167;&#x7248;&#x672C;&#x4E0B;&#x8F7D;&#x7684;&#x652F;&#x6301;&#x3002;&#x53C2;&#x89C1;repositories/repository/releases&#x5143;&#x7D20;--&gt; &lt;snapshots&gt; &lt;enabled/&gt;&lt;updatePolicy/&gt;&lt;checksumPolicy/&gt; &lt;/snapshots&gt; &lt;!--&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x7B26;&#x3002;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x5339;&#x914D;&#x5728;settings.xml&#x6587;&#x4EF6;&#x91CC;&#x914D;&#x7F6E;&#x7684;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;--&gt; &lt;id&gt;banseon-repository-proxy&lt;/id&gt; &lt;!--&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x540D;&#x79F0;--&gt; &lt;name&gt;banseon-repository-proxy&lt;/name&gt; &lt;!--&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;URL&#xFF0C;&#x6309;protocol://hostname/path&#x5F62;&#x5F0F;--&gt; &lt;url&gt;http://192.168.1.169:9999/repository/&lt;/url&gt; &lt;!--&#x7528;&#x4E8E;&#x5B9A;&#x4F4D;&#x548C;&#x6392;&#x5E8F;&#x6784;&#x4EF6;&#x7684;&#x4ED3;&#x5E93;&#x5E03;&#x5C40;&#x7C7B;&#x578B;-&#x53EF;&#x4EE5;&#x662F;default&#xFF08;&#x9ED8;&#x8BA4;&#xFF09;&#x6216;&#x8005;legacy&#xFF08;&#x9057;&#x7559;&#xFF09;&#x3002;Maven 2&#x4E3A;&#x5176;&#x4ED3;&#x5E93;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x9ED8;&#x8BA4;&#x7684;&#x5E03;&#x5C40;&#xFF1B;&#x7136;&#x800C;&#xFF0C;Maven 1.x&#x6709;&#x4E00;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x5E03;&#x5C40;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8BE5;&#x5143;&#x7D20;&#x6307;&#x5B9A;&#x5E03;&#x5C40;&#x662F;default&#xFF08;&#x9ED8;&#x8BA4;&#xFF09;&#x8FD8;&#x662F;legacy&#xFF08;&#x9057;&#x7559;&#xFF09;&#x3002;--&gt; &lt;layout&gt;default&lt;/layout&gt; &lt;/repository&gt; &lt;/repositories&gt; &lt;!--&#x53D1;&#x73B0;&#x63D2;&#x4EF6;&#x7684;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x5217;&#x8868;&#xFF0C;&#x8FD9;&#x4E9B;&#x63D2;&#x4EF6;&#x7528;&#x4E8E;&#x6784;&#x5EFA;&#x548C;&#x62A5;&#x8868;--&gt; &lt;pluginRepositories&gt; &lt;!--&#x5305;&#x542B;&#x9700;&#x8981;&#x8FDE;&#x63A5;&#x5230;&#x8FDC;&#x7A0B;&#x63D2;&#x4EF6;&#x4ED3;&#x5E93;&#x7684;&#x4FE1;&#x606F;.&#x53C2;&#x89C1;repositories/repository&#x5143;&#x7D20;--&gt; &lt;pluginRepository&gt; &lt;/pluginRepository&gt; &lt;/pluginRepositories&gt; &lt;!--&#x8BE5;&#x5143;&#x7D20;&#x63CF;&#x8FF0;&#x4E86;&#x9879;&#x76EE;&#x76F8;&#x5173;&#x7684;&#x6240;&#x6709;&#x4F9D;&#x8D56;&#x3002; &#x8FD9;&#x4E9B;&#x4F9D;&#x8D56;&#x7EC4;&#x6210;&#x4E86;&#x9879;&#x76EE;&#x6784;&#x5EFA;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x4E2A;&#x73AF;&#x8282;&#x3002;&#x5B83;&#x4EEC;&#x81EA;&#x52A8;&#x4ECE;&#x9879;&#x76EE;&#x5B9A;&#x4E49;&#x7684;&#x4ED3;&#x5E93;&#x4E2D;&#x4E0B;&#x8F7D;&#x3002;&#x8981;&#x83B7;&#x53D6;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x770B;&#x9879;&#x76EE;&#x4F9D;&#x8D56;&#x673A;&#x5236;&#x3002;--&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;!--&#x4F9D;&#x8D56;&#x7684;group ID--&gt; &lt;groupId&gt;org.apache.maven&lt;/groupId&gt; &lt;!--&#x4F9D;&#x8D56;&#x7684;artifact ID--&gt; &lt;artifactId&gt;maven-artifact&lt;/artifactId&gt; &lt;!--&#x4F9D;&#x8D56;&#x7684;&#x7248;&#x672C;&#x53F7;&#x3002; &#x5728;Maven 2&#x91CC;, &#x4E5F;&#x53EF;&#x4EE5;&#x914D;&#x7F6E;&#x6210;&#x7248;&#x672C;&#x53F7;&#x7684;&#x8303;&#x56F4;&#x3002;--&gt; &lt;version&gt;3.8.1&lt;/version&gt; &lt;!--&#x4F9D;&#x8D56;&#x7C7B;&#x578B;&#xFF0C;&#x9ED8;&#x8BA4;&#x7C7B;&#x578B;&#x662F;jar&#x3002;&#x5B83;&#x901A;&#x5E38;&#x8868;&#x793A;&#x4F9D;&#x8D56;&#x7684;&#x6587;&#x4EF6;&#x7684;&#x6269;&#x5C55;&#x540D;&#xFF0C;&#x4F46;&#x4E5F;&#x6709;&#x4F8B;&#x5916;&#x3002;&#x4E00;&#x4E2A;&#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x88AB;&#x6620;&#x5C04;&#x6210;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x6269;&#x5C55;&#x540D;&#x6216;&#x5206;&#x7C7B;&#x5668;&#x3002;&#x7C7B;&#x578B;&#x7ECF;&#x5E38;&#x548C;&#x4F7F;&#x7528;&#x7684;&#x6253;&#x5305;&#x65B9;&#x5F0F;&#x5BF9;&#x5E94;&#xFF0C;&#x5C3D;&#x7BA1;&#x8FD9;&#x4E5F;&#x6709;&#x4F8B;&#x5916;&#x3002;&#x4E00;&#x4E9B;&#x7C7B;&#x578B;&#x7684;&#x4F8B;&#x5B50;&#xFF1A;jar&#xFF0C;war&#xFF0C;ejb-client&#x548C;test-jar&#x3002;&#x5982;&#x679C;&#x8BBE;&#x7F6E;extensions&#x4E3A; true&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5728;plugin&#x91CC;&#x5B9A;&#x4E49;&#x65B0;&#x7684;&#x7C7B;&#x578B;&#x3002;&#x6240;&#x4EE5;&#x524D;&#x9762;&#x7684;&#x7C7B;&#x578B;&#x7684;&#x4F8B;&#x5B50;&#x4E0D;&#x5B8C;&#x6574;&#x3002;--&gt; &lt;type&gt;jar&lt;/type&gt; &lt;!--&#x4F9D;&#x8D56;&#x7684;&#x5206;&#x7C7B;&#x5668;&#x3002;&#x5206;&#x7C7B;&#x5668;&#x53EF;&#x4EE5;&#x533A;&#x5206;&#x5C5E;&#x4E8E;&#x540C;&#x4E00;&#x4E2A;POM&#xFF0C;&#x4F46;&#x4E0D;&#x540C;&#x6784;&#x5EFA;&#x65B9;&#x5F0F;&#x7684;&#x6784;&#x4EF6;&#x3002;&#x5206;&#x7C7B;&#x5668;&#x540D;&#x88AB;&#x9644;&#x52A0;&#x5230;&#x6587;&#x4EF6;&#x540D;&#x7684;&#x7248;&#x672C;&#x53F7;&#x540E;&#x9762;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x8981;&#x6784;&#x5EFA;&#x4E24;&#x4E2A;&#x5355;&#x72EC;&#x7684;&#x6784;&#x4EF6;&#x6210;JAR&#xFF0C;&#x4E00;&#x4E2A;&#x4F7F;&#x7528;Java 1.4&#x7F16;&#x8BD1;&#x5668;&#xFF0C;&#x53E6;&#x4E00;&#x4E2A;&#x4F7F;&#x7528;Java 6&#x7F16;&#x8BD1;&#x5668;&#xFF0C;&#x4F60;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5206;&#x7C7B;&#x5668;&#x6765;&#x751F;&#x6210;&#x4E24;&#x4E2A;&#x5355;&#x72EC;&#x7684;JAR&#x6784;&#x4EF6;&#x3002;--&gt; &lt;classifier&gt;&lt;/classifier&gt; &lt;!--&#x4F9D;&#x8D56;&#x8303;&#x56F4;&#x3002;&#x5728;&#x9879;&#x76EE;&#x53D1;&#x5E03;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5E2E;&#x52A9;&#x51B3;&#x5B9A;&#x54EA;&#x4E9B;&#x6784;&#x4EF6;&#x88AB;&#x5305;&#x62EC;&#x8FDB;&#x6765;&#x3002;&#x6B32;&#x77E5;&#x8BE6;&#x60C5;&#x8BF7;&#x53C2;&#x8003;&#x4F9D;&#x8D56;&#x673A;&#x5236;&#x3002; - compile &#xFF1A;&#x9ED8;&#x8BA4;&#x8303;&#x56F4;&#xFF0C;&#x7528;&#x4E8E;&#x7F16;&#x8BD1; - provided&#xFF1A;&#x7C7B;&#x4F3C;&#x4E8E;&#x7F16;&#x8BD1;&#xFF0C;&#x4F46;&#x652F;&#x6301;&#x4F60;&#x671F;&#x5F85;jdk&#x6216;&#x8005;&#x5BB9;&#x5668;&#x63D0;&#x4F9B;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;classpath - runtime: &#x5728;&#x6267;&#x884C;&#x65F6;&#x9700;&#x8981;&#x4F7F;&#x7528; - test: &#x7528;&#x4E8E;test&#x4EFB;&#x52A1;&#x65F6;&#x4F7F;&#x7528; - system: &#x9700;&#x8981;&#x5916;&#x5728;&#x63D0;&#x4F9B;&#x76F8;&#x5E94;&#x7684;&#x5143;&#x7D20;&#x3002;&#x901A;&#x8FC7;systemPath&#x6765;&#x53D6;&#x5F97; - systemPath: &#x4EC5;&#x7528;&#x4E8E;&#x8303;&#x56F4;&#x4E3A;system&#x3002;&#x63D0;&#x4F9B;&#x76F8;&#x5E94;&#x7684;&#x8DEF;&#x5F84; - optional: &#x5F53;&#x9879;&#x76EE;&#x81EA;&#x8EAB;&#x88AB;&#x4F9D;&#x8D56;&#x65F6;&#xFF0C;&#x6807;&#x6CE8;&#x4F9D;&#x8D56;&#x662F;&#x5426;&#x4F20;&#x9012;&#x3002;&#x7528;&#x4E8E;&#x8FDE;&#x7EED;&#x4F9D;&#x8D56;&#x65F6;&#x4F7F;&#x7528;--&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;!--&#x4EC5;&#x4F9B;system&#x8303;&#x56F4;&#x4F7F;&#x7528;&#x3002;&#x6CE8;&#x610F;&#xFF0C;&#x4E0D;&#x9F13;&#x52B1;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x65B0;&#x7684;&#x7248;&#x672C;&#x4E2D;&#x8BE5;&#x5143;&#x7D20;&#x53EF;&#x80FD;&#x88AB;&#x8986;&#x76D6;&#x6389;&#x3002;&#x8BE5;&#x5143;&#x7D20;&#x4E3A;&#x4F9D;&#x8D56;&#x89C4;&#x5B9A;&#x4E86;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E0A;&#x7684;&#x8DEF;&#x5F84;&#x3002;&#x9700;&#x8981;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#x800C;&#x4E0D;&#x662F;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#x3002;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x5C5E;&#x6027;&#x5339;&#x914D;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#xFF0C;&#x4F8B;&#x5982;${java.home}&#x3002;--&gt; &lt;systemPath&gt;&lt;/systemPath&gt; &lt;!--&#x5F53;&#x8BA1;&#x7B97;&#x4F20;&#x9012;&#x4F9D;&#x8D56;&#x65F6;&#xFF0C; &#x4ECE;&#x4F9D;&#x8D56;&#x6784;&#x4EF6;&#x5217;&#x8868;&#x91CC;&#xFF0C;&#x5217;&#x51FA;&#x88AB;&#x6392;&#x9664;&#x7684;&#x4F9D;&#x8D56;&#x6784;&#x4EF6;&#x96C6;&#x3002;&#x5373;&#x544A;&#x8BC9;maven&#x4F60;&#x53EA;&#x4F9D;&#x8D56;&#x6307;&#x5B9A;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x4E0D;&#x4F9D;&#x8D56;&#x9879;&#x76EE;&#x7684;&#x4F9D;&#x8D56;&#x3002;&#x6B64;&#x5143;&#x7D20;&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x89E3;&#x51B3;&#x7248;&#x672C;&#x51B2;&#x7A81;&#x95EE;&#x9898;--&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;!--&#x53EF;&#x9009;&#x4F9D;&#x8D56;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x5728;&#x9879;&#x76EE;B&#x4E2D;&#x628A;C&#x4F9D;&#x8D56;&#x58F0;&#x660E;&#x4E3A;&#x53EF;&#x9009;&#xFF0C;&#x4F60;&#x5C31;&#x9700;&#x8981;&#x5728;&#x4F9D;&#x8D56;&#x4E8E;B&#x7684;&#x9879;&#x76EE;&#xFF08;&#x4F8B;&#x5982;&#x9879;&#x76EE;A&#xFF09;&#x4E2D;&#x663E;&#x5F0F;&#x7684;&#x5F15;&#x7528;&#x5BF9;C&#x7684;&#x4F9D;&#x8D56;&#x3002;&#x53EF;&#x9009;&#x4F9D;&#x8D56;&#x963B;&#x65AD;&#x4F9D;&#x8D56;&#x7684;&#x4F20;&#x9012;&#x6027;&#x3002;--&gt; &lt;optional&gt;true&lt;/optional&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;!--&#x4E0D;&#x8D5E;&#x6210;&#x4F7F;&#x7528;. &#x73B0;&#x5728;Maven&#x5FFD;&#x7565;&#x8BE5;&#x5143;&#x7D20;.--&gt; &lt;reports&gt;&lt;/reports&gt; &lt;!--&#x8BE5;&#x5143;&#x7D20;&#x63CF;&#x8FF0;&#x4F7F;&#x7528;&#x62A5;&#x8868;&#x63D2;&#x4EF6;&#x4EA7;&#x751F;&#x62A5;&#x8868;&#x7684;&#x89C4;&#x8303;&#x3002;&#x5F53;&#x7528;&#x6237;&#x6267;&#x884C;&#x201C;mvn site&#x201D;&#xFF0C;&#x8FD9;&#x4E9B;&#x62A5;&#x8868;&#x5C31;&#x4F1A;&#x8FD0;&#x884C;&#x3002; &#x5728;&#x9875;&#x9762;&#x5BFC;&#x822A;&#x680F;&#x80FD;&#x770B;&#x5230;&#x6240;&#x6709;&#x62A5;&#x8868;&#x7684;&#x94FE;&#x63A5;&#x3002;--&gt; &lt;reporting&gt; &lt;!--true&#xFF0C;&#x5219;&#xFF0C;&#x7F51;&#x7AD9;&#x4E0D;&#x5305;&#x62EC;&#x9ED8;&#x8BA4;&#x7684;&#x62A5;&#x8868;&#x3002;&#x8FD9;&#x5305;&#x62EC;&#x201C;&#x9879;&#x76EE;&#x4FE1;&#x606F;&#x201D;&#x83DC;&#x5355;&#x4E2D;&#x7684;&#x62A5;&#x8868;&#x3002;--&gt; &lt;excludeDefaults/&gt; &lt;!--&#x6240;&#x6709;&#x4EA7;&#x751F;&#x7684;&#x62A5;&#x8868;&#x5B58;&#x653E;&#x5230;&#x54EA;&#x91CC;&#x3002;&#x9ED8;&#x8BA4;&#x503C;&#x662F;${project.build.directory}/site&#x3002;--&gt; &lt;outputDirectory/&gt; &lt;!--&#x4F7F;&#x7528;&#x7684;&#x62A5;&#x8868;&#x63D2;&#x4EF6;&#x548C;&#x4ED6;&#x4EEC;&#x7684;&#x914D;&#x7F6E;&#x3002;--&gt; &lt;plugins&gt; &lt;!--plugin&#x5143;&#x7D20;&#x5305;&#x542B;&#x63CF;&#x8FF0;&#x62A5;&#x8868;&#x63D2;&#x4EF6;&#x9700;&#x8981;&#x7684;&#x4FE1;&#x606F;--&gt; &lt;plugin&gt; &lt;!--&#x62A5;&#x8868;&#x63D2;&#x4EF6;&#x5728;&#x4ED3;&#x5E93;&#x91CC;&#x7684;group ID--&gt; &lt;groupId/&gt; &lt;!--&#x62A5;&#x8868;&#x63D2;&#x4EF6;&#x5728;&#x4ED3;&#x5E93;&#x91CC;&#x7684;artifact ID--&gt; &lt;artifactId/&gt; &lt;!--&#x88AB;&#x4F7F;&#x7528;&#x7684;&#x62A5;&#x8868;&#x63D2;&#x4EF6;&#x7684;&#x7248;&#x672C;&#xFF08;&#x6216;&#x7248;&#x672C;&#x8303;&#x56F4;&#xFF09;--&gt; &lt;version/&gt; &lt;!--&#x4EFB;&#x4F55;&#x914D;&#x7F6E;&#x662F;&#x5426;&#x88AB;&#x4F20;&#x64AD;&#x5230;&#x5B50;&#x9879;&#x76EE;--&gt; &lt;inherited/&gt; &lt;!--&#x62A5;&#x8868;&#x63D2;&#x4EF6;&#x7684;&#x914D;&#x7F6E;--&gt; &lt;configuration/&gt; &lt;!--&#x4E00;&#x7EC4;&#x62A5;&#x8868;&#x7684;&#x591A;&#x91CD;&#x89C4;&#x8303;&#xFF0C;&#x6BCF;&#x4E2A;&#x89C4;&#x8303;&#x53EF;&#x80FD;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x914D;&#x7F6E;&#x3002;&#x4E00;&#x4E2A;&#x89C4;&#x8303;&#xFF08;&#x62A5;&#x8868;&#x96C6;&#xFF09;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x6267;&#x884C;&#x76EE;&#x6807; &#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x6709;1&#xFF0C;2&#xFF0C;3&#xFF0C;4&#xFF0C;5&#xFF0C;6&#xFF0C;7&#xFF0C;8&#xFF0C;9&#x4E2A;&#x62A5;&#x8868;&#x3002;1&#xFF0C;2&#xFF0C;5&#x6784;&#x6210;A&#x62A5;&#x8868;&#x96C6;&#xFF0C;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x6267;&#x884C;&#x76EE;&#x6807;&#x3002;2&#xFF0C;5&#xFF0C;8&#x6784;&#x6210;B&#x62A5;&#x8868;&#x96C6;&#xFF0C;&#x5BF9;&#x5E94;&#x53E6;&#x4E00;&#x4E2A;&#x6267;&#x884C;&#x76EE;&#x6807;--&gt; &lt;reportSets&gt; &lt;!--&#x8868;&#x793A;&#x62A5;&#x8868;&#x7684;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#xFF0C;&#x4EE5;&#x53CA;&#x4EA7;&#x751F;&#x8BE5;&#x96C6;&#x5408;&#x7684;&#x914D;&#x7F6E;--&gt; &lt;reportSet&gt; &lt;!--&#x62A5;&#x8868;&#x96C6;&#x5408;&#x7684;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x7B26;&#xFF0C;POM&#x7EE7;&#x627F;&#x65F6;&#x7528;&#x5230;--&gt; &lt;id/&gt; &lt;!--&#x4EA7;&#x751F;&#x62A5;&#x8868;&#x96C6;&#x5408;&#x65F6;&#xFF0C;&#x88AB;&#x4F7F;&#x7528;&#x7684;&#x62A5;&#x8868;&#x7684;&#x914D;&#x7F6E;--&gt; &lt;configuration/&gt; &lt;!--&#x914D;&#x7F6E;&#x662F;&#x5426;&#x88AB;&#x7EE7;&#x627F;&#x5230;&#x5B50;POMs--&gt; &lt;inherited/&gt; &lt;!--&#x8FD9;&#x4E2A;&#x96C6;&#x5408;&#x91CC;&#x4F7F;&#x7528;&#x5230;&#x54EA;&#x4E9B;&#x62A5;&#x8868;--&gt; &lt;reports/&gt; &lt;/reportSet&gt; &lt;/reportSets&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/reporting&gt; &lt;!--&#x7EE7;&#x627F;&#x81EA;&#x8BE5;&#x9879;&#x76EE;&#x7684;&#x6240;&#x6709;&#x5B50;&#x9879;&#x76EE;&#x7684;&#x9ED8;&#x8BA4;&#x4F9D;&#x8D56;&#x4FE1;&#x606F;&#x3002;&#x8FD9;&#x90E8;&#x5206;&#x7684;&#x4F9D;&#x8D56;&#x4FE1;&#x606F;&#x4E0D;&#x4F1A;&#x88AB;&#x7ACB;&#x5373;&#x89E3;&#x6790;,&#x800C;&#x662F;&#x5F53;&#x5B50;&#x9879;&#x76EE;&#x58F0;&#x660E;&#x4E00;&#x4E2A;&#x4F9D;&#x8D56;&#xFF08;&#x5FC5;&#x987B;&#x63CF;&#x8FF0;group ID&#x548C;artifact ID&#x4FE1;&#x606F;&#xFF09;&#xFF0C;&#x5982;&#x679C;group ID&#x548C;artifact ID&#x4EE5;&#x5916;&#x7684;&#x4E00;&#x4E9B;&#x4FE1;&#x606F;&#x6CA1;&#x6709;&#x63CF;&#x8FF0;&#xFF0C;&#x5219;&#x901A;&#x8FC7;group ID&#x548C;artifact ID&#x5339;&#x914D;&#x5230;&#x8FD9;&#x91CC;&#x7684;&#x4F9D;&#x8D56;&#xFF0C;&#x5E76;&#x4F7F;&#x7528;&#x8FD9;&#x91CC;&#x7684;&#x4F9D;&#x8D56;&#x4FE1;&#x606F;&#x3002;--&gt; &lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;!--&#x53C2;&#x89C1;dependencies/dependency&#x5143;&#x7D20;--&gt; &lt;dependency&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/dependencyManagement&gt; &lt;!--&#x9879;&#x76EE;&#x5206;&#x53D1;&#x4FE1;&#x606F;&#xFF0C;&#x5728;&#x6267;&#x884C;mvn deploy&#x540E;&#x8868;&#x793A;&#x8981;&#x53D1;&#x5E03;&#x7684;&#x4F4D;&#x7F6E;&#x3002;&#x6709;&#x4E86;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x5C31;&#x53EF;&#x4EE5;&#x628A;&#x7F51;&#x7AD9;&#x90E8;&#x7F72;&#x5230;&#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668;&#x6216;&#x8005;&#x628A;&#x6784;&#x4EF6;&#x90E8;&#x7F72;&#x5230;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x3002;--&gt; &lt;distributionManagement&gt; &lt;!--&#x90E8;&#x7F72;&#x9879;&#x76EE;&#x4EA7;&#x751F;&#x7684;&#x6784;&#x4EF6;&#x5230;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x9700;&#x8981;&#x7684;&#x4FE1;&#x606F;--&gt; &lt;repository&gt; &lt;!--&#x662F;&#x5206;&#x914D;&#x7ED9;&#x5FEB;&#x7167;&#x4E00;&#x4E2A;&#x552F;&#x4E00;&#x7684;&#x7248;&#x672C;&#x53F7;&#xFF08;&#x7531;&#x65F6;&#x95F4;&#x6233;&#x548C;&#x6784;&#x5EFA;&#x6D41;&#x6C34;&#x53F7;&#xFF09;&#xFF1F;&#x8FD8;&#x662F;&#x6BCF;&#x6B21;&#x90FD;&#x4F7F;&#x7528;&#x76F8;&#x540C;&#x7684;&#x7248;&#x672C;&#x53F7;&#xFF1F;&#x53C2;&#x89C1;repositories/repository&#x5143;&#x7D20;--&gt; &lt;uniqueVersion/&gt; &lt;id&gt;banseon-maven2&lt;/id&gt; &lt;name&gt;banseon maven2&lt;/name&gt; &lt;url&gt;file://${basedir}/target/deploy&lt;/url&gt; &lt;layout/&gt; &lt;/repository&gt; &lt;!--&#x6784;&#x4EF6;&#x7684;&#x5FEB;&#x7167;&#x90E8;&#x7F72;&#x5230;&#x54EA;&#x91CC;&#xFF1F;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x914D;&#x7F6E;&#x8BE5;&#x5143;&#x7D20;&#xFF0C;&#x9ED8;&#x8BA4;&#x90E8;&#x7F72;&#x5230;repository&#x5143;&#x7D20;&#x914D;&#x7F6E;&#x7684;&#x4ED3;&#x5E93;&#xFF0C;&#x53C2;&#x89C1;distributionManagement/repository&#x5143;&#x7D20;--&gt; &lt;snapshotRepository&gt; &lt;uniqueVersion/&gt; &lt;id&gt;banseon-maven2&lt;/id&gt; &lt;name&gt;Banseon-maven2 Snapshot Repository&lt;/name&gt; &lt;url&gt;scp://svn.baidu.com/banseon:/usr/local/maven-snapshot&lt;/url&gt; &lt;layout/&gt; &lt;/snapshotRepository&gt; &lt;!--&#x90E8;&#x7F72;&#x9879;&#x76EE;&#x7684;&#x7F51;&#x7AD9;&#x9700;&#x8981;&#x7684;&#x4FE1;&#x606F;--&gt; &lt;site&gt; &lt;!--&#x90E8;&#x7F72;&#x4F4D;&#x7F6E;&#x7684;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x7B26;&#xFF0C;&#x7528;&#x6765;&#x5339;&#x914D;&#x7AD9;&#x70B9;&#x548C;settings.xml&#x6587;&#x4EF6;&#x91CC;&#x7684;&#x914D;&#x7F6E;--&gt; &lt;id&gt;banseon-site&lt;/id&gt; &lt;!--&#x90E8;&#x7F72;&#x4F4D;&#x7F6E;&#x7684;&#x540D;&#x79F0;--&gt; &lt;name&gt;business api website&lt;/name&gt; &lt;!--&#x90E8;&#x7F72;&#x4F4D;&#x7F6E;&#x7684;URL&#xFF0C;&#x6309;protocol://hostname/path&#x5F62;&#x5F0F;--&gt; &lt;url&gt; scp://svn.baidu.com/banseon:/var/www/localhost/banseon-web &lt;/url&gt; &lt;/site&gt; &lt;!--&#x9879;&#x76EE;&#x4E0B;&#x8F7D;&#x9875;&#x9762;&#x7684;URL&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x8BE5;&#x5143;&#x7D20;&#xFF0C;&#x7528;&#x6237;&#x5E94;&#x8BE5;&#x53C2;&#x8003;&#x4E3B;&#x9875;&#x3002;&#x4F7F;&#x7528;&#x8BE5;&#x5143;&#x7D20;&#x7684;&#x539F;&#x56E0;&#x662F;&#xFF1A;&#x5E2E;&#x52A9;&#x5B9A;&#x4F4D;&#x90A3;&#x4E9B;&#x4E0D;&#x5728;&#x4ED3;&#x5E93;&#x91CC;&#x7684;&#x6784;&#x4EF6;&#xFF08;&#x7531;&#x4E8E;license&#x9650;&#x5236;&#xFF09;&#x3002;--&gt; &lt;downloadUrl/&gt; &lt;!--&#x5982;&#x679C;&#x6784;&#x4EF6;&#x6709;&#x4E86;&#x65B0;&#x7684;group ID&#x548C;artifact ID&#xFF08;&#x6784;&#x4EF6;&#x79FB;&#x5230;&#x4E86;&#x65B0;&#x7684;&#x4F4D;&#x7F6E;&#xFF09;&#xFF0C;&#x8FD9;&#x91CC;&#x5217;&#x51FA;&#x6784;&#x4EF6;&#x7684;&#x91CD;&#x5B9A;&#x4F4D;&#x4FE1;&#x606F;&#x3002;--&gt; &lt;relocation&gt; &lt;!--&#x6784;&#x4EF6;&#x65B0;&#x7684;group ID--&gt; &lt;groupId/&gt; &lt;!--&#x6784;&#x4EF6;&#x65B0;&#x7684;artifact ID--&gt; &lt;artifactId/&gt; &lt;!--&#x6784;&#x4EF6;&#x65B0;&#x7684;&#x7248;&#x672C;&#x53F7;--&gt; &lt;version/&gt; &lt;!--&#x663E;&#x793A;&#x7ED9;&#x7528;&#x6237;&#x7684;&#xFF0C;&#x5173;&#x4E8E;&#x79FB;&#x52A8;&#x7684;&#x989D;&#x5916;&#x4FE1;&#x606F;&#xFF0C;&#x4F8B;&#x5982;&#x539F;&#x56E0;&#x3002;--&gt; &lt;message/&gt; &lt;/relocation&gt; &lt;!--&#x7ED9;&#x51FA;&#x8BE5;&#x6784;&#x4EF6;&#x5728;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x7684;&#x72B6;&#x6001;&#x3002;&#x4E0D;&#x5F97;&#x5728;&#x672C;&#x5730;&#x9879;&#x76EE;&#x4E2D;&#x8BBE;&#x7F6E;&#x8BE5;&#x5143;&#x7D20;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x662F;&#x5DE5;&#x5177;&#x81EA;&#x52A8;&#x66F4;&#x65B0;&#x7684;&#x3002;&#x6709;&#x6548;&#x7684;&#x503C;&#x6709;&#xFF1A;none&#xFF08;&#x9ED8;&#x8BA4;&#xFF09;&#xFF0C;converted&#xFF08;&#x4ED3;&#x5E93;&#x7BA1;&#x7406;&#x5458;&#x4ECE;Maven 1 POM&#x8F6C;&#x6362;&#x8FC7;&#x6765;&#xFF09;&#xFF0C;partner&#xFF08;&#x76F4;&#x63A5;&#x4ECE;&#x4F19;&#x4F34;Maven 2&#x4ED3;&#x5E93;&#x540C;&#x6B65;&#x8FC7;&#x6765;&#xFF09;&#xFF0C;deployed&#xFF08;&#x4ECE;Maven 2&#x5B9E;&#x4F8B;&#x90E8;&#x7F72;&#xFF09;&#xFF0C;verified&#xFF08;&#x88AB;&#x6838;&#x5B9E;&#x65F6;&#x6B63;&#x786E;&#x7684;&#x548C;&#x6700;&#x7EC8;&#x7684;&#xFF09;&#x3002;--&gt; &lt;status/&gt; &lt;/distributionManagement&gt; &lt;!--&#x4EE5;&#x503C;&#x66FF;&#x4EE3;&#x540D;&#x79F0;&#xFF0C;Properties&#x53EF;&#x4EE5;&#x5728;&#x6574;&#x4E2A;POM&#x4E2D;&#x4F7F;&#x7528;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x89E6;&#x53D1;&#x6761;&#x4EF6;&#xFF08;&#x89C1;settings.xml&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x91CC;activation&#x5143;&#x7D20;&#x7684;&#x8BF4;&#x660E;&#xFF09;&#x3002;&#x683C;&#x5F0F;&#x662F;&lt;name&gt;value&lt;/name&gt;&#x3002;--&gt; &lt;properties/&gt; &lt;/project&gt;","tags":[{"name":"Maven","slug":"Maven","permalink":"https://marklogzhu.github.io/tags/Maven/"}]},{"title":"Maven学习总结(2)--Maven仓库配置","date":"2017-12-11T15:04:00.000Z","path":"Maven/Maven/Maven学习总结(2)--Maven仓库配置/","text":"Maven &#x5206;&#x4E3A;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x548C;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93; &#x4ED3;&#x5E93;&#x7684;&#x5206;&#x7C7B;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x7528;&#x6765;&#x5B58;&#x50A8;&#x4ECE;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x6216;&#x4E2D;&#x592E;&#x4ED3;&#x5E93;&#x4E0B;&#x8F7D;&#x7684;&#x63D2;&#x4EF6;&#x548C; jar &#x5305;&#xFF0C;&#x9879;&#x76EE;&#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x63D2;&#x4EF6;&#x6216; jar &#x5305;&#xFF0C;&#x4F18;&#x5148;&#x4ECE;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x67E5;&#x627E;&#xFF0C;&#x5982;&#x679C;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x6CA1;&#x6709;&#x5C31;&#x4F1A;&#x4ECE;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x4E0B;&#x8F7D;&#x81F3;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x3002; &#x9ED8;&#x8BA4;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x4F4D;&#x7F6E;&#x5728; ${user.dir}(windows &#x7528;&#x6237;&#x76EE;&#x5F55;)/.m2/repository &#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x53EF;&#x4EE5;&#x5728;&#x4E92;&#x8054;&#x7F51;&#x4E0A;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x5C40;&#x57DF;&#x7F51;&#x5185;(&#x81EA;&#x5DF1;&#x642D;&#x5EFA;&#x7684;&#x79C1;&#x670D;) &#x4E2D;&#x592E;&#x4ED3;&#x5E93;&#x5728; maven &#x8F6F;&#x4EF6;&#x4E2D;&#x5185;&#x7F6E;&#x4E86;&#x4E00;&#x4E2A;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x5730;&#x5740;(http://repo1.maven.org/maven2)&#xFF0C;&#x5B83;&#x662F;&#x4E2D;&#x592E;&#x4ED3;&#x5E93;&#xFF0C;&#x670D;&#x52A1;&#x4E8E;&#x6574;&#x4E2A;&#x4E92;&#x8054;&#x7F51;&#xFF0C;&#x5B83;&#x662F;&#x7531; Maven &#x56E2;&#x961F;&#x81EA;&#x5DF1;&#x7EF4;&#x62A4;&#xFF0C;&#x91CC;&#x9762;&#x5B58;&#x50A8;&#x4E86;&#x975E;&#x5E38;&#x5168;&#x7684; jar &#x5305;&#xFF0C;&#x5B83;&#x5305;&#x542B;&#x4E86;&#x4E16;&#x754C;&#x4E0A;&#x7EDD;&#x5927;&#x90E8;&#x5206;&#x6D41;&#x884C;&#x7684;&#x5F00;&#x6E90;&#x9879;&#x76EE;&#x6784;&#x4EF6;&#x3002; &#x914D;&#x7F6E;&#x672C;&#x5730;&#x4ED3;&#x5E93;1) &#x7F16;&#x8F91; MAVE_HOME/conf/setting.xml &#x6587;&#x4EF6;2) &#x5728; settings &#x8282;&#x70B9;&#x4E2D;&#x914D;&#x7F6E;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x4F4D;&#x7F6E; &lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt; &lt;!--&#x914D;&#x7F6E;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x8DEF;&#x5F84;--&gt; &lt;localRepository&gt;E:\\repository&lt;/localRepository&gt; &lt;/settings&gt; 1) &#x7F16;&#x8F91; MAVE_HOME/conf/setting.xml &#x6587;&#x4EF6;2) &#x5728; settings &#x8282;&#x70B9;&#x4E2D;&#x914D;&#x7F6E;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x4F4D;&#x7F6E; &#x914D;&#x7F6E;&#x4E2D;&#x592E;&#x4ED3;&#x5E93;&#x9ED8;&#x8BA4;&#x7684;&#x4E2D;&#x592E;&#x4ED3;&#x5E93;&#x662F;&#x7531; Maven &#x56E2;&#x961F;&#x81EA;&#x5DF1;&#x7EF4;&#x62A4;&#x7684;&#x4E00;&#x4E2A;&#x56FD;&#x5916;&#x7F51;&#x7AD9;&#xFF0C;&#x56E0;&#x4E3A;&#x7F51;&#x901F;&#x4E4B;&#x7C7B;&#x7684;&#x95EE;&#x9898;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x4E3A;&#x5176;&#x4ED6;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x3002; 1) &#x7F16;&#x8F91; MAVE_HOME/conf/setting.xml &#x6587;&#x4EF6;2) &#x5728; mirrors &#x8282;&#x70B9;&#x4E2D;&#x914D;&#x7F6E;&#x963F;&#x91CC;&#x4E91;&#x4ED3;&#x5E93; &lt;mirrors&gt; &lt;!-- &#x963F;&#x91CC;&#x4E91;&#x4E2D;&#x592E;&#x4ED3;&#x5E93;&#x6E90; --&gt; &lt;mirror&gt; &lt;id&gt;alimaven&lt;/id&gt; &lt;name&gt;aliyun maven&lt;/name&gt; &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt; &lt;mirrorOf&gt;central&lt;/mirrorOf&gt; &lt;/mirror&gt; &lt;/mirrors&gt; &#x5168;&#x5C40; setting &#x4E0E;&#x7528;&#x6237; settingmaven &#x4ED3;&#x5E93;&#x5730;&#x5740;&#x3001;&#x79C1;&#x670D;&#x7B49;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x90FD;&#x9700;&#x8981;&#x5728; setting.xml &#x6587;&#x4EF6;&#x4E2D;&#x914D;&#x7F6E;&#xFF0C;&#x5206;&#x4E3A;&#x5168;&#x5C40;&#x914D;&#x7F6E;&#x548C;&#x7528;&#x6237;&#x914D;&#x7F6E;&#x3002; &#x5168;&#x5C40;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4F4D;&#x4E8E; maven/conf &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x7528;&#x6237;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4F4D;&#x4E8E; ${user.dir}(windows &#x7528;&#x6237;&#x76EE;&#x5F55;)/.m2/settings.xml &#x3002; maven &#x4F1A;&#x5148;&#x627E;&#x7528;&#x6237;&#x914D;&#x7F6E;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x627E;&#x5230;&#x5C31;&#x4F1A;&#x4F7F;&#x7528;&#x5168;&#x5C40;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;","tags":[{"name":"Maven","slug":"Maven","permalink":"https://marklogzhu.github.io/tags/Maven/"}]},{"title":"Maven学习总结(1)--Maven的安装","date":"2017-12-11T14:04:00.000Z","path":"Maven/Maven/Maven学习总结(1)--Maven安装/","text":"&#x4EC0;&#x4E48;&#x662F; MavenMaven&#x662F;&#x4E00;&#x4E2A;&#x9879;&#x76EE;&#x7BA1;&#x7406;&#x548C;&#x7EFC;&#x5408;&#x5DE5;&#x5177;&#x3002;Maven &#x63D0;&#x4F9B;&#x4E86;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x6784;&#x5EFA;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#x6846;&#x67B6;&#x3002;&#x5F00;&#x53D1;&#x56E2;&#x961F;&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x5B8C;&#x6210;&#x9879;&#x76EE;&#x7684;&#x57FA;&#x7840;&#x5DE5;&#x5177;&#x5EFA;&#x8BBE;&#xFF0C;Maven &#x4F7F;&#x7528;&#x6807;&#x51C6;&#x7684;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x548C;&#x9ED8;&#x8BA4;&#x6784;&#x5EFA;&#x751F;&#x547D;&#x5468;&#x671F;&#x3002; &#x5728;&#x591A;&#x4E2A;&#x5F00;&#x53D1;&#x56E2;&#x961F;&#x73AF;&#x5883;&#x65F6;&#xFF0C;Maven &#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x6309;&#x6807;&#x51C6;&#x5728;&#x975E;&#x5E38;&#x77ED;&#x7684;&#x65F6;&#x95F4;&#x91CC;&#x5B8C;&#x6210;&#x914D;&#x7F6E;&#x5DE5;&#x4F5C;&#x3002;&#x7531;&#x4E8E;&#x5927;&#x90E8;&#x5206;&#x9879;&#x76EE;&#x7684;&#x8BBE;&#x7F6E;&#x90FD;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x91CD;&#x590D;&#x4F7F;&#x7528;&#xFF0C;Maven &#x8BA9;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x7684;&#x5DE5;&#x4F5C;&#x66F4;&#x8F7B;&#x677E;&#xFF0C;&#x540C;&#x65F6;&#x521B;&#x5EFA;&#x62A5;&#x8868;&#xFF0C;&#x68C0;&#x67E5;&#xFF0C;&#x6784;&#x5EFA;&#x548C;&#x6D4B;&#x8BD5;&#x81EA;&#x52A8;&#x5316;&#x8BBE;&#x7F6E;&#x3002; &#x6982;&#x62EC;&#x5730;&#x8BF4;&#xFF0C;Maven &#x7B80;&#x5316;&#x548C;&#x6807;&#x51C6;&#x5316;&#x9879;&#x76EE;&#x5EFA;&#x8BBE;&#x8FC7;&#x7A0B;&#x3002;&#x5904;&#x7406;&#x7F16;&#x8BD1;&#xFF0C;&#x5206;&#x914D;&#xFF0C;&#x6587;&#x6863;&#xFF0C;&#x56E2;&#x961F;&#x534F;&#x4F5C;&#x548C;&#x5176;&#x4ED6;&#x4EFB;&#x52A1;&#x7684;&#x65E0;&#x7F1D;&#x8FDE;&#x63A5;&#x3002; Maven &#x589E;&#x52A0;&#x53EF;&#x91CD;&#x7528;&#x6027;&#x5E76;&#x8D1F;&#x8D23;&#x5EFA;&#x7ACB;&#x76F8;&#x5173;&#x7684;&#x4EFB;&#x52A1;&#x3002; &#x5BF9;&#x6211;&#x4EEC;&#x76EE;&#x524D;&#x6765;&#x8BF4;&#x53EF;&#x4EE5;&#x7B80;&#x5355;&#x7684;&#x7406;&#x89E3;&#x4E3A;&#x4F20;&#x7EDF;&#x9879;&#x76EE;&#x9700;&#x8981;&#x624B;&#x5DE5;&#x5BFC;&#x5165; jar &#x5305;&#x5230; lib &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;&#x9879;&#x76EE;&#x6587;&#x4EF6;&#x53D8;&#x5927;&#x5E76;&#x4E14;&#x4E0D;&#x597D;&#x7BA1;&#x7406;&#xFF0C;Mavern &#x901A;&#x8FC7;&#x4ED3;&#x5E93;&#x7684;&#x6982;&#x5FF5;&#x5B9E;&#x73B0;&#x5171;&#x4EAB; jar &#x5305;&#xFF0C;&#x660E;&#x663E;&#x7684;&#x5C06;&#x9879;&#x76EE;&#x5927;&#x5C0F;&#x53D8;&#x5C0F;&#x4E86;&#x3002; &#x5B89;&#x88C5;1) &#x4E0B;&#x8F7D;&#x6307;&#x5B9A;&#x7248;&#x672C; http://maven.apache.org/download.cgi2) &#x89E3;&#x538B;&#x81F3;&#x65E0;&#x4E2D;&#x6587;&#x548C;&#x7A7A;&#x683C;&#x8DEF;&#x5F84;3) &#x914D;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF; MAVEN_HOME&#xFF1A;Maven &#x5B89;&#x88C5;&#x8DEF;&#x5F84; path &#xFF1A;%MAVEN_HOME%/bin; 4) &#x8FD0;&#x884C; CMD &#xFF0C;&#x8F93;&#x5165; mvn -v &#xFF0C;&#x68C0;&#x67E5;&#x662F;&#x5426;&#x914D;&#x7F6E;&#x6210;&#x529F; &#x6CE8;&#xFF1A;&#x9700;&#x8981;&#x5148;&#x6709; jdk &#x73AF;&#x5883;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x63D0;&#x793A; JAVA_HOME &#x672A;&#x914D;&#x7F6E; &#x76EE;&#x5F55;&#x7ED3;&#x6784; bin: &#x5B58;&#x653E; maven &#x547D;&#x4EE4; boot: &#x5B58;&#x653E;&#x7C7B;&#x52A0;&#x8F7D;&#x5668;&#x6846;&#x67B6;&#xFF0C;maven&#x901A;&#x8FC7;&#x5B83;&#x6765;&#x52A0;&#x8F7D;&#x81EA;&#x5DF1;&#x7684; Jar &#x5305; conf: &#x5B58;&#x653E;&#x914D;&#x7F6E;&#x6587;&#x4EF6; lib: maven &#x8FD0;&#x884C;&#x9700;&#x8981;&#x7684; jar &#x5305;","tags":[{"name":"Maven","slug":"Maven","permalink":"https://marklogzhu.github.io/tags/Maven/"}]},{"title":"IDEA 创建 JAVA 项目","date":"2017-11-13T05:51:00.000Z","path":"工具/工具/IDEA/01.IDEA 创建 Java 项目/","text":"1) &#x8FD0;&#x884C; IDEA 2) &#x5BF9;&#x8BDD;&#x6846;&#x4E2D;&#x4F9D;&#x6B21;&#x70B9;&#x51FB; 2.1) &#x9009;&#x4E2D; Java Enterprise &#x9009;&#x9879;&#x5361; 2.2) &#x52FE;&#x9009; Web Application(3.1) &#x590D;&#x9009;&#x6846;&#xFF0C;&#x8FD9;&#x8868;&#x793A;&#x6211;&#x4EEC;&#x65B0;&#x5EFA;&#x7684;&#x9879;&#x76EE;&#x662F;&#x4E2A;&#x7F51;&#x7AD9;&#x3002; 2.3) &#x70B9;&#x51FB; Next &#x6309;&#x94AE;&#xFF0C;&#x8FD9;&#x4F1A;&#x5728; project&#x4E0B;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x9ED8;&#x8BA4;&#x7684;&#x4E0E; project &#x540C;&#x540D;&#x7684; module&#x3002; 3) &#x8F93;&#x5165;&#x9879;&#x76EE;&#x540D;&#x79F0;&#x548C;&#x5B58;&#x653E;&#x4F4D;&#x7F6E;&#xFF0C;&#x7136;&#x540E;&#x70B9;&#x51FB; finish &#x6309;&#x94AE;&#x786E;&#x8BA4; 4) &#x5728; WEB-INI &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; lib &#x548C; classes &#x5305;&#xFF0C;&#x7528;&#x6765;&#x5B58;&#x653E; jar &#x5305;&#x8DDF;&#x7F16;&#x8BD1;&#x540E;&#x7684;&#x7C7B;&#x6587;&#x4EF6; 4.1) &#x5728; WEB-INI &#x76EE;&#x5F55;&#x4E0A;&#x53F3;&#x952E; 4.2) &#x9009;&#x62E9; NEW 4.3) &#x9009;&#x62E9; Directory 4.4) &#x53D6;&#x540D;&#x4E3A; lib/classes 5) &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5939;&#x8DEF;&#x5F84; 5.1) &#x6253;&#x5F00; Project Structure &#x5BF9;&#x8BDD;&#x6846; 5.2) &#x9009;&#x62E9; Module --&gt; Paths --&gt; &#x9009;&#x62E9; Use module compile output path -&gt; &#x5C06;O utput path &#x548C; Test output path&#x90FD;&#x9009;&#x62E9;&#x521A;&#x521A;&#x521B;&#x5EFA;&#x7684; classes &#x6587;&#x4EF6;&#x5939;&#x3002; 5.3) &#x9009;&#x62E9; Dependencies --&gt; &#x70B9;&#x51FB;&#x53F3;&#x8FB9;&#x7684; + &#x53F7; --&gt; &#x9009;&#x62E9; Jars or Directories --&gt; &#x9009;&#x62E9; jar Directory 6) &#x914D;&#x7F6E;Tomcat 6.1) &#x6253;&#x5F00;&#x83DC;&#x5355; Run --&gt; &#x9009;&#x62E9; Edit Configuration 6.2) &#x70B9;&#x51FB; + &#x53F7; --&gt; &#x62C9;&#x5012;&#x6700;&#x540E;&#xFF0C;&#x9009;&#x62E9; 9 items mort... --&gt; &#x9009;&#x62E9; Tomcat Server --&gt; Local 6.3) &#x8BBE;&#x7F6E; Tomcat &#x7684;&#x540D;&#x79F0;&#x548C;&#x5B89;&#x88C5;&#x8DEF;&#x5F84;&#xFF08;&#x6CE8;&#xFF1A;&#x4E0B;&#x9762;&#x7684; Error &#x63D0;&#x793A;&#x662F;&#x56E0;&#x4E3A;&#x8FD8;&#x6CA1;&#x6709;&#x90E8;&#x7F72;&#x9879;&#x76EE;&#xFF09; 7) &#x90E8;&#x7F72;&#x9879;&#x76EE;&#x5E76;&#x8FD0;&#x884C; 7.1) &#x9009;&#x62E9;Deployment --&gt; &#x70B9;&#x51FB; + &#x53F7; --&gt; &#x9009;&#x62E9; Artifact --&gt; &#x70B9;&#x51FB; OK &#x6309;&#x94AE; 7.2) &#x5728; index.jsp &#x6587;&#x4EF6;&#x4E2D;&#x8F93;&#x5165; &lt;h1&gt;Hello world&lt;/h1&gt; &#x5E76;&#x4FDD;&#x5B58; 7.3) &#x70B9;&#x51FB; Tomcat &#x542F;&#x52A8; 7.4) &#x5728;&#x5F39;&#x51FA;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5C31;&#x4F1A;&#x663E;&#x793A;&#x521A;&#x521A;&#x6211;&#x4EEC;&#x6572;&#x5165;&#x7684; Hello world &#x4E86; &#x6CE8;&#xFF1A;&#x5982;&#x679C;&#x4F60;&#x5728;&#x914D;&#x7F6E; Tomcat &#x65F6;&#x5C06; afer launrch &#x52FE;&#x53BB;&#x6389;&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x624B;&#x52A8;&#x542F;&#x52A8;&#x6D4F;&#x89C8;&#x5668;&#x5E76;&#x8F93;&#x5165;&#x5730;&#x5740;&#x4E86;","tags":[{"name":"tool","slug":"tool","permalink":"https://marklogzhu.github.io/tags/tool/"},{"name":"IDEA","slug":"IDEA","permalink":"https://marklogzhu.github.io/tags/IDEA/"},{"name":"JAVA","slug":"JAVA","permalink":"https://marklogzhu.github.io/tags/JAVA/"}]},{"title":"通过 SQL 统计考勤","date":"2017-09-21T12:39:00.000Z","path":"uncategorized/经验/sql统计考勤时间/","text":"&#x5916;&#x9762;&#x4E70;&#x6765;&#x7684;&#x8003;&#x52E4;&#x673A;&#x8F6F;&#x4EF6;&#x51FA;&#x73B0;&#x95EE;&#x9898;,&#x65E0;&#x6CD5;&#x6C47;&#x603B;&#x8003;&#x52E4;&#x8BB0;&#x5F55;&#x3002;&#x8981;&#x6C42;&#x6211;&#x6839;&#x636E;&#x5F00;&#x95E8;&#x8BB0;&#x5F55;&#x6765;&#x7EDF;&#x8BA1;&#x8003;&#x52E4;&#x4FE1;&#x606F;&#xFF0C;&#x8FD9;&#x91CC;&#x505A;&#x4E0B;&#x8BB0;&#x5F55;&#x3002; &#x5F00;&#x95E8;&#x6570;&#x636E;1234567WITH tb(userName,doDate)AS( select N&apos;&#x5F20;&#x4E09;&apos;,CONVERT(DATETIME,&apos;2016-12-26 8:30:59&apos;) UNION ALL select N&apos;&#x5F20;&#x4E09;&apos;,&apos;2016-12-26 13:59:14&apos; UNION ALL select N&apos;&#x5F20;&#x4E09;&apos;,&apos;2016-12-26 17:00:00&apos; UNION ALL select N&apos;&#x5F20;&#x4E09;&apos;,&apos;2016-12-27 15:59:14&apos; UNION ALL select N&apos;&#x5F20;&#x4E09;&apos;,&apos;2016-12-27 17:10:00&apos; ) &#x83B7;&#x53D6;&#x6BCF;&#x5929;&#x6700;&#x65E9;&#x8DDF;&#x6700;&#x665A;&#x7684;&#x4E00;&#x7B14;&#x8BB0;&#x5F55;12SELECT userName,CONVERT(VARCHAR,tb.doDate,102) AS &#x65E5;&#x671F;,MIN(doDate) AS &#x6700;&#x65E9;&#x65F6;&#x95F4;,MAX(doDate) AS &#x6700;&#x540E;&#x65F6;&#x95F4; FROM tb GROUP BY userName,CONVERT(VARCHAR,tb.doDate,102) &#x662F;&#x5426;&#x51C6;&#x70B9;12345678910111213SELECT t.userName, t.CheckDay AS &apos;&#x65E5;&#x671F;&apos;, MAX(CASE WHEN t.CheckInd=1 THEN CASE WHEN MinuteOfDay&gt;8*60+30/*8&#x70B9;30&#x5206;*/ THEN N&apos;&#x8FDF;&#x5230;&apos; ELSE N&apos;&#x51C6;&#x65F6;&apos; END ELSE NULL END) AS &apos;&#x7B7E;&#x5230;&apos;, MAX(CASE WHEN t.CheckInd=t.checkcount THEN CASE WHEN MinuteOfDay&lt;17*60 THEN N&apos;&#x65E9;&#x9000;&apos; ELSE N&apos;&#x51C6;&#x65F6;&apos; END ELSE NULL END ) AS &apos;&#x7B7E;&#x9000;&apos;FROM ( SELECT *, CONVERT(VARCHAR,tb.doDate,102) AS CheckDay, DATEPART(HOUR,tb.doDate)*60+DATEPART(MINUTE,tb.doDate) AS MinuteOfDay, ROW_NUMBER()OVER(PARTITION BY tb.userName ,CONVERT(VARCHAR,tb.doDate,110) ORDER BY tb.doDate) AS CheckInd, COUNT(0)OVER(PARTITION BY tb.userName, CONVERT(VARCHAR,tb.doDate,110)) checkcount FROM tb) AS t GROUP BY t.userName,t.CheckDay &#x4EE5;&#x4E0A;&#x53EA;&#x662F;&#x6700;&#x57FA;&#x672C;&#x7684;&#x6839;&#x636E;&#x65F6;&#x95F4;&#x6765;&#x8FDB;&#x884C;&#x8003;&#x52E4;&#x7EDF;&#x8BA1;&#xFF0C;&#x672A;&#x52A0;&#x5176;&#x4ED6;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x3002;","tags":[{"name":"工作中遇到的问题","slug":"工作中遇到的问题","permalink":"https://marklogzhu.github.io/tags/工作中遇到的问题/"},{"name":"SQL","slug":"SQL","permalink":"https://marklogzhu.github.io/tags/SQL/"},{"name":"考勤统计","slug":"考勤统计","permalink":"https://marklogzhu.github.io/tags/考勤统计/"}]},{"title":"通过脚本安装打印机","date":"2017-09-20T03:16:49.000Z","path":"工作中的问题/经验/通过脚本安装打印机/","text":"&#x8D22;&#x52A1;&#x7535;&#x8111;&#x767B;&#x5F55; VPN &#x540E;&#x5C31;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;&#x6253;&#x5370;&#x673A;&#x6253;&#x5370;&#xFF0C;&#x5FC5;&#x987B;&#x91CD;&#x65B0;&#x6DFB;&#x52A0;&#x4E0B;&#x6253;&#x5370;&#x673A;&#xFF0C;&#x9000;&#x51FA; VPN &#x540E;&#x4E5F;&#x8981;&#x91CD;&#x65B0;&#x6DFB;&#x52A0;&#x6253;&#x5370;&#x673A;&#xFF0C;&#x4E3A;&#x4E86;&#x8282;&#x7701;&#x65F6;&#x95F4;&#xFF0C;&#x4ECE;&#x7F51;&#x4E0A;&#x627E;&#x4E86;&#x4E2A; &#x811A;&#x672C; &#x5B9E;&#x73B0;&#x81EA;&#x52A8;&#x5B89;&#x88C5;&#x6253;&#x5370;&#x673A;&#x64CD;&#x4F5C;&#xFF0C;&#x8FD9;&#x91CC;&#x505A;&#x4E0B;&#x8BB0;&#x5F55;&#x3002; 123456789101112@echo offecho &#x6E05;&#x9664;&#x8FDE;&#x63A5;net use * /del /yecho &#x6DFB;&#x52A0;&#x7F51;&#x7EDC;&#x6253;&#x5370;&#x673A;&#x4E2D;......sc config spooler start= autonet stop spooler &amp; net start spoolerrem &#x53EA;&#x9700;&#x66FF;&#x6362;&#x4EE5;&#x4E0B;ip&#x3001;&#x6253;&#x5370;&#x673A;&#x540D;&#x3001;&#x5E10;&#x53F7;&#x3001;&#x5BC6;&#x7801;&#x4E3A;&#x5177;&#x4F53;&#x540D;&#x79F0;&#x5373;&#x53EF;net use \\\\ip&#x5730;&#x5740;\\IPC$ &quot;&#x5BC6;&#x7801;&quot; /user:&quot;&#x7528;&#x6237;&#x540D;&quot;rundll32 printui.dll,PrintUIEntry /in /n &quot;\\\\ip&#x5730;&#x5740;\\&#x6253;&#x5370;&#x673A;&#x5171;&#x4EAB;&#x540D;&#x79F0;&quot;echo &#x8FDE;&#x63A5;&#x6210;&#x529F;pause","tags":[{"name":"工作中遇到的问题","slug":"工作中遇到的问题","permalink":"https://marklogzhu.github.io/tags/工作中遇到的问题/"},{"name":"打印机","slug":"打印机","permalink":"https://marklogzhu.github.io/tags/打印机/"}]},{"title":"JSTL 的使用","date":"2017-09-20T03:16:00.000Z","path":"Java/后台/Java/JSTL/","text":"&#x4E00;&#x3001;JSTL &#x73AF;&#x5883;&#x642D;&#x5EFA;1.1 &#x4E0B;&#x8F7D; JAR &#x5305;&#x4ECE; Apache&#x7684;&#x6807;&#x51C6;&#x6807;&#x7B7E;&#x5E93; &#x4E2D;&#x4E0B;&#x8F7D;&#x7684;&#x4E8C;&#x8FDB;&#x5305;(jakarta-taglibs-standard-current.zip)&#x3002; 1.2 &#x5BFC;&#x5165; JAR &#x5305;&#x89E3;&#x538B;&#x4E0B;&#x8F7D;&#x7684; zip &#x6587;&#x4EF6;&#xFF0C;&#x5C06; standard.jar &#x548C; jstl.jar &#x6587;&#x4EF6;&#x62F7;&#x8D1D;&#x5230; /WEB-INF/lib/ &#x76EE;&#x5F55;&#x4E0B;&#x3002; 1.3 web.xml &#x914D;&#x7F6E;1234567891011121314151617181920212223242526272829303132333435363738394041&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;web-app version=&quot;2.4&quot; xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;&gt; &lt;jsp-config&gt; &lt;taglib&gt; &lt;taglib-uri&gt;http://java.sun.com/jstl/fmt&lt;/taglib-uri&gt; &lt;taglib-location&gt;/WEB-INF/fmt.tld&lt;/taglib-location&gt; &lt;/taglib&gt; &lt;taglib&gt; &lt;taglib-uri&gt;http://java.sun.com/jstl/fmt-rt&lt;/taglib-uri&gt; &lt;taglib-location&gt;/WEB-INF/fmt-rt.tld&lt;/taglib-location&gt; &lt;/taglib&gt; &lt;taglib&gt; &lt;taglib-uri&gt;http://java.sun.com/jstl/core&lt;/taglib-uri&gt; &lt;taglib-location&gt;/WEB-INF/c.tld&lt;/taglib-location&gt; &lt;/taglib&gt; &lt;taglib&gt; &lt;taglib-uri&gt;http://java.sun.com/jstl/core-rt&lt;/taglib-uri&gt; &lt;taglib-location&gt;/WEB-INF/c-rt.tld&lt;/taglib-location&gt; &lt;/taglib&gt; &lt;taglib&gt; &lt;taglib-uri&gt;http://java.sun.com/jstl/sql&lt;/taglib-uri&gt; &lt;taglib-location&gt;/WEB-INF/sql.tld&lt;/taglib-location&gt; &lt;/taglib&gt; &lt;taglib&gt; &lt;taglib-uri&gt;http://java.sun.com/jstl/sql-rt&lt;/taglib-uri&gt; &lt;taglib-location&gt;/WEB-INF/sql-rt.tld&lt;/taglib-location&gt; &lt;/taglib&gt; &lt;taglib&gt; &lt;taglib-uri&gt;http://java.sun.com/jstl/x&lt;/taglib-uri&gt; &lt;taglib-location&gt;/WEB-INF/x.tld&lt;/taglib-location&gt; &lt;/taglib&gt; &lt;taglib&gt; &lt;taglib-uri&gt;http://java.sun.com/jstl/x-rt&lt;/taglib-uri&gt; &lt;taglib-location&gt;/WEB-INF/x-rt.tld&lt;/taglib-location&gt; &lt;/taglib&gt; &lt;/jsp-config&gt;&lt;/web-app&gt; 1.4 JSP &#x5F15;&#x7528;&#x5728;&#x6BCF;&#x4E2A; JSP &#x6587;&#x4EF6;&#x7684;&#x5934;&#x90E8;&#x9700;&#x8981;&#x5305;&#x542B;&#x6807;&#x7B7E;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A; 12345678910&lt;!-- &#x6838;&#x5FC3;&#x6807;&#x7B7E; --&gt;&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;&lt;!-- &#x683C;&#x5F0F;&#x5316;&#x6807;&#x7B7E; --&gt;&lt;%@ taglib prefix=&quot;fmt&quot; uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot; %&gt;&lt;!-- SQL &#x6807;&#x7B7E; --&gt;&lt;%@ taglib prefix=&quot;sql&quot; uri=&quot;http://java.sun.com/jsp/jstl/sql&quot; %&gt;&lt;!-- XML &#x6807;&#x7B7E; --&gt;&lt;%@ taglib prefix=&quot;x&quot; uri=&quot;http://java.sun.com/jsp/jstl/xml&quot; %&gt;&lt;!-- &#x51FD;&#x6570;&#x6807;&#x7B7E; --&gt;&lt;%@ taglib prefix=&quot;fn&quot; uri=&quot;http://java.sun.com/jsp/jstl/functions&quot; %&gt; &#x4E8C;&#x3001;JSTL &#x6838;&#x5FC3;&#x6807;&#x7B7E;2.1 out &#x6807;&#x7B7E;&#x4F5C;&#x7528;&#xFF1A; 1&#x4E0E;&lt;%= %&gt;&#x4F5C;&#x7528;&#x76F8;&#x4F3C;&#xFF0C;&#x5B83;&#x4EEC;&#x7684;&#x533A;&#x522B;&#x5C31;&#x662F;&lt;c:out&gt;&#x6807;&#x7B7E;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x901A;&#x8FC7;&quot;.&quot;&#x64CD;&#x4F5C;&#x7B26;&#x6765;&#x8BBF;&#x95EE;&#x5C5E;&#x6027;&#x3002; &#x8BED;&#x6CD5;&#x683C;&#x5F0F;&#xFF1A; 1234&lt;c:out value=&quot;&lt;string&gt;&quot; default=&quot;&lt;string&gt;&quot; escapeXml=&quot;&lt;true|false&gt;&quot;/&gt; &#x5C5E;&#x6027;&#xFF1A; &#x5C5E;&#x6027; &#x63CF;&#x8FF0; &#x662F;&#x5426;&#x5FC5;&#x8981; &#x9ED8;&#x8BA4;&#x503C; value &#x8981;&#x8F93;&#x51FA;&#x7684;&#x5185;&#x5BB9; &#x662F; &#x65E0; default &#x8F93;&#x51FA;&#x7684;&#x9ED8;&#x8BA4;&#x503C; &#x5426; &#x4E3B;&#x4F53;&#x4E2D;&#x7684;&#x5185;&#x5BB9; escapeXml &#x662F;&#x5426;&#x5FFD;&#x7565;XML&#x7279;&#x6B8A;&#x5B57;&#x7B26; &#x5426; true 2.2 set &#x6807;&#x7B7E;&#x4F5C;&#x7528;&#xFF1A; 1&#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x53D8;&#x91CF;&#x503C;&#x548C;&#x5BF9;&#x8C61;&#x5C5E;&#x6027;&#x3002; &#x8BED;&#x6CD5;&#x683C;&#x5F0F;&#xFF1A; 123456&lt;c:set var=&quot;&lt;string&gt;&quot; value=&quot;&lt;string&gt;&quot; target=&quot;&lt;string&gt;&quot; property=&quot;&lt;string&gt;&quot; scope=&quot;&lt;string&gt;&quot;/&gt; &#x5C5E;&#x6027;&#xFF1A; &#x5C5E;&#x6027; &#x63CF;&#x8FF0; &#x662F;&#x5426;&#x5FC5;&#x8981; &#x9ED8;&#x8BA4;&#x503C; value &#x8981;&#x5B58;&#x50A8;&#x7684;&#x503C; &#x5426; &#x4E3B;&#x4F53;&#x7684;&#x5185;&#x5BB9; target &#x8981;&#x4FEE;&#x6539;&#x7684;&#x5C5E;&#x6027;&#x6240;&#x5C5E;&#x7684;&#x5BF9;&#x8C61; &#x5426; &#x65E0; property &#x8981;&#x4FEE;&#x6539;&#x7684;&#x5C5E;&#x6027; &#x5426; &#x65E0; var &#x5B58;&#x50A8;&#x4FE1;&#x606F;&#x7684;&#x53D8;&#x91CF; &#x5426; &#x65E0; scope var&#x5C5E;&#x6027;&#x7684;&#x4F5C;&#x7528;&#x57DF; &#x5426; Page 2.3 remove &#x6807;&#x7B7E;&#x4F5C;&#x7528;&#xFF1A; 1&#x7528;&#x4E8E;&#x79FB;&#x9664;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#xFF0C;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x7684;&#x4F5C;&#x7528;&#x57DF;&#xFF0C;&#x82E5;&#x672A;&#x6307;&#x5B9A;&#xFF0C;&#x5219;&#x9ED8;&#x8BA4;&#x4E3A;&#x53D8;&#x91CF;&#x7B2C;&#x4E00;&#x6B21;&#x51FA;&#x73B0;&#x7684;&#x4F5C;&#x7528;&#x57DF;&#x3002; &#x8BED;&#x6CD5;&#x683C;&#x5F0F;&#xFF1A; 123&lt;c:remove var=&quot;&lt;string&gt;&quot; scope=&quot;&lt;string&gt;&quot;/&gt; &#x5C5E;&#x6027;&#xFF1A; &#x5C5E;&#x6027; &#x63CF;&#x8FF0; &#x662F;&#x5426;&#x5FC5;&#x8981; &#x9ED8;&#x8BA4;&#x503C; value &#x8981;&#x5B58;&#x50A8;&#x7684;&#x503C; &#x5426; &#x4E3B;&#x4F53;&#x7684;&#x5185;&#x5BB9; target &#x8981;&#x4FEE;&#x6539;&#x7684;&#x5C5E;&#x6027;&#x6240;&#x5C5E;&#x7684;&#x5BF9;&#x8C61; &#x5426; &#x65E0; property &#x8981;&#x4FEE;&#x6539;&#x7684;&#x5C5E;&#x6027; &#x5426; &#x65E0; var &#x5B58;&#x50A8;&#x4FE1;&#x606F;&#x7684;&#x53D8;&#x91CF; &#x5426; &#x65E0; scope var&#x5C5E;&#x6027;&#x7684;&#x4F5C;&#x7528;&#x57DF; &#x5426; Page 2.4 catch &#x6807;&#x7B7E;&#x4F5C;&#x7528;&#xFF1A; 1&#x7528;&#x6765;&#x5904;&#x7406;&#x4EA7;&#x751F;&#x9519;&#x8BEF;&#x7684;&#x5F02;&#x5E38;&#x72B6;&#x51B5;&#xFF0C;&#x5E76;&#x4E14;&#x5C06;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x50A8;&#x5B58;&#x8D77;&#x6765;&#x3002; &#x8BED;&#x6CD5;&#x683C;&#x5F0F;&#xFF1A; 123&lt;c:catch var=&quot;&lt;string&gt;&quot;&gt;......&lt;/c:catch&gt; &#x5C5E;&#x6027;&#xFF1A; &#x5C5E;&#x6027; &#x63CF;&#x8FF0; &#x662F;&#x5426;&#x5FC5;&#x8981; &#x9ED8;&#x8BA4;&#x503C; var &#x7528;&#x6765;&#x50A8;&#x5B58;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x7684;&#x53D8;&#x91CF; &#x5426; None 2.5 if &#x6807;&#x7B7E;&#x4F5C;&#x7528;&#xFF1A; 1&#x5224;&#x65AD;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#xFF0C;&#x5982;&#x679C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#x4E3A; true &#x5219;&#x6267;&#x884C;&#x5176;&#x4E3B;&#x4F53;&#x5185;&#x5BB9;&#x3002; &#x8BED;&#x6CD5;&#x683C;&#x5F0F;&#xFF1A; 123&lt;c:if test=&quot;&lt;boolean&gt;&quot; var=&quot;&lt;string&gt;&quot; scope=&quot;&lt;string&gt;&quot;&gt; ...&lt;/c:if&gt; &#x5C5E;&#x6027;&#xFF1A; &#x5C5E;&#x6027; &#x63CF;&#x8FF0; &#x662F;&#x5426;&#x5FC5;&#x8981; &#x9ED8;&#x8BA4;&#x503C; test &#x6761;&#x4EF6; &#x662F; &#x65E0; var &#x7528;&#x4E8E;&#x5B58;&#x50A8;&#x6761;&#x4EF6;&#x7ED3;&#x679C;&#x7684;&#x53D8;&#x91CF; &#x5426; &#x65E0; scope var&#x5C5E;&#x6027;&#x7684;&#x4F5C;&#x7528;&#x57DF; &#x5426; page 2.6 choose&#x3001;when&#x3001;otherwise &#x6807;&#x7B7E;&#x4F5C;&#x7528;&#xFF1A; 12&lt;c:choose&gt; &#x6807;&#x7B7E;&#x4E0E; Java switch &#x8BED;&#x53E5;&#x7684;&#x529F;&#x80FD;&#x4E00;&#x6837;&#xFF0C;&#x7528;&#x4E8E;&#x5728;&#x4F17;&#x591A;&#x9009;&#x9879;&#x4E2D;&#x505A;&#x51FA;&#x9009;&#x62E9;&#x3002;switch&#x8BED;&#x53E5;&#x4E2D;&#x6709; case&#xFF0C;&#x800C; &lt;c:choose&gt; &#x6807;&#x7B7E;&#x4E2D;&#x5BF9;&#x5E94;&#x6709; &lt;c:when&gt;&#xFF0C;switch &#x8BED;&#x53E5;&#x4E2D;&#x6709; default&#xFF0C;&#x800C; &lt;c:choose&gt; &#x6807;&#x7B7E;&#x4E2D;&#x6709; &lt;c:otherwise&gt;&#x3002; &#x8BED;&#x6CD5;&#x683C;&#x5F0F;&#xFF1A; 12345678910111213&lt;c:choose&gt; &lt;c:when test=&quot;&lt;boolean&gt;&quot;&gt; ... &lt;/c:when&gt; &lt;c:when test=&quot;&lt;boolean&gt;&quot;&gt; ... &lt;/c:when&gt; ... ... &lt;c:otherwise&gt; ... &lt;/c:otherwise&gt;&lt;/c:choose&gt; &#x5C5E;&#x6027;&#xFF1A;123&lt;c:choose&gt;&#x6807;&#x7B7E;&#x6CA1;&#x6709;&#x5C5E;&#x6027;&#x3002;&lt;c:when&gt;&#x6807;&#x7B7E;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#xFF0C;&#x5728;&#x4E0B;&#x8868;&#x4E2D;&#x6709;&#x7ED9;&#x51FA;&#x3002;&lt;c:otherwise&gt;&#x6807;&#x7B7E;&#x6CA1;&#x6709;&#x5C5E;&#x6027;&#x3002; &#x5C5E;&#x6027; &#x63CF;&#x8FF0; &#x662F;&#x5426;&#x5FC5;&#x8981; &#x9ED8;&#x8BA4;&#x503C; test &#x6761;&#x4EF6; &#x662F; &#x65E0; 2.7 import &#x6807;&#x7B7E;&#x4F5C;&#x7528;&#xFF1A; 12&lt;c:import&gt;&#x6807;&#x7B7E;&#x63D0;&#x4F9B;&#x4E86;&#x6240;&#x6709;&lt;jsp:include&gt;&#x884C;&#x4E3A;&#x6807;&#x7B7E;&#x6240;&#x5177;&#x6709;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x540C;&#x65F6;&#x4E5F;&#x5141;&#x8BB8;&#x5305;&#x542B;&#x7EDD;&#x5BF9;URL&#x3002;&#x4E3E;&#x4F8B;&#x6765;&#x8BF4;&#xFF0C;&#x4F7F;&#x7528;&lt;c:import&gt;&#x6807;&#x7B7E;&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x4E00;&#x4E2A;FTP&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x4E0D;&#x540C;&#x7684;&#x7F51;&#x9875;&#x5185;&#x5BB9;&#x3002; &#x8BED;&#x6CD5;&#x683C;&#x5F0F;&#xFF1A; 1234567&lt;c:import url=&quot;&lt;string&gt;&quot; var=&quot;&lt;string&gt;&quot; scope=&quot;&lt;string&gt;&quot; varRender=&quot;&lt;string&gt;&quot; context=&quot;&lt;string&gt;&quot; charEncoding=&quot;&lt;string&gt;&quot;/&gt; &#x5C5E;&#x6027;&#xFF1A; &#x5C5E;&#x6027; &#x63CF;&#x8FF0; &#x662F;&#x5426;&#x5FC5;&#x8981; &#x9ED8;&#x8BA4;&#x503C; url &#x5F85;&#x5BFC;&#x5165;&#x8D44;&#x6E90;&#x7684;URL&#xFF0C;&#x53EF;&#x4EE5;&#x662F;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#x548C;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x5BFC;&#x5165;&#x5176;&#x4ED6;&#x4E3B;&#x673A;&#x8D44;&#x6E90; &#x662F; &#x65E0; context &#x5F53;&#x4F7F;&#x7528;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#x8BBF;&#x95EE;&#x5916;&#x90E8;context&#x8D44;&#x6E90;&#x65F6;&#xFF0C;context&#x6307;&#x5B9A;&#x4E86;&#x8FD9;&#x4E2A;&#x8D44;&#x6E90;&#x7684;&#x540D;&#x5B57;&#x3002; &#x5426; &#x5F53;&#x524D;&#x5E94;&#x7528;&#x7A0B;&#x5E8F; charEncoding &#x6240;&#x5F15;&#x5165;&#x7684;&#x6570;&#x636E;&#x7684;&#x5B57;&#x7B26;&#x7F16;&#x7801;&#x96C6; &#x5426; ISO-8859-1 var &#x7528;&#x4E8E;&#x5B58;&#x50A8;&#x6240;&#x5F15;&#x5165;&#x7684;&#x6587;&#x672C;&#x7684;&#x53D8;&#x91CF; &#x5426; &#x65E0; scope var&#x5C5E;&#x6027;&#x7684;&#x4F5C;&#x7528;&#x57DF; &#x5426; page varReader &#x53EF;&#x9009;&#x7684;&#x7528;&#x4E8E;&#x63D0;&#x4F9B;java.io.Reader&#x5BF9;&#x8C61;&#x7684;&#x53D8;&#x91CF; &#x5426; &#x65E0; 2.8 forEach &#x6807;&#x7B7E;&#x4F5C;&#x7528;&#xFF1A; 1&#x8FED;&#x4EE3;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x5BF9;&#x8C61; &#x8BED;&#x6CD5;&#x683C;&#x5F0F;&#xFF1A; 1234567&lt;c:forEach items=&quot;&lt;object&gt;&quot; begin=&quot;&lt;int&gt;&quot; end=&quot;&lt;int&gt;&quot; step=&quot;&lt;int&gt;&quot; var=&quot;&lt;string&gt;&quot; varStatus=&quot;&lt;string&gt;&quot;&gt; &#x5C5E;&#x6027;&#xFF1A; &#x5C5E;&#x6027; &#x63CF;&#x8FF0; &#x662F;&#x5426;&#x5FC5;&#x8981; &#x9ED8;&#x8BA4;&#x503C; items &#x8981;&#x88AB;&#x5FAA;&#x73AF;&#x7684;&#x4FE1;&#x606F; &#x5426; &#x65E0; begin &#x5F00;&#x59CB;&#x7684;&#x5143;&#x7D20;&#xFF08;0=&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;1=&#x7B2C;&#x4E8C;&#x4E2A;&#x5143;&#x7D20;&#xFF09; &#x5426; 0 end &#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#xFF08;0=&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;1=&#x7B2C;&#x4E8C;&#x4E2A;&#x5143;&#x7D20;&#xFF09; &#x5426; Last element step &#x6BCF;&#x4E00;&#x6B21;&#x8FED;&#x4EE3;&#x7684;&#x6B65;&#x957F; &#x5426; 1 var &#x4EE3;&#x8868;&#x5F53;&#x524D;&#x6761;&#x76EE;&#x7684;&#x53D8;&#x91CF;&#x540D;&#x79F0; &#x5426; &#x65E0; varStatus &#x4EE3;&#x8868;&#x5FAA;&#x73AF;&#x72B6;&#x6001;&#x7684;&#x53D8;&#x91CF;&#x540D;&#x79F0; &#x5426; &#x65E0; 2.9 forTokens &#x6807;&#x7B7E;&#x4F5C;&#x7528;&#xFF1A; 1&#x6307;&#x5B9A;&#x5206;&#x9694;&#x7B26;&#x5C06;&#x5B57;&#x7B26;&#x4E32;&#x5206;&#x9694;&#x4E3A;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#x7136;&#x540E;&#x8FED;&#x4EE3;&#x5B83;&#x4EEC; &#x8BED;&#x6CD5;&#x683C;&#x5F0F;&#xFF1A; 12345678&lt;c:forTokens items=&quot;&lt;string&gt;&quot; delims=&quot;&lt;string&gt;&quot; begin=&quot;&lt;int&gt;&quot; end=&quot;&lt;int&gt;&quot; step=&quot;&lt;int&gt;&quot; var=&quot;&lt;string&gt;&quot; varStatus=&quot;&lt;string&gt;&quot;&gt; &#x5C5E;&#x6027;&#xFF1A; &#x5C5E;&#x6027; &#x63CF;&#x8FF0; &#x662F;&#x5426;&#x5FC5;&#x8981; &#x9ED8;&#x8BA4;&#x503C; items &#x8981;&#x88AB;&#x5FAA;&#x73AF;&#x7684;&#x4FE1;&#x606F; &#x5426; &#x65E0; begin &#x5F00;&#x59CB;&#x7684;&#x5143;&#x7D20;&#xFF08;0=&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;1=&#x7B2C;&#x4E8C;&#x4E2A;&#x5143;&#x7D20;&#xFF09; &#x5426; 0 end &#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#xFF08;0=&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;1=&#x7B2C;&#x4E8C;&#x4E2A;&#x5143;&#x7D20;&#xFF09; &#x5426; Last element step &#x6BCF;&#x4E00;&#x6B21;&#x8FED;&#x4EE3;&#x7684;&#x6B65;&#x957F; &#x5426; 1 var &#x4EE3;&#x8868;&#x5F53;&#x524D;&#x6761;&#x76EE;&#x7684;&#x53D8;&#x91CF;&#x540D;&#x79F0; &#x5426; &#x65E0; varStatus &#x4EE3;&#x8868;&#x5FAA;&#x73AF;&#x72B6;&#x6001;&#x7684;&#x53D8;&#x91CF;&#x540D;&#x79F0; &#x5426; &#x65E0; delims &#x5206;&#x9694;&#x7B26; &#x662F; &#x65E0; 2.10 param &#x6807;&#x7B7E;&#x4F5C;&#x7528;&#xFF1A; 12&lt;c:param&gt; &#x6807;&#x7B7E;&#x7528;&#x4E8E;&#x5728; &lt;c:url&gt; &#x6807;&#x7B7E;&#x4E2D;&#x6307;&#x5B9A;&#x53C2;&#x6570;&#xFF0C;&#x800C;&#x4E14;&#x4E0E; URL &#x7F16;&#x7801;&#x76F8;&#x5173;&#x3002;&#x5728; &lt;c:param&gt; &#x6807;&#x7B7E;&#x5185;&#xFF0C;name &#x5C5E;&#x6027;&#x8868;&#x660E;&#x53C2;&#x6570;&#x7684;&#x540D;&#x79F0;&#xFF0C;value &#x5C5E;&#x6027;&#x8868;&#x660E;&#x53C2;&#x6570;&#x7684;&#x503C;&#x3002; &#x8BED;&#x6CD5;&#x683C;&#x5F0F;&#xFF1A; 1&lt;c:param name=&quot;&lt;string&gt;&quot; value=&quot;&lt;string&gt;&quot;/&gt; &#x5C5E;&#x6027;&#xFF1A; &#x5C5E;&#x6027; &#x63CF;&#x8FF0; &#x662F;&#x5426;&#x5FC5;&#x8981; &#x9ED8;&#x8BA4;&#x503C; name URL&#x4E2D;&#x8981;&#x8BBE;&#x7F6E;&#x7684;&#x53C2;&#x6570;&#x7684;&#x540D;&#x79F0; &#x662F; &#x65E0; value &#x53C2;&#x6570;&#x7684;&#x503C; &#x5426; Body 2.11 redirect &#x6807;&#x7B7E;&#x4F5C;&#x7528;&#xFF1A; 1&#x901A;&#x8FC7;&#x81EA;&#x52A8;&#x91CD;&#x5199; URL &#x6765;&#x5C06;&#x6D4F;&#x89C8;&#x5668;&#x91CD;&#x5B9A;&#x5411;&#x81F3;&#x4E00;&#x4E2A;&#x65B0;&#x7684; URL&#xFF0C;&#x5B83;&#x63D0;&#x4F9B;&#x5185;&#x5BB9;&#x76F8;&#x5173;&#x7684; URL&#xFF0C;&#x5E76;&#x4E14;&#x652F;&#x6301; c:param &#x6807;&#x7B7E;&#x3002; &#x8BED;&#x6CD5;&#x683C;&#x5F0F;&#xFF1A; 1&lt;c:redirect url=&quot;&lt;string&gt;&quot; context=&quot;&lt;string&gt;&quot;/&gt; &#x5C5E;&#x6027;&#xFF1A; &#x5C5E;&#x6027; &#x63CF;&#x8FF0; &#x662F;&#x5426;&#x5FC5;&#x8981; &#x9ED8;&#x8BA4;&#x503C; url &#x76EE;&#x6807;URL &#x662F; &#x65E0; context &#x7D27;&#x63A5;&#x7740;&#x4E00;&#x4E2A;&#x672C;&#x5730;&#x7F51;&#x7EDC;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x540D;&#x79F0; &#x5426; &#x5F53;&#x524D;&#x5E94;&#x7528;&#x7A0B;&#x5E8F; 2.12 url &#x6807;&#x7B7E;&#x4F5C;&#x7528;&#xFF1A; 1234&lt;c:url&gt; &#x6807;&#x7B7E;&#x5C06; URL &#x683C;&#x5F0F;&#x5316;&#x4E3A;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x7136;&#x540E;&#x5B58;&#x50A8;&#x5728;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x4E2D;&#x3002;&#x8FD9;&#x4E2A;&#x6807;&#x7B7E;&#x5728;&#x9700;&#x8981;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x81EA;&#x52A8;&#x91CD;&#x5199;URL&#x3002;var &#x5C5E;&#x6027;&#x7528;&#x4E8E;&#x5B58;&#x50A8;&#x683C;&#x5F0F;&#x5316;&#x540E;&#x7684; URL&#x3002;&lt;c:url&gt; &#x6807;&#x7B7E;&#x53EA;&#x662F;&#x7528;&#x4E8E;&#x8C03;&#x7528; response.encodeURL() &#x65B9;&#x6CD5;&#x7684;&#x4E00;&#x79CD;&#x53EF;&#x9009;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x5B83;&#x771F;&#x6B63;&#x7684;&#x4F18;&#x52BF;&#x5728;&#x4E8E;&#x63D0;&#x4F9B;&#x4E86;&#x5408;&#x9002;&#x7684;URL&#x7F16;&#x7801;&#xFF0C;&#x5305;&#x62EC; &lt;c:param&gt; &#x4E2D;&#x6307;&#x5B9A;&#x7684;&#x53C2;&#x6570;&#x3002; &#x8BED;&#x6CD5;&#x683C;&#x5F0F;&#xFF1A; 12345&lt;c:url var=&quot;&lt;string&gt;&quot; scope=&quot;&lt;string&gt;&quot; value=&quot;&lt;string&gt;&quot; context=&quot;&lt;string&gt;&quot;/&gt; &#x5C5E;&#x6027;&#xFF1A; &#x5C5E;&#x6027; &#x63CF;&#x8FF0; &#x662F;&#x5426;&#x5FC5;&#x8981; &#x9ED8;&#x8BA4;&#x503C; value &#x57FA;&#x7840;URL &#x662F; &#x65E0; context &#x672C;&#x5730;&#x7F51;&#x7EDC;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x540D;&#x79F0; &#x5426; &#x5F53;&#x524D;&#x5E94;&#x7528;&#x7A0B;&#x5E8F; var &#x4EE3;&#x8868;URL&#x7684;&#x53D8;&#x91CF;&#x540D; &#x5426; Print to page scope var&#x5C5E;&#x6027;&#x7684;&#x4F5C;&#x7528;&#x57DF; &#x5426; Page &#x4E09;&#x3001;&#x683C;&#x5F0F;&#x5316;&#x6807;&#x7B7E;3.1 formatNumber &#x6807;&#x7B7E;&#x4F5C;&#x7528;&#xFF1A; 1&#x7528;&#x4E8E;&#x683C;&#x5F0F;&#x5316;&#x6570;&#x5B57;&#xFF0C;&#x767E;&#x5206;&#x6BD4;&#xFF0C;&#x8D27;&#x5E01;&#x3002; &#x8BED;&#x6CD5;&#x683C;&#x5F0F;&#xFF1A; 12345678910111213&lt;fmt:formatNumber value=&quot;&lt;string&gt;&quot; type=&quot;&lt;string&gt;&quot; pattern=&quot;&lt;string&gt;&quot; currencyCode=&quot;&lt;string&gt;&quot; currencySymbol=&quot;&lt;string&gt;&quot; groupingUsed=&quot;&lt;string&gt;&quot; maxIntegerDigits=&quot;&lt;string&gt;&quot; minIntegerDigits=&quot;&lt;string&gt;&quot; maxFractionDigits=&quot;&lt;string&gt;&quot; minFractionDigits=&quot;&lt;string&gt;&quot; var=&quot;&lt;string&gt;&quot; scope=&quot;&lt;string&gt;&quot;/&gt; &#x5C5E;&#x6027;&#xFF1A; &#x5C5E;&#x6027; &#x63CF;&#x8FF0; &#x662F;&#x5426;&#x5FC5;&#x8981; &#x9ED8;&#x8BA4;&#x503C; value &#x8981;&#x663E;&#x793A;&#x7684;&#x6570;&#x5B57; &#x662F; &#x65E0; type NUMBER&#xFF0C;CURRENCY&#xFF0C;&#x6216; PERCENT&#x7C7B;&#x578B; &#x5426; Number pattern &#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x683C;&#x5F0F;&#x5316;&#x6A21;&#x5F0F;&#x7528;&#x4E0E;&#x8F93;&#x51FA; &#x5426; &#x65E0; currencyCode &#x8D27;&#x5E01;&#x7801;&#xFF08;&#x5F53;type=&#x201D;currency&#x201D;&#x65F6;&#xFF09; &#x5426; &#x53D6;&#x51B3;&#x4E8E;&#x9ED8;&#x8BA4;&#x533A;&#x57DF; currencySymbol &#x8D27;&#x5E01;&#x7B26;&#x53F7; (&#x5F53; type=&#x201D;currency&#x201D;&#x65F6;) &#x5426; &#x53D6;&#x51B3;&#x4E8E;&#x9ED8;&#x8BA4;&#x533A;&#x57DF; groupingUsed &#x662F;&#x5426;&#x5BF9;&#x6570;&#x5B57;&#x5206;&#x7EC4; (TRUE &#x6216; FALSE) &#x5426; true maxIntegerDigits &#x6574;&#x578B;&#x6570;&#x6700;&#x5927;&#x7684;&#x4F4D;&#x6570; &#x5426; &#x65E0; minIntegerDigits &#x6574;&#x578B;&#x6570;&#x6700;&#x5C0F;&#x7684;&#x4F4D;&#x6570; &#x5426; &#x65E0; maxFractionDigits} &#x5C0F;&#x6570;&#x70B9;&#x540E;&#x6700;&#x5927;&#x7684;&#x4F4D;&#x6570; &#x5426; &#x65E0; minFractionDigits} &#x5C0F;&#x6570;&#x70B9;&#x540E;&#x6700;&#x5C0F;&#x7684;&#x4F4D;&#x6570; &#x5426; &#x65E0; var &#x5B58;&#x50A8;&#x683C;&#x5F0F;&#x5316;&#x6570;&#x5B57;&#x7684;&#x53D8;&#x91CF; &#x5426; Print to page scope var&#x5C5E;&#x6027;&#x7684;&#x4F5C;&#x7528;&#x57DF; &#x5426; page","tags":[{"name":"JSP","slug":"JSP","permalink":"https://marklogzhu.github.io/tags/JSP/"}]},{"title":"ajax 的使用","date":"2017-09-18T11:41:00.000Z","path":"uncategorized/前端/05.AJAX/AJAX的使用/","text":"&#x4E00;&#x3001;&#x4EC0;&#x4E48;&#x662F; AJAXAJAX &#x5168;&#x79F0;&#x4E3A; Asynchronous JavaScript and XML&#xFF08;&#x5F02;&#x6B65;&#x7684; JavaScript &#x548C; XML&#xFF09;.AJAX &#x4E0D;&#x662F;&#x65B0;&#x7684;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#xFF0C;&#x800C;&#x662F;&#x4E00;&#x79CD;&#x4F7F;&#x7528;&#x73B0;&#x6709;&#x6807;&#x51C6;&#x7684;&#x65B0;&#x65B9;&#x6CD5;&#x3002; &#x901A;&#x8FC7;&#x5728;&#x540E;&#x53F0;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x884C;&#x5C11;&#x91CF;&#x6570;&#x636E;&#x4EA4;&#x6362;&#xFF0C;AJAX &#x53EF;&#x4EE5;&#x4F7F;&#x7F51;&#x9875;&#x5B9E;&#x73B0;&#x5F02;&#x6B65;&#x66F4;&#x65B0;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#x6574;&#x4E2A;&#x7F51;&#x9875;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5BF9;&#x7F51;&#x9875;&#x7684;&#x67D0;&#x90E8;&#x5206;&#x8FDB;&#x884C;&#x66F4;&#x65B0;&#x3002; &#x4F20;&#x7EDF;&#x7684;&#x7F51;&#x9875;&#xFF08;&#x4E0D;&#x4F7F;&#x7528; AJAX&#xFF09;&#x5982;&#x679C;&#x9700;&#x8981;&#x66F4;&#x65B0;&#x5185;&#x5BB9;&#xFF0C;&#x5FC5;&#x9700;&#x91CD;&#x8F7D;&#x6574;&#x4E2A;&#x7F51;&#x9875;&#x9762;&#x3002; &#x6709;&#x5F88;&#x591A;&#x4F7F;&#x7528; AJAX &#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6848;&#x4F8B;&#xFF1A;&#x65B0;&#x6D6A;&#x5FAE;&#x535A;&#x3001;Google &#x5730;&#x56FE;&#x3001;&#x5F00;&#x5FC3;&#x7F51;&#x7B49;&#x7B49;&#x3002; &#x4E8C;&#x3001;XMLHttpRequest &#x5BF9;&#x8C61;XMLHttpRequest &#x5BF9;&#x8C61;&#x662F; AJAX &#x7684;&#x57FA;&#x7840;,&#x5B83;&#x7528;&#x4E8E;&#x5728;&#x540E;&#x53F0;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x4EA4;&#x6362;&#x6570;&#x636E;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#x6574;&#x4E2A;&#x7F51;&#x9875;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5BF9;&#x7F51;&#x9875;&#x7684;&#x67D0;&#x90E8;&#x5206;&#x8FDB;&#x884C;&#x66F4;&#x65B0;&#x3002; 2.1 &#x521B;&#x5EFA; XMLHttpRequest &#x5BF9;&#x8C61;123456var xmlhttp;if (window.XMLHttpRequest) {// code for IE7+, Firefox, Chrome, Opera, Safari xmlhttp=new XMLHttpRequest();} else {// code for IE6, IE5 xmlhttp=new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);} 2.2 &#x6CE8;&#x518C;&#x56DE;&#x8C03;&#x51FD;&#x6570;1xmlhttp.onreadystatechange = callback; 2.3 &#x8BBE;&#x7F6E;&#x548C;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x4EA4;&#x4E92;&#x7684;&#x57FA;&#x672C;&#x4FE1;&#x606F;1xmlhttp.open(&quot;GET&quot;,&quot;test1.txt&quot;,true); open(method,url,async): &#x89C4;&#x5B9A;&#x8BF7;&#x6C42;&#x7684;&#x7C7B;&#x578B;&#x3001;URL &#x4EE5;&#x53CA;&#x662F;&#x5426;&#x5F02;&#x6B65;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x3002; * method&#xFF1A;&#x8BF7;&#x6C42;&#x7684;&#x7C7B;&#x578B;&#xFF1B;GET &#x6216; POST * url&#xFF1A;&#x6587;&#x4EF6;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x4F4D;&#x7F6E; * async&#xFF1A;true&#xFF08;&#x5F02;&#x6B65;&#xFF09;&#x6216; false&#xFF08;&#x540C;&#x6B65;&#xFF09; GET &#x8FD8;&#x662F; POST&#xFF1F;&#x4E0E; POST &#x76F8;&#x6BD4;&#xFF0C;GET &#x66F4;&#x7B80;&#x5355;&#x4E5F;&#x66F4;&#x5FEB;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x5927;&#x90E8;&#x5206;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x80FD;&#x7528;&#x3002;&#x7136;&#x800C;&#xFF0C;&#x5728;&#x4EE5;&#x4E0B;&#x60C5;&#x51B5;&#x4E2D;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528; POST &#x8BF7;&#x6C42;&#xFF1A; &#x65E0;&#x6CD5;&#x4F7F;&#x7528;&#x7F13;&#x5B58;&#x6587;&#x4EF6;&#xFF08;&#x66F4;&#x65B0;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x6587;&#x4EF6;&#x6216;&#x6570;&#x636E;&#x5E93;&#xFF09; &#x5411;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;&#x5927;&#x91CF;&#x6570;&#x636E;&#xFF08;POST &#x6CA1;&#x6709;&#x6570;&#x636E;&#x91CF;&#x9650;&#x5236;&#xFF09; &#x53D1;&#x9001;&#x5305;&#x542B;&#x672A;&#x77E5;&#x5B57;&#x7B26;&#x7684;&#x7528;&#x6237;&#x8F93;&#x5165;&#x65F6;&#xFF0C;POST &#x6BD4; GET &#x66F4;&#x7A33;&#x5B9A;&#x4E5F;&#x66F4;&#x53EF;&#x9760; 2.4 &#x5411;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;&#x8BF7;&#x6C42;1xmlhttp.send(); &#x5982;&#x679C;&#x9700;&#x8981;&#x50CF; HTML &#x8868;&#x5355;&#x90A3;&#x6837; POST &#x6570;&#x636E;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528; setRequestHeader() &#x6765;&#x6DFB;&#x52A0; HTTP &#x5934;&#x3002;&#x7136;&#x540E;&#x5728; send() &#x65B9;&#x6CD5;&#x4E2D;&#x89C4;&#x5B9A;&#x60A8;&#x5E0C;&#x671B;&#x53D1;&#x9001;&#x7684;&#x6570;&#x636E;&#xFF1A; 123xmlhttp.open(&quot;POST&quot;,&quot;ajax_test.asp&quot;,true);xmlhttp.setRequestHeader(&quot;Content-type&quot;,&quot;application/x-www-form-urlencoded&quot;);xmlhttp.send(&quot;fname=Bill&amp;lname=Gates&quot;); 2.5 &#x5904;&#x7406;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x5668;&#x54CD;&#x5E94;&#x5982;&#x9700;&#x83B7;&#x5F97;&#x6765;&#x81EA;&#x670D;&#x52A1;&#x5668;&#x7684;&#x54CD;&#x5E94;&#xFF0C;&#x9700;&#x8981;&#x4F7F;&#x7528; XMLHttpRequest &#x5BF9;&#x8C61;&#x7684; responseText &#x6216; responseXML &#x5C5E;&#x6027;&#x3002; &#x5C5E;&#x6027; &#x63CF;&#x8FF0; responseText &#x83B7;&#x5F97;&#x5B57;&#x7B26;&#x4E32;&#x5F62;&#x5F0F;&#x7684;&#x54CD;&#x5E94;&#x6570;&#x636E;&#x3002; responseXML &#x83B7;&#x5F97; XML &#x5F62;&#x5F0F;&#x7684;&#x54CD;&#x5E94;&#x6570;&#x636E;&#x3002; 12var xmlDoc = xmlhttp.responseXML;var textDoc = xmlhttp.responseText; onreadystatechange &#x4E8B;&#x4EF6;&#x5F53;&#x8BF7;&#x6C42;&#x88AB;&#x53D1;&#x9001;&#x5230;&#x670D;&#x52A1;&#x5668;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x6267;&#x884C;&#x4E00;&#x4E9B;&#x57FA;&#x4E8E;&#x54CD;&#x5E94;&#x7684;&#x4EFB;&#x52A1;&#x3002;&#x6BCF;&#x5F53; readyState &#x6539;&#x53D8;&#x65F6;&#xFF0C;&#x5C31;&#x4F1A;&#x89E6;&#x53D1; onreadystatechange &#x4E8B;&#x4EF6;&#x3002;readyState &#x5C5E;&#x6027;&#x5B58;&#x6709; XMLHttpRequest &#x7684;&#x72B6;&#x6001;&#x4FE1;&#x606F;&#x3002;&#x4E0B;&#x9762;&#x662F; XMLHttpRequest &#x5BF9;&#x8C61;&#x7684;&#x4E09;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x5C5E;&#x6027;&#xFF1A; &#x5C5E;&#x6027; &#x63CF;&#x8FF0; onreadystatechange &#x5B58;&#x50A8;&#x51FD;&#x6570;&#xFF08;&#x6216;&#x51FD;&#x6570;&#x540D;&#xFF09;&#xFF0C;&#x6BCF;&#x5F53; readyState &#x5C5E;&#x6027;&#x6539;&#x53D8;&#x65F6;&#xFF0C;&#x5C31;&#x4F1A;&#x8C03;&#x7528;&#x8BE5;&#x51FD;&#x6570;&#x3002; readyState &#x5B58;&#x6709; XMLHttpRequest &#x7684;&#x72B6;&#x6001;&#x3002;&#x4ECE; 0 &#x5230; 4 &#x53D1;&#x751F;&#x53D8;&#x5316;&#x3002; 0: &#x8BF7;&#x6C42;&#x672A;&#x521D;&#x59CB;&#x5316; 1: &#x670D;&#x52A1;&#x5668;&#x8FDE;&#x63A5;&#x5DF2;&#x5EFA;&#x7ACB; 2: &#x8BF7;&#x6C42;&#x5DF2;&#x63A5;&#x6536; 3: &#x8BF7;&#x6C42;&#x5904;&#x7406;&#x4E2D; 4: &#x8BF7;&#x6C42;&#x5DF2;&#x5B8C;&#x6210;&#xFF0C;&#x4E14;&#x54CD;&#x5E94;&#x5DF2;&#x5C31;&#x7EEA; status 200: &#x201C;OK&#x201D; 404: &#x672A;&#x627E;&#x5230;&#x9875;&#x9762; 12345xmlhttp.onreadystatechange=function() { if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200) { document.getElementById(&quot;myDiv&quot;).innerHTML=xmlhttp.responseText; }}","tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://marklogzhu.github.io/tags/JavaScript/"},{"name":"AJAX","slug":"AJAX","permalink":"https://marklogzhu.github.io/tags/AJAX/"}]},{"title":"JavaScript 之 BOM 的使用","date":"2017-09-16T07:59:00.000Z","path":"uncategorized/前端/03.JavaScript/5.JavaScript 之 BOM 的使用/","text":"&#x4E00;&#x3001;&#x4EC0;&#x4E48;&#x662F; BOMBOM &#x662F;&#x6D4F;&#x89C8;&#x5668;&#x5BF9;&#x8C61;&#x6A21;&#x578B;&#xFF0C;&#x5C06;&#x6D4F;&#x89C8;&#x5668;&#x5F53;&#x4F5C;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x6765;&#x64CD;&#x4F5C;&#x3002; &#x4E8C;&#x3001;&#x5B83;&#x80FD;&#x5E72;&#x4EC0;&#x4E48;BOM &#x4F7F; JavaScript &#x6709;&#x80FD;&#x529B;&#x4E0E;&#x6D4F;&#x89C8;&#x5668;&#x201C;&#x5BF9;&#x8BDD;&#x201D;&#x3002; &#x4E09;&#x3001;BOM &#x5BF9;&#x8C61;BOM &#x6709;&#x5982;&#x4E0B;&#x516D;&#x79CD;&#x5BF9;&#x8C61;&#xFF1A; * 1. window &#x5BF9;&#x8C61; &#xFF0C;&#x662F;JS&#x7684;&#x6700;&#x9876;&#x5C42;&#x5BF9;&#x8C61;&#xFF0C;&#x5176;&#x4ED6;&#x7684; BOM &#x5BF9;&#x8C61;&#x90FD;&#x662F; window &#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027;&#xFF1B; * 2. document &#x5BF9;&#x8C61;&#xFF0C;&#x6587;&#x6863;&#x5BF9;&#x8C61;&#xFF1B; * 3. location &#x5BF9;&#x8C61;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x5F53;&#x524D;URL&#x4FE1;&#x606F;&#xFF1B; * 4. navigator &#x5BF9;&#x8C61;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x672C;&#x8EAB;&#x4FE1;&#x606F;&#xFF1B; * 5. screen &#x5BF9;&#x8C61;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x5C4F;&#x5E55;&#x4FE1;&#x606F;&#xFF1B; * 6. history &#x5BF9;&#x8C61;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x8BBF;&#x95EE;&#x5386;&#x53F2;&#x4FE1;&#x606F;&#xFF1B; 3.1 window &#x5BF9;&#x8C61;&#x6240;&#x6709;&#x6D4F;&#x89C8;&#x5668;&#x90FD;&#x652F;&#x6301; window &#x5BF9;&#x8C61;&#x3002;&#x5B83;&#x8868;&#x793A;&#x6D4F;&#x89C8;&#x5668;&#x7A97;&#x53E3;&#x3002; &#x6240;&#x6709; JavaScript &#x5168;&#x5C40;&#x5BF9;&#x8C61;&#x3001;&#x51FD;&#x6570;&#x4EE5;&#x53CA;&#x53D8;&#x91CF;&#x5747;&#x81EA;&#x52A8;&#x6210;&#x4E3A; window &#x5BF9;&#x8C61;&#x7684;&#x6210;&#x5458;&#x3002; &#x5168;&#x5C40;&#x53D8;&#x91CF;&#x662F; window &#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027;&#x3002; &#x5168;&#x5C40;&#x51FD;&#x6570;&#x662F; window &#x5BF9;&#x8C61;&#x7684;&#x65B9;&#x6CD5;&#x3002; &#x751A;&#x81F3; HTML DOM &#x7684; document &#x4E5F;&#x662F; window &#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027;&#x4E4B;&#x4E00;&#xFF1A;1window.document.getElementById(&quot;header&quot;); &#x4E0E;&#x6B64;&#x76F8;&#x540C;&#xFF1A;1document.getElementById(&quot;header&quot;); &#x5E38;&#x7528;&#x65B9;&#x6CD5;&#x6D88;&#x606F;&#x6846;* &#x8B66;&#x544A;&#x6846;&#xFF1A;alert(&quot;....&quot;): * &#x786E;&#x8BA4;&#x6846;&#xFF1A;confirm(&quot;&#x4F60;&#x786E;&#x5B9A;&#x8981;&#x5220;&#x9664;&#x5417;?&quot;): &#x8FD4;&#x56DE;&#x503C;:boolean * &#x8F93;&#x5165;&#x6846;&#xFF1A;prompt(&quot;&#x8BF7;&#x8F93;&#x5165;&#x60A8;&#x7684;&#x59D3;&#x540D;&quot;): &#x8FD4;&#x56DE;&#x503C;:&#x4F60;&#x8F93;&#x5165;&#x7684;&#x5185;&#x5BB9; &#x5B9A;&#x65F6;&#x5668;&#x8BBE;&#x7F6E;&#x5B9A;&#x65F6;&#x5668; setInterval(code,&#x6BEB;&#x79D2;&#x6570;):&#x5468;&#x671F;&#x6267;&#x884C; setTimeout(code,&#x6BEB;&#x79D2;&#x6570;):&#x5EF6;&#x8FDF;&#x591A;&#x957F;&#x4E8B;&#x4EF6;&#x540E; &#x53EA;&#x6267;&#x884C;&#x4E00;&#x6B21;. &#x4F8B;&#x5982;: setInterval(showAd,4000); serInterval(&quot;showAd()&quot;,4000); &#x6E05;&#x9664;&#x5B9A;&#x65F6;&#x5668; clearInterval(id): clearTimeout(id): &#x6253;&#x5F00;&#x548C;&#x5173;&#x95ED;&#x7A97;&#x53E3;open(url):&#x6253;&#x5F00; close():&#x5173;&#x95ED; 3.2 document &#x5BF9;&#x8C61;document &#x5BF9;&#x8C61; &#x8BE6;&#x89C1; JavaScript &#x4E4B; DOM &#x7684;&#x4F7F;&#x7528; 3.3 location &#x5BF9;&#x8C61;location &#x5C5E;&#x6027;&#x83B7;&#x53D6;&#x6D4F;&#x89C8;&#x5668;&#x5F53;&#x524D;URL&#x4FE1;&#x606F;&#xFF0C;&#x8FD9;&#x4E2A;&#x5728;&#x4F01;&#x4E1A;&#x5185;&#x5916;&#x7F51;&#x4F7F;&#x7528;&#x4E0D;&#x540C; IP &#x7684;&#x573A;&#x666F;&#x4E0B;&#x53EF;&#x7528;&#x3002; location &#x5BF9;&#x8C61;&#x5C5E;&#x6027; &#x5C5E;&#x6027; &#x63CF;&#x8FF0; hash &#x8BBE;&#x7F6E;&#x6216;&#x8FD4;&#x56DE;&#x4ECE;&#x4E95;&#x53F7; (#) &#x5F00;&#x59CB;&#x7684; URL&#xFF08;&#x951A;&#xFF09;&#x3002; host &#x8BBE;&#x7F6E;&#x6216;&#x8FD4;&#x56DE;&#x4E3B;&#x673A;&#x540D;&#x548C;&#x5F53;&#x524D; URL &#x7684;&#x7AEF;&#x53E3;&#x53F7;&#x3002; hostname &#x8BBE;&#x7F6E;&#x6216;&#x8FD4;&#x56DE;&#x5F53;&#x524D; URL &#x7684;&#x4E3B;&#x673A;&#x540D;&#x3002; href &#x8BBE;&#x7F6E;&#x6216;&#x8FD4;&#x56DE;&#x5B8C;&#x6574;&#x7684; URL&#x3002; pathname &#x8BBE;&#x7F6E;&#x6216;&#x8FD4;&#x56DE;&#x5F53;&#x524D; URL &#x7684;&#x8DEF;&#x5F84;&#x90E8;&#x5206;&#x3002; port &#x8BBE;&#x7F6E;&#x6216;&#x8FD4;&#x56DE;&#x5F53;&#x524D; URL &#x7684;&#x7AEF;&#x53E3;&#x53F7;&#x3002; protocol &#x8BBE;&#x7F6E;&#x6216;&#x8FD4;&#x56DE;&#x5F53;&#x524D; URL &#x7684;&#x534F;&#x8BAE;&#x3002; search &#x8BBE;&#x7F6E;&#x6216;&#x8FD4;&#x56DE;&#x4ECE;&#x95EE;&#x53F7; (?) &#x5F00;&#x59CB;&#x7684; URL&#xFF08;&#x67E5;&#x8BE2;&#x90E8;&#x5206;&#xFF09;&#x3002; location &#x5BF9;&#x8C61;&#x65B9;&#x6CD5; &#x65B9;&#x6CD5;&#x540D; &#x63CF;&#x8FF0; assign() &#x52A0;&#x8F7D;&#x65B0;&#x7684;&#x6587;&#x6863;&#x3002; reload() &#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#x5F53;&#x524D;&#x6587;&#x6863;&#x3002; replace() &#x7528;&#x65B0;&#x7684;&#x6587;&#x6863;&#x66FF;&#x6362;&#x5F53;&#x524D;&#x6587;&#x6863;&#x3002; 3.4 navigator &#x5BF9;&#x8C61;Navigator &#x5BF9;&#x8C61;&#x5305;&#x542B;&#x7684;&#x5C5E;&#x6027;&#x63CF;&#x8FF0;&#x4E86;&#x6B63;&#x5728;&#x4F7F;&#x7528;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x3002;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;&#x5C5E;&#x6027;&#x8FDB;&#x884C;&#x5E73;&#x53F0;&#x4E13;&#x7528;&#x7684;&#x914D;&#x7F6E;&#x3002; Navigator &#x5BF9;&#x8C61;&#x5C5E;&#x6027; &#x5C5E;&#x6027; &#x63CF;&#x8FF0; appCodeName &#x8FD4;&#x56DE;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x4EE3;&#x7801;&#x540D;&#x3002; appMinorVersion &#x8FD4;&#x56DE;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x6B21;&#x7EA7;&#x7248;&#x672C;&#x3002; appName &#x8FD4;&#x56DE;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x540D;&#x79F0;&#x3002; appVersion &#x8FD4;&#x56DE;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x5E73;&#x53F0;&#x548C;&#x7248;&#x672C;&#x4FE1;&#x606F;&#x3002; browserLanguage &#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x8BED;&#x8A00;&#x3002; cookieEnabled &#x8FD4;&#x56DE;&#x6307;&#x660E;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x662F;&#x5426;&#x542F;&#x7528; cookie &#x7684;&#x5E03;&#x5C14;&#x503C;&#x3002; cpuClass &#x8FD4;&#x56DE;&#x6D4F;&#x89C8;&#x5668;&#x7CFB;&#x7EDF;&#x7684; CPU &#x7B49;&#x7EA7;&#x3002; onLine &#x8FD4;&#x56DE;&#x6307;&#x660E;&#x7CFB;&#x7EDF;&#x662F;&#x5426;&#x5904;&#x4E8E;&#x8131;&#x673A;&#x6A21;&#x5F0F;&#x7684;&#x5E03;&#x5C14;&#x503C;&#x3002; platform &#x8FD4;&#x56DE;&#x8FD0;&#x884C;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5E73;&#x53F0;&#x3002; systemLanguage &#x8FD4;&#x56DE; OS &#x4F7F;&#x7528;&#x7684;&#x9ED8;&#x8BA4;&#x8BED;&#x8A00;&#x3002; userAgent &#x8FD4;&#x56DE;&#x7531;&#x5BA2;&#x6237;&#x673A;&#x53D1;&#x9001;&#x670D;&#x52A1;&#x5668;&#x7684; user-agent &#x5934;&#x90E8;&#x7684;&#x503C;&#x3002; userLanguage &#x8FD4;&#x56DE; OS &#x7684;&#x81EA;&#x7136;&#x8BED;&#x8A00;&#x8BBE;&#x7F6E;&#x3002; &#x65B9;&#x6CD5; &#x65B9;&#x6CD5; &#x63CF;&#x8FF0; javaEnabled() &#x89C4;&#x5B9A;&#x6D4F;&#x89C8;&#x5668;&#x662F;&#x5426;&#x542F;&#x7528; Java&#x3002; taintEnabled() &#x89C4;&#x5B9A;&#x6D4F;&#x89C8;&#x5668;&#x662F;&#x5426;&#x542F;&#x7528;&#x6570;&#x636E;&#x6C61;&#x70B9; (data tainting)&#x3002; 3.5 screen &#x5BF9;&#x8C61;Screen &#x5BF9;&#x8C61;&#x5305;&#x542B;&#x6709;&#x5173;&#x5BA2;&#x6237;&#x7AEF;&#x663E;&#x793A;&#x5C4F;&#x5E55;&#x7684;&#x4FE1;&#x606F;&#x3002; Screen &#x5BF9;&#x8C61;&#x5C5E;&#x6027; &#x5C5E;&#x6027; &#x63CF;&#x8FF0; availHeight &#x8FD4;&#x56DE;&#x663E;&#x793A;&#x5C4F;&#x5E55;&#x7684;&#x9AD8;&#x5EA6; (&#x9664; Windows &#x4EFB;&#x52A1;&#x680F;&#x4E4B;&#x5916;)&#x3002; availWidth &#x8FD4;&#x56DE;&#x663E;&#x793A;&#x5C4F;&#x5E55;&#x7684;&#x5BBD;&#x5EA6; (&#x9664; Windows &#x4EFB;&#x52A1;&#x680F;&#x4E4B;&#x5916;)&#x3002; bufferDepth &#x8BBE;&#x7F6E;&#x6216;&#x8FD4;&#x56DE;&#x8C03;&#x8272;&#x677F;&#x7684;&#x6BD4;&#x7279;&#x6DF1;&#x5EA6;&#x3002; colorDepth &#x8FD4;&#x56DE;&#x76EE;&#x6807;&#x8BBE;&#x5907;&#x6216;&#x7F13;&#x51B2;&#x5668;&#x4E0A;&#x7684;&#x8C03;&#x8272;&#x677F;&#x7684;&#x6BD4;&#x7279;&#x6DF1;&#x5EA6;&#x3002; deviceXDPI &#x8FD4;&#x56DE;&#x663E;&#x793A;&#x5C4F;&#x5E55;&#x7684;&#x6BCF;&#x82F1;&#x5BF8;&#x6C34;&#x5E73;&#x70B9;&#x6570;&#x3002; deviceYDPI &#x8FD4;&#x56DE;&#x663E;&#x793A;&#x5C4F;&#x5E55;&#x7684;&#x6BCF;&#x82F1;&#x5BF8;&#x5782;&#x76F4;&#x70B9;&#x6570;&#x3002; fontSmoothingEnabled &#x8FD4;&#x56DE;&#x7528;&#x6237;&#x662F;&#x5426;&#x5728;&#x663E;&#x793A;&#x63A7;&#x5236;&#x9762;&#x677F;&#x4E2D;&#x542F;&#x7528;&#x4E86;&#x5B57;&#x4F53;&#x5E73;&#x6ED1;&#x3002; height &#x8FD4;&#x56DE;&#x663E;&#x793A;&#x5C4F;&#x5E55;&#x7684;&#x9AD8;&#x5EA6;&#x3002; logicalXDPI &#x8FD4;&#x56DE;&#x663E;&#x793A;&#x5C4F;&#x5E55;&#x6BCF;&#x82F1;&#x5BF8;&#x7684;&#x6C34;&#x5E73;&#x65B9;&#x5411;&#x7684;&#x5E38;&#x89C4;&#x70B9;&#x6570;&#x3002; logicalYDPI &#x8FD4;&#x56DE;&#x663E;&#x793A;&#x5C4F;&#x5E55;&#x6BCF;&#x82F1;&#x5BF8;&#x7684;&#x5782;&#x76F4;&#x65B9;&#x5411;&#x7684;&#x5E38;&#x89C4;&#x70B9;&#x6570;&#x3002; pixelDepth &#x8FD4;&#x56DE;&#x663E;&#x793A;&#x5C4F;&#x5E55;&#x7684;&#x989C;&#x8272;&#x5206;&#x8FA8;&#x7387;&#xFF08;&#x6BD4;&#x7279;&#x6BCF;&#x50CF;&#x7D20;&#xFF09;&#x3002; updateInterval &#x8BBE;&#x7F6E;&#x6216;&#x8FD4;&#x56DE;&#x5C4F;&#x5E55;&#x7684;&#x5237;&#x65B0;&#x7387;&#x3002; width &#x8FD4;&#x56DE;&#x663E;&#x793A;&#x5668;&#x5C4F;&#x5E55;&#x7684;&#x5BBD;&#x5EA6;&#x3002; 3.6 history &#x5BF9;&#x8C61;history &#x5BF9;&#x8C61;&#x83B7;&#x53D6;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x5386;&#x53F2;&#x6D4F;&#x89C8;&#x8BB0;&#x5F55;&#x3002; history &#x5BF9;&#x8C61;&#x5C5E;&#x6027; &#x5C5E;&#x6027; &#x63CF;&#x8FF0; length &#x8FD4;&#x56DE;&#x6D4F;&#x89C8;&#x5668;&#x5386;&#x53F2;&#x5217;&#x8868;&#x4E2D;&#x7684; URL &#x6570;&#x91CF;&#x3002; history &#x5BF9;&#x8C61;&#x5E38;&#x7528;&#x65B9;&#x6CD5;back();&#x540E;&#x9000; forward():&#x5411;&#x524D; go(int) go(-1) &#x76F8;&#x5F53;&#x4E8E; back() go(1) &#x76F8;&#x5F53;&#x4E8E; forward()","tags":[{"name":"前端基础","slug":"前端基础","permalink":"https://marklogzhu.github.io/tags/前端基础/"},{"name":"CSS","slug":"CSS","permalink":"https://marklogzhu.github.io/tags/CSS/"},{"name":"BOM","slug":"BOM","permalink":"https://marklogzhu.github.io/tags/BOM/"}]},{"title":"JavaScript 之 DOM 的使用","date":"2017-09-16T07:17:00.000Z","path":"uncategorized/前端/03.JavaScript/4.JavaScript之DOM的使用/","text":"&#x4E00;&#x3001;&#x4EC0;&#x4E48;&#x662F; DOM DOM &#x5168;&#x79F0;&#x662F; Document Object Model&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6587;&#x6863;&#x5BF9;&#x8C61;&#x6A21;&#x578B;&#x3002; dom &#x662F;&#x4E00;&#x4E2A;&#x6587;&#x6863;&#x5BF9;&#x8C61;&#xFF0C;&#x4ED6;&#x5C06;html&#x6587;&#x4EF6;&#x6309;&#x8282;&#x70B9;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x6587;&#x6863;&#x5BF9;&#x8C61; &#x4E8C;&#x3001;&#x5B83;&#x80FD;&#x5E72;&#x4EC0;&#x4E48;&#x5B83;&#x53EF;&#x4EE5;&#x8BA9;&#x6211;&#x4EEC;&#x64CD;&#x4F5C;&#x5BF9;&#x8C61;&#x4E00;&#x6837;&#x7684;&#x64CD;&#x4F5C;&#x6587;&#x6863;&#xFF0C;&#x6765;&#x8FDB;&#x884C;&#x589E;&#x5220;&#x6539;&#x64CD;&#x4F5C;&#x3002; &#x4E09;&#x3001;&#x8282;&#x70B9;DOM &#x6709;&#x8282;&#x70B9;&#x7EC4;&#x6210;&#xFF0C;&#x662F;&#x540C;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x5BF9;&#x8C61;&#xFF0C;&#x5B83;&#x6709;&#x5982;&#x4E0B;&#x4E09;&#x79CD;&#x8282;&#x70B9;&#xFF1A; &#x5143;&#x7D20;&#x8282;&#x70B9; &#x6587;&#x672C;&#x8282;&#x70B9; &#x5C5E;&#x6027;&#x8282;&#x70B9; 3.1 &#x5143;&#x7D20;&#x8282;&#x70B9;HTML &#x4E2D;&#x7684;&#x6807;&#x7B7E;&#x5C31;&#x662F;&#x5143;&#x7D20;&#x8282;&#x70B9;,&#x5982; &lt;a&gt;&#x3001;&lt;p&gt; &#x6807;&#x7B7E;&#x7B49;&#x3002; 3.2 &#x6587;&#x672C;&#x8282;&#x70B9;&#x6587;&#x672C;&#x8282;&#x70B9;&#x662F;&#x6307;&#x5982;&#x88AB; &lt;a&gt; &#x6807;&#x7B7E;&#x5305;&#x542B;&#x7684;&#x6587;&#x5B57;&#x5185;&#x5BB9;&#xFF0C;&#x5143;&#x7D20;&#x4E0D;&#x4E00;&#x5B9A;&#x90FD;&#x5305;&#x542B;&#x6587;&#x672C;&#x8282;&#x70B9;&#xFF0C;&#x5982;&lt;ul&gt;&#x3002; 3.3 &#x5C5E;&#x6027;&#x8282;&#x70B9;&#x5C5E;&#x6027;&#x8282;&#x70B9;&#x4E0A;&#x88AB;&#x5143;&#x7D20;&#x8282;&#x70B9;&#x5305;&#x542B;&#x7684;&#xFF0C;&#x5982; title &#x5C5E;&#x6027;&#x3002; &#x56DB;&#x3001;&#x8282;&#x70B9;&#x5C5E;&#x6027;4.1 childNodes &#x5C5E;&#x6027;&#x901A;&#x8FC7; childNodes &#x5C5E;&#x6027;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x4E0B;&#x6240;&#x5305;&#x542B;&#x7684;&#x6240;&#x6709;&#x5B50;&#x5143;&#x7D20;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#x5BF9;&#x8C61;&#x3002; var body = document.getElementsByTagName(&quot;body&quot;)[0]; var array = body.childNodes; 4.2 nodeType &#x5C5E;&#x6027;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x90FD;&#x6709; nodeType &#x5C5E;&#x6027;&#xFF0C;&#x53EF;&#x4EE5;&#x8BA9;&#x6211;&#x4EEC;&#x533A;&#x5206;&#x8282;&#x70B9;&#x7C7B;&#x578B;&#x3002;&#x5B83;&#x8FD4;&#x56DE;&#x7684;&#x503C;&#x662F;&#x6570;&#x5B57;&#xFF0C;&#x542B;&#x4E49;&#x5982;&#x4E0B;&#xFF1A; * &#x5143;&#x7D20;&#x8282;&#x70B9;&#xFF1A;1 * &#x5C5E;&#x6027;&#x8282;&#x70B9;&#xFF1A;2 * &#x6587;&#x672C;&#x8282;&#x70B9;&#xFF1A;3 4.3 nodeValue &#x5C5E;&#x6027;nodeValue &#x5C5E;&#x6027;&#x53EF;&#x4EE5;&#x8BA9;&#x6211;&#x4EEC;&#x83B7;&#x5F97;&#x6216;&#x8005;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x6587;&#x672C;&#x8282;&#x70B9;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5982;&#xFF1A; 123456// &#x83B7;&#x53D6;&#x6587;&#x672C;&#x5185;&#x5BB9;&#x5BF9;&#x8C61;var textView = document.getElementsByTagName(&quot;a&quot;)[0];// &#x83B7;&#x53D6;&#x6587;&#x672C;&#x8282;&#x70B9;&#x5185;&#x5BB9;var values = textView.nodeValue;// &#x8BBE;&#x7F6E;&#x6587;&#x672C;&#x8282;&#x70B9;&#x5185;&#x5BB9;textView.nodeValue = &quot;hello nodeValue&quot;; 4.4 firstChild &#x5C5E;&#x6027; first &#x82F1;&#x6587;&#x7FFB;&#x8BD1;&#x8FC7;&#x6765;&#x5C31;&#x662F;&#x7B2C;&#x4E00; &#x6211;&#x4EEC;&#x77E5;&#x9053; childNodes &#x5C5E;&#x6027;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#x5BF9;&#x8C61;&#xFF0C;&#x5982;&#x679C;&#x8981;&#x83B7;&#x53D6;&#x4ED6;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x8BDD;&#xFF0C;&#x9664;&#x4E86;&#x6839;&#x636E;&#x6570;&#x7EC4;&#x4E0B;&#x6807;&#x6765;&#x53D6;&#x4E4B;&#x5916;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; firstChild &#x5C5E;&#x6027;&#x6765;&#x83B7;&#x53D6;&#x3002; 1234// &#x6570;&#x7EC4;&#x4E0B;&#x6807;node.childNodes[0];// firstChild &#x5C5E;&#x6027;node.firstChild; 4.5 lastChild &#x5C5E;&#x6027;&#x4E0E; firstChild &#x5C5E;&#x6027;&#x76F8;&#x5BF9;&#x5E94;&#x7684;&#x5C31;&#x662F; lastChild &#x5C5E;&#x6027;,&#x5B83;&#x8868;&#x793A;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x3002; 1234// &#x6570;&#x7EC4;&#x4E0B;&#x6807;node.childNodes[node.childNodes.length-1];// lastChild &#x5C5E;&#x6027;node.lastChild; &#x4E94;&#x3001;&#x8BBE;&#x7F6E;/&#x83B7;&#x53D6; &#x5143;&#x7D20;&#x8282;&#x70B9;&#x5C5E;&#x6027;5.1 &#x83B7;&#x53D6;&#x5C5E;&#x6027;// &#x83B7;&#x53D6;&#x5C5E;&#x6027;&#x503C; getAttribute(&quot;&#x5C5E;&#x6027;&#x540D;&#x79F0;&quot;); 5.2 &#x8BBE;&#x7F6E;&#x5C5E;&#x6027;// &#x8BBE;&#x7F6E;&#x5C5E;&#x6027;&#x503C; setAttribute(&quot;&#x5C5E;&#x6027;&#x540D;&#x79F0;&quot;,&#x503C;); &#x516D;&#x3001;&#x64CD;&#x4F5C;&#x8282;&#x70B9;6.1 &#x83B7;&#x53D6;&#x8282;&#x70B9;&#x83B7;&#x53D6;&#x8282;&#x70B9;&#x5BF9;&#x8C61;&#x6709;&#x5982;&#x4E0B;&#x4E09;&#x79CD;&#x65B9;&#x5F0F;12345678// &#x83B7;&#x53D6;&#x6307;&#x5B9A;Id&#x5143;&#x7D20;document.getElementById(&quot;id&#x503C;&quot;);// &#x83B7;&#x53D6;&#x6307;&#x5B9A;&#x6807;&#x7B7E;&#x5143;&#x7D20;&#xFF0C;&#x8FD4;&#x56DE;&#x6570;&#x7EC4;&#x5BF9;&#x8C61;document.getElementsByTagName(&quot;&#x5143;&#x7D20;&#x540D;&#x79F0;&quot;);// &#x83B7;&#x53D6;&#x6307;&#x5B9A;&#x7C7B;&#xFF0C;&#x8FD4;&#x56DE;&#x6570;&#x7EC4;&#x5BF9;&#x8C61;document.getElementsByClassName(&quot;&#x7C7B;&#x540D;&#x79F0;&quot;);// &#x83B7;&#x53D6;&#x5C5E;&#x6027;&#x8282;&#x70B9;document.getElementById(&quot;id&#x503C;&quot;).getAttributeNode(&quot;&#x5C5E;&#x6027;&quot;); 6.2 &#x6539;&#x53D8;&#x8282;&#x70B9;6.2.1 &#x6539;&#x53D8;&#x8282;&#x70B9;&#x6587;&#x672C;&#x503C;1234// &#x83B7;&#x53D6;&#x5143;&#x7D20;&#x8282;&#x70B9;var view = document.getElementById(&quot;id&#x503C;&quot;);// &#x8BBE;&#x7F6E;&#x5C5E;&#x6027;&#x503C;view.nodeValue = &quot;&#x65B0;&#x503C;&quot;; 6.2.2 &#x6539;&#x53D8;&#x8282;&#x70B9;&#x5C5E;&#x6027;&#x503C;&#x65B9;&#x5F0F;&#x4E00;&#xFF1A; 1234// &#x83B7;&#x53D6;&#x5143;&#x7D20;&#x8282;&#x70B9;var view = document.getElementById(&quot;id&#x503C;&quot;);// &#x8BBE;&#x7F6E;&#x5C5E;&#x6027;&#x503C;view.setAttribute(&quot;&#x5C5E;&#x6027;&#x540D;&#x79F0;&quot;,&#x503C;); &#x65B9;&#x5F0F;&#x4E8C;&#xFF1A; 123456// &#x83B7;&#x53D6;&#x5143;&#x7D20;&#x8282;&#x70B9;var view = document.getElementById(&quot;id&#x503C;&quot;);// &#x83B7;&#x53D6;&#x5C5E;&#x6027;&#x8282;&#x70B9;var attributes = view.getAttributeNode(&quot;&#x5C5E;&#x6027;&quot;);// &#x8BBE;&#x7F6E;&#x5C5E;&#x6027;&#x503C;attributes.nodeValue = &quot;&#x65B0;&#x503C;&quot;; 6.3 &#x5220;&#x9664;&#x8282;&#x70B9;6.3.1 &#x5220;&#x9664;&#x8282;&#x70B9;&#x2013; &#x5220;&#x9664;&#x5305;&#x542B;&#x7684;&#x8282;&#x70B9;123456// &#x83B7;&#x53D6; body &#x5143;&#x7D20;var body = document.getElementsByTagName(&quot;body&quot;)[0];// &#x83B7;&#x53D6; body &#x4E0B;&#x7B2C;&#x4E00;&#x4E2A;p&#x5143;&#x7D20;var p = document.getElementsByTagName(&quot;p&quot;)[0];// &#x5220;&#x9664; body &#x4E0B;&#x7B2C;&#x4E00;&#x4E2A; p &#x5143;&#x7D20;body.removeChild(p); 6.3.2 &#x5220;&#x9664;&#x8282;&#x70B9;&#x2013; &#x5220;&#x9664;&#x81EA;&#x8EAB;123456// &#x83B7;&#x53D6; body &#x5143;&#x7D20;var body = document.getElementsByTagName(&quot;body&quot;)[0];// &#x83B7;&#x53D6; body &#x7684;&#x7236;&#x5143;&#x7D20;var father = body.parentNode;// &#x5220;&#x9664; body &#x5143;&#x7D20;father.removeChild(body); 6.3.3 &#x5220;&#x9664;&#x6307;&#x5B9A;&#x5C5E;&#x6027;&#x2013;&#x6839;&#x636E;&#x540D;&#x79F0;1234// &#x83B7;&#x53D6; a &#x6807;&#x7B7E;var a = document.getElementsByTagName(&quot;a&quot;)[0];// &#x5220;&#x9664;&#x6307;&#x5B9A;&#x5C5E;&#x6027;a.removeAttribute(&quot;&#x5C5E;&#x6027;&#x540D;&#x79F0;&quot;)&#xFF1B; 6.3.4 &#x5220;&#x9664;&#x6307;&#x5B9A;&#x5C5E;&#x6027;&#x2013;&#x6839;&#x636E;&#x5C5E;&#x6027;&#x8282;&#x70B9;&#x5BF9;&#x8C61;123456// &#x83B7;&#x53D6; a &#x6807;&#x7B7E;var a = document.getElementsByTagName(&quot;a&quot;)[0];// &#x83B7;&#x53D6;&#x6307;&#x5B9A;&#x5C5E;&#x6027;&#x8282;&#x70B9;&#x5BF9;&#x8C61;var attributes = a.getAttributeNode(&quot;&#x5C5E;&#x6027;&quot;);// &#x5220;&#x9664;&#x5C5E;&#x6027;a.removeAttributeNode(attributes); 6.4 &#x521B;&#x5EFA;&#x8282;&#x70B9;6.4.1 &#x521B;&#x5EFA;&#x5143;&#x7D20;&#x8282;&#x70B9;123456// &#x83B7;&#x53D6; body &#x5143;&#x7D20;var body = document.getElementsByTagName(&quot;body&quot;)[0];// &#x521B;&#x5EFA;&#x5143;&#x7D20;&#x8282;&#x70B9;var a = document.createElement(&quot;&#x6807;&#x7B7E;&#x540D;&quot;);// &#x6DFB;&#x52A0;&#x5143;&#x7D20;&#x8282;&#x70B9;&#xFF08;&#x6DFB;&#x52A0;&#x8282;&#x70B9;&#xFF0C;&#x76EE;&#x524D;&#x53EA;&#x4F7F;&#x7528;&#x6B64;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x5176;&#x4ED6;&#x5728;&#x6DFB;&#x52A0;&#x8282;&#x70B9;&#x8BE6;&#x7EC6;&#x8BF4;&#x660E;&#xFF09;body.appendChild(a); 6.4.2 &#x521B;&#x5EFA;&#x5C5E;&#x6027;&#x8282;&#x70B9;12345678// &#x83B7;&#x53D6;&#x5F85;&#x6DFB;&#x52A0;&#x5C5E;&#x6027;&#x7684;&#x5143;&#x7D20;&#x8282;&#x70B9;var a = document.getElementsByTagName(&quot;a&quot;)[0];// &#x521B;&#x5EFA;&#x5C5E;&#x6027;&#x8282;&#x70B9;var attributes = document.createAttribute(&quot;&#x5C5E;&#x6027;&#x540D;&#x79F0;&quot;);// &#x8BBE;&#x7F6E;&#x5C5E;&#x6027;&#x8282;&#x70B9;&#x503C;attributes.nodeValue = &quot;&#x5C5E;&#x6027;&#x503C;&quot;;// &#x6DFB;&#x52A0;&#x5C5E;&#x6027;&#x8282;&#x70B9;a.setAttributeNode(attributes); 6.4.3 &#x521B;&#x5EFA;&#x6587;&#x672C;&#x8282;&#x70B9;123456// &#x83B7;&#x53D6;&#x5F85;&#x6DFB;&#x52A0;&#x6587;&#x672C;&#x7684;&#x5143;&#x7D20;&#x8282;&#x70B9;var a = document.getElementsByTagName(&quot;a&quot;)[0];// &#x521B;&#x5EFA;&#x6587;&#x672C;&#x8282;&#x70B9;var text = document.createTextNode(&quot;&#x6587;&#x672C;&#x503C;&quot;);// &#x6DFB;&#x52A0;&#x6587;&#x672C;&#x8282;&#x70B9;a.appendChild(text); 6.5 &#x66FF;&#x6362;&#x8282;&#x70B9;6.5.1 &#x66FF;&#x6362;&#x8282;&#x70B9;123456789101112131415// &#x83B7;&#x53D6;&#x7236;&#x8282;&#x70B9;&#x5BF9;&#x8C61;var body document.getElementsByTagName(&quot;by&quot;)[0];// &#x65B0;&#x5EFA; p &#x8282;&#x70B9;&#x5BF9;&#x8C61;var p = document.createElement(&quot;p&quot;);// &#x65B0;&#x5EFA; a &#x8282;&#x70B9;&#x5BF9;&#x8C61;var a = document.createElement(&quot;a&quot;);// &#x65B0;&#x5EFA;&#x6587;&#x672C;&#x5BF9;&#x8C61;var newText = document.createTextNode(&quot;Hello World&quot;);// &#x8BBE;&#x7F6E;&#x503C;p.appendChild(newText);a.appendChild(newText);// &#x6DFB;&#x52A0;body.appendChild(p);// &#x66FF;&#x6362;&#x8282;&#x70B9;body.replaceChild(a,p); 6.5.2 &#x66FF;&#x6362;&#x8282;&#x70B9;&#x6587;&#x672C;&#x5185;&#x5BB9;replaceData(offset,length,string) &#x65B9;&#x6CD5;&#x7528;&#x4E8E;&#x66FF;&#x6362;&#x6587;&#x672C;&#x8282;&#x70B9;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x3002; offset - &#x5728;&#x4F55;&#x5904;&#x5F00;&#x59CB;&#x66FF;&#x6362;&#x5B57;&#x7B26;&#x3002;Offset &#x503C;&#x4EE5; 0 &#x5F00;&#x59CB;&#x3002; length - &#x8981;&#x66FF;&#x6362;&#x591A;&#x5C11;&#x5B57;&#x7B26; string - &#x8981;&#x63D2;&#x5165;&#x7684;&#x5B57;&#x7B26;&#x4E32; 1234// &#x83B7;&#x53D6;&#x6807;&#x9898;&#x5143;&#x7D20;&#x8282;&#x70B9;var x=document.getElementsByTagName(&quot;title&quot;)[0].childchildNodesNodes[0];// &#x66FF;&#x6362;&#x8282;&#x70B9;&#x6587;&#x672C;&#x5185;&#x5BB9;x.replaceData(0,8,&quot;hello&quot;); nodeValue &#x5C5E;&#x6027; &#x4E5F;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5B8C;&#x5168;&#x66FF;&#x6362;&#x6587;&#x672C;&#x6570;&#x636E;&#x3002; 1234// &#x83B7;&#x53D6;&#x6587;&#x672C;&#x5185;&#x5BB9;&#x5BF9;&#x8C61;var textView = document.getElementsByTagName(&quot;a&quot;)[0];// &#x8BBE;&#x7F6E;&#x6587;&#x672C;&#x8282;&#x70B9;&#x5185;&#x5BB9;textView.nodeValue = &quot;hello nodeValue&quot;; 6.6 &#x6DFB;&#x52A0;&#x8282;&#x70B9;&#x5185;&#x5BB9;6.6.1 &#x8FFD;&#x52A0;&#x8282;&#x70B9;&#x5185;&#x5BB9;appendChild() &#x65B9;&#x6CD5;&#x5411;&#x5DF2;&#x5B58;&#x5728;&#x7684;&#x8282;&#x70B9;&#x6DFB;&#x52A0;&#x5B50;&#x8282;&#x70B9;&#xFF0C;&#x65B0;&#x8282;&#x70B9;&#x4F1A;&#x6DFB;&#x52A0;&#xFF08;&#x8FFD;&#x52A0;&#xFF09;&#x5230;&#x4EFB;&#x4F55;&#x5DF2;&#x5B58;&#x5728;&#x7684;&#x5B50;&#x8282;&#x70B9;&#x4E4B;&#x540E;&#x3002;123456// &#x83B7;&#x53D6;&#x5F85;&#x6DFB;&#x52A0;&#x6587;&#x672C;&#x7684;&#x5143;&#x7D20;&#x8282;&#x70B9;var a = document.getElementsByTagName(&quot;a&quot;)[0];// &#x521B;&#x5EFA;&#x6587;&#x672C;&#x8282;&#x70B9;var text = document.createTextNode(&quot;&#x6587;&#x672C;&#x503C;&quot;);// &#x6DFB;&#x52A0;&#x6587;&#x672C;&#x8282;&#x70B9;a.appendChild(text); 6.6.2 &#x63D2;&#x5165;&#x8282;&#x70B9;insertBefore() &#x65B9;&#x6CD5;&#x7528;&#x4E8E;&#x5728;&#x6307;&#x5B9A;&#x7684;&#x5B50;&#x8282;&#x70B9;&#x4E4B;&#x524D;&#x63D2;&#x5165;&#x8282;&#x70B9;&#x3002; 12345678910111213141516171819&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;body&gt;&lt;ul id=&quot;myList&quot;&gt;&lt;li&gt;Coffee&lt;/li&gt;&lt;li&gt;Tea&lt;/li&gt;&lt;/ul&gt;&lt;p id=&quot;demo&quot;&gt;&#x8BF7;&#x70B9;&#x51FB;&#x6309;&#x94AE;&#x5411;&#x5217;&#x8868;&#x63D2;&#x5165;&#x4E00;&#x4E2A;&#x9879;&#x76EE;&#x3002;&lt;/p&gt;&lt;button onclick=&quot;myFunction()&quot;&gt;&#x8BD5;&#x4E00;&#x4E0B;&lt;/button&gt;&lt;script&gt;function myFunction(){ var newItem=document.createElement(&quot;LI&quot;) var textnode=document.createTextNode(&quot;Water&quot;) newItem.appendChild(textnode) var list=document.getElementById(&quot;myList&quot;) list.insertBefore(newItem,list.childNodes[0]);}&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; 6.6.3 &#x5411;&#x6587;&#x672C;&#x8282;&#x70B9;&#x6DFB;&#x52A0;&#x6587;&#x672C;insertData(offset,string)&#x65B9;&#x6CD5;&#x5C06;&#x6570;&#x636E;&#x63D2;&#x5165;&#x5DF2;&#x6709;&#x7684;&#x6587;&#x672C;&#x8282;&#x70B9;&#x4E2D;&#x3002; offset - &#x5728;&#x4F55;&#x5904;&#x5F00;&#x59CB;&#x63D2;&#x5165;&#x5B57;&#x7B26;&#xFF08;&#x4EE5; 0 &#x5F00;&#x59CB;&#xFF09; string - &#x8981;&#x63D2;&#x5165;&#x7684;&#x5B57;&#x7B26;&#x4E32;","tags":[{"name":"前端基础","slug":"前端基础","permalink":"https://marklogzhu.github.io/tags/前端基础/"},{"name":"CSS","slug":"CSS","permalink":"https://marklogzhu.github.io/tags/CSS/"},{"name":"DOM","slug":"DOM","permalink":"https://marklogzhu.github.io/tags/DOM/"}]},{"title":"3.JavaScript语法","date":"2017-09-07T12:49:00.000Z","path":"uncategorized/前端/03.JavaScript/3.JavaScript语法/","text":"JaScript &#x7684;&#x8BED;&#x6CD5;&#x501F;&#x9274;&#x4E86;&#x5F88;&#x591A;&#x7F16;&#x8BD1;&#x578B;&#x8BED;&#x8A00;&#x7684;&#x8BED;&#x6CD5;&#xFF0C;&#x5982; Java (&#x8C01;&#x53EB;&#x535A;&#x4E3B;&#x5C31;&#x53EA;&#x4F1A;JAVA&#x5462;&#xFF0C;&#x5176;&#x4ED6;&#x7684;&#x4E5F;&#x4E0D;&#x597D;&#x5217;&#x4E3E;&#x51FA;&#x6765;)&#x3002;&#x6240;&#x4EE5;&#x719F;&#x6089; Java &#x7684;&#x4EBA;&#x5BF9;&#x4E8E; JavaScript &#x8BED;&#x6CD5;&#x5E94;&#x8BE5;&#x662F;&#x6E38;&#x5203;&#x6709;&#x4F59;&#x7684;&#xFF0C;&#x4F46;&#x662F; JavaScript &#x6BD4; Java &#x66F4;&#x663E;&#x5BBD;&#x677E;&#xFF0C;&#x6709;&#x4E9B;&#x5730;&#x65B9;&#x8FD8;&#x662F;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x4E24;&#x8005;&#x7684;&#x533A;&#x522B;&#x3002; &#x5B57;&#x7B26;&#x96C6;JavaScript &#x91C7;&#x7528; Unicode &#x5B57;&#x7B26;&#x96C6;&#x7F16;&#x5199;&#xFF0C;&#x6709;&#x5173;&#x5B57;&#x7B26;&#x96C6;&#x7684;&#x533A;&#x522B;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5C0F;&#x4F19;&#x4F34;&#x4EEC;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1; &#x767E;&#x5EA6;&#x4E0B;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;&#x4E86;&#x3002; &#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;JavaScript &#x8DDF; Java &#x4E00;&#x6837;&#x662F;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#xFF0C;&#x56E0;&#x4E3A;&#x4ED6;&#x8DDF; HTML &#x8054;&#x7CFB;&#x7D27;&#x5BC6;&#xFF0C;&#x4F1A;&#x7ED9;&#x4EBA;&#x9020;&#x6210;&#x4E00;&#x79CD;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x7684;&#x9519;&#x89C9;&#x3002;&#x56E0;&#x6B64;&#x8FD9;&#x91CC;&#x8981;&#x5F3A;&#x8C03;&#x4E0B;&#xFF0C;JavaScript &#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#xFF0C;&#x5E76;&#x4E14; HTML &#x4E2D;&#x7684;&#x6807;&#x7B7E;&#x8DDF;&#x5C5E;&#x6027;&#xFF0C;&#x5728; JavaScript &#x4E2D;&#x5FC5;&#x987B;&#x662F;&#x5C0F;&#x5199;&#x7684;&#xFF0C;&#x4F8B;&#x5982; onclick &#x5C5E;&#x6027;&#x53EF;&#x4EE5;&#x5728; HTML &#x4E2D;&#x5199;&#x6210; onClick&#xFF0C;&#x4F46;&#x5728; JavaScript &#x4EE3;&#x7801;&#x4E2D;&#xFF0C;&#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x5C0F;&#x5199;&#x7684; onclick&#x3002; &#x57FA;&#x7840;&#x8BED;&#x6CD5;1. &#x8BED;&#x53E5;&#x7528; JavaScript &#x7F16;&#x5199;&#x7684;&#x811A;&#x672C;&#xFF0C;&#x8DDF;&#x5176;&#x4ED6;&#x8BED;&#x8A00;&#x7F16;&#x5199;&#x51FA;&#x6765;&#x7684;&#x811A;&#x672C;&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x90FD;&#x7531;&#x4E00;&#x7CFB;&#x5217;&#x6307;&#x4EE4;&#x7EC4;&#x6210;&#xFF0C;&#x8FD9;&#x4E9B;&#x6307;&#x4EE4;&#x5C31;&#x53EB;&#x505A;&#x8BED;&#x53E5;&#x3002; JavaScript &#x8BED;&#x53E5;&#x4E0D;&#x50CF; Java &#x4E00;&#x6837;&#x4E25;&#x683C;&#xFF0C;&#x5FC5;&#x987B;&#x4EE5;&#x201C;;&#x201D;&#x53F7;&#x7ED3;&#x5C3E;&#x3002;&#x4F46;&#x662F;&#x4E3A;&#x4E86;&#x9605;&#x8BFB;&#x4E60;&#x60EF;&#xFF0C;&#x540C;&#x65F6;&#x4E5F;&#x662F;&#x4E00;&#x79CD;&#x597D;&#x7684;&#x7F16;&#x7A0B;&#x4E60;&#x60EF;&#xFF0C;&#x5F3A;&#x70C8;&#x8981;&#x6C42;&#x5FC5;&#x987B;&#x5728;&#x8BED;&#x53E5;&#x672B;&#x5C3E;&#x52A0;&#x4E0A;&#x201C; ; &#x201D;&#x53F7;&#x3002; 2.&#x6CE8;&#x91CA;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x7684; JavaScript &#x4EE3;&#x7801;&#x90FD;&#x9700;&#x8981; JavaScript &#x89E3;&#x91CA;&#x5668;&#x53BB;&#x89E3;&#x91CA;&#x5E76;&#x6267;&#x884C;&#x3002;&#x6709;&#x65F6;&#x4E00;&#x4E9B;&#x4EE3;&#x7801;&#xFF0C;&#x4F60;&#x4E0D;&#x60F3;&#x8BA9;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;//&#xFF08;&#x5355;&#x884C;&#x6CE8;&#x91CA;&#xFF09;&#x6216;&#x8005; /**/&#xFF08;&#x591A;&#x884C;&#x6CE8;&#x91CA;&#xFF09;&#x6765;&#x6CE8;&#x91CA;&#x6389;&#x3002;&#x4F8B;&#x5982;&#xFF1A; 123456789&lt;script type=&quot;text/javascript&quot;&gt; function main(){ // console.log(&quot;&#x8FD9;&#x662F;&#x5355;&#x884C;&#x6CE8;&#x91CA;&#xFF0C;&#x4F60;&#x662F;&#x65E0;&#x6CD5;&#x770B;&#x5230;&#x7684;&quot;); console.log(&quot;Hello,JavaScript!&quot;); /** * console.log(&quot;&#x8FD9;&#x662F;&#x591A;&#x884C;&#x6CE8;&#x91CA;&#xFF0C;&#x4F60;&#x4E5F;&#x662F;&#x65E0;&#x6CD5;&#x770B;&#x5230;&#x7684;&quot;); ** / }&lt;/script&gt; 3.&#x5E38;&#x91CF;&#x4E0E;&#x53D8;&#x91CF; &#x5728;&#x65E5;&#x5E38;&#x751F;&#x6D3B;&#x4E2D;&#xFF0C;&#x6709;&#x4E9B;&#x4E1C;&#x897F;&#x662F;&#x56FA;&#x5B9A;&#x4E0D;&#x53D8;&#x7684;,&#x6709;&#x4E9B;&#x4E1C;&#x897F;&#x5219;&#x4F1A;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x4EBA;&#x7684;&#x751F;&#x65E5;&#x662F;&#x4E0D;&#x4F1A;&#x53D8;&#x5316;&#x7684;&#xFF0C;&#x800C;&#x4EBA;&#x7684;&#x5E74;&#x9F84;&#x662F;&#x4F1A;&#x968F;&#x7740;&#x65F6;&#x95F4;&#x53D8;&#x5316;&#x800C;&#x53D8;&#x5316;&#xFF0C;&#x4EBA;&#x4EEC;&#x5C06;&#x90A3;&#x4E9B;&#x4F1A;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x7684;&#x4E1C;&#x897F;&#x6210;&#x4E3A;&#x53D8;&#x91CF; &#x4EE5;&#x4E0A;&#x5173;&#x4E8E;&#x53D8;&#x91CF;&#x5B9A;&#x4E49;&#x7684;&#x8BF4;&#x660E;&#x6765;&#x81EA;&#x4E8E;&#x300A;JavaScript DOM &#x7F16;&#x7A0B;&#x827A;&#x672F;&#x300B;&#xFF0C;&#x4ECE;&#x4E0A;&#x9762;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x4E00;&#x822C;&#x6765;&#x8BF4;&#xFF0C;&#x56FA;&#x5B9A;&#x4E0D;&#x52A8;&#x7684;&#x6570;&#x636E;&#x6211;&#x4EEC;&#x79F0;&#x4E3A; &#x5E38;&#x91CF; &#xFF0C;&#x800C;&#x53EF;&#x4EE5;&#x6539;&#x53D8;&#x7684;&#x6570;&#x636E;&#x6211;&#x4EEC;&#x79F0;&#x4E3A; &#x53D8;&#x91CF;&#x3002; &#x628A;&#x503C;&#x5B58;&#x5165;&#x5E38;&#x91CF;&#x6216;&#x53D8;&#x91CF;&#x7684;&#x64CD;&#x4F5C;&#x5C31;&#x53EB;&#x505A; &#x8D4B;&#x503C;&#x3002;&#x4F8B;&#x5982;&#xFF1A;1234// &#x5C06;18&#x8D4B;&#x503C;&#x7ED9;age age = 18;// &#x5F39;&#x51FA;&#x5BF9;&#x8BDD;&#x6846;&#xFF0C;&#x663E;&#x793A;age&#x7684;&#x503C; alert(age); &#x4E86;&#x89E3; Java &#x8BED;&#x6CD5;&#x7684;&#x4EBA;&#xFF0C;&#x5E94;&#x8BE5;&#x77E5;&#x9053;&#x5728; Java &#x4E2D;&#x5FC5;&#x987B;&#x5148;&#x58F0;&#x660E;&#x53D8;&#x91CF;&#x7C7B;&#x578B;&#x518D;&#x8D4B;&#x503C;&#xFF0C;&#x4F46;&#x662F; JavaScript &#x53EF;&#x4EE5;&#x4E0D;&#x4E8B;&#x5148;&#x58F0;&#x660E;&#x5C31;&#x76F4;&#x63A5;&#x8D4B;&#x503C;&#x3002;&#x4F46;&#x662F;&#x63D0;&#x524D;&#x7533;&#x660E;&#x662F;&#x4E00;&#x79CD;&#x826F;&#x597D;&#x7684;&#x7F16;&#x7A0B;&#x4E60;&#x60EF;&#xFF0C;&#x800C;&#x4E14;&#x4E5F;&#x53EF;&#x4EE5;&#x533A;&#x5206;&#x662F;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#xFF0C;&#x8FD8;&#x662F;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x3002; 1234// &#x58F0;&#x660E;&#x53D8;&#x91CF; age&#xFF0C;&#x5E76;&#x4E14;&#x5C06;18&#x8D4B;&#x503C;&#x7ED9;agevar age = 18;// &#x5F39;&#x51FA;&#x5BF9;&#x8BDD;&#x6846;&#xFF0C;&#x663E;&#x793A;age&#x7684;&#x503C;alert(age); 12345678var age = 200; // &#x5168;&#x5C40;&#x53D8;&#x91CF;test();console.log(age); // &#x731C;&#x731C;&#x662F;200&#x8FD8;&#x662F;18function test(){ var age = 18; // &#x5C40;&#x90E8;&#x53D8;&#x91CF;} 4.&#x57FA;&#x7840;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x5728; Java &#x8BED;&#x8A00;&#x4E2D;&#xFF0C;&#x58F0;&#x660E;&#x53D8;&#x91CF;&#x7684;&#x540C;&#x65F6;&#x5FC5;&#x987B;&#x540C;&#x65F6;&#x58F0;&#x660E;&#x53D8;&#x91CF;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;&#x8FD9;&#x79CD;&#x505A;&#x6CD5;&#x53EB;&#x505A; &#x7C7B;&#x578B;&#x58F0;&#x660E;&#x3002;&#x800C;&#x8FD9;&#x79CD;&#x9700;&#x8981;&#x540C;&#x65F6;&#x58F0;&#x660E;&#x53D8;&#x91CF;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x7684;&#x8BED;&#x8A00;&#x53EB;&#x505A;&#x5F3A;&#x7C7B;&#x578B;&#x8BED;&#x8A00;&#xFF0C;&#x800C; JavaScript &#x662F;&#x4E00;&#x79CD;&#x5F31;&#x7C7B;&#x578B;&#x8BED;&#x8A00;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x53EF;&#x4EE5;&#x5728;&#x4EFB;&#x4F55;&#x65F6;&#x5019;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x7684;&#x7C7B;&#x578B;&#x3002;&#x4F8B;&#x5982;&#xFF1A; 12var age =18;age=&quot;18&quot;; &#x5728; Java &#x4E2D;&#x8FD9;&#x662F;&#x975E;&#x6CD5;&#x7684;&#xFF0C;&#x4F46;&#x662F; JavaScript &#x4E2D;&#x5E76;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x95EE;&#x9898;&#xFF0C; JavaScript &#x5E76;&#x4E0D;&#x5728;&#x610F;&#x53D8;&#x91CF; age &#x662F;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#x8FD8;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x3002; 12var age = &quot;18&quot;; // Stringvar age Undefined &#x7C7B;&#x578B;Undefined &#x7C7B;&#x578B;&#x53EA;&#x6709;1&#x4E2A;&#x503C;&#xFF0C;&#x5373; undefined&#x3002;&#x4F7F;&#x7528; var &#x58F0;&#x660E;&#x53D8;&#x91CF;&#x4F46;&#x672A;&#x5BF9;&#x5176;&#x52A0;&#x4EE5;&#x521D;&#x59CB;&#x5316;&#x65F6;&#xFF0C;&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x7684;&#x503C;&#x5C31;&#x662F; undefined&#xFF0C;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x672A;&#x58F0;&#x660E;&#x7684;&#x53D8;&#x91CF;&#x4F1A;&#x4EA7;&#x751F;&#x9519;&#x8BEF;&#x3002;&#x5BF9;&#x672A;&#x58F0;&#x660E;&#x6216;&#x5DF2;&#x58F0;&#x660E;&#x4F46;&#x672A;&#x521D;&#x59CB;&#x5316;&#x7684;&#x53D8;&#x91CF;&#x6267;&#x884C; typeof &#x8FD0;&#x7B97;&#x7B26;&#x4F1A;&#x8FD4;&#x56DE; &quot;undefined&quot; &#x503C;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;(typeof &#x8FD0;&#x7B97;&#x7B26;&#x4F1A;&#x5728;&#x4E0B;&#x9762;&#x8BB2;&#x5230;) 1234567var message; // &#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x58F0;&#x660E;&#x4E4B;&#x540E;&#x9ED8;&#x8BA4;&#x53D6;&#x5F97;&#x4E86; undefined &#x503C;// var age // &#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x5E76;&#x6CA1;&#x6709;&#x58F0;&#x660E;console.log(message); // &quot;undefined&quot;console.log(age); // &#x4EA7;&#x751F;&#x9519;&#x8BEF;console.log(typeof message); // &quot;undefined&quot;console.log(typeof age); // &quot;undefined&quot; Null &#x7C7B;&#x578B;Null &#x7C7B;&#x578B;&#x4E5F;&#x53EA;&#x6709;1&#x4E2A;&#x503C;&#xFF0C;&#x5373; null&#x3002;&#x5B83;&#x7528;&#x6765;&#x8868;&#x793A;&#x503C;&#x7684;&#x7A7A;&#x7F3A;&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A; undefined &#x662F;&#x8868;&#x793A;&#x7CFB;&#x7EDF;&#x7EA7;&#x7684;&#x3001;&#x51FA;&#x4E4E;&#x610F;&#x6599;&#x7684;&#x6216;&#x7C7B;&#x4F3C;&#x9519;&#x8BEF;&#x7684;&#x503C;&#x7684;&#x7A7A;&#x7F3A;&#xFF0C;&#x800C; null &#x662F;&#x8868;&#x793A;&#x7A0B;&#x5E8F;&#x7EA7;&#x7684;&#x3001;&#x6B63;&#x5E38;&#x7684;&#x6216;&#x5728;&#x610F;&#x6599;&#x4E4B;&#x4E2D;&#x7684;&#x503C;&#x7684;&#x7A7A;&#x7F3A;&#x3002;&#x5728;&#x4E0B;&#x5217;&#x573A;&#x666F;&#x4E2D;&#x5E94;&#x5F53;&#x4F7F;&#x7528; null&#x3002; &#x7528;&#x6765;&#x521D;&#x59CB;&#x5316;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#xFF0C;&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x53EF;&#x80FD;&#x8D4B;&#x503C;&#x4E3A;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x3002; &#x7528;&#x6765;&#x548C;&#x4E00;&#x4E2A;&#x5DF2;&#x7ECF;&#x521D;&#x59CB;&#x5316;&#x7684;&#x53D8;&#x91CF;&#x6BD4;&#x8F83;&#xFF0C;&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#x53EF;&#x4EE5;&#x662F;&#x4E5F;&#x53EF;&#x4EE5;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x3002; &#x5F53;&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x671F;&#x671B;&#x662F;&#x5BF9;&#x8C61;&#x65F6;&#xFF0C;&#x4F5C;&#x7528;&#x53C2;&#x6570;&#x4F20;&#x5165;&#x3002; &#x5F53;&#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x671F;&#x671B;&#x662F;&#x5BF9;&#x8C61;&#x65F6;&#xFF0C;&#x4F5C;&#x7528;&#x8FD4;&#x56DE;&#x503C;&#x4F20;&#x51FA;&#x3002; &#x5728;&#x4E0B;&#x5217;&#x573A;&#x666F;&#x4E2D;&#x4E0D;&#x5E94;&#x5F53;&#x4F7F;&#x7528; null&#x3002; &#x4E0D;&#x8981;&#x4F7F;&#x7528; null &#x6765;&#x68C0;&#x6D4B;&#x662F;&#x5426;&#x4F20;&#x5165;&#x4E86;&#x67D0;&#x4E2A;&#x53C2;&#x6570;&#x3002; &#x4E0D;&#x8981;&#x4F7F;&#x7528; null &#x6765;&#x68C0;&#x6D4B;&#x4E00;&#x4E2A;&#x672A;&#x521D;&#x59CB;&#x5316;&#x7684;&#x53D8;&#x91CF;&#x3002; &#x5B57;&#x7B26;&#x4E32;&#x5B57;&#x7B26;&#x4E32;&#x7531;&#x96F6;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x5B57;&#x7B26;&#x7EC4;&#x6210;&#xFF0C;&#x5B57;&#x7B26;&#x5305;&#x62EC;&#xFF08;&#x4F46;&#x4E0D;&#x9650;&#x4E8E;&#xFF09;&#x5B57;&#x6BCD;&#x3001;&#x6570;&#x5B57;&#x3001;&#x6807;&#x70B9;&#x7B26;&#x53F7;&#x548C;&#x7A7A;&#x683C;&#x3002;&#x5B57;&#x7B26;&#x4E32;&#x5FC5;&#x987B;&#x5305;&#x5728;&#x5F15;&#x53F7;&#x91CC;&#xFF0C;&#x5355;&#x5F15;&#x53F7;&#x6216;&#x53CC;&#x5F15;&#x53F7;&#x90FD;&#x53EF;&#x4EE5;&#x3002; 12var weather = &apos;&#x6674;&#x5929;&apos;;var weather = &quot;&#x6674;&#x5929;&quot;; &#x4F60;&#x53EF;&#x4EE5;&#x968F;&#x610F;&#x9009;&#x62E9;&#x5F15;&#x53F7;&#xFF0C;&#x4F46;&#x662F;&#x6700;&#x597D;&#x6839;&#x636E;&#x5B57;&#x7B26;&#x4E32;&#x6240;&#x5305;&#x542B;&#x7684;&#x5B57;&#x7B26;&#x6765;&#x9009;&#x62E9;&#x3002;&#x6BD4;&#x5982;&#xFF0C;&#x5B57;&#x7B26;&#x4E32;&#x91CC;&#x6709;&#x5355;&#x5F15;&#x53F7;&#xFF0C;&#x5C31;&#x5E94;&#x8BE5;&#x9009;&#x62E9;&#x53CC;&#x5F15;&#x53F7;&#x6765;&#x5305;&#x542B;&#x3002;&#x53CD;&#x4E4B;&#xFF0C;&#x5C31;&#x5E94;&#x8BE5;&#x9009;&#x62E9;&#x5355;&#x5F15;&#x53F7;&#x3002;12var weather = &apos;&#x4ECA;&#x5929;&#x662F;&#x4E2A;&quot;&#x6674;&#x5929;&quot;&apos;;var weather = &quot;&#x4ECA;&#x5929;&#x662F;&#x4E2A;&apos;&#x6674;&#x5929;&apos;&quot;; &#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x8DDF; Java &#x7C7B;&#x4F3C;&#xFF0C;&#x9009;&#x62E9;&#x8F6C;&#x4E49;&#x7B26; \\ &#x6765;&#x8F6C;&#x4E49;&#x3002;12var weather = &apos;&#x4ECA;&#x5929;&#x662F;&#x4E2A;\\&apos;&#x6674;&#x5929;&quot;\\&apos;&apos;;var weather = &quot;&#x4ECA;&#x5929;&#x662F;&#x4E2A;\\&quot;&#x6674;&#x5929;\\&quot;&quot;; &#x6570;&#x503C;JavaScript &#x652F;&#x6301;&#x6B63;&#x8D1F;&#x6D6E;&#x70B9;&#x6570;&#x8DDF;&#x6574;&#x578B; 1234var age = 1;var age = -1;var age = 100.1;var age = -100.1; &#x5E03;&#x5C14;&#x578B;&#x5E03;&#x5C14;&#x7C7B;&#x578B;&#xFF08;boolean&#xFF09;&#x7684;&#x503C;&#x6709;&#x4E24;&#x79CD;,true&#x548C;false.&#x5728;&#x975E;&#x6B64;&#x5373;&#x5F7C;&#x7684;&#x573A;&#x666F;&#x4E0B;&#xFF0C;&#x5F80;&#x5F80;&#x4F7F;&#x7528;&#x5E03;&#x5C14;&#x7C7B;&#x578B;&#x4F1A;&#x66F4;&#x7B80;&#x5355;&#x3002; 5.&#x6570;&#x7EC4;&#x5B57;&#x7B26;&#x4E32;&#x3001;&#x6570;&#x503C;&#x8DDF;&#x5E03;&#x5C14;&#x578B;&#xFF0C;&#x53EA;&#x80FD;&#x7528;&#x6765;&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x503C;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x5B58;&#x50A8;&#x4E00;&#x7EC4;&#x503C;&#xFF0C;&#x6570;&#x7EC4;(array) &#x5C31;&#x8981;&#x7C89;&#x58A8;&#x767B;&#x573A;&#x4E86;&#x3002; &#x6570;&#x7EC4;&#x662F;&#x6307;&#x7528;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x503C;&#x7684;&#x96C6;&#x5408;,&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x503C;&#x90FD;&#x662F;&#x8FD9;&#x4E2A;&#x6570;&#x7EC4;&#x7684;&#x4E00;&#x4E2A;&#x5143;&#x7D20;. &#x5728; JavaScript &#x4E2D;&#x7528;&#x5173;&#x952E;&#x5B57; Array &#x6765;&#x58F0;&#x660E;&#x6570;&#x7EC4;&#x3002; 123var teams = Array();var teams = Array(4);var teams = {&quot;&#x8DB3;&#x7403;&#x961F;&quot;,&quot;&#x7BEE;&#x7403;&#x961F;&quot;,&quot;&#x6392;&#x7403;&#x961F;&quot;,&quot;&#x7F51;&#x7403;&#x961F;&quot;}; &#x6570;&#x7EC4;&#x8D4B;&#x503C;&#x65B9;&#x5F0F;&#xFF1A; 123var teams = Array();teams[0] = &quot;&#x8DB3;&#x7403;&#x961F;&quot;;teams[0] = &quot;&#x7BEE;&#x7403;&#x961F;&quot;; &#x5728; Java &#x8BED;&#x8A00;&#x4E2D;&#x6570;&#x7EC4;&#x91CC;&#x9762;&#x7684;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x662F;&#x540C;&#x4E00;&#x7C7B;&#x578B;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x5728; JavaScript &#x4E2D;&#x5C31;&#x6CA1;&#x6709;&#x8FD9;&#x6837;&#x7684;&#x9650;&#x5236;&#xFF0C;&#x6570;&#x7EC4;&#x5185;&#x7684;&#x5143;&#x7D20;&#x53EF;&#x4EE5;&#x662F;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684;&#xFF0C;&#x8BBE;&#x7F6E;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x6216;&#x8005;&#x6570;&#x7EC4;&#x3002; 12var teams1 = {&quot;&#x8DB3;&#x7403;&#x961F;&quot;,10, false};var teams2 = {&quot;&#x7BEE;&#x7403;&#x961F;&quot;,teams1}; 6.&#x5BF9;&#x8C61;&#x4E0E;&#x6570;&#x7EC4;&#x7C7B;&#x4F3C;&#xFF0C;&#x5BF9;&#x8C61;&#x4E5F;&#x662F;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x540D;&#x5B57;&#x8868;&#x793A;&#x4E00;&#x7EC4;&#x503C;&#x3002;&#x5BF9;&#x8C61;&#x7684;&#x6BCF;&#x4E2A;&#x503C;&#x90FD;&#x662F;&#x5B83;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x4F8B;&#x5982;1234var student = Object;student.name=&quot;&#x5F20;&#x4E09;&quot;;student.age = 18;student.hobby = {&quot;&#x7BEE;&#x7403;&quot;&#xFF0C;&#x201C;&#x8DD1;&#x6B65;&#x201D;&#xFF0C;&#x201C;&#x7F16;&#x7A0B;&#x201D;}; &#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#x6709;&#x4E00;&#x79CD;&#x66F4;&#x7B80;&#x6D01;&#x7684;&#x8BED;&#x6CD5;&#xFF1A;1var student = {&quot;name&quot;:&quot;&#x5F20;&#x4E09;&quot;,&quot;age&quot;:18,&quot;hobby&quot;:&quot;{&apos;&#x7BEE;&#x7403;&apos;&#xFF0C;&apos;&#x8DD1;&#x6B65;&apos;&#xFF0C;&apos;&#x7F16;&#x7A0B;&apos;}&quot;}; &#x64CD;&#x4F5C;&#x7B97;&#x672F;&#x64CD;&#x4F5C;&#x7B26;&#x52A0; (+)&#x3001;&#x51CF;(-)&#x3001;&#x4E58;(*)&#x3001;&#x9664;(/) &#x5C31;&#x662F;&#x7B97;&#x672F;&#x64CD;&#x4F5C;&#x7B26;&#x3002; &#x6761;&#x4EF6;&#x8BED;&#x53E5;IF &#x8BED;&#x53E5;&#x5728;&#x505A;&#x5224;&#x65AD;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x7528;&#x5230;&#x4E86; IF &#x8BED;&#x53E5;&#xFF0C;&#x5B83;&#x7684;&#x8BED;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A; 12345if(&#x6761;&#x4EF6;){ alert(&quot;&#x6EE1;&#x8DB3;&#x6761;&#x4EF6;&#x65F6;&#x6267;&#x884C;&quot;)&#xFF1B;}else{ alert(&quot;&#x4E0D;&#x6EE1;&#x8DB3;&#x6761;&#x4EF6;&#x65F6;&#x6267;&#x884C;&quot;);} &#x6761;&#x4EF6;&#x7684;&#x7ED3;&#x679C;&#x6C38;&#x8FDC;&#x662F;&#x5E03;&#x5C14;&#x578B;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x4F60;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x8BBE;&#x7F6E;&#x7684;&#x6761;&#x4EF6;&#x5B9E;&#x73B0;&#x4E0D;&#x540C;&#x7684;&#x64CD;&#x4F5C;&#x3002; &#x6BD5;&#x7ADF;&#x64CD;&#x4F5C;&#x7B26; : &#x5927;&#x4E8E;&#x64CD;&#x4F5C;&#x7B26; &lt; &#xFF1A;&#x5C0F;&#x4E8E;&#x64CD;&#x4F5C;&#x7B26; = : &#x5927;&#x4E8E;&#x7B49;&#x4E8E;&#x64CD;&#x4F5C;&#x7B26; &lt;= : &#x5927;&#x4E8E;&#x7B49;&#x4E8E;&#x64CD;&#x4F5C;&#x7B26; == : &#x7B49;&#x4E8E;&#x64CD;&#x4F5C;&#x7B26; != : &#x4E0D;&#x7B49;&#x4E8E;&#x64CD;&#x4F5C;&#x7B26; === : &#x5168;&#x7B49;&#x4E8E;&#x64CD;&#x4F5C;&#x7B26;&#xFF0C;&#x4E0D;&#x4EC5;&#x6BD4;&#x8F83;&#x503C;&#xFF0C;&#x8FD8;&#x8981;&#x6BD4;&#x8F83;&#x662F;&#x5426;&#x4E3A;&#x540C;&#x4E00;&#x7C7B;&#x578B; !== : &#x5168;&#x4E0D;&#x7B49;&#x4E8E;&#x64CD;&#x4F5C;&#x7B26;&#xFF0C;&#x4E0D;&#x4EC5;&#x6BD4;&#x8F83;&#x503C;&#xFF0C;&#x8FD8;&#x8981;&#x6BD4;&#x8F83;&#x662F;&#x5426;&#x4E3A;&#x540C;&#x4E00;&#x7C7B;&#x578B; &#x903B;&#x8F91;&#x64CD;&#x4F5C;&#x7B26; &amp;&amp; &#xFF1A;&#x903B;&#x8F91;&#x4E0E; &#xFF0C;&#x4E24;&#x4E2A;&#x6761;&#x4EF6;&#x540C;&#x65F6;&#x7B49;&#x4E8E;true&#xFF0C;&#x5B83;&#x7684;&#x503C;&#x624D;&#x662F;true || &#xFF1A;&#x903B;&#x8F91;&#x6216; &#xFF0C;&#x6709;&#x4E00;&#x4E2A;&#x6761;&#x4EF6;&#x540C;&#x65F6;&#x7B49;&#x4E8E;true&#xFF0C;&#x5B83;&#x7684;&#x503C;&#x5C31;&#x662F;true ! : &#x903B;&#x8F91;&#x975E;&#xFF0C;&#x53D6;&#x76F8;&#x53CD;&#x503C;&#xFF0C;&#x5982;&#x679C;&#x6761;&#x4EF6;&#x503C;&#x4E3A;true&#xFF0C;&#x5B83;&#x7684;&#x503C;&#x5C31;&#x662F;false typeof &#x8FD0;&#x7B97;&#x7B26;&#x9274;&#x4E8E; JavaScript &#x662F;&#x677E;&#x6563;&#x7C7B;&#x578B;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x6709;&#x4E00;&#x79CD;&#x624B;&#x6BB5;&#x6765;&#x68C0;&#x6D4B;&#x7ED9;&#x5B9A;&#x53D8;&#x91CF;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;typeof &#x5C31;&#x662F;&#x8D1F;&#x8D23;&#x63D0;&#x4F9B;&#x8FD9;&#x65B9;&#x9762;&#x4FE1;&#x606F;&#x7684;&#x8FD0;&#x7B97;&#x7B26;&#x3002;&#x5BF9;&#x4E00;&#x4E2A;&#x503C;&#x4F7F;&#x7528; typeof &#x8FD0;&#x7B97;&#x7B26;&#x53EF;&#x80FD;&#x8FD4;&#x56DE;&#x4E0B;&#x5217;&#x67D0;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF1A; &quot;undefined&quot;&#xFF0C;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x503C;&#x672A;&#x58F0;&#x660E;&#x6216;&#x5DF2;&#x58F0;&#x660E;&#x4F46;&#x672A;&#x521D;&#x59CB;&#x5316;&#x3002; &quot;boolean&quot;&#xFF0C;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x503C;&#x662F;&#x5E03;&#x5C14;&#x503C;&#x3002; &quot;string&quot;&#xFF0C;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x503C;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x3002; &quot;number&quot;&#xFF0C;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x503C;&#x662F;&#x6570;&#x503C;&#x3002; &quot;object&quot;&#xFF0C;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x503C;&#x662F;&#x5BF9;&#x8C61;&#x6216; null&#x3002; &quot;function&quot;&#xFF0C;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x503C;&#x662F;&#x51FD;&#x6570;&#x3002; &#x4E0B;&#x9762;&#x662F;&#x51E0;&#x4E2A;&#x4F7F;&#x7528; typeof &#x8FD0;&#x7B97;&#x7B26;&#x7684;&#x4F8B;&#x5B50;&#xFF1A; 1234var message = &quot;some string&quot;;console.log(typeof message); // &quot;string&quot;console.log(typeof(message)); // &quot;string&quot;console.log(typeof 95); // &quot;number&quot; &#x4ECE;&#x4EE5;&#x4E0A;&#x4F8B;&#x5B50;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;typeof &#x8FD0;&#x7B97;&#x7B26;&#x65E2;&#x53EF;&#x4EE5;&#x5BF9;&#x53D8;&#x91CF;&#x4F7F;&#x7528;&#xFF0C;&#x53C8;&#x53EF;&#x4EE5;&#x5BF9;&#x5B57;&#x9762;&#x91CF;&#x4F7F;&#x7528;&#x3002;&#x7531;&#x4E8E; typeof &#x662F;&#x4E00;&#x4E2A;&#x8FD0;&#x7B97;&#x7B26;&#x800C;&#x4E0D;&#x662F;&#x51FD;&#x6570;&#xFF0C;&#x56E0;&#x6B64;&#x4F8B;&#x5B50;&#x4E2D;&#x7684;&#x5706;&#x62EC;&#x53F7;&#x5C3D;&#x7BA1;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#xFF0C;&#x4F46;&#x5E76;&#x4E0D;&#x63D0;&#x5021;&#x3002; typeof null &#x7ED3;&#x679C;&#x662F; &quot;object&quot; &#x662F;&#x5386;&#x53F2;&#x9057;&#x7559; Bug&#xFF0C;&#x5728; ECMAScript 6 &#x4E2D;&#xFF0C;&#x66FE;&#x7ECF;&#x6709;&#x63D0;&#x6848;&#x4E3A;&#x5386;&#x53F2;&#x5E73;&#x53CD;, &#x5C06; typeof null &#x7684;&#x503C;&#x7EA0;&#x6B63;&#x4E3A; &quot;null&quot;&#xFF0C;&#x4F46;&#x6700;&#x540E;&#x8BE5;&#x63D0;&#x6848;&#x88AB;&#x62D2;&#x3002;&#x7406;&#x7531;&#x662F;&#x5386;&#x53F2;&#x9057;&#x7559;&#x4EE3;&#x7801;&#x592A;&#x591A;&#xFF0C;&#x4E0D;&#x5982;&#x7EE7;&#x7EED;&#x5C06;&#x9519;&#x5C31;&#x9519;&#x3002; &#x4ECE;&#x6280;&#x672F;&#x89D2;&#x5EA6;&#x8BB2;&#xFF0C;&#x51FD;&#x6570;&#x5728; JavaScript &#x4E2D;&#x662F;&#x5BF9;&#x8C61;&#xFF0C;&#x4E0D;&#x662F;&#x4E00;&#x79CD;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002;&#x7136;&#x800C;&#xFF0C;&#x51FD;&#x6570;&#x4E5F;&#x786E;&#x5B9E;&#x6709;&#x4E00;&#x4E9B;&#x7279;&#x6B8A;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x56E0;&#x6B64;&#x901A;&#x8FC7; typeof &#x8FD0;&#x7B97;&#x7B26;&#x6765;&#x533A;&#x5206;&#x51FD;&#x6570;&#x548C;&#x5176;&#x4ED6;&#x5BF9;&#x8C61;&#x662F;&#x6709;&#x5FC5;&#x8981;&#x7684;&#x3002; &#x5FAA;&#x73AF;&#x8BED;&#x53E5;&#x8981;&#x60F3;&#x5B8C;&#x6210;&#x91CD;&#x590D;&#x6027;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x5FC5;&#x7136;&#x8981;&#x4F7F;&#x7528;&#x5230;&#x5FAA;&#x73AF;&#x8BED;&#x53E5;&#x4E86;&#x3002;&#x5FAA;&#x73AF;&#x8BED;&#x53E5;&#x6709;&#x5982;&#x4E0B;&#x4E09;&#x79CD;&#xFF1A; while &#x5FAA;&#x73AF; do&#x2026;while &#x5FAA;&#x73AF; for &#x5FAA;&#x73AF; while &#x5FAA;&#x73AF;while &#x5FAA;&#x73AF; &#x4E0E; IF&#x8BED;&#x6CD5;&#x5F88;&#x76F8;&#x4F3C;&#xFF1A;123while(&#x6761;&#x4EF6;){ alert(&quot;&#x6EE1;&#x8DB3;&#x6761;&#x4EF6;&#x663E;&#x793A;&#x7684;&#x503C;&quot;);} do&#x2026;while &#x5FAA;&#x73AF;&#x50CF; while &#x5FAA;&#x73AF;&#x662F;&#x5FC5;&#x987B;&#x6EE1;&#x8DB3;&#x6761;&#x4EF6;&#x624D;&#x4F1A;&#x6267;&#x884C;&#xFF0C;&#x6709;&#x4E00;&#x79CD;&#x9700;&#x6C42;&#x662F;&#x4E0D;&#x7BA1;&#x6EE1;&#x4E0D;&#x6EE1;&#x8DB3;&#x6761;&#x4EF6;&#x90FD;&#x8981;&#x6267;&#x884C;&#x4E00;&#x6B21;&#xFF0C;&#x8FD9;&#x79CD;&#x573A;&#x666F;&#x4E0B;&#xFF0C;do&#x2026;while &#x5FAA;&#x73AF;&#x5C31;&#x6D3E;&#x4E0A;&#x7528;&#x573A;&#x4E86;&#xFF0C;&#x5B83;&#x7684;&#x8BED;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A;123do{ alert(&quot;&#x4E0D;&#x7BA1;&#x6761;&#x4EF6;&#x6210;&#x7ACB;&#x4E0E;&#x5426;&#xFF0C;&#x90FD;&#x81F3;&#x5C11;&#x6267;&#x884C;&#x4E00;&#x6B21;&quot;);} while(&#x6761;&#x4EF6;); for &#x5FAA;&#x73AF;&#x4E0E; while &#x5FAA;&#x73AF;&#x548C; do&#x2026;while &#x5FAA;&#x73AF; &#x4E0D;&#x77E5;&#x9053;&#x6267;&#x884C;&#x6B21;&#x6570;&#x7684;&#x60C5;&#x51B5;&#x4E0D;&#x540C;&#xFF0C;for &#x5FAA;&#x73AF;&#x9700;&#x8981;&#x660E;&#x786E;&#x77E5;&#x9053;&#x5FAA;&#x73AF;&#x7684;&#x6B21;&#x6570;&#xFF0C;&#x5B83;&#x7684;&#x8BED;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A; 123for(var i=0;i&lt;&#x5FAA;&#x73AF;&#x6B21;&#x6570;;i++){ alert(&quot;&#x6EE1;&#x8DB3;&#x6761;&#x4EF6;&#x663E;&#x793A;&#x7684;&#x503C;&quot;);} &#x51FD;&#x6570;&#x5982;&#x679C;&#x9700;&#x8981;&#x591A;&#x6B21;&#x4F7F;&#x7528;&#x540C;&#x4E00;&#x6BB5;&#x4EE3;&#x7801;&#x7684;&#x8BDD;&#xFF0C;&#x53EF;&#x4EE5;&#x628A;&#x5B83;&#x4EEC;&#x5C01;&#x88C5;&#x6210;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x3002;&#x51FD;&#x6570;(function)&#x5C31;&#x662F;&#x4E00;&#x7EC4;&#x5141;&#x8BB8;&#x5728;&#x4F60;&#x7684;&#x4EE3;&#x7801;&#x91CC;&#x968F;&#x65F6;&#x8C03;&#x7528;&#x7684;&#x8BED;&#x53E5;&#xFF0C;&#x6BCF;&#x4E2A;&#x51FD;&#x6570;&#x5B9E;&#x9645;&#x4E0A;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x77ED;&#x5C0F;&#x7684;&#x811A;&#x672C;&#x3002;&#x4F5C;&#x4E3A;&#x826F;&#x597D;&#x7684;&#x7F16;&#x7A0B;&#x4E60;&#x60EF;&#xFF0C;&#x5E94;&#x8BE5;&#x5148;&#x5B9A;&#x4E49;&#x597D;&#x51FD;&#x6570;&#x518D;&#x8C03;&#x7528;&#x5B83;&#x3002; 123function show(showText){ alert(showText);} &#x5982;&#x4E0A;&#x9762;&#x793A;&#x4F8B;&#xFF0C;&#x6211;&#x4EEC;&#x628A;&#x4F20;&#x7ED9;&#x51FD;&#x6570;&#x7684;&#x503C;&#x53EB;&#x505A;&#x53C2;&#x6570;&#x3002; &#x5BF9;&#x8C61;&#x5728;&#x4E0A;&#x9762;&#x6211;&#x4EEC;&#x7B80;&#x5355;&#x7684;&#x4ECB;&#x7ECD;&#x4E86;&#x5BF9;&#x8C61;&#x7684;&#x58F0;&#x660E;&#xFF0C;&#x5728;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x5728;&#x8BE6;&#x7EC6;&#x6765;&#x4E86;&#x89E3;&#x4E0B;&#x5BF9;&#x8C61;&#x3002; &#x5BF9;&#x8C61;&#x662F;&#x81EA;&#x5305;&#x542B;&#x7684;&#x6570;&#x636E;&#x96C6;&#x5408;&#xFF0C;&#x5305;&#x542B;&#x5728;&#x5BF9;&#x8C61;&#x91CC;&#x7684;&#x6570;&#x636E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E24;&#x79CD;&#x5F62;&#x5F0F;&#x6765;&#x8BBF;&#x95EE;&#x2013; &#x5C5E;&#x6027;&#x548C;&#x65B9;&#x6CD5;&#x3002; &#x5C5E;&#x6027;&#x662F;&#x96B6;&#x5C5E;&#x4E8E;&#x67D0;&#x4E2A;&#x7279;&#x5B9A;&#x5BF9;&#x8C61;&#x7684;&#x53D8;&#x91CF; &#x65B9;&#x6CD5;&#x662F;&#x53EA;&#x6709;&#x67D0;&#x4E2A;&#x7279;&#x5B9A;&#x5BF9;&#x8C61;&#x7684;&#x624D;&#x80FD;&#x8C03;&#x7528;&#x7684;&#x51FD;&#x6570; &#x5BF9;&#x8C61;&#x5C31;&#x662F;&#x7531;&#x4E00;&#x4E9B;&#x5C5E;&#x6027;&#x548C;&#x65B9;&#x6CD5;&#x7EC4;&#x5408;&#x5728;&#x4E00;&#x8D77;&#x7684;&#x800C;&#x6784;&#x6210;&#x7684;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5B9E;&#x4F53;&#x3002;&#x5728; JavaScript &#x4E2D;&#xFF0C;&#x5C5E;&#x6027;&#x548C;&#x65B9;&#x6CD5;&#x90FD;&#x662F;&#x901A;&#x8FC7;&#x70B9;&#x6765;&#x8BBF;&#x95EE;&#x7684;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;12Object.name;Object.showName(); &#x5185;&#x5EFA;&#x5BF9;&#x8C61;JavaScript &#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x7CFB;&#x5217;&#x9884;&#x5148;&#x5B9A;&#x4E49;&#x597D;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x8FD9;&#x4E9B;&#x53EF;&#x4EE5;&#x62FF;&#x6765;&#x5C31;&#x7528;&#x7684;&#x5BF9;&#x8C61;&#x79F0;&#x4E3A;&#x5185;&#x5EFA;&#x5BF9;&#x8C61;&#x3002;&#x6570;&#x7EC4;&#x5BF9;&#x8C61;&#x5C31;&#x662F;&#x4E00;&#x79CD;&#x5185;&#x5EFA;&#x5BF9;&#x8C61;&#x3002; 2.&#x5BBF;&#x4E3B;&#x5BF9;&#x8C61;&#x9664;&#x4E86;&#x5185;&#x5EFA;&#x5BF9;&#x8C61;&#x5916;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x5728; JavaScript &#x811A;&#x672C;&#x4E2D;&#x4F7F;&#x7528;&#x4E00;&#x4E9B;&#x5DF2;&#x7ECF;&#x9884;&#x5148;&#x5B9A;&#x4E49;&#x597D;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x4E0D;&#x662F;&#x7531; JavaScript &#x672C;&#x8EAB;&#x4EA7;&#x751F;&#x7684;&#xFF0C;&#x800C;&#x662F;&#x7531;&#x5B83;&#x7684;&#x8FD0;&#x884C;&#x73AF;&#x5883;&#x4EA7;&#x751F;&#x7684;&#xFF0C;&#x5982;&#x6D4F;&#x89C8;&#x5668;&#x3002;&#x5BBF;&#x4E3B;&#x5BF9;&#x8C61;&#x5305;&#x62EC;Form&#x3001;Image&#x3001;Element&#x7B49;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x83B7;&#x5F97;&#x5173;&#x4E8E;&#x8868;&#x5355;&#x3001;&#x56FE;&#x7247;&#x548C;&#x5176;&#x4ED6;&#x5143;&#x7D20;&#x7684;&#x4FE1;&#x606F;&#x3002;","tags":[{"name":"前端基础","slug":"前端基础","permalink":"https://marklogzhu.github.io/tags/前端基础/"},{"name":"JavaScript","slug":"JavaScript","permalink":"https://marklogzhu.github.io/tags/JavaScript/"}]},{"title":"2.JavaScript使用方式","date":"2017-09-07T02:57:00.000Z","path":"uncategorized/前端/03.JavaScript/2.JavaScript使用方式/","text":"&#x5728; HTML &#x4E2D;&#x4EE5;&#x5143;&#x7D20; &lt;script&gt;&#x6765;&#x5D4C;&#x5165; JavaScript &#x4EE3;&#x7801;&#xFF0C;&#x5F53;&#x6D4F;&#x89C8;&#x5668;&#x52A0;&#x8F7D; HTML &#x6587;&#x4EF6;&#x65F6;&#x4F1A;&#x4ECE;&#x4E0A;&#x81F3;&#x4E0B;&#x4F9D;&#x6B21;&#x6267;&#x884C; JavaScript &#x4EE3;&#x7801;&#x3002; &lt;script&gt; &#x6709;&#x5982;&#x4E0B;&#x4E24;&#x79CD;&#x4F7F;&#x7528;&#x65B9;&#x5F0F; &#x76F4;&#x63A5;&#x5728; HTML &#x9875;&#x9762;&#x4E2D;&#x5D4C;&#x5165; &#x5199;&#x5728;&#x5916;&#x90E8; .JS &#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x5728; HTML &#x4E2D;&#x5F15;&#x5165; 1.&#x76F4;&#x63A5;&#x5728; HTML &#x9875;&#x9762;&#x4E2D;&#x5D4C;&#x5165;&#x4F7F;&#x7528; &lt;script&gt; &#x5143;&#x7D20;&#x5D4C;&#x5165; JavaScript &#x4EE3;&#x7801;&#x65F6;&#xFF0C;&#x53EA;&#x9700;&#x4E3A; &lt;script&gt; &#x6307;&#x5B9A; type &#x5C5E;&#x6027;&#x3002;&#x7136;&#x540E;&#xFF0C;&#x50CF;&#x4E0B;&#x9762;&#x8FD9;&#x6837;&#x628A; JavaScript &#x4EE3;&#x7801;&#x76F4;&#x63A5;&#x653E;&#x5728;&#x5143;&#x7D20;&#x5185;&#x90E8;&#x5373;&#x53EF;&#xFF1A; 12345&lt;script type=&quot;text/javascript&quot;&gt; function main(){ console.log(&quot;Hello,JavaScript!&quot;); }&lt;/script&gt; &#x6CE8;&#xFF1A;&#x5728; HTML5 &#x89C4;&#x8303;&#x4E2D;&#xFF0C;&lt;script&gt; &#x7684; type &#x5C5E;&#x6027;&#x9ED8;&#x8BA4;&#x662F; &quot;text/javascript&quot;&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#xFF1B;&#x4F46;&#x662F;&#x5728; HTML 4.01 &#x548C; XHTML 1.0 &#x89C4;&#x8303;&#x4E2D;&#xFF0C;type &#x5C5E;&#x6027;&#x662F;&#x5FC5;&#x987B;&#x7684;&#x3002; 2.&#x5F15;&#x7528;&#x5916;&#x90E8; .JS &#x6587;&#x4EF6;1&lt;script type=&quot;text/javascript&quot; src=&quot;HelloJavaScript.js&quot;&gt;&lt;/script&gt; &#x5982;&#x4E0A;&#x6240;&#x793A;&#xFF0C;&#x5F15;&#x7528;&#x5916;&#x90E8; .JS &#x6587;&#x4EF6;&#x9700;&#x8981;&#x7528;&#x5230; src &#x5C5E;&#x6027;&#x3002;&#x9664;&#x4E86;&#x5F15;&#x7528;&#x672C;&#x5730; .JS &#x6587;&#x4EF6;&#x5916;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5F15;&#x7528;&#x7F51;&#x7EDC; .JS &#x6587;&#x4EF6;&#x3002;&#x4F8B;&#x5982;&#xFF1A; 1&lt;script type=&quot;text/javascript&quot; src=&quot;https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js&quot;&gt;&lt;/script&gt; &#x5F53;&#x4F7F;&#x7528;&#x4E86; src &#x5C5E;&#x6027;&#x540E;&#xFF0C;&#x4E0D;&#x5E94;&#x8BE5;&#x5728; &lt;script&gt; &#x548C; &lt;/script&gt; &#x5143;&#x7D20;&#x4E4B;&#x95F4;&#x518D;&#x5305;&#x542B;&#x989D;&#x5916;&#x7684; JavaScript &#x4EE3;&#x7801;&#x3002;&#x5982;&#x679C;&#x5305;&#x542B;&#x4E86;&#x5D4C;&#x5165;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x5219;&#x53EA;&#x4F1A;&#x4E0B;&#x8F7D;&#x5E76;&#x6267;&#x884C;&#x5916;&#x90E8;&#x811A;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x5D4C;&#x5165;&#x7684;&#x4EE3;&#x7801;&#x4F1A;&#x88AB;&#x5FFD;&#x7565;&#x3002; 123&lt;script type=&quot;text/javascript&quot; src=&quot;HelloJavaScript.js&quot;&gt; console.log(&quot;Hello,JavaScript!&quot;); //&#x6C38;&#x4E0D;&#x6267;&#x884C;&lt;/script&gt; 3.&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x6BD4;&#x8F83;&#x76F8;&#x6BD4;&#x8F83;&#x76F4;&#x63A5;&#x5728;HTML &#x4E2D;&#x4FB5;&#x5165; JavaScript &#x4EE3;&#x7801;&#xFF0C;&#x5F15;&#x7528;&#x5916;&#x90E8;&#x6587;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x66F4;&#x503C;&#x5F97;&#x63A8;&#x8350;&#x3002; JavaScript &#x5B58;&#x653E;&#x4F4D;&#x7F6E;&#x4E00;&#x822C;&#x6765;&#x8BF4;&#xFF0C;&#x6240;&#x6709;&#x7684; 元素都应该放在页面的 &lt;head&gt; 元素中，例如： 12345678910&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; ...... &lt;script type=\"text/javascript\" src=\"HelloJavaScript.js\"&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;!-- 这里放内容 --&gt;&lt;/body&gt;&lt;/html&gt; 可是这种做法意味着必须等到全部 JavaScript 代码都被下载、解析和执行完成之后，才能开始呈现页面的内容（浏览器在遇到 &lt;body&gt; 元素时才开始呈现内容）。对于那些需要加载很多 JavaScript 代码的页面来说，会导致页面出现明显的延迟（浏览器窗口一片空白）。为了避免这个问题，最好的做法是把 &lt;script&gt; 元素放到 HTML 文档的最后面，&lt;/body&gt; 元素之前，例如： 12345678910&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; ......&lt;/head&gt;&lt;body&gt; &lt;!-- 这里放内容 --&gt; &lt;script type=\"text/javascript\" src=\"HelloJavaScript.js\"&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; 存放的位置，根据使用场景可以自己选择。","tags":[{"name":"前端","slug":"前端","permalink":"https://marklogzhu.github.io/tags/前端/"},{"name":"JavaScript","slug":"JavaScript","permalink":"https://marklogzhu.github.io/tags/JavaScript/"}]},{"title":"JavaScript纲要","date":"2017-09-07T02:00:00.000Z","path":"uncategorized/前端/03.JavaScript/1.JavaSscript纲要/","text":"&#x4EC0;&#x4E48;&#x662F; JavaScript&#x9996;&#x5148;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x4E0B;&#x767E;&#x5EA6;&#x767E;&#x79D1;&#x5BF9;&#x4E8E; JavaScript &#x7684;&#x5B9A;&#x4E49;: JavaScript &#x662F;&#x4E00;&#x79CD; &#x76F4;&#x8BD1;&#x5F0F; &#x811A;&#x672C;&#x8BED;&#x8A00;&#xFF0C;&#x662F;&#x4E00;&#x79CD; &#x52A8;&#x6001;&#x7684;&#x3001;&#x5F31;&#x7C7B;&#x578B;&#x3001;&#x57FA;&#x4E8E;&#x539F;&#x578B;&#x7684;&#x8BED;&#x8A00;&#xFF0C;&#x5185;&#x7F6E;&#x652F;&#x6301;&#x7C7B;&#x578B;&#x3002;&#x5B83;&#x7684;&#x89E3;&#x91CA;&#x5668;&#x88AB;&#x79F0;&#x4E3A; JavaScript &#x5F15;&#x64CE;&#xFF0C;&#x4E3A;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x5E7F;&#x6CDB;&#x7528;&#x4E8E;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x811A;&#x672C;&#x8BED;&#x8A00;&#xFF0C;&#x6700;&#x65E9;&#x662F;&#x5728; HTML&#xFF08;&#x6807;&#x51C6;&#x901A;&#x7528;&#x6807;&#x8BB0;&#x8BED;&#x8A00;&#x4E0B;&#x7684;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#xFF09;&#x7F51;&#x9875;&#x4E0A;&#x4F7F;&#x7528;&#xFF0C;&#x7528;&#x6765;&#x7ED9; HTML &#x7F51;&#x9875;&#x589E;&#x52A0;&#x52A8;&#x6001;&#x529F;&#x80FD;&#x3002; &#x4ECE;&#x4E0A;&#x9762;&#x8FD9;&#x6BB5;&#x8BDD;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x77E5;&#x9053; JavaScript &#x7684;&#x4F5C;&#x7528;&#x662F;&#x63CF;&#x8FF0;&#x7F51;&#x9875;&#x884C;&#x4E3A;&#xFF0C;&#x4E0E;&#x63CF;&#x8FF0;&#x7F51;&#x9875;&#x5185;&#x5BB9;&#x7684; HTML&#x548C;&#x63CF;&#x8FF0;&#x7F51;&#x9875;&#x6837;&#x5F0F;&#x7684; CSS &#x5E76;&#x79F0;&#x4E3A;&#x524D;&#x7AEF;&#x4E09;&#x5251;&#x5BA2;&#x3002; JavaScript &#x7531;&#x4E0B;&#x5217;3&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x90E8;&#x5206;&#x7EC4;&#x6210;&#xFF1A; &#x6838;&#x5FC3;&#xFF08;ECMAScript&#xFF09;&#xFF0C;&#x7531; ECMA-262 &#x5B9A;&#x4E49;&#xFF0C;&#x63D0;&#x4F9B;&#x6838;&#x5FC3;&#x8BED;&#x8A00;&#x529F;&#x80FD;&#x3002; &#x6587;&#x6863;&#x5BF9;&#x8C61;&#x6A21;&#x578B;&#xFF08;DOM&#xFF09;&#xFF0C;&#x63D0;&#x4F9B;&#x8BBF;&#x95EE;&#x548C;&#x64CD;&#x4F5C;&#x7F51;&#x9875;&#x5185;&#x5BB9;&#x7684;&#x65B9;&#x6CD5;&#x548C;&#x63A5;&#x53E3;&#x3002; &#x6D4F;&#x89C8;&#x5668;&#x5BF9;&#x8C61;&#x6A21;&#x578B;&#xFF08;BOM&#xFF09;&#xFF0C;&#x63D0;&#x4F9B;&#x4E0E;&#x6D4F;&#x89C8;&#x5668;&#x4EA4;&#x4E92;&#x7684;&#x65B9;&#x6CD5;&#x548C;&#x63A5;&#x53E3;&#x3002;","tags":[{"name":"前端","slug":"前端","permalink":"https://marklogzhu.github.io/tags/前端/"},{"name":"JavaScript","slug":"JavaScript","permalink":"https://marklogzhu.github.io/tags/JavaScript/"}]},{"title":"CSS小结","date":"2017-09-02T09:03:00.000Z","path":"uncategorized/前端/02.CSS/02.CSS小结/","text":"HTML+CSS&#x57FA;&#x7840;&#x8BFE;&#x7A0B;&#x6C47;&#x603B;&#x77E5;&#x8BC6;&#xFF0C;&#x5730;&#x5740;&#x4E3A;&#xFF1A;http://www.imooc.com/learn/9 &#x4E00;&#x3001;CSS &#x6982;&#x5FF5;&#x63CF;&#x8FF0;1.1 &#x4EC0;&#x4E48;&#x662F; CSSCSS &#x5168;&#x79F0;&#x4E3A;&#x201C;&#x5C42;&#x53E0;&#x6837;&#x5F0F;&#x8868; (Cascading Style Sheets)&#x201D;&#xFF0C;&#x5B83;&#x4E3B;&#x8981;&#x662F;&#x7528;&#x4E8E;&#x5B9A;&#x4E49;HTML&#x5185;&#x5BB9;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x5185;&#x7684;&#x663E;&#x793A;&#x6837;&#x5F0F;&#xFF0C;&#x5982;&#x6587;&#x5B57;&#x5927;&#x5C0F;&#x3001;&#x989C;&#x8272;&#x3001;&#x5B57;&#x4F53;&#x52A0;&#x7C97;&#x7B49;&#x3002; 1.2 CSS&#x6837;&#x5F0F;&#x7684;&#x4F18;&#x52BF;&#x4F7F;&#x7528;CSS&#x6837;&#x5F0F;&#x7684;&#x4E00;&#x4E2A;&#x597D;&#x5904;&#x662F;&#x901A;&#x8FC7;&#x5B9A;&#x4E49;&#x67D0;&#x4E2A;&#x6837;&#x5F0F;&#xFF0C;&#x53EF;&#x4EE5;&#x8BA9;&#x4E0D;&#x540C;&#x7F51;&#x9875;&#x4F4D;&#x7F6E;&#x7684;&#x6587;&#x5B57;&#x6709;&#x7740;&#x7EDF;&#x4E00;&#x7684;&#x5B57;&#x4F53;&#x3001;&#x5B57;&#x53F7;&#x6216;&#x8005;&#x989C;&#x8272;&#x7B49;&#x3002; 1.3 CSS &#x8BED;&#x6CD5;css &#x6837;&#x5F0F;&#x7531;&#x9009;&#x62E9;&#x7B26;&#x548C;&#x58F0;&#x660E;&#x7EC4;&#x6210;&#xFF0C;&#x800C;&#x58F0;&#x660E;&#x53C8;&#x7531;&#x5C5E;&#x6027;&#x548C;&#x503C;&#x7EC4;&#x6210;&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A; 123p{ font-size:12px } p &#x662F;&#x9009;&#x62E9;&#x5668;&#xFF0C;font-size &#x662F;&#x5C5E;&#x6027;&#xFF0C;12px &#x5C31;&#x662F;&#x5C5E;&#x6027;&#x503C; &#x9009;&#x62E9;&#x7B26;&#xFF1A;&#x53C8;&#x79F0;&#x9009;&#x62E9;&#x5668;&#xFF0C;&#x6307;&#x660E;&#x7F51;&#x9875;&#x4E2D;&#x8981;&#x5E94;&#x7528;&#x6837;&#x5F0F;&#x89C4;&#x5219;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x5982;&#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x662F;&#x5C06;&#x7F51;&#x9875;&#x4E2D;&#x6240;&#x6709;&#x7684;&#x6BB5;&#xFF08;p&#xFF09;&#x7684;&#x6587;&#x5B57;&#x5C06;&#x53D8;&#x6210;&#x84DD;&#x8272;&#xFF0C;&#x800C;&#x5176;&#x4ED6;&#x7684;&#x5143;&#x7D20;&#x4E0D;&#x4F1A;&#x53D7;&#x5230;&#x5F71;&#x54CD;&#x3002; &#x58F0;&#x660E;&#xFF1A;&#x5728;&#x82F1;&#x6587;&#x5927;&#x62EC;&#x53F7;&#x201C;&#xFF5B;&#xFF5D;&#x201D;&#x4E2D;&#x7684;&#x7684;&#x5C31;&#x662F;&#x58F0;&#x660E;&#xFF0C;&#x5C5E;&#x6027;&#x548C;&#x503C;&#x4E4B;&#x95F4;&#x7528;&#x82F1;&#x6587;&#x5192;&#x53F7;&#x201C;&#xFF1A;&#x201D;&#x5206;&#x9694;&#x3002;&#x5F53;&#x6709;&#x591A;&#x6761;&#x58F0;&#x660E;&#x65F6;&#xFF0C;&#x4E2D;&#x95F4;&#x53EF;&#x4EE5;&#x82F1;&#x6587;&#x5206;&#x53F7;&#x201C;;&#x201D;&#x5206;&#x9694;&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;1234p{ font-size:12px; color:red;} 1.4 CSS &#x6CE8;&#x91CA;&#x4EE3;&#x7801;&#x5728; CSS &#x4E2D;&#x6CE8;&#x91CA;&#x7528; /*&#x6CE8;&#x91CA;&#x8BED;&#x53E5;*/ &#x6765;&#x8868;&#x660E; &#x4E8C;&#x3001;CSS &#x4EE3;&#x7801;&#x5B58;&#x653E;&#x4F4D;&#x7F6E;CSS&#x6709;&#x4EE5;&#x4E0B;&#x4E09;&#x79CD;&#x5F62;&#x5F0F;&#xFF1A; 1.&#x5185;&#x8054;&#x5F0F; 2.&#x5D4C;&#x5165;&#x5F0F; 3.&#x5916;&#x90E8;&#x5F0F; 2.1 &#x5185;&#x8054;&#x5F0F;&#x5185;&#x8054;&#x5F0F; css &#x6837;&#x5F0F;&#x8868;&#x5C31;&#x662F;&#x628A; css &#x4EE3;&#x7801;&#x76F4;&#x63A5;&#x5199;&#x5728;&#x73B0;&#x6709;&#x7684; HTML &#x6807;&#x7B7E;&#x4E2D;&#xFF0C;&#x5982;&#x4E0B;&#x9762;&#x4EE3;&#x7801;&#xFF1A;1&lt;p style=&quot;color:red&quot;&gt;&#x8FD9;&#x91CC;&#x6587;&#x5B57;&#x662F;&#x7EA2;&#x8272;&#x3002;&lt;/p&gt; &#x5E76;&#x4E14; css &#x6837;&#x5F0F;&#x4EE3;&#x7801;&#x8981;&#x5199;&#x5728; style=&#x201D;&#x201D;&#x53CC;&#x5F15;&#x53F7;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x591A;&#x6761; css &#x6837;&#x5F0F;&#x4EE3;&#x7801;&#x8BBE;&#x7F6E;&#x53EF;&#x4EE5;&#x5199;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x4E2D;&#x95F4;&#x7528;&#x5206;&#x53F7;&#x9694;&#x5F00;&#x3002;1&lt;p style=&quot;color:red;font-size:12px&quot;&gt;&#x8FD9;&#x91CC;&#x6587;&#x5B57;&#x662F;&#x7EA2;&#x8272;&#x3002;&lt;/p&gt; 2.2 &#x5D4C;&#x5165;&#x5F0F;&#x5D4C;&#x5165;&#x5F0F;css&#x6837;&#x5F0F;&#xFF0C;&#x5C31;&#x662F;&#x53EF;&#x4EE5;&#x628A;css&#x6837;&#x5F0F;&#x4EE3;&#x7801;&#x5199;&#x5728;&#x6807;&#x7B7E;&#x4E4B;&#x95F4;&#x3002;&#x5982;&#x4E0B;&#x9762;&#x4EE3;&#x7801;&#xFF1A;12345&lt;style type=&quot;text/css&quot;&gt;span{ color:red;}&lt;/style&gt; &#x5D4C;&#x5165;&#x5F0F;css&#x6837;&#x5F0F;&#x5FC5;&#x987B;&#x5199;&#x5728; &lt;style&gt;&lt;/style&gt; &#x4E4B;&#x95F4;&#xFF0C;&#x5E76;&#x4E14;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x5D4C;&#x5165;&#x5F0F;css&#x6837;&#x5F0F;&#x5199;&#x5728; &lt;head&gt;&lt;/head&gt; &#x4E4B;&#x95F4;&#x3002; 2.3 &#x5916;&#x90E8;&#x5F0F;&#x5916;&#x90E8;&#x5F0F;css&#x6837;&#x5F0F;(&#x4E5F;&#x53EF;&#x79F0;&#x4E3A;&#x5916;&#x8054;&#x5F0F;)&#x5C31;&#x662F;&#x628A;css&#x4EE3;&#x7801;&#x5199;&#x4E00;&#x4E2A;&#x5355;&#x72EC;&#x7684;&#x5916;&#x90E8;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x8FD9;&#x4E2A;css&#x6837;&#x5F0F;&#x6587;&#x4EF6;&#x4EE5;&#x201C;.css&#x201D;&#x4E3A;&#x6269;&#x5C55;&#x540D;&#xFF0C;&#x5728; &lt;head&gt; &#x5185;&#xFF08;&#x4E0D;&#x662F;&#x5728; &lt;style&gt; &#x6807;&#x7B7E;&#x5185;&#xFF09;&#x4F7F;&#x7528; &lt;link&gt; &#x6807;&#x7B7E;&#x5C06;css&#x6837;&#x5F0F;&#x6587;&#x4EF6;&#x94FE;&#x63A5;&#x5230;HTML&#x6587;&#x4EF6;&#x5185;&#xFF0C;&#x5982;&#x4E0B;&#x9762;&#x4EE3;&#x7801;&#xFF1A;1&lt;link href=&quot;base.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt; &#x6CE8;&#x610F;&#xFF1A; 1&#x3001;css&#x6837;&#x5F0F;&#x6587;&#x4EF6;&#x540D;&#x79F0;&#x4EE5;&#x6709;&#x610F;&#x4E49;&#x7684;&#x82F1;&#x6587;&#x5B57;&#x6BCD;&#x547D;&#x540D;&#xFF0C;&#x5982; main.css&#x3002; 2&#x3001;rel=&#x201D;stylesheet&#x201D; type=&#x201D;text/css&#x201D; &#x662F;&#x56FA;&#x5B9A;&#x5199;&#x6CD5;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x3002; 3&#x3001;&lt;link&gt; &#x6807;&#x7B7E;&#x4F4D;&#x7F6E;&#x4E00;&#x822C;&#x5199;&#x5728; &lt;head&gt; &#x6807;&#x7B7E;&#x4E4B;&#x5185;&#x3002; 2.4 &#x4E09;&#x79CD;&#x65B9;&#x6CD5;&#x7684;&#x4F18;&#x5148;&#x7EA7; &#x6839;&#x636E;&#x5C31;&#x8FD1;&#x539F;&#x5219;&#xFF08;&#x79BB;&#x88AB;&#x8BBE;&#x7F6E;&#x5143;&#x7D20;&#x8D8A;&#x8FD1;&#x4F18;&#x5148;&#x7EA7;&#x522B;&#x8D8A;&#x9AD8;&#xFF09;&#x6765;&#x8BF4;&#xFF0C;&#x5E94;&#x8BE5;&#x662F; &#x5185;&#x8054;&#x5F0F; &gt; &#x5D4C;&#x5165;&#x5F0F; &gt; &#x5916;&#x90E8;&#x5F0F; &#x4E09;&#x3001;CSS &#x9009;&#x62E9;&#x5668;3.1 &#x4EC0;&#x4E48;&#x662F;&#x9009;&#x62E9;&#x5668;&#x6BCF;&#x4E00;&#x6761;css&#x6837;&#x5F0F;&#x58F0;&#x660E;&#xFF08;&#x5B9A;&#x4E49;&#xFF09;&#x7531;&#x4E24;&#x90E8;&#x5206;&#x7EC4;&#x6210;&#xFF0C;&#x5F62;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;123&#x9009;&#x62E9;&#x5668;{ &#x6837;&#x5F0F;;} &#x201C;&#x9009;&#x62E9;&#x5668;&#x201D;&#x6307;&#x660E;&#x4E86;{}&#x4E2D;&#x7684;&#x201C;&#x6837;&#x5F0F;&#x201D;&#x7684;&#x4F5C;&#x7528;&#x5BF9;&#x8C61;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x201C;&#x6837;&#x5F0F;&#x201D;&#x4F5C;&#x7528;&#x4E8E;&#x7F51;&#x9875;&#x4E2D;&#x7684;&#x54EA;&#x4E9B;&#x5143;&#x7D20;&#x3002; 3.2 &#x6807;&#x7B7E;&#x9009;&#x62E9;&#x5668;&#x6807;&#x7B7E;&#x9009;&#x62E9;&#x5668;&#x5176;&#x5B9E;&#x5C31;&#x662F;html&#x4EE3;&#x7801;&#x4E2D;&#x7684;&#x6807;&#x7B7E;&#x3002;&#x5982; &lt;html&gt;&#x3001;&lt;body&gt;&#x3001;&lt;h1&gt;&#x3001;&lt;p&gt;&#x3001;&lt;img&gt;&#x3002; 3.3 &#x7C7B;&#x9009;&#x62E9;&#x5668;&#x8BED;&#x6CD5;&#xFF1A; 12345.&#x7C7B;&#x9009;&#x5668;&#x540D;&#x79F0;{css&#x6837;&#x5F0F;&#x4EE3;&#x7801;;}&#x6CE8;&#x610F;1&#x3001;&#x4EE5;&#x82F1;&#x6587;&#x5706;&#x70B9;&#x5F00;&#x5934;2&#x3001;&#x5176;&#x4E2D;&#x7C7B;&#x9009;&#x5668;&#x540D;&#x79F0;&#x53EF;&#x4EE5;&#x4EFB;&#x610F;&#x8D77;&#x540D;&#xFF08;&#x4F46;&#x4E0D;&#x8981;&#x8D77;&#x4E2D;&#x6587;&#x5662;&#xFF09; 3.4 id &#x9009;&#x62E9;&#x5668;&#x5728;&#x5F88;&#x591A;&#x65B9;&#x9762;&#xFF0C;ID&#x9009;&#x62E9;&#x5668;&#x90FD;&#x7C7B;&#x4F3C;&#x4E8E;&#x7C7B;&#x9009;&#x62E9;&#x7B26;&#xFF0C;&#x4F46;&#x4E5F;&#x6709;&#x4E00;&#x4E9B;&#x91CD;&#x8981;&#x7684;&#x533A;&#x522B;&#xFF1A; &#x4E3A;&#x6807;&#x7B7E;&#x8BBE;&#x7F6E;id=&#x201D;ID&#x540D;&#x79F0;&#x201D;&#xFF0C;&#x800C;&#x4E0D;&#x662F;class=&#x201D;&#x7C7B;&#x540D;&#x79F0;&#x201D;&#x3002; ID&#x9009;&#x62E9;&#x7B26;&#x7684;&#x524D;&#x9762;&#x662F;&#x4E95;&#x53F7;&#xFF08;#&#xFF09;&#x53F7;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x82F1;&#x6587;&#x5706;&#x70B9;&#xFF08;.&#xFF09;&#x3002; 3.5 &#x7C7B;&#x548C;ID&#x9009;&#x62E9;&#x5668;&#x7684;&#x533A;&#x522B;&#x76F8;&#x540C;&#x70B9;&#xFF1A;&#x53EF;&#x4EE5;&#x5E94;&#x7528;&#x4E8E;&#x4EFB;&#x4F55;&#x5143;&#x7D20;&#x4E0D;&#x540C;&#x70B9;&#xFF1A; 1&#x3001;ID&#x9009;&#x62E9;&#x5668;&#x53EA;&#x80FD;&#x5728;&#x6587;&#x6863;&#x4E2D;&#x4F7F;&#x7528;&#x4E00;&#x6B21;&#x3002;&#x4E0E;&#x7C7B;&#x9009;&#x62E9;&#x5668;&#x4E0D;&#x540C;&#xFF0C;&#x5728;&#x4E00;&#x4E2A;HTML&#x6587;&#x6863;&#x4E2D;&#xFF0C;ID&#x9009;&#x62E9;&#x5668;&#x53EA;&#x80FD;&#x4F7F;&#x7528;&#x4E00;&#x6B21;&#xFF0C;&#x800C;&#x4E14;&#x4EC5;&#x4E00;&#x6B21;&#x3002;&#x800C;&#x7C7B;&#x9009;&#x62E9;&#x5668;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x591A;&#x6B21;&#x3002;2&#x3001;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7C7B;&#x9009;&#x62E9;&#x5668;&#x8BCD;&#x5217;&#x8868;&#x65B9;&#x6CD5;&#x4E3A;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x540C;&#x65F6;&#x8BBE;&#x7F6E;&#x591A;&#x4E2A;&#x6837;&#x5F0F;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4E3A;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x540C;&#x65F6;&#x8BBE;&#x591A;&#x4E2A;&#x6837;&#x5F0F;&#xFF0C;&#x4F46;&#x53EA;&#x53EF;&#x4EE5;&#x7528;&#x7C7B;&#x9009;&#x62E9;&#x5668;&#x7684;&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#xFF0C;ID&#x9009;&#x62E9;&#x5668;&#x662F;&#x4E0D;&#x53EF;&#x4EE5;&#x7684;&#xFF08;&#x4E0D;&#x80FD;&#x4F7F;&#x7528; ID &#x8BCD;&#x5217;&#x8868;&#xFF09;&#x3002; 3.6 &#x5B50;&#x9009;&#x62E9;&#x5668;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x6BD4;&#x8F83;&#x6709;&#x7528;&#x7684;&#x9009;&#x62E9;&#x5668;&#x5B50;&#x9009;&#x62E9;&#x5668;&#xFF0C;&#x5373;&#x5927;&#x4E8E;&#x7B26;&#x53F7;(&gt;),&#x7528;&#x4E8E;&#x9009;&#x62E9;&#x6307;&#x5B9A;&#x6807;&#x7B7E;&#x5143;&#x7D20;&#x7684;&#x7B2C;&#x4E00;&#x4EE3;&#x5B50;&#x5143;&#x7D20;&#x3002;&#x5982;&#xFF1A;1.food&gt;li{border:1px solid red;} &#x8FD9;&#x884C;&#x4EE3;&#x7801;&#x4F1A;&#x4F7F;class&#x540D;&#x4E3A;food&#x4E0B;&#x7684;&#x5B50;&#x5143;&#x7D20; li &#x52A0;&#x5165;&#x7EA2;&#x8272;&#x5B9E;&#x7EBF;&#x8FB9;&#x6846;&#x3002; 3.7 &#x5305;&#x542B;(&#x540E;&#x4EE3;)&#x9009;&#x62E9;&#x5668;&#x5305;&#x542B;&#x9009;&#x62E9;&#x5668;&#xFF0C;&#x5373;&#x52A0;&#x5165;&#x7A7A;&#x683C;,&#x7528;&#x4E8E;&#x9009;&#x62E9;&#x6307;&#x5B9A;&#x6807;&#x7B7E;&#x5143;&#x7D20;&#x4E0B;&#x7684;&#x540E;&#x8F88;&#x5143;&#x7D20;&#x3002;&#x5982;&#xFF1A;1.first span{color:red;} &#x8FD9;&#x884C;&#x4EE3;&#x7801;&#x4F1A;&#x4F7F;&#x5B57;&#x4F53;&#x989C;&#x8272;&#x53D8;&#x4E3A;&#x7EA2;&#x8272;&#x3002; &#x8BF7;&#x6CE8;&#x610F;&#x8FD9;&#x4E2A;&#x9009;&#x62E9;&#x5668;&#x4E0E;&#x5B50;&#x9009;&#x62E9;&#x5668;&#x7684;&#x533A;&#x522B;&#xFF0C;&#x5B50;&#x9009;&#x62E9;&#x5668;&#xFF08;child selector&#xFF09;&#x4EC5;&#x662F;&#x6307;&#x5B83;&#x7684;&#x76F4;&#x63A5;&#x540E;&#x4EE3;&#xFF0C;&#x6216;&#x8005;&#x4F60;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x4F5C;&#x7528;&#x4E8E;&#x5B50;&#x5143;&#x7D20;&#x7684;&#x7B2C;&#x4E00;&#x4EE3;&#x540E;&#x4EE3;&#x3002;&#x800C;&#x540E;&#x4EE3;&#x9009;&#x62E9;&#x5668;&#x662F;&#x4F5C;&#x7528;&#x4E8E;&#x6240;&#x6709;&#x5B50;&#x540E;&#x4EE3;&#x5143;&#x7D20;&#x3002;&#x540E;&#x4EE3;&#x9009;&#x62E9;&#x5668;&#x901A;&#x8FC7;&#x7A7A;&#x683C;&#x6765;&#x8FDB;&#x884C;&#x9009;&#x62E9;&#xFF0C;&#x800C;&#x5B50;&#x9009;&#x62E9;&#x5668;&#x662F;&#x901A;&#x8FC7;&#x201C;&gt;&#x201D;&#x8FDB;&#x884C;&#x9009;&#x62E9;&#x3002; &#x603B;&#x7ED3;&#xFF1A;&gt;&#x4F5C;&#x7528;&#x4E8E;&#x5143;&#x7D20;&#x7684;&#x7B2C;&#x4E00;&#x4EE3;&#x540E;&#x4EE3;&#xFF0C;&#x7A7A;&#x683C;&#x4F5C;&#x7528;&#x4E8E;&#x5143;&#x7D20;&#x7684;&#x6240;&#x6709;&#x540E;&#x4EE3;&#x3002; 3.8 &#x901A;&#x7528;&#x9009;&#x62E9;&#x5668;&#x901A;&#x7528;&#x9009;&#x62E9;&#x5668;&#x662F;&#x529F;&#x80FD;&#x6700;&#x5F3A;&#x5927;&#x7684;&#x9009;&#x62E9;&#x5668;&#xFF0C;&#x5B83;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#xFF08;*&#xFF09;&#x53F7;&#x6307;&#x5B9A;&#xFF0C;&#x5B83;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x5339;&#x914D;html&#x4E2D;&#x6240;&#x6709;&#x6807;&#x7B7E;&#x5143;&#x7D20;&#xFF0C;&#x5982;&#x4E0B;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x4EE3;&#x7801;&#x4F7F;&#x7528;html&#x4E2D;&#x4EFB;&#x610F;&#x6807;&#x7B7E;&#x5143;&#x7D20;&#x5B57;&#x4F53;&#x989C;&#x8272;&#x5168;&#x90E8;&#x8BBE;&#x7F6E;&#x4E3A;&#x7EA2;&#x8272;&#xFF1A; 1* {color:red;} 3.9 &#x4F2A;&#x7C7B;&#x9009;&#x62E9;&#x7B26;&#x66F4;&#x6709;&#x8DA3;&#x7684;&#x662F;&#x4F2A;&#x7C7B;&#x9009;&#x62E9;&#x7B26;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x53EB;&#x505A;&#x4F2A;&#x7C7B;&#x9009;&#x62E9;&#x7B26;&#xFF0C;&#x5B83;&#x5141;&#x8BB8;&#x7ED9;html&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x6807;&#x7B7E;&#xFF08;&#x6807;&#x7B7E;&#x7684;&#x67D0;&#x79CD;&#x72B6;&#x6001;&#xFF09;&#x8BBE;&#x7F6E;&#x6837;&#x5F0F;&#xFF0C;&#x6BD4;&#x5982;&#x8BF4;&#x6211;&#x4EEC;&#x7ED9;html&#x4E2D;&#x4E00;&#x4E2A;&#x6807;&#x7B7E;&#x5143;&#x7D20;&#x7684;&#x9F20;&#x6807;&#x6ED1;&#x8FC7;&#x7684;&#x72B6;&#x6001;&#x6765;&#x8BBE;&#x7F6E;&#x5B57;&#x4F53;&#x989C;&#x8272;&#xFF1A;1a:hover{color:red;} &#x4E0A;&#x9762;&#x4E00;&#x884C;&#x4EE3;&#x7801;&#x5C31;&#x662F;&#x4E3A; a &#x6807;&#x7B7E;&#x9F20;&#x6807;&#x6ED1;&#x8FC7;&#x7684;&#x72B6;&#x6001;&#x8BBE;&#x7F6E;&#x5B57;&#x4F53;&#x989C;&#x8272;&#x53D8;&#x7EA2;&#x3002;&#x8FD9;&#x6837;&#x5C31;&#x4F1A;&#x4F7F;a&#x6807;&#x7B7E;&#x7684;&#x6587;&#x5B57;&#x52A0;&#x5165;&#x9F20;&#x6807;&#x6ED1;&#x8FC7;&#x5B57;&#x4F53;&#x989C;&#x8272;&#x53D8;&#x4E3A;&#x7EA2;&#x8272;&#x7279;&#x6548;&#x3002; &#x5173;&#x4E8E;&#x4F2A;&#x9009;&#x62E9;&#x7B26;&#xFF1A;12&#x5173;&#x4E8E;&#x4F2A;&#x7C7B;&#x9009;&#x62E9;&#x7B26;&#xFF0C;&#x5230;&#x76EE;&#x524D;&#x4E3A;&#x6B62;&#xFF0C;&#x53EF;&#x4EE5;&#x517C;&#x5BB9;&#x6240;&#x6709;&#x6D4F;&#x9274;&#x5668;&#x7684;&#x201C;&#x4F2A;&#x7C7B;&#x9009;&#x62E9;&#x7B26;&#x201D;&#x5C31;&#x662F; a &#x6807;&#x7B7E;&#x4E0A;&#x4F7F;&#x7528; :hover &#x4E86;&#xFF08;&#x5176;&#x5B9E;&#x4F2A;&#x7C7B;&#x9009;&#x62E9;&#x7B26;&#x8FD8;&#x6709;&#x5F88;&#x591A;&#xFF0C;&#x5C24;&#x5176;&#x662F; css3 &#x4E2D;&#xFF0C;&#x4F46;&#x662F;&#x56E0;&#x4E3A;&#x4E0D;&#x80FD;&#x517C;&#x5BB9;&#x6240;&#x6709;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x8FD9;&#x91CC;&#x53EA;&#x662F;&#x8BB2;&#x4E86;&#x8FD9;&#x4E00;&#x79CD;&#x6700;&#x5E38;&#x7528;&#x7684;&#xFF09;&#x3002;&#x5176;&#x5B9E; :hover &#x53EF;&#x4EE5;&#x653E;&#x5728;&#x4EFB;&#x610F;&#x7684;&#x6807;&#x7B7E;&#x4E0A;&#xFF0C;&#x6BD4;&#x5982;&#x8BF4; p:hover&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x4EEC;&#x7684;&#x517C;&#x5BB9;&#x6027;&#x4E5F;&#x662F;&#x5F88;&#x4E0D;&#x597D;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x73B0;&#x5728;&#x6BD4;&#x8F83;&#x5E38;&#x7528;&#x7684;&#x8FD8;&#x662F; a:hover &#x7684;&#x7EC4;&#x5408;&#x3002; 3.10 &#x5206;&#x7EC4;&#x9009;&#x62E9;&#x7B26;&#x5F53;&#x4F60;&#x60F3;&#x4E3A; html &#x4E2D;&#x591A;&#x4E2A;&#x6807;&#x7B7E;&#x5143;&#x7D20;&#x8BBE;&#x7F6E;&#x540C;&#x4E00;&#x4E2A;&#x6837;&#x5F0F;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5206;&#x7EC4;&#x9009;&#x62E9;&#x7B26;&#xFF08;&#xFF0C;&#xFF09;&#xFF0C;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#x4E3A; h1&#x3001;span&#x6807;&#x7B7E;&#x540C;&#x65F6;&#x8BBE;&#x7F6E;&#x5B57;&#x4F53;&#x989C;&#x8272;&#x4E3A;&#x7EA2;&#x8272;&#xFF1A; 1h1,span{color:red;} &#x5B83;&#x76F8;&#x5F53;&#x4E8E;&#x4E0B;&#x9762;&#x4E24;&#x884C;&#x4EE3;&#x7801;&#xFF1A;12h1{color:red;}span{color:red;} &#x56DB;&#x3001;CSS &#x7684;&#x7EE7;&#x627F;&#x3001;&#x5C42;&#x53E0;&#x548C;&#x7279;&#x6B8A;&#x6027;4.1 &#x7EE7;&#x627F;CSS&#x7684;&#x67D0;&#x4E9B;&#x6837;&#x5F0F;&#x662F;&#x5177;&#x6709;&#x7EE7;&#x627F;&#x6027;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x4EC0;&#x4E48;&#x662F;&#x7EE7;&#x627F;&#x5462;&#xFF1F;&#x7EE7;&#x627F;&#x662F;&#x4E00;&#x79CD;&#x89C4;&#x5219;&#xFF0C;&#x5B83;&#x5141;&#x8BB8;&#x6837;&#x5F0F;&#x4E0D;&#x4EC5;&#x5E94;&#x7528;&#x4E8E;&#x67D0;&#x4E2A;&#x7279;&#x5B9A;html&#x6807;&#x7B7E;&#x5143;&#x7D20;&#xFF0C;&#x800C;&#x4E14;&#x5E94;&#x7528;&#x4E8E;&#x5176;&#x540E;&#x4EE3;&#x3002;&#x6BD4;&#x5982;&#x4E0B;&#x9762;&#x4EE3;&#x7801;&#xFF1A;&#x5982;&#x67D0;&#x79CD;&#x989C;&#x8272;&#x5E94;&#x7528;&#x4E8E;p&#x6807;&#x7B7E;&#xFF0C;&#x8FD9;&#x4E2A;&#x989C;&#x8272;&#x8BBE;&#x7F6E;&#x4E0D;&#x4EC5;&#x5E94;&#x7528;p&#x6807;&#x7B7E;&#xFF0C;&#x8FD8;&#x5E94;&#x7528;&#x4E8E;p&#x6807;&#x7B7E;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x5B50;&#x5143;&#x7D20;&#x6587;&#x672C;&#xFF0C;&#x8FD9;&#x91CC;&#x5B50;&#x5143;&#x7D20;&#x4E3A;span&#x6807;&#x7B7E;&#x3002; 123p{color:red;}&lt;p&gt;&#x4E09;&#x5E74;&#x7EA7;&#x65F6;&#xFF0C;&#x6211;&#x8FD8;&#x662F;&#x4E00;&#x4E2A;&lt;span&gt;&#x80C6;&#x5C0F;&#x5982;&#x9F20;&lt;/span&gt;&#x7684;&#x5C0F;&#x5973;&#x5B69;&#x3002;&lt;/p&gt; &#x6267;&#x884C;&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x53D1;&#x73B0;p&#x4E2D;&#x7684;&#x6587;&#x672C;&#x4E0E;span&#x4E2D;&#x7684;&#x6587;&#x672C;&#x90FD;&#x8BBE;&#x7F6E;&#x4E3A;&#x4E86;&#x7EA2;&#x8272;&#x3002;&#x4F46;&#x6CE8;&#x610F;&#x6709;&#x4E00;&#x4E9B;css&#x6837;&#x5F0F;&#x662F;&#x4E0D;&#x5177;&#x6709;&#x7EE7;&#x627F;&#x6027;&#x7684;&#x3002;&#x5982;border:1px solid red;123p{border:1px solid red;}&lt;p&gt;&#x4E09;&#x5E74;&#x7EA7;&#x65F6;&#xFF0C;&#x6211;&#x8FD8;&#x662F;&#x4E00;&#x4E2A;&lt;span&gt;&#x80C6;&#x5C0F;&#x5982;&#x9F20;&lt;/span&gt;&#x7684;&#x5C0F;&#x5973;&#x5B69;&#x3002;&lt;/p&gt; &#x5728;&#x4E0A;&#x9762;&#x4F8B;&#x5B50;&#x4E2D;&#x5B83;&#x4EE3;&#x7801;&#x7684;&#x4F5C;&#x7528;&#x53EA;&#x662F;&#x7ED9;p&#x6807;&#x7B7E;&#x8BBE;&#x7F6E;&#x4E86;&#x8FB9;&#x6846;&#x4E3A;1&#x50CF;&#x7D20;&#x3001;&#x7EA2;&#x8272;&#x3001;&#x5B9E;&#x5FC3;&#x8FB9;&#x6846;&#x7EBF;&#xFF0C;&#x800C;&#x5BF9;&#x4E8E;&#x5B50;&#x5143;&#x7D20;span&#x662F;&#x6CA1;&#x7528;&#x8D77;&#x5230;&#x4F5C;&#x7528;&#x7684;&#x3002; 4.2 &#x7279;&#x6B8A;&#x6027;&#x6709;&#x7684;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x4E3A;&#x540C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x8BBE;&#x7F6E;&#x4E86;&#x4E0D;&#x540C;&#x7684;CSS&#x6837;&#x5F0F;&#x4EE3;&#x7801;&#xFF0C;&#x90A3;&#x4E48;&#x5143;&#x7D20;&#x4F1A;&#x542F;&#x7528;&#x54EA;&#x4E00;&#x4E2A;CSS&#x6837;&#x5F0F;&#x5462;?&#x6211;&#x4EEC;&#x6765;&#x770B;&#x4E00;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#xFF1A;123p{color:red;}.first{color:green;}&lt;p class=&quot;first&quot;&gt;&#x4E09;&#x5E74;&#x7EA7;&#x65F6;&#xFF0C;&#x6211;&#x8FD8;&#x662F;&#x4E00;&#x4E2A;&lt;span&gt;&#x80C6;&#x5C0F;&#x5982;&#x9F20;&lt;/span&gt;&#x7684;&#x5C0F;&#x5973;&#x5B69;&#x3002;&lt;/p&gt; p&#x548C;.first&#x90FD;&#x5339;&#x914D;&#x5230;&#x4E86;p&#x8FD9;&#x4E2A;&#x6807;&#x7B7E;&#x4E0A;&#xFF0C;&#x90A3;&#x4E48;&#x4F1A;&#x663E;&#x793A;&#x54EA;&#x79CD;&#x989C;&#x8272;&#x5462;&#xFF1F;green&#x662F;&#x6B63;&#x786E;&#x7684;&#x989C;&#x8272;&#xFF0C;&#x90A3;&#x4E48;&#x4E3A;&#x4EC0;&#x4E48;&#x5462;&#xFF1F;&#x662F;&#x56E0;&#x4E3A;&#x6D4F;&#x89C8;&#x5668;&#x662F;&#x6839;&#x636E;&#x6743;&#x503C;&#x6765;&#x5224;&#x65AD;&#x4F7F;&#x7528;&#x54EA;&#x79CD;css&#x6837;&#x5F0F;&#x7684;&#xFF0C;&#x6743;&#x503C;&#x9AD8;&#x7684;&#x5C31;&#x4F7F;&#x7528;&#x54EA;&#x79CD;css&#x6837;&#x5F0F;&#x3002; &#x4E0B;&#x9762;&#x662F;&#x6743;&#x503C;&#x7684;&#x89C4;&#x5219;&#xFF1A; &#x6807;&#x7B7E;&#x7684;&#x6743;&#x503C;&#x4E3A;1&#xFF0C;&#x7C7B;&#x9009;&#x62E9;&#x7B26;&#x7684;&#x6743;&#x503C;&#x4E3A;10&#xFF0C;ID&#x9009;&#x62E9;&#x7B26;&#x7684;&#x6743;&#x503C;&#x6700;&#x9AD8;&#x4E3A;100&#x3002;&#x4F8B;&#x5982;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#xFF1A;12345p{color:red;} /*&#x6743;&#x503C;&#x4E3A;1*/p span{color:green;} /*&#x6743;&#x503C;&#x4E3A;1+1=2*/.warning{color:white;} /*&#x6743;&#x503C;&#x4E3A;10*/p span.warning{color:purple;} /*&#x6743;&#x503C;&#x4E3A;1+1+10=12*/#footer .note p{color:yellow;} /*&#x6743;&#x503C;&#x4E3A;100+10+1=111*/ &#x6CE8;&#x610F;&#xFF1A;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x6743;&#x503C;&#x6BD4;&#x8F83;&#x7279;&#x6B8A;&#x2013;&#x7EE7;&#x627F;&#x4E5F;&#x6709;&#x6743;&#x503C;&#x4F46;&#x5F88;&#x4F4E;&#xFF0C;&#x6709;&#x7684;&#x6587;&#x732E;&#x63D0;&#x51FA;&#x5B83;&#x53EA;&#x6709;0.1&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x7EE7;&#x627F;&#x7684;&#x6743;&#x503C;&#x6700;&#x4F4E;&#x3002; 4.3 &#x5C42;&#x53E0;&#x6211;&#x4EEC;&#x6765;&#x601D;&#x8003;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF1A;&#x5982;&#x679C;&#x5728;html&#x6587;&#x4EF6;&#x4E2D;&#x5BF9;&#x4E8E;&#x540C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A;css&#x6837;&#x5F0F;&#x5B58;&#x5728;&#x5E76;&#x4E14;&#x8FD9;&#x591A;&#x4E2A;css&#x6837;&#x5F0F;&#x5177;&#x6709;&#x76F8;&#x540C;&#x6743;&#x91CD;&#x503C;&#x600E;&#x4E48;&#x529E;&#xFF1F; &#x5C42;&#x53E0;&#x5C31;&#x662F;&#x5728;html&#x6587;&#x4EF6;&#x4E2D;&#x5BF9;&#x4E8E;&#x540C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A;css&#x6837;&#x5F0F;&#x5B58;&#x5728;&#xFF0C;&#x5F53;&#x6709;&#x76F8;&#x540C;&#x6743;&#x91CD;&#x7684;&#x6837;&#x5F0F;&#x5B58;&#x5728;&#x65F6;&#xFF0C;&#x4F1A;&#x6839;&#x636E;&#x8FD9;&#x4E9B;css&#x6837;&#x5F0F;&#x7684;&#x524D;&#x540E;&#x987A;&#x5E8F;&#x6765;&#x51B3;&#x5B9A;&#xFF0C;&#x5904;&#x4E8E;&#x6700;&#x540E;&#x9762;&#x7684;css&#x6837;&#x5F0F;&#x4F1A;&#x88AB;&#x5E94;&#x7528;&#x3002; &#x5982;&#x4E0B;&#x9762;&#x4EE3;&#x7801;:123p{color:red;}p{color:green;}&lt;p class=&quot;first&quot;&gt;&#x4E09;&#x5E74;&#x7EA7;&#x65F6;&#xFF0C;&#x6211;&#x8FD8;&#x662F;&#x4E00;&#x4E2A;&lt;span&gt;&#x80C6;&#x5C0F;&#x5982;&#x9F20;&lt;/span&gt;&#x7684;&#x5C0F;&#x5973;&#x5B69;&#x3002;&lt;/p&gt; &#x6700;&#x540E; p &#x4E2D;&#x7684;&#x6587;&#x672C;&#x4F1A;&#x8BBE;&#x7F6E;&#x4E3A;green&#xFF0C;&#x8FD9;&#x4E2A;&#x5C42;&#x53E0;&#x5F88;&#x597D;&#x7406;&#x89E3;&#xFF0C;&#x7406;&#x89E3;&#x4E3A;&#x540E;&#x9762;&#x7684;&#x6837;&#x5F0F;&#x4F1A;&#x8986;&#x76D6;&#x524D;&#x9762;&#x7684;&#x6837;&#x5F0F;&#x3002; &#x6240;&#x4EE5;&#x524D;&#x9762;&#x7684;css&#x6837;&#x5F0F;&#x4F18;&#x5148;&#x7EA7;&#x5C31;&#x4E0D;&#x96BE;&#x7406;&#x89E3;&#x4E86;&#xFF1A;&#x5185;&#x8054;&#x6837;&#x5F0F;&#x8868;&#xFF08;&#x6807;&#x7B7E;&#x5185;&#x90E8;&#xFF09;&gt; &#x5D4C;&#x5165;&#x6837;&#x5F0F;&#x8868;&#xFF08;&#x5F53;&#x524D;&#x6587;&#x4EF6;&#x4E2D;&#xFF09;&gt; &#x5916;&#x90E8;&#x6837;&#x5F0F;&#x8868;&#xFF08;&#x5916;&#x90E8;&#x6587;&#x4EF6;&#x4E2D;&#xFF09;&#x3002; 4.4 &#x91CD;&#x8981;&#x6027;&#x6211;&#x4EEC;&#x5728;&#x505A;&#x7F51;&#x9875;&#x4EE3;&#x7801;&#x7684;&#x65F6;&#xFF0C;&#x6709;&#x4E9B;&#x7279;&#x6B8A;&#x7684;&#x60C5;&#x51B5;&#x9700;&#x8981;&#x4E3A;&#x67D0;&#x4E9B;&#x6837;&#x5F0F;&#x8BBE;&#x7F6E;&#x5177;&#x6709;&#x6700;&#x9AD8;&#x6743;&#x503C;&#xFF0C;&#x600E;&#x4E48;&#x529E;&#xFF1F;&#x8FD9;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;!important&#x6765;&#x89E3;&#x51B3;&#x3002; &#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;123p{color:red!important;}p{color:green;}&lt;p class=&quot;first&quot;&gt;&#x4E09;&#x5E74;&#x7EA7;&#x65F6;&#xFF0C;&#x6211;&#x8FD8;&#x662F;&#x4E00;&#x4E2A;&lt;span&gt;&#x80C6;&#x5C0F;&#x5982;&#x9F20;&lt;/span&gt;&#x7684;&#x5C0F;&#x5973;&#x5B69;&#x3002;&lt;/p&gt; &#x8FD9;&#x65F6; p &#x6BB5;&#x843D;&#x4E2D;&#x7684;&#x6587;&#x672C;&#x4F1A;&#x663E;&#x793A;&#x7684;red&#x7EA2;&#x8272;&#x3002; &#x6CE8;&#x610F;&#xFF1A;!important&#x8981;&#x5199;&#x5728;&#x5206;&#x53F7;&#x7684;&#x524D;&#x9762; &#x8FD9;&#x91CC;&#x6CE8;&#x610F;&#x5F53;&#x7F51;&#x9875;&#x5236;&#x4F5C;&#x8005;&#x4E0D;&#x8BBE;&#x7F6E;css&#x6837;&#x5F0F;&#x65F6;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x4F1A;&#x6309;&#x7167;&#x81EA;&#x5DF1;&#x7684;&#x4E00;&#x5957;&#x6837;&#x5F0F;&#x6765;&#x663E;&#x793A;&#x7F51;&#x9875;&#x3002;&#x5E76;&#x4E14;&#x7528;&#x6237;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8BBE;&#x7F6E;&#x81EA;&#x5DF1;&#x4E60;&#x60EF;&#x7684;&#x6837;&#x5F0F;&#xFF0C;&#x6BD4;&#x5982;&#x6709;&#x7684;&#x7528;&#x6237;&#x4E60;&#x60EF;&#x628A;&#x5B57;&#x53F7;&#x8BBE;&#x7F6E;&#x4E3A;&#x5927;&#x4E00;&#x4E9B;&#xFF0C;&#x4F7F;&#x5176;&#x67E5;&#x770B;&#x7F51;&#x9875;&#x7684;&#x6587;&#x672C;&#x66F4;&#x52A0;&#x6E05;&#x695A;&#x3002;&#x8FD9;&#x65F6;&#x6CE8;&#x610F;&#x6837;&#x5F0F;&#x4F18;&#x5148;&#x7EA7;&#x4E3A;&#xFF1A;&#x6D4F;&#x89C8;&#x5668;&#x9ED8;&#x8BA4;&#x7684;&#x6837;&#x5F0F; &lt; &#x7F51;&#x9875;&#x5236;&#x4F5C;&#x8005;&#x6837;&#x5F0F; &lt; &#x7528;&#x6237;&#x81EA;&#x5DF1;&#x8BBE;&#x7F6E;&#x7684;&#x6837;&#x5F0F;&#xFF0C;&#x4F46;&#x8BB0;&#x4F4F;!important&#x4F18;&#x5148;&#x7EA7;&#x6837;&#x5F0F;&#x662F;&#x4E2A;&#x4F8B;&#x5916;&#xFF0C;&#x6743;&#x503C;&#x9AD8;&#x4E8E;&#x7528;&#x6237;&#x81EA;&#x5DF1;&#x8BBE;&#x7F6E;&#x7684;&#x6837;&#x5F0F;&#x3002; &#x4E94;&#x3001;CSS &#x683C;&#x5F0F;&#x5316;&#x6392;&#x7248;5.1 &#x6587;&#x5B57;&#x6392;&#x7248;&#x2013;&#x5B57;&#x4F53;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;css&#x6837;&#x5F0F;&#x4E3A;&#x7F51;&#x9875;&#x4E2D;&#x7684;&#x6587;&#x5B57;&#x8BBE;&#x7F6E;&#x5B57;&#x4F53;&#x3001;&#x5B57;&#x53F7;&#x3001;&#x989C;&#x8272;&#x7B49;&#x6837;&#x5F0F;&#x5C5E;&#x6027;&#x3002;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x4E0B;&#x9762;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#xFF1A;&#x4E3A;&#x7F51;&#x9875;&#x4E2D;&#x7684;&#x6587;&#x5B57;&#x8BBE;&#x7F6E;&#x5B57;&#x4F53;&#x4E3A;&#x5B8B;&#x4F53;&#x3002;1body{font-family:&quot;&#x5B8B;&#x4F53;&quot;;} &#x8FD9;&#x91CC;&#x6CE8;&#x610F;&#x4E0D;&#x8981;&#x8BBE;&#x7F6E;&#x4E0D;&#x5E38;&#x7528;&#x7684;&#x5B57;&#x4F53;&#xFF0C;&#x56E0;&#x4E3A;&#x5982;&#x679C;&#x7528;&#x6237;&#x672C;&#x5730;&#x7535;&#x8111;&#x4E0A;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5B89;&#x88C5;&#x4F60;&#x8BBE;&#x7F6E;&#x7684;&#x5B57;&#x4F53;&#xFF0C;&#x5C31;&#x4F1A;&#x663E;&#x793A;&#x6D4F;&#x89C8;&#x5668;&#x9ED8;&#x8BA4;&#x7684;&#x5B57;&#x4F53;&#x3002;&#xFF08;&#x56E0;&#x4E3A;&#x7528;&#x6237;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x4F60;&#x8BBE;&#x7F6E;&#x7684;&#x5B57;&#x4F53;&#x6837;&#x5F0F;&#x53D6;&#x51B3;&#x4E8E;&#x7528;&#x6237;&#x672C;&#x5730;&#x7535;&#x8111;&#x4E0A;&#x662F;&#x5426;&#x5B89;&#x88C5;&#x4F60;&#x8BBE;&#x7F6E;&#x7684;&#x5B57;&#x4F53;&#x3002;&#xFF09;&#x73B0;&#x5728;&#x4E00;&#x822C;&#x7F51;&#x9875;&#x559C;&#x6B22;&#x8BBE;&#x7F6E;&#x201C;&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;&#x201D;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x79CD;&#x5B57;&#x4F53;&#x5373;&#x7F8E;&#x89C2;&#x53C8;&#x53EF;&#x4EE5;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x5B89;&#x5168;&#x7684;&#x663E;&#x793A;&#x51FA;&#x6765;&#xFF08;&#x7528;&#x6237;&#x672C;&#x5730;&#x4E00;&#x822C;&#x90FD;&#x662F;&#x9ED8;&#x8BA4;&#x5B89;&#x88C5;&#x7684;&#xFF09;&#x3002;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;1body{font-family:&quot;Microsoft Yahei&quot;;} &#x6216;1body{font-family:&quot;&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;&quot;;} &#x6CE8;&#x610F;&#xFF1A;&#x7B2C;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#x6BD4;&#x7B2C;&#x4E8C;&#x79CD;&#x65B9;&#x6CD5;&#x517C;&#x5BB9;&#x6027;&#x66F4;&#x597D;&#x4E00;&#x4E9B;&#x3002; 5.2 &#x6587;&#x5B57;&#x6392;&#x7248;&#x2013;&#x5B57;&#x53F7;&#x3001;&#x989C;&#x8272;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x4EE3;&#x7801;&#x8BBE;&#x7F6E;&#x7F51;&#x9875;&#x4E2D;&#x6587;&#x5B57;&#x7684;&#x5B57;&#x53F7;&#x4E3A;12&#x50CF;&#x7D20;&#xFF0C;&#x5E76;&#x628A;&#x5B57;&#x4F53;&#x989C;&#x8272;&#x8BBE;&#x7F6E;&#x4E3A;#666(&#x7070;&#x8272;)&#xFF1A;123body{ font-size:12px;color:#666} 5.3 &#x6587;&#x5B57;&#x6392;&#x7248;&#x2013;&#x7C97;&#x4F53;&#x6211;&#x4EEC;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;css&#x6837;&#x5F0F;&#x6765;&#x6539;&#x53D8;&#x6587;&#x5B57;&#x7684;&#x6837;&#x5F0F;&#xFF1A;&#x7C97;&#x4F53;&#x3001;&#x659C;&#x4F53;&#x3001;&#x4E0B;&#x5212;&#x7EBF;&#x3001;&#x5220;&#x9664;&#x7EBF;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x8BBE;&#x7F6E;&#x6587;&#x5B57;&#x4EE5;&#x7C97;&#x4F53;&#x6837;&#x5F0F;&#x663E;&#x793A;&#x51FA;&#x6765;&#x3002;1body{font-weight:bold;} &#x5728;&#x8FD9;&#x91CC;&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x4E3A;&#x6587;&#x5B57;&#x8BBE;&#x7F6E;&#x7C97;&#x4F53;&#x662F;&#x6709;&#x5355;&#x72EC;&#x7684;css&#x6837;&#x5F0F;&#x6765;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x518D;&#x4E0D;&#x7528;&#x4E3A;&#x4E86;&#x5B9E;&#x73B0;&#x7C97;&#x4F53;&#x6837;&#x5F0F;&#x800C;&#x4F7F;&#x7528;h1-h6&#x6216;strong&#x6807;&#x7B7E;&#x4E86;&#x3002; 5.4 &#x6587;&#x5B57;&#x6392;&#x7248;&#x2013;&#x659C;&#x4F53;&#x4EE5;&#x4E0B;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x6587;&#x5B57;&#x4EE5;&#x659C;&#x4F53;&#x6837;&#x5F0F;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x663E;&#x793A;&#xFF1A;123p a{font-style:italic;}&lt;p&gt;&#x4E09;&#x5E74;&#x7EA7;&#x65F6;&#xFF0C;&#x6211;&#x8FD8;&#x662F;&#x4E00;&#x4E2A;&lt;a&gt;&#x80C6;&#x5C0F;&#x5982;&#x9F20;&lt;/a&gt;&#x7684;&#x5C0F;&#x5973;&#x5B69;&#x3002;&lt;/p&gt; 5.5 &#x6587;&#x5B57;&#x6392;&#x7248;&#x2013;&#x4E0B;&#x5212;&#x7EBF;&#x6709;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#x60F3;&#x4E3A;&#x6587;&#x5B57;&#x8BBE;&#x7F6E;&#x4E3A;&#x4E0B;&#x5212;&#x7EBF;&#x6837;&#x5F0F;&#xFF0C;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x5728;&#x89C6;&#x89C9;&#x4E0A;&#x5F3A;&#x8C03;&#x6587;&#x5B57;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x4EE3;&#x7801;&#x6765;&#x5B9E;&#x73B0;&#xFF1A;123p a{text-decoration:underline;}&lt;p&gt;&#x4E09;&#x5E74;&#x7EA7;&#x65F6;&#xFF0C;&#x6211;&#x8FD8;&#x662F;&#x4E00;&#x4E2A;&lt;a&gt;&#x80C6;&#x5C0F;&#x5982;&#x9F20;&lt;/a&gt;&#x7684;&#x5C0F;&#x5973;&#x5B69;&#x3002;&lt;/p&gt; 5.6 &#x6587;&#x5B57;&#x6392;&#x7248;&#x2013;&#x5220;&#x9664;&#x7EBF;&#x5982;&#x679C;&#x60F3;&#x5728;&#x7F51;&#x9875;&#x4E0A;&#x8BBE;&#x7F6E;&#x5220;&#x9664;&#x7EBF;&#x600E;&#x4E48;&#x529E;&#xFF0C;&#x8FD9;&#x79CD;&#x573A;&#x666F;&#x4E2D;&#x7535;&#x5546;&#x7F51;&#x7AD9;&#x4E0A;&#x5E38;&#x4F1A;&#x89C1;&#x5230; 1body{text-decoration:line-through;} 5.7 &#x6BB5;&#x843D;&#x6392;&#x7248;&#x2013;&#x7F29;&#x8FDB;&#x4E2D;&#x6587;&#x6587;&#x5B57;&#x4E2D;&#x7684;&#x6BB5;&#x524D;&#x4E60;&#x60EF;&#x7A7A;&#x4E24;&#x4E2A;&#x6587;&#x5B57;&#x7684;&#x7A7A;&#x767D;&#xFF0C;&#x8FD9;&#x4E2A;&#x7279;&#x6B8A;&#x7684;&#x6837;&#x5F0F;&#x53EF;&#x4EE5;&#x7528;&#x4E0B;&#x9762;&#x4EE3;&#x7801;&#x6765;&#x5B9E;&#x73B0;&#xFF1A; 1p{text-indent:2em;} &#x6CE8;&#x610F;&#xFF1A;2em&#x7684;&#x610F;&#x601D;&#x5C31;&#x662F;&#x6587;&#x5B57;&#x7684;2&#x500D;&#x5927;&#x5C0F; 5.8 &#x6BB5;&#x843D;&#x6392;&#x7248;&#x2013;&#x884C;&#x95F4;&#x8DDD;&#xFF08;&#x884C;&#x9AD8;&#xFF09;&#x6211;&#x4EEC;&#x6765;&#x5B66;&#x4E60;&#x4E00;&#x4E0B;&#x53E6;&#x4E00;&#x4E2A;&#x5728;&#x6BB5;&#x843D;&#x6392;&#x7248;&#x4E2D;&#x8D77;&#x91CD;&#x8981;&#x4F5C;&#x7528;&#x7684;&#x884C;&#x95F4;&#x8DDD;&#xFF08;&#x884C;&#x9AD8;&#xFF09;&#x5C5E;&#x6027;&#xFF08;line-height&#xFF09;&#xFF0C;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x8BBE;&#x7F6E;&#x6BB5;&#x843D;&#x884C;&#x95F4;&#x8DDD;&#x4E3A;1.5&#x500D;&#x3002; 1p{line-height:1.5em;} 5.9 &#x6BB5;&#x843D;&#x6392;&#x7248;&#x2013;&#x4E2D;&#x6587;&#x5B57;&#x95F4;&#x8DDD;&#x3001;&#x5B57;&#x6BCD;&#x95F4;&#x8DDD;&#x4E2D;&#x6587;&#x5B57;&#x95F4;&#x9694;&#x3001;&#x5B57;&#x6BCD;&#x95F4;&#x9694;&#x8BBE;&#x7F6E;&#xFF1A; &#x5982;&#x679C;&#x60F3;&#x5728;&#x7F51;&#x9875;&#x6392;&#x7248;&#x4E2D;&#x8BBE;&#x7F6E;&#x6587;&#x5B57;&#x95F4;&#x9694;&#x6216;&#x8005;&#x5B57;&#x6BCD;&#x95F4;&#x9694;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; letter-spacing &#x6765;&#x5B9E;&#x73B0;&#xFF0C;&#x5982;&#x4E0B;&#x9762;&#x4EE3;&#x7801;&#xFF1A;123456h1{ letter-spacing:50px;}......&lt;h1&gt;&#x4E86;&#x4E0D;&#x8D77;&#x7684;&#x76D6;&#x8328;&#x6BD4;&lt;/h1&gt;&#x6CE8;&#x610F;&#xFF1A;&#x8FD9;&#x4E2A;&#x6837;&#x5F0F;&#x4F7F;&#x7528;&#x5728;&#x82F1;&#x6587;&#x5355;&#x8BCD;&#x65F6;&#xFF0C;&#x662F;&#x8BBE;&#x7F6E;&#x5B57;&#x6BCD;&#x4E0E;&#x5B57;&#x6BCD;&#x4E4B;&#x95F4;&#x7684;&#x95F4;&#x8DDD;&#x3002; &#x5355;&#x8BCD;&#x95F4;&#x8DDD;&#x8BBE;&#x7F6E;&#xFF1A; &#x5982;&#x679C;&#x6211;&#x60F3;&#x8BBE;&#x7F6E;&#x82F1;&#x6587;&#x5355;&#x8BCD;&#x4E4B;&#x95F4;&#x7684;&#x95F4;&#x8DDD;&#x5462;&#xFF1F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; word-spacing &#x6765;&#x5B9E;&#x73B0;&#x3002;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;12345h1{ word-spacing:50px;}...&lt;h1&gt;welcome to imooc!&lt;/h1&gt; 5.10 &#x6BB5;&#x843D;&#x6392;&#x7248;&#x2013;&#x5BF9;&#x9F50;&#x60F3;&#x4E3A;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x4E2D;&#x7684;&#x6587;&#x672C;&#x3001;&#x56FE;&#x7247;&#x8BBE;&#x7F6E;&#x5C45;&#x4E2D;&#x6837;&#x5F0F;&#x5417;&#xFF1F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;text-align&#x6837;&#x5F0F;&#x4EE3;&#x7801;&#x3002;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#x53EF;&#x5B9E;&#x73B0;&#x6587;&#x672C;&#x5C45;&#x4E2D;&#x663E;&#x793A;1234h1{ text-align:center;}&lt;h1&gt;&#x4E86;&#x4E0D;&#x8D77;&#x7684;&#x76D6;&#x8328;&#x6BD4;&lt;/h1&gt; &#x540C;&#x6837;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x5C45;&#x5DE6;&#xFF1A;1234h1{ text-align:left;}&lt;h1&gt;&#x4E86;&#x4E0D;&#x8D77;&#x7684;&#x76D6;&#x8328;&#x6BD4;&lt;/h1&gt; &#x8FD8;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x5C45;&#x53F3;&#xFF1A;1234h1{ text-align:right;}&lt;h1&gt;&#x4E86;&#x4E0D;&#x8D77;&#x7684;&#x76D6;&#x8328;&#x6BD4;&lt;/h1&gt; &#x516D;&#x3001; CSS &#x76D2;&#x6A21;&#x578B;6.1 &#x5143;&#x7D20;&#x5206;&#x7C7B;&#x5728;&#x8BB2;&#x89E3;CSS&#x5E03;&#x5C40;&#x4E4B;&#x524D;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x63D0;&#x524D;&#x77E5;&#x9053;&#x4E00;&#x4E9B;&#x77E5;&#x8BC6;&#xFF0C;&#x5728;CSS&#x4E2D;&#xFF0C;html&#x4E2D;&#x7684;&#x6807;&#x7B7E;&#x5143;&#x7D20;&#x5927;&#x4F53;&#x88AB;&#x5206;&#x4E3A;&#x4E09;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x7C7B;&#x578B;&#xFF1A;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x3001;&#x5185;&#x8054;&#x5143;&#x7D20;(&#x53C8;&#x53EB;&#x884C;&#x5185;&#x5143;&#x7D20;)&#x548C;&#x5185;&#x8054;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x3002; &#x5E38;&#x7528;&#x7684;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x6709;&#xFF1A;1&lt;div&gt;&#x3001;&lt;p&gt;&#x3001;&lt;h1&gt;...&lt;h6&gt;&#x3001;&lt;ol&gt;&#x3001;&lt;ul&gt;&#x3001;&lt;dl&gt;&#x3001;&lt;table&gt;&#x3001;&lt;address&gt;&#x3001;&lt;blockquote&gt; &#x3001;&lt;form&gt; &#x5E38;&#x7528;&#x7684;&#x5185;&#x8054;&#x5143;&#x7D20;&#x6709;&#xFF1A;1&lt;a&gt;&#x3001;&lt;span&gt;&#x3001;&lt;br&gt;&#x3001;&lt;i&gt;&#x3001;&lt;em&gt;&#x3001;&lt;strong&gt;&#x3001;&lt;label&gt;&#x3001;&lt;q&gt;&#x3001;&lt;var&gt;&#x3001;&lt;cite&gt;&#x3001;&lt;code&gt; &#x5E38;&#x7528;&#x7684;&#x5185;&#x8054;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x6709;&#xFF1A;1&lt;img&gt;&#x3001;&lt;input&gt; 6.2 &#x5143;&#x7D20;&#x5206;&#x7C7B;&#x2013;&#x5757;&#x7EA7;&#x5143;&#x7D20;&#x4EC0;&#x4E48;&#x662F;&#x5757;&#x7EA7;&#x5143;&#x7D20;&#xFF1F;&#x5728;html&#x4E2D; &lt;div&gt;&#x3001; &lt;p&gt;&#x3001;&lt;h1&gt;&#x3001;&lt;form&gt;&#x3001;&lt;ul&gt; &#x548C; &lt;li&gt; &#x5C31;&#x662F;&#x5757;&#x7EA7;&#x5143;&#x7D20;&#x3002;&#x8BBE;&#x7F6E;display:block&#x5C31;&#x662F;&#x5C06;&#x5143;&#x7D20;&#x663E;&#x793A;&#x4E3A;&#x5757;&#x7EA7;&#x5143;&#x7D20;&#x3002;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#x5C31;&#x662F;&#x5C06;&#x5185;&#x8054;&#x5143;&#x7D20;a&#x8F6C;&#x6362;&#x4E3A;&#x5757;&#x72B6;&#x5143;&#x7D20;&#xFF0C;&#x4ECE;&#x800C;&#x4F7F;a&#x5143;&#x7D20;&#x5177;&#x6709;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x7279;&#x70B9;&#x3002;1a{display:block;} &#x5757;&#x7EA7;&#x5143;&#x7D20;&#x7279;&#x70B9;&#xFF1A; 1&#x3001;&#x6BCF;&#x4E2A;&#x5757;&#x7EA7;&#x5143;&#x7D20;&#x90FD;&#x4ECE;&#x65B0;&#x7684;&#x4E00;&#x884C;&#x5F00;&#x59CB;&#xFF0C;&#x5E76;&#x4E14;&#x5176;&#x540E;&#x7684;&#x5143;&#x7D20;&#x4E5F;&#x53E6;&#x8D77;&#x4E00;&#x884C;&#x3002;&#xFF08;&#x771F;&#x9738;&#x9053;&#xFF0C;&#x4E00;&#x4E2A;&#x5757;&#x7EA7;&#x5143;&#x7D20;&#x72EC;&#x5360;&#x4E00;&#x884C;&#xFF09;2&#x3001;&#x5143;&#x7D20;&#x7684;&#x9AD8;&#x5EA6;&#x3001;&#x5BBD;&#x5EA6;&#x3001;&#x884C;&#x9AD8;&#x4EE5;&#x53CA;&#x9876;&#x548C;&#x5E95;&#x8FB9;&#x8DDD;&#x90FD;&#x53EF;&#x8BBE;&#x7F6E;&#x3002;3&#x3001;&#x5143;&#x7D20;&#x5BBD;&#x5EA6;&#x5728;&#x4E0D;&#x8BBE;&#x7F6E;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x662F;&#x5B83;&#x672C;&#x8EAB;&#x7236;&#x5BB9;&#x5668;&#x7684;100%&#xFF08;&#x548C;&#x7236;&#x5143;&#x7D20;&#x7684;&#x5BBD;&#x5EA6;&#x4E00;&#x81F4;&#xFF09;&#xFF0C;&#x9664;&#x975E;&#x8BBE;&#x5B9A;&#x4E00;&#x4E2A;&#x5BBD;&#x5EA6;&#x3002; 6.3 &#x5143;&#x7D20;&#x5206;&#x7C7B;&#x2013;&#x5185;&#x8054;&#x5143;&#x7D20;&#x5728;html&#x4E2D;&#xFF0C; &lt;span&gt;&#x3001;&lt;a&gt;&#x3001;&lt;label&gt;&#x3001; &lt;strong&gt; &#x548C; &lt;em&gt; &#x5C31;&#x662F;&#x5178;&#x578B;&#x7684;&#x5185;&#x8054;&#x5143;&#x7D20;&#xFF08;&#x884C;&#x5185;&#x5143;&#x7D20;&#xFF09;&#xFF08;inline&#xFF09;&#x5143;&#x7D20;&#x3002;&#x5F53;&#x7136;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4EE3;&#x7801;display:inline&#x5C06;&#x5143;&#x7D20;&#x8BBE;&#x7F6E;&#x4E3A;&#x5185;&#x8054;&#x5143;&#x7D20;&#x3002;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#x5C31;&#x662F;&#x5C06;&#x5757;&#x72B6;&#x5143;&#x7D20;div&#x8F6C;&#x6362;&#x4E3A;&#x5185;&#x8054;&#x5143;&#x7D20;&#xFF0C;&#x4ECE;&#x800C;&#x4F7F; div &#x5143;&#x7D20;&#x5177;&#x6709;&#x5185;&#x8054;&#x5143;&#x7D20;&#x7279;&#x70B9;&#x3002;12345 div{ display:inline; }......&lt;div&gt;&#x6211;&#x8981;&#x53D8;&#x6210;&#x5185;&#x8054;&#x5143;&#x7D20;&lt;/div&gt; &#x5185;&#x8054;&#x5143;&#x7D20;&#x7279;&#x70B9;&#xFF1A; 1&#x3001;&#x548C;&#x5176;&#x4ED6;&#x5143;&#x7D20;&#x90FD;&#x5728;&#x4E00;&#x884C;&#x4E0A;&#xFF1B;2&#x3001;&#x5143;&#x7D20;&#x7684;&#x9AD8;&#x5EA6;&#x3001;&#x5BBD;&#x5EA6;&#x53CA;&#x9876;&#x90E8;&#x548C;&#x5E95;&#x90E8;&#x8FB9;&#x8DDD;&#x4E0D;&#x53EF;&#x8BBE;&#x7F6E;&#xFF1B;3&#x3001;&#x5143;&#x7D20;&#x7684;&#x5BBD;&#x5EA6;&#x5C31;&#x662F;&#x5B83;&#x5305;&#x542B;&#x7684;&#x6587;&#x5B57;&#x6216;&#x56FE;&#x7247;&#x7684;&#x5BBD;&#x5EA6;&#xFF0C;&#x4E0D;&#x53EF;&#x6539;&#x53D8;&#x3002; 6.4 &#x5143;&#x7D20;&#x5206;&#x7C7B;&#x2013;&#x5185;&#x8054;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x5185;&#x8054;&#x5757;&#x72B6;&#x5143;&#x7D20;&#xFF08;inline-block&#xFF09;&#x5C31;&#x662F;&#x540C;&#x65F6;&#x5177;&#x5907;&#x5185;&#x8054;&#x5143;&#x7D20;&#x3001;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x7684;&#x7279;&#x70B9;&#xFF0C;&#x4EE3;&#x7801;display:inline-block&#x5C31;&#x662F;&#x5C06;&#x5143;&#x7D20;&#x8BBE;&#x7F6E;&#x4E3A;&#x5185;&#x8054;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x3002;(css2.1&#x65B0;&#x589E;)&#xFF0C; &lt;img&gt;&#x3001;&lt;input&gt; &#x6807;&#x7B7E;&#x5C31;&#x662F;&#x8FD9;&#x79CD;&#x5185;&#x8054;&#x5757;&#x72B6;&#x6807;&#x7B7E;&#x3002; inline-block &#x5143;&#x7D20;&#x7279;&#x70B9;&#xFF1A;1&#x3001;&#x548C;&#x5176;&#x4ED6;&#x5143;&#x7D20;&#x90FD;&#x5728;&#x4E00;&#x884C;&#x4E0A;&#xFF1B;2&#x3001;&#x5143;&#x7D20;&#x7684;&#x9AD8;&#x5EA6;&#x3001;&#x5BBD;&#x5EA6;&#x3001;&#x884C;&#x9AD8;&#x4EE5;&#x53CA;&#x9876;&#x548C;&#x5E95;&#x8FB9;&#x8DDD;&#x90FD;&#x53EF;&#x8BBE;&#x7F6E;&#x3002; 6.5 &#x76D2;&#x6A21;&#x578B;&#x2013;&#x8FB9;&#x6846;&#x76D2;&#x5B50;&#x6A21;&#x578B;&#x7684;&#x8FB9;&#x6846;&#x5C31;&#x662F;&#x56F4;&#x7ED5;&#x7740;&#x5185;&#x5BB9;&#x53CA;&#x8865;&#x767D;&#x7684;&#x7EBF;&#xFF0C;&#x8FD9;&#x6761;&#x7EBF;&#x4F60;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x5B83;&#x7684;&#x7C97;&#x7EC6;&#x3001;&#x6837;&#x5F0F;&#x548C;&#x989C;&#x8272;(&#x8FB9;&#x6846;&#x4E09;&#x4E2A;&#x5C5E;&#x6027;)&#x3002; &#x5982;&#x4E0B;&#x9762;&#x4EE3;&#x7801;&#x4E3A; div &#x6765;&#x8BBE;&#x7F6E;&#x8FB9;&#x6846;&#x7C97;&#x7EC6;&#x4E3A; 2px&#x3001;&#x6837;&#x5F0F;&#x4E3A;&#x5B9E;&#x5FC3;&#x7684;&#x3001;&#x989C;&#x8272;&#x4E3A;&#x7EA2;&#x8272;&#x7684;&#x8FB9;&#x6846;&#xFF1A;123div{ border:2px solid red;} &#x4E0A;&#x9762;&#x662F; border &#x4EE3;&#x7801;&#x7684;&#x7F29;&#x5199;&#x5F62;&#x5F0F;&#xFF0C;&#x53EF;&#x4EE5;&#x5206;&#x5F00;&#x5199;&#xFF1A;12345div{ border-width:2px; border-style:solid; border-color:red;} &#x6CE8;&#x610F;&#xFF1A; 1&#x3001;border-style&#xFF08;&#x8FB9;&#x6846;&#x6837;&#x5F0F;&#xFF09;&#x5E38;&#x89C1;&#x6837;&#x5F0F;&#x6709;&#xFF1A; * dashed&#xFF08;&#x865A;&#x7EBF;&#xFF09; * dotted&#xFF08;&#x70B9;&#x7EBF;&#xFF09; * solid&#xFF08;&#x5B9E;&#x7EBF;&#xFF09; 2&#x3001;border-color&#xFF08;&#x8FB9;&#x6846;&#x989C;&#x8272;&#xFF09;&#x4E2D;&#x7684;&#x989C;&#x8272;&#x53EF;&#x8BBE;&#x7F6E;&#x4E3A;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x989C;&#x8272;&#xFF0C;&#x5982;:1border-color:#888;//&#x524D;&#x9762;&#x7684;&#x4E95;&#x53F7;&#x4E0D;&#x8981;&#x5FD8;&#x6389;&#x3002; 3&#x3001;border-width&#xFF08;&#x8FB9;&#x6846;&#x5BBD;&#x5EA6;&#xFF09;&#x4E2D;&#x7684;&#x5BBD;&#x5EA6;&#x4E5F;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E3A;&#xFF1A; * thin * medium * thick&#xFF08;&#x4F46;&#x4E0D;&#x662F;&#x5F88;&#x5E38;&#x7528;&#xFF09; * &#x6700;&#x5E38;&#x8FD8;&#x662F;&#x7528;&#x8C61;&#x7D20;&#xFF08;px&#xFF09; &#x73B0;&#x5728;&#x6709;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x60F3;&#x4E3A; p &#x6807;&#x7B7E;&#x5355;&#x72EC;&#x8BBE;&#x7F6E;&#x4E0B;&#x8FB9;&#x6846;&#xFF0C;&#x800C;&#x5176;&#x5B83;&#x4E09;&#x8FB9;&#x90FD;&#x4E0D;&#x8BBE;&#x7F6E;&#x8FB9;&#x6846;&#x6837;&#x5F0F;&#x600E;&#x4E48;&#x529E;&#x5462;&#xFF1F;css &#x6837;&#x5F0F;&#x4E2D;&#x5141;&#x8BB8;&#x53EA;&#x4E3A;&#x4E00;&#x4E2A;&#x65B9;&#x5411;&#x7684;&#x8FB9;&#x6846;&#x8BBE;&#x7F6E;&#x6837;&#x5F0F;&#xFF1A;1div{border-bottom:1px solid red;} &#x540C;&#x6837;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x5176;&#x5B83;&#x4E09;&#x8FB9;(&#x4E0A;&#x3001;&#x53F3;&#x3001;&#x5DE6;)&#x8FB9;&#x6846;&#x7684;&#x8BBE;&#x7F6E;&#xFF1A;123border-top:1px solid red;border-right:1px solid red;border-left:1px solid red; 6.6 &#x76D2;&#x6A21;&#x578B;&#x2013;&#x5BBD;&#x5EA6;&#x548C;&#x9AD8;&#x5EA6;&#x76D2;&#x6A21;&#x578B;&#x5BBD;&#x5EA6;&#x548C;&#x9AD8;&#x5EA6;&#x548C;&#x6211;&#x4EEC;&#x5E73;&#x5E38;&#x6240;&#x8BF4;&#x7684;&#x7269;&#x4F53;&#x7684;&#x5BBD;&#x5EA6;&#x548C;&#x9AD8;&#x5EA6;&#x7406;&#x89E3;&#x662F;&#x4E0D;&#x4E00;&#x6837;&#x7684;&#xFF0C;css&#x5185;&#x5B9A;&#x4E49;&#x7684;&#x5BBD;&#xFF08;width&#xFF09;&#x548C;&#x9AD8;&#xFF08;height&#xFF09;&#xFF0C;&#x6307;&#x7684;&#x662F;&#x586B;&#x5145;&#x4EE5;&#x91CC;&#x7684;&#x5185;&#x5BB9;&#x8303;&#x56F4;&#x3002;&#x56E0;&#x6B64;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x5B9E;&#x9645;&#x5BBD;&#x5EA6;&#xFF08;&#x76D2;&#x5B50;&#x7684;&#x5BBD;&#x5EA6;&#xFF09;=&#x5DE6;&#x8FB9;&#x754C;+&#x5DE6;&#x8FB9;&#x6846;+&#x5DE6;&#x586B;&#x5145;+&#x5185;&#x5BB9;&#x5BBD;&#x5EA6;+&#x53F3;&#x586B;&#x5145;+&#x53F3;&#x8FB9;&#x6846;+&#x53F3;&#x8FB9;&#x754C;&#x3002;&#x5143;&#x7D20;&#x7684;&#x9AD8;&#x5EA6;&#x4E5F;&#x662F;&#x540C;&#x7406;&#x3002;css&#x4EE3;&#x7801;&#xFF1A;123456div{ width:200px; padding:20px; border:1px solid red; margin:10px; } html&#x4EE3;&#x7801;&#xFF1A;123&lt;body&gt; &lt;div&gt;&#x6587;&#x672C;&#x5185;&#x5BB9;&lt;/div&gt;&lt;/body&gt; &#x5143;&#x7D20;&#x7684;&#x5B9E;&#x9645;&#x957F;&#x5EA6;&#x4E3A;&#xFF1A;10px+1px+20px+200px+20px+1px+10px=262px&#x3002; 6.7 &#x76D2;&#x6A21;&#x578B;&#x2013;&#x586B;&#x5145;&#x5143;&#x7D20;&#x5185;&#x5BB9;&#x4E0E;&#x8FB9;&#x6846;&#x4E4B;&#x95F4;&#x662F;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x8DDD;&#x79BB;&#x7684;&#xFF0C;&#x79F0;&#x4E4B;&#x4E3A;&#x201C;&#x586B;&#x5145;&#x201D;&#x3002;&#x586B;&#x5145;&#x4E5F;&#x53EF;&#x5206;&#x4E3A;&#x4E0A;&#x3001;&#x53F3;&#x3001;&#x4E0B;&#x3001;&#x5DE6;(&#x987A;&#x65F6;&#x9488;)&#x3002;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;1div{padding:20px 10px 15px 30px;} &#x987A;&#x5E8F;&#x4E00;&#x5B9A;&#x4E0D;&#x8981;&#x641E;&#x6DF7;&#x3002;&#x53EF;&#x4EE5;&#x5206;&#x5F00;&#x5199;&#x4E0A;&#x9762;&#x4EE3;&#x7801;&#xFF1A;123456div{ padding-top:20px; padding-right:10px; padding-bottom:15px; padding-left:30px;} &#x5982;&#x679C;&#x4E0A;&#x3001;&#x53F3;&#x3001;&#x4E0B;&#x3001;&#x5DE6;&#x7684;&#x586B;&#x5145;&#x90FD;&#x4E3A;10px;&#x53EF;&#x4EE5;&#x8FD9;&#x4E48;&#x5199;1div{padding:10px;} &#x5982;&#x679C;&#x4E0A;&#x4E0B;&#x586B;&#x5145;&#x4E00;&#x6837;&#x4E3A;10px&#xFF0C;&#x5DE6;&#x53F3;&#x4E00;&#x6837;&#x4E3A;20px&#xFF0C;&#x53EF;&#x4EE5;&#x8FD9;&#x4E48;&#x5199;&#xFF1A;1div{padding:10px 20px;} 6.8 &#x76D2;&#x6A21;&#x578B;&#x2013;&#x8FB9;&#x754C;&#x5143;&#x7D20;&#x4E0E;&#x5176;&#x5B83;&#x5143;&#x7D20;&#x4E4B;&#x95F4;&#x7684;&#x8DDD;&#x79BB;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8FB9;&#x754C;&#xFF08;margin&#xFF09;&#x6765;&#x8BBE;&#x7F6E;&#x3002;&#x8FB9;&#x754C;&#x4E5F;&#x662F;&#x53EF;&#x5206;&#x4E3A;&#x4E0A;&#x3001;&#x53F3;&#x3001;&#x4E0B;&#x3001;&#x5DE6;&#x3002;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;1div{margin:20px 10px 15px 30px;} &#x4E5F;&#x53EF;&#x4EE5;&#x5206;&#x5F00;&#x5199;&#xFF1A;123456div{ margin-top:20px; margin-right:10px; margin-bottom:15px; margin-left:30px;} &#x5982;&#x679C;&#x4E0A;&#x53F3;&#x4E0B;&#x5DE6;&#x7684;&#x8FB9;&#x754C;&#x90FD;&#x4E3A;10px;&#x53EF;&#x4EE5;&#x8FD9;&#x4E48;&#x5199;&#xFF1A;1div{ margin:10px;} &#x5982;&#x679C;&#x4E0A;&#x4E0B;&#x8FB9;&#x754C;&#x4E00;&#x6837;&#x4E3A;10px&#xFF0C;&#x5DE6;&#x53F3;&#x4E00;&#x6837;&#x4E3A;20px&#xFF0C;&#x53EF;&#x4EE5;&#x8FD9;&#x4E48;&#x5199;&#xFF1A;1div{ margin:10px 20px;} &#x603B;&#x7ED3;&#x4E00;&#x4E0B;&#xFF1A;padding&#x548C;margin&#x7684;&#x533A;&#x522B;&#xFF0C;padding&#x5728;&#x8FB9;&#x6846;&#x91CC;&#xFF0C;margin&#x5728;&#x8FB9;&#x6846;&#x5916;&#x3002; &#x4E03;&#x3001;CSS&#x5E03;&#x5C40;&#x6A21;&#x578B;7.1 css&#x5E03;&#x5C40;&#x6A21;&#x578B;&#x6E05;&#x695A;&#x4E86;CSS &#x76D2;&#x6A21;&#x578B;&#x7684;&#x57FA;&#x672C;&#x6982;&#x5FF5;&#x3001; &#x76D2;&#x6A21;&#x578B;&#x7C7B;&#x578B;&#xFF0C; &#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x6DF1;&#x5165;&#x63A2;&#x8BA8;&#x7F51;&#x9875;&#x5E03;&#x5C40;&#x7684;&#x57FA;&#x672C;&#x6A21;&#x578B;&#x4E86;&#x3002;&#x5E03;&#x5C40;&#x6A21;&#x578B;&#x4E0E;&#x76D2;&#x6A21;&#x578B;&#x4E00;&#x6837;&#x90FD;&#x662F; CSS &#x6700;&#x57FA;&#x672C;&#x3001; &#x6700;&#x6838;&#x5FC3;&#x7684;&#x6982;&#x5FF5;&#x3002; &#x4F46;&#x5E03;&#x5C40;&#x6A21;&#x578B;&#x662F;&#x5EFA;&#x7ACB;&#x5728;&#x76D2;&#x6A21;&#x578B;&#x57FA;&#x7840;&#x4E4B;&#x4E0A;&#xFF0C;&#x53C8;&#x4E0D;&#x540C;&#x4E8E;&#x6211;&#x4EEC;&#x5E38;&#x8BF4;&#x7684; CSS &#x5E03;&#x5C40;&#x6837;&#x5F0F;&#x6216; CSS &#x5E03;&#x5C40;&#x6A21;&#x677F;&#x3002;&#x5982;&#x679C;&#x8BF4;&#x5E03;&#x5C40;&#x6A21;&#x578B;&#x662F;&#x672C;&#xFF0C;&#x90A3;&#x4E48; CSS &#x5E03;&#x5C40;&#x6A21;&#x677F;&#x5C31;&#x662F;&#x672B;&#x4E86;&#xFF0C;&#x662F;&#x5916;&#x5728;&#x7684;&#x8868;&#x73B0;&#x5F62;&#x5F0F;&#x3002; CSS&#x5305;&#x542B;3&#x79CD;&#x57FA;&#x672C;&#x7684;&#x5E03;&#x5C40;&#x6A21;&#x578B;&#xFF0C;&#x7528;&#x82F1;&#x6587;&#x6982;&#x62EC;&#x4E3A;&#xFF1A;Flow&#x3001;Layer &#x548C; Float&#x3002; &#x5728;&#x7F51;&#x9875;&#x4E2D;&#xFF0C;&#x5143;&#x7D20;&#x6709;&#x4E09;&#x79CD;&#x5E03;&#x5C40;&#x6A21;&#x578B;&#xFF1A;1231&#x3001;&#x6D41;&#x52A8;&#x6A21;&#x578B;&#xFF08;Flow&#xFF09;2&#x3001;&#x6D6E;&#x52A8;&#x6A21;&#x578B; (Float)3&#x3001;&#x5C42;&#x6A21;&#x578B;&#xFF08;Layer&#xFF09; 7.2 &#x6D41;&#x52A8;&#x6A21;&#x578B;&#x5148;&#x6765;&#x8BF4;&#x4E00;&#x8BF4;&#x6D41;&#x52A8;&#x6A21;&#x578B;&#xFF0C;&#x6D41;&#x52A8;&#xFF08;Flow&#xFF09;&#x662F;&#x9ED8;&#x8BA4;&#x7684;&#x7F51;&#x9875;&#x5E03;&#x5C40;&#x6A21;&#x5F0F;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x7F51;&#x9875;&#x5728;&#x9ED8;&#x8BA4;&#x72B6;&#x6001;&#x4E0B;&#x7684; HTML &#x7F51;&#x9875;&#x5143;&#x7D20;&#x90FD;&#x662F;&#x6839;&#x636E;&#x6D41;&#x52A8;&#x6A21;&#x578B;&#x6765;&#x5206;&#x5E03;&#x7F51;&#x9875;&#x5185;&#x5BB9;&#x7684;&#x3002; &#x6D41;&#x52A8;&#x5E03;&#x5C40;&#x6A21;&#x578B;&#x5177;&#x6709;2&#x4E2A;&#x6BD4;&#x8F83;&#x5178;&#x578B;&#x7684;&#x7279;&#x5F81;&#xFF1A; &#x7B2C;&#x4E00;&#x70B9;&#xFF0C;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x90FD;&#x4F1A;&#x5728;&#x6240;&#x5904;&#x7684;&#x5305;&#x542B;&#x5143;&#x7D20;&#x5185;&#x81EA;&#x4E0A;&#x800C;&#x4E0B;&#x6309;&#x987A;&#x5E8F;&#x5782;&#x76F4;&#x5EF6;&#x4F38;&#x5206;&#x5E03;&#xFF0C;&#x56E0;&#x4E3A;&#x5728;&#x9ED8;&#x8BA4;&#x72B6;&#x6001;&#x4E0B;&#xFF0C;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x7684;&#x5BBD;&#x5EA6;&#x90FD;&#x4E3A;100%&#x3002;&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x90FD;&#x4F1A;&#x4EE5;&#x884C;&#x7684;&#x5F62;&#x5F0F;&#x5360;&#x636E;&#x4F4D;&#x7F6E;&#x3002;&#x5982;&#x53F3;&#x4FA7;&#x4EE3;&#x7801;&#x7F16;&#x8F91;&#x5668;&#x4E2D;&#x4E09;&#x4E2A;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x6807;&#x7B7E;(div&#xFF0C;h1&#xFF0C;p)&#x5BBD;&#x5EA6;&#x663E;&#x793A;&#x4E3A;100%&#x3002;&#x7B2C;&#x4E8C;&#x70B9;&#xFF0C;&#x5728;&#x6D41;&#x52A8;&#x6A21;&#x578B;&#x4E0B;&#xFF0C;&#x5185;&#x8054;&#x5143;&#x7D20;&#x90FD;&#x4F1A;&#x5728;&#x6240;&#x5904;&#x7684;&#x5305;&#x542B;&#x5143;&#x7D20;&#x5185;&#x4ECE;&#x5DE6;&#x5230;&#x53F3;&#x6C34;&#x5E73;&#x5206;&#x5E03;&#x663E;&#x793A;&#x3002;&#xFF08;&#x5185;&#x8054;&#x5143;&#x7D20;&#x53EF;&#x4E0D;&#x50CF;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x8FD9;&#x4E48;&#x9738;&#x9053;&#x72EC;&#x5360;&#x4E00;&#x884C;&#xFF09; 7.3 &#x6D6E;&#x52A8;&#x6A21;&#x578B;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x8FD9;&#x4E48;&#x9738;&#x9053;&#x90FD;&#x662F;&#x72EC;&#x5360;&#x4E00;&#x884C;&#xFF0C;&#x5982;&#x679C;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x60F3;&#x8BA9;&#x4E24;&#x4E2A;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x5E76;&#x6392;&#x663E;&#x793A;&#xFF0C;&#x600E;&#x4E48;&#x529E;&#x5462;&#xFF1F;&#x4E0D;&#x8981;&#x7740;&#x6025;&#xFF0C;&#x8BBE;&#x7F6E;&#x5143;&#x7D20;&#x6D6E;&#x52A8;&#x5C31;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x8FD9;&#x4E00;&#x613F;&#x671B;&#x3002; &#x4EFB;&#x4F55;&#x5143;&#x7D20;&#x5728;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x662F;&#x4E0D;&#x80FD;&#x6D6E;&#x52A8;&#x7684;&#xFF0C;&#x4F46;&#x53EF;&#x4EE5;&#x7528; CSS &#x5B9A;&#x4E49;&#x4E3A;&#x6D6E;&#x52A8;&#xFF0C;&#x5982; div&#x3001;p&#x3001;table&#x3001;img &#x7B49;&#x5143;&#x7D20;&#x90FD;&#x53EF;&#x4EE5;&#x88AB;&#x5B9A;&#x4E49;&#x4E3A;&#x6D6E;&#x52A8;&#x3002;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x4E24;&#x4E2A; div &#x5143;&#x7D20;&#x4E00;&#x884C;&#x663E;&#x793A;&#x3002;12345678div{ width:200px; height:200px; border:2px red solid; float:left;}&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;&lt;div id=&quot;div2&quot;&gt;&lt;/div&gt; &#x6548;&#x679C;&#x56FE; &#x5F53;&#x7136;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x8BBE;&#x7F6E;&#x4E24;&#x4E2A;&#x5143;&#x7D20;&#x53F3;&#x6D6E;&#x52A8;&#x4E5F;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x4E00;&#x884C;&#x663E;&#x793A;&#x3002;123456div{ width:200px; height:200px; border:2px red solid; float:right;} &#x6548;&#x679C;&#x56FE; &#x53C8;&#x6709;&#x5C0F;&#x4F19;&#x4F34;&#x95EE;&#x4E86;&#xFF0C;&#x8BBE;&#x7F6E;&#x4E24;&#x4E2A;&#x5143;&#x7D20;&#x4E00;&#x5DE6;&#x4E00;&#x53F3;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x4E00;&#x884C;&#x663E;&#x793A;&#x5417;&#xFF1F;&#x5F53;&#x7136;&#x53EF;&#x4EE5;&#xFF1A;1234567div{ width:200px; height:200px; border:2px red solid;}#div1{float:left;}#div2{float:right;} &#x6548;&#x679C;&#x56FE; 7.4 &#x4EC0;&#x4E48;&#x662F;&#x5C42;&#x6A21;&#x578B;&#xFF1F;&#x4EC0;&#x4E48;&#x662F;&#x5C42;&#x5E03;&#x5C40;&#x6A21;&#x578B;&#xFF1F;&#x5C42;&#x5E03;&#x5C40;&#x6A21;&#x578B;&#x5C31;&#x50CF;&#x662F;&#x56FE;&#x50CF;&#x8F6F;&#x4EF6;PhotoShop&#x4E2D;&#x975E;&#x5E38;&#x6D41;&#x884C;&#x7684;&#x56FE;&#x5C42;&#x7F16;&#x8F91;&#x529F;&#x80FD;&#x4E00;&#x6837;&#xFF0C;&#x6BCF;&#x4E2A;&#x56FE;&#x5C42;&#x80FD;&#x591F;&#x7CBE;&#x786E;&#x5B9A;&#x4F4D;&#x64CD;&#x4F5C;&#xFF0C;&#x4F46;&#x5728;&#x7F51;&#x9875;&#x8BBE;&#x8BA1;&#x9886;&#x57DF;&#xFF0C;&#x7531;&#x4E8E;&#x7F51;&#x9875;&#x5927;&#x5C0F;&#x7684;&#x6D3B;&#x52A8;&#x6027;&#xFF0C;&#x5C42;&#x5E03;&#x5C40;&#x6CA1;&#x80FD;&#x53D7;&#x5230;&#x70ED;&#x6367;&#x3002;&#x4F46;&#x662F;&#x5728;&#x7F51;&#x9875;&#x4E0A;&#x5C40;&#x90E8;&#x4F7F;&#x7528;&#x5C42;&#x5E03;&#x5C40;&#x8FD8;&#x662F;&#x6709;&#x5176;&#x65B9;&#x4FBF;&#x4E4B;&#x5904;&#x7684;&#x3002;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x6765;&#x5B66;&#x4E60;&#x4E00;&#x4E0B;html&#x4E2D;&#x7684;&#x5C42;&#x5E03;&#x5C40;&#x3002; &#x5982;&#x4F55;&#x8BA9;html&#x5143;&#x7D20;&#x5728;&#x7F51;&#x9875;&#x4E2D;&#x7CBE;&#x786E;&#x5B9A;&#x4F4D;&#xFF0C;&#x5C31;&#x50CF;&#x56FE;&#x50CF;&#x8F6F;&#x4EF6;PhotoShop&#x4E2D;&#x7684;&#x56FE;&#x5C42;&#x4E00;&#x6837;&#x53EF;&#x4EE5;&#x5BF9;&#x6BCF;&#x4E2A;&#x56FE;&#x5C42;&#x80FD;&#x591F;&#x7CBE;&#x786E;&#x5B9A;&#x4F4D;&#x64CD;&#x4F5C;&#x3002;CSS&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x7EC4;&#x5B9A;&#x4F4D;&#xFF08;positioning&#xFF09;&#x5C5E;&#x6027;&#x6765;&#x652F;&#x6301;&#x5C42;&#x5E03;&#x5C40;&#x6A21;&#x578B;&#x3002; &#x5C42;&#x6A21;&#x578B;&#x6709;&#x4E09;&#x79CD;&#x5F62;&#x5F0F;&#xFF1A;1231&#x3001;&#x7EDD;&#x5BF9;&#x5B9A;&#x4F4D;(position: absolute)2&#x3001;&#x76F8;&#x5BF9;&#x5B9A;&#x4F4D;(position: relative)3&#x3001;&#x56FA;&#x5B9A;&#x5B9A;&#x4F4D;(position: fixed) 7.5 &#x5C42;&#x6A21;&#x578B;&#x2013;&#x7EDD;&#x5BF9;&#x5B9A;&#x4F4D;&#x5982;&#x679C;&#x60F3;&#x4E3A;&#x5143;&#x7D20;&#x8BBE;&#x7F6E;&#x5C42;&#x6A21;&#x578B;&#x4E2D;&#x7684;&#x7EDD;&#x5BF9;&#x5B9A;&#x4F4D;&#xFF0C;&#x9700;&#x8981;&#x8BBE;&#x7F6E;position:absolute(&#x8868;&#x793A;&#x7EDD;&#x5BF9;&#x5B9A;&#x4F4D;)&#xFF0C;&#x8FD9;&#x6761;&#x8BED;&#x53E5;&#x7684;&#x4F5C;&#x7528;&#x5C06;&#x5143;&#x7D20;&#x4ECE;&#x6587;&#x6863;&#x6D41;&#x4E2D;&#x62D6;&#x51FA;&#x6765;&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528;left&#x3001;right&#x3001;top&#x3001;bottom&#x5C5E;&#x6027;&#x76F8;&#x5BF9;&#x4E8E;&#x5176;&#x6700;&#x63A5;&#x8FD1;&#x7684;&#x4E00;&#x4E2A;&#x5177;&#x6709;&#x5B9A;&#x4F4D;&#x5C5E;&#x6027;&#x7684;&#x7236;&#x5305;&#x542B;&#x5757;&#x8FDB;&#x884C;&#x7EDD;&#x5BF9;&#x5B9A;&#x4F4D;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x8FD9;&#x6837;&#x7684;&#x5305;&#x542B;&#x5757;&#xFF0C;&#x5219;&#x76F8;&#x5BF9;&#x4E8E;body&#x5143;&#x7D20;&#xFF0C;&#x5373;&#x76F8;&#x5BF9;&#x4E8E;&#x6D4F;&#x89C8;&#x5668;&#x7A97;&#x53E3;&#x3002; &#x5982;&#x4E0B;&#x9762;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;div&#x5143;&#x7D20;&#x76F8;&#x5BF9;&#x4E8E;&#x6D4F;&#x89C8;&#x5668;&#x7A97;&#x53E3;&#x5411;&#x53F3;&#x79FB;&#x52A8;100px&#xFF0C;&#x5411;&#x4E0B;&#x79FB;&#x52A8;50px&#x3002; div{ width:200px; height:200px; border:2px red solid; position:absolute; left:100px; top:50px;} &#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; 7.6 &#x5C42;&#x6A21;&#x578B;&#x2013;&#x76F8;&#x5BF9;&#x5B9A;&#x4F4D;&#x5982;&#x679C;&#x60F3;&#x4E3A;&#x5143;&#x7D20;&#x8BBE;&#x7F6E;&#x5C42;&#x6A21;&#x578B;&#x4E2D;&#x7684;&#x76F8;&#x5BF9;&#x5B9A;&#x4F4D;&#xFF0C;&#x9700;&#x8981;&#x8BBE;&#x7F6E;position:relative&#xFF08;&#x8868;&#x793A;&#x76F8;&#x5BF9;&#x5B9A;&#x4F4D;&#xFF09;&#xFF0C;&#x5B83;&#x901A;&#x8FC7;left&#x3001;right&#x3001;top&#x3001;bottom&#x5C5E;&#x6027;&#x786E;&#x5B9A;&#x5143;&#x7D20;&#x5728;&#x6B63;&#x5E38;&#x6587;&#x6863;&#x6D41;&#x4E2D;&#x7684;&#x504F;&#x79FB;&#x4F4D;&#x7F6E;&#x3002;&#x76F8;&#x5BF9;&#x5B9A;&#x4F4D;&#x5B8C;&#x6210;&#x7684;&#x8FC7;&#x7A0B;&#x662F;&#x9996;&#x5148;&#x6309;static(float)&#x65B9;&#x5F0F;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x5143;&#x7D20;(&#x5E76;&#x4E14;&#x5143;&#x7D20;&#x50CF;&#x5C42;&#x4E00;&#x6837;&#x6D6E;&#x52A8;&#x4E86;&#x8D77;&#x6765;)&#xFF0C;&#x7136;&#x540E;&#x76F8;&#x5BF9;&#x4E8E;&#x4EE5;&#x524D;&#x7684;&#x4F4D;&#x7F6E;&#x79FB;&#x52A8;&#xFF0C;&#x79FB;&#x52A8;&#x7684;&#x65B9;&#x5411;&#x548C;&#x5E45;&#x5EA6;&#x7531;left&#x3001;right&#x3001;top&#x3001;bottom&#x5C5E;&#x6027;&#x786E;&#x5B9A;&#xFF0C;&#x504F;&#x79FB;&#x524D;&#x7684;&#x4F4D;&#x7F6E;&#x4FDD;&#x7559;&#x4E0D;&#x52A8;&#x3002; &#x5982;&#x4E0B;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x76F8;&#x5BF9;&#x4E8E;&#x4EE5;&#x524D;&#x4F4D;&#x7F6E;&#x5411;&#x4E0B;&#x79FB;&#x52A8;50px&#xFF0C;&#x5411;&#x53F3;&#x79FB;&#x52A8;100px;12345678910#div1{ width:200px; height:200px; border:2px red solid; position:relative; left:100px; top:50px;}&lt;div id=&quot;div1&quot;&gt;&lt;/div&gt; &#x6548;&#x679C;&#x56FE;&#xFF1A; &#x4EC0;&#x4E48;&#x53EB;&#x505A;&#x201C;&#x504F;&#x79FB;&#x524D;&#x7684;&#x4F4D;&#x7F6E;&#x4FDD;&#x7559;&#x4E0D;&#x52A8;&#x201D;&#x5462;&#xFF1F; &#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x505A;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#xFF0C;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;123&lt;body&gt; &lt;div id=&quot;div1&quot;&gt;&lt;/div&gt;&lt;span&gt;&#x504F;&#x79FB;&#x524D;&#x7684;&#x4F4D;&#x7F6E;&#x8FD8;&#x4FDD;&#x7559;&#x4E0D;&#x52A8;&#xFF0C;&#x8986;&#x76D6;&#x4E0D;&#x4E86;&#x524D;&#x9762;&#x7684;div&#x6CA1;&#x6709;&#x504F;&#x79FB;&#x524D;&#x7684;&#x4F4D;&#x7F6E;&lt;/span&gt;&lt;/body&gt; &#x6548;&#x679C;&#x56FE;&#xFF1A; &#x4ECE;&#x6548;&#x679C;&#x56FE;&#x4E2D;&#x53EF;&#x4EE5;&#x660E;&#x663E;&#x7684;&#x770B;&#x51FA;&#xFF0C;&#x867D;&#x7136;div&#x5143;&#x7D20;&#x76F8;&#x5BF9;&#x4E8E;&#x4EE5;&#x524D;&#x7684;&#x4F4D;&#x7F6E;&#x4EA7;&#x751F;&#x4E86;&#x504F;&#x79FB;&#xFF0C;&#x4F46;&#x662F;div&#x5143;&#x7D20;&#x4EE5;&#x524D;&#x7684;&#x4F4D;&#x7F6E;&#x8FD8;&#x662F;&#x4FDD;&#x7559;&#x7740;&#xFF0C;&#x6240;&#x4EE5;&#x540E;&#x9762;&#x7684;span&#x5143;&#x7D20;&#x662F;&#x663E;&#x793A;&#x5728;&#x4E86;div&#x5143;&#x7D20;&#x4EE5;&#x524D;&#x4F4D;&#x7F6E;&#x7684;&#x540E;&#x9762;&#x3002; 7.7 &#x5C42;&#x6A21;&#x578B;&#x2013;&#x56FA;&#x5B9A;&#x5B9A;&#x4F4D;fixed&#xFF1A;&#x8868;&#x793A;&#x56FA;&#x5B9A;&#x5B9A;&#x4F4D;&#xFF0C;&#x4E0E;absolute&#x5B9A;&#x4F4D;&#x7C7B;&#x578B;&#x7C7B;&#x4F3C;&#xFF0C;&#x4F46;&#x5B83;&#x7684;&#x76F8;&#x5BF9;&#x79FB;&#x52A8;&#x7684;&#x5750;&#x6807;&#x662F;&#x89C6;&#x56FE;&#xFF08;&#x5C4F;&#x5E55;&#x5185;&#x7684;&#x7F51;&#x9875;&#x7A97;&#x53E3;&#xFF09;&#x672C;&#x8EAB;&#x3002;&#x7531;&#x4E8E;&#x89C6;&#x56FE;&#x672C;&#x8EAB;&#x662F;&#x56FA;&#x5B9A;&#x7684;&#xFF0C;&#x5B83;&#x4E0D;&#x4F1A;&#x968F;&#x6D4F;&#x89C8;&#x5668;&#x7A97;&#x53E3;&#x7684;&#x6EDA;&#x52A8;&#x6761;&#x6EDA;&#x52A8;&#x800C;&#x53D8;&#x5316;&#xFF0C;&#x9664;&#x975E;&#x4F60;&#x5728;&#x5C4F;&#x5E55;&#x4E2D;&#x79FB;&#x52A8;&#x6D4F;&#x89C8;&#x5668;&#x7A97;&#x53E3;&#x7684;&#x5C4F;&#x5E55;&#x4F4D;&#x7F6E;&#xFF0C;&#x6216;&#x6539;&#x53D8;&#x6D4F;&#x89C8;&#x5668;&#x7A97;&#x53E3;&#x7684;&#x663E;&#x793A;&#x5927;&#x5C0F;&#xFF0C;&#x56E0;&#x6B64;&#x56FA;&#x5B9A;&#x5B9A;&#x4F4D;&#x7684;&#x5143;&#x7D20;&#x4F1A;&#x59CB;&#x7EC8;&#x4F4D;&#x4E8E;&#x6D4F;&#x89C8;&#x5668;&#x7A97;&#x53E3;&#x5185;&#x89C6;&#x56FE;&#x7684;&#x67D0;&#x4E2A;&#x4F4D;&#x7F6E;&#xFF0C;&#x4E0D;&#x4F1A;&#x53D7;&#x6587;&#x6863;&#x6D41;&#x52A8;&#x5F71;&#x54CD;&#xFF0C;&#x8FD9;&#x4E0E;background-attachment:fixed&#x37E;&#x5C5E;&#x6027;&#x529F;&#x80FD;&#x76F8;&#x540C;&#x3002;&#x4EE5;&#x4E0B;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x76F8;&#x5BF9;&#x4E8E;&#x6D4F;&#x89C8;&#x5668;&#x89C6;&#x56FE;&#x5411;&#x53F3;&#x79FB;&#x52A8;100px&#xFF0C;&#x5411;&#x4E0B;&#x79FB;&#x52A8;50px&#x3002;&#x5E76;&#x4E14;&#x62D6;&#x52A8;&#x6EDA;&#x52A8;&#x6761;&#x65F6;&#x4F4D;&#x7F6E;&#x56FA;&#x5B9A;&#x4E0D;&#x53D8;&#x3002;12345678910#div1{ width:200px; height:200px; border:2px red solid; position:fixed; left:100px; top:50px;}&lt;p&gt;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x6587;&#x672C;&#x3002;&lt;/p&gt;.... 7.8 Relative&#x4E0E;Absolute&#x7EC4;&#x5408;&#x4F7F;&#x7528;&#x5C0F;&#x4F19;&#x4F34;&#x4EEC;&#x5B66;&#x4E60;&#x4E86;&#x7EDD;&#x5BF9;&#x5B9A;&#x4F4D;&#x7684;&#x65B9;&#x6CD5;&#xFF1A;&#x4F7F;&#x7528;position:absolute&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x88AB;&#x8BBE;&#x7F6E;&#x5143;&#x7D20;&#x76F8;&#x5BF9;&#x4E8E;&#x6D4F;&#x89C8;&#x5668;&#xFF08;body&#xFF09;&#x8BBE;&#x7F6E;&#x5B9A;&#x4F4D;&#x4EE5;&#x540E;&#xFF0C;&#x5927;&#x5BB6;&#x6709;&#x6CA1;&#x6709;&#x60F3;&#x8FC7;&#x53EF;&#x4E0D;&#x53EF;&#x4EE5;&#x76F8;&#x5BF9;&#x4E8E;&#x5176;&#x5B83;&#x5143;&#x7D20;&#x8FDB;&#x884C;&#x5B9A;&#x4F4D;&#x5462;&#xFF1F;&#x7B54;&#x6848;&#x662F;&#x80AF;&#x5B9A;&#x7684;&#xFF0C;&#x5F53;&#x7136;&#x53EF;&#x4EE5;&#x3002;&#x4F7F;&#x7528;position:relative&#x6765;&#x5E2E;&#x5FD9;&#xFF0C;&#x4F46;&#x662F;&#x5FC5;&#x987B;&#x9075;&#x5B88;&#x4E0B;&#x9762;&#x89C4;&#x8303;&#xFF1A; 1&#x3001;&#x53C2;&#x7167;&#x5B9A;&#x4F4D;&#x7684;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x662F;&#x76F8;&#x5BF9;&#x5B9A;&#x4F4D;&#x5143;&#x7D20;&#x7684;&#x524D;&#x8F88;&#x5143;&#x7D20;&#xFF1A;123&lt;div id=&quot;box1&quot;&gt;&lt;!--&#x53C2;&#x7167;&#x5B9A;&#x4F4D;&#x7684;&#x5143;&#x7D20;--&gt; &lt;div id=&quot;box2&quot;&gt;&#x76F8;&#x5BF9;&#x53C2;&#x7167;&#x5143;&#x7D20;&#x8FDB;&#x884C;&#x5B9A;&#x4F4D;&lt;/div&gt;&lt;!--&#x76F8;&#x5BF9;&#x5B9A;&#x4F4D;&#x5143;&#x7D20;--&gt;&lt;/div&gt; &#x4ECE;&#x4E0A;&#x9762;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x770B;&#x51FA;box1&#x662F;box2&#x7684;&#x7236;&#x5143;&#x7D20;&#xFF08;&#x7236;&#x5143;&#x7D20;&#x5F53;&#x7136;&#x4E5F;&#x662F;&#x524D;&#x8F88;&#x5143;&#x7D20;&#x4E86;&#xFF09;&#x3002; 2&#x3001;&#x53C2;&#x7167;&#x5B9A;&#x4F4D;&#x7684;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x52A0;&#x5165;position:relative;12345#box1{ width:200px; height:200px; position:relative; } 3&#x3001;&#x5B9A;&#x4F4D;&#x5143;&#x7D20;&#x52A0;&#x5165;position:absolute&#xFF0C;&#x4FBF;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;top&#x3001;bottom&#x3001;left&#x3001;right&#x6765;&#x8FDB;&#x884C;&#x504F;&#x79FB;&#x5B9A;&#x4F4D;&#x4E86;&#x3002;12345#box2{ position:absolute; top:20px; left:30px; } &#x8FD9;&#x6837;box2&#x5C31;&#x53EF;&#x4EE5;&#x76F8;&#x5BF9;&#x4E8E;&#x7236;&#x5143;&#x7D20;box1&#x5B9A;&#x4F4D;&#x4E86;&#xFF08;&#x8FD9;&#x91CC;&#x6CE8;&#x610F;&#x53C2;&#x7167;&#x7269;&#x5C31;&#x53EF;&#x4EE5;&#x4E0D;&#x662F;&#x6D4F;&#x89C8;&#x5668;&#x4E86;&#xFF0C;&#x800C;&#x53EF;&#x4EE5;&#x81EA;&#x7531;&#x8BBE;&#x7F6E;&#x4E86;&#xFF09;&#x3002; &#x516B;&#x3001; CSS &#x4EE3;&#x7801;&#x7F29;&#x5199;&#xFF0C;&#x5360;&#x7528;&#x66F4;&#x5C11;&#x7684;&#x5E26;&#x5BBD;8.1 &#x76D2;&#x6A21;&#x578B;&#x4EE3;&#x7801;&#x7B80;&#x5199;&#x8FD8;&#x8BB0;&#x5F97;&#x5728;&#x8BB2;&#x76D2;&#x6A21;&#x578B;&#x65F6;&#x5916;&#x8FB9;&#x8DDD;(margin)&#x3001;&#x5185;&#x8FB9;&#x8DDD;(padding)&#x548C;&#x8FB9;&#x6846;(border)&#x8BBE;&#x7F6E;&#x4E0A;&#x4E0B;&#x5DE6;&#x53F3;&#x56DB;&#x4E2A;&#x65B9;&#x5411;&#x7684;&#x8FB9;&#x8DDD;&#x662F;&#x6309;&#x7167;&#x987A;&#x65F6;&#x9488;&#x65B9;&#x5411;&#x8BBE;&#x7F6E;&#x7684;&#xFF1A;&#x4E0A;&#x53F3;&#x4E0B;&#x5DE6;&#x3002;&#x5177;&#x4F53;&#x5E94;&#x7528;&#x5728;margin&#x548C;padding&#x7684;&#x4F8B;&#x5B50;&#x5982;&#x4E0B;&#xFF1A;1margin:10px 15px 12px 14px;/*&#x4E0A;&#x8BBE;&#x7F6E;&#x4E3A;10px&#x3001;&#x53F3;&#x8BBE;&#x7F6E;&#x4E3A;15px&#x3001;&#x4E0B;&#x8BBE;&#x7F6E;&#x4E3A;12px&#x3001;&#x5DE6;&#x8BBE;&#x7F6E;&#x4E3A;14px*/ &#x901A;&#x5E38;&#x6709;&#x4E0B;&#x9762;&#x4E09;&#x79CD;&#x7F29;&#x5199;&#x65B9;&#x6CD5;: 1&#x3001;&#x5982;&#x679C;top&#x3001;right&#x3001;bottom&#x3001;left&#x7684;&#x503C;&#x76F8;&#x540C;&#xFF0C;&#x5982;&#x4E0B;&#x9762;&#x4EE3;&#x7801;&#xFF1A;1margin:10px 10px 10px 10px; &#x53EF;&#x7F29;&#x5199;&#x4E3A;&#xFF1A;1margin:10px; 2&#x3001;&#x5982;&#x679C;top&#x548C;bottom&#x503C;&#x76F8;&#x540C;&#x3001;left&#x548C; right&#x7684;&#x503C;&#x76F8;&#x540C;&#xFF0C;&#x5982;&#x4E0B;&#x9762;&#x4EE3;&#x7801;&#xFF1A;1margin:10px 20px 10px 20px; &#x53EF;&#x7F29;&#x5199;&#x4E3A;&#xFF1A;1margin:10px 20px; 3&#x3001;&#x5982;&#x679C;left&#x548C;right&#x7684;&#x503C;&#x76F8;&#x540C;&#xFF0C;&#x5982;&#x4E0B;&#x9762;&#x4EE3;&#x7801;&#xFF1A;1margin:10px 20px 30px 20px; &#x53EF;&#x7F29;&#x5199;&#x4E3A;&#xFF1A;1margin:10px 20px 30px; &#x6CE8;&#x610F;&#xFF1A;padding&#x3001;border&#x7684;&#x7F29;&#x5199;&#x65B9;&#x6CD5;&#x548C;margin&#x662F;&#x4E00;&#x81F4;&#x7684;&#x3002; 8.2 &#x989C;&#x8272;&#x503C;&#x7F29;&#x5199;&#x5173;&#x4E8E;&#x989C;&#x8272;&#x7684;css&#x6837;&#x5F0F;&#x4E5F;&#x662F;&#x53EF;&#x4EE5;&#x7F29;&#x5199;&#x7684;&#xFF0C;&#x5F53;&#x4F60;&#x8BBE;&#x7F6E;&#x7684;&#x989C;&#x8272;&#x662F;16&#x8FDB;&#x5236;&#x7684;&#x8272;&#x5F69;&#x503C;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x6BCF;&#x4E24;&#x4F4D;&#x7684;&#x503C;&#x76F8;&#x540C;&#xFF0C;&#x53EF;&#x4EE5;&#x7F29;&#x5199;&#x4E00;&#x534A;&#x3002; &#x4F8B;&#x5B50;1&#xFF1A;1p{color:#000000;} &#x53EF;&#x4EE5;&#x7F29;&#x5199;&#x4E3A;&#xFF1A;1p{color: #000;} &#x4F8B;&#x5B50;2&#xFF1A;1p{color: #336699;} &#x53EF;&#x4EE5;&#x7F29;&#x5199;&#x4E3A;&#xFF1A;1p{color: #369;} 8.3 &#x5B57;&#x4F53;&#x7F29;&#x5199;&#x7F51;&#x9875;&#x4E2D;&#x7684;&#x5B57;&#x4F53;css&#x6837;&#x5F0F;&#x4EE3;&#x7801;&#x4E5F;&#x6709;&#x4ED6;&#x81EA;&#x5DF1;&#x7684;&#x7F29;&#x5199;&#x65B9;&#x5F0F;&#xFF0C;&#x4E0B;&#x9762;&#x662F;&#x7ED9;&#x7F51;&#x9875;&#x8BBE;&#x7F6E;&#x5B57;&#x4F53;&#x7684;&#x4EE3;&#x7801;&#xFF1A;12345678body{ font-style:italic; font-variant:small-caps; font-weight:bold; font-size:12px; line-height:1.5em; font-family:&quot;&#x5B8B;&#x4F53;&quot;,sans-serif;} &#x8FD9;&#x4E48;&#x591A;&#x884C;&#x7684;&#x4EE3;&#x7801;&#x5176;&#x5B9E;&#x53EF;&#x4EE5;&#x7F29;&#x5199;&#x4E3A;&#x4E00;&#x53E5;&#xFF1A;123body{ font:italic small-caps bold 12px/1.5em &quot;&#x5B8B;&#x4F53;&quot;,sans-serif;} &#x6CE8;&#x610F;&#xFF1A; 1&#x3001;&#x4F7F;&#x7528;&#x8FD9;&#x4E00;&#x7B80;&#x5199;&#x65B9;&#x5F0F;&#x4F60;&#x81F3;&#x5C11;&#x8981;&#x6307;&#x5B9A; font-size &#x548C; font-family &#x5C5E;&#x6027;&#xFF0C;&#x5176;&#x4ED6;&#x7684;&#x5C5E;&#x6027;(&#x5982; font-weight&#x3001;font-style&#x3001;font-variant&#x3001;line-height)&#x5982;&#x672A;&#x6307;&#x5B9A;&#x5C06;&#x81EA;&#x52A8;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x503C;&#x3002; 2&#x3001;&#x5728;&#x7F29;&#x5199;&#x65F6; font-size &#x4E0E; line-height &#x4E2D;&#x95F4;&#x8981;&#x52A0;&#x5165;&#x201C;/&#x201D;&#x659C;&#x625B;&#x3002; &#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x56E0;&#x4E3A;&#x5BF9;&#x4E8E;&#x4E2D;&#x6587;&#x7F51;&#x7AD9;&#xFF0C;&#x82F1;&#x6587;&#x8FD8;&#x662F;&#x6BD4;&#x8F83;&#x5C11;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x4E0B;&#x9762;&#x7F29;&#x5199;&#x4EE3;&#x7801;&#x6BD4;&#x8F83;&#x5E38;&#x7528;&#xFF1A;123body{ font:12px/1.5em &quot;&#x5B8B;&#x4F53;&quot;,sans-serif;} &#x53EA;&#x662F;&#x6709;&#x5B57;&#x53F7;&#x3001;&#x884C;&#x95F4;&#x8DDD;&#x3001;&#x4E2D;&#x6587;&#x5B57;&#x4F53;&#x3001;&#x82F1;&#x6587;&#x5B57;&#x4F53;&#x8BBE;&#x7F6E;&#x3002; &#x4E5D;&#x3001;&#x5355;&#x4F4D;&#x548C;&#x503C;9.1 &#x989C;&#x8272;&#x503C;&#x5728;&#x7F51;&#x9875;&#x4E2D;&#x7684;&#x989C;&#x8272;&#x8BBE;&#x7F6E;&#x662F;&#x975E;&#x5E38;&#x91CD;&#x8981;&#xFF0C;&#x6709;&#x5B57;&#x4F53;&#x989C;&#x8272;&#xFF08;color&#xFF09;&#x3001;&#x80CC;&#x666F;&#x989C;&#x8272;&#xFF08;background-color&#xFF09;&#x3001;&#x8FB9;&#x6846;&#x989C;&#x8272;&#xFF08;border&#xFF09;&#x7B49;&#xFF0C;&#x8BBE;&#x7F6E;&#x989C;&#x8272;&#x7684;&#x65B9;&#x6CD5;&#x4E5F;&#x6709;&#x5F88;&#x591A;&#x79CD;&#xFF1A; 1&#x3001;&#x82F1;&#x6587;&#x547D;&#x4EE4;&#x989C;&#x8272; &#x524D;&#x9762;&#x51E0;&#x4E2A;&#x5C0F;&#x8282;&#x4E2D;&#x7ECF;&#x5E38;&#x7528;&#x5230;&#x7684;&#x5C31;&#x662F;&#x8FD9;&#x79CD;&#x8BBE;&#x7F6E;&#x65B9;&#x6CD5;&#xFF1A;1p{color:red;} 2&#x3001;RGB&#x989C;&#x8272; &#x8FD9;&#x4E2A;&#x4E0E; photoshop &#x4E2D;&#x7684; RGB &#x989C;&#x8272;&#x662F;&#x4E00;&#x81F4;&#x7684;&#xFF0C;&#x7531; R(red)&#x3001;G(green)&#x3001;B(blue) &#x4E09;&#x79CD;&#x989C;&#x8272;&#x7684;&#x6BD4;&#x4F8B;&#x6765;&#x914D;&#x8272;&#x3002;1p{color:rgb(133,45,200);} &#x6BCF;&#x4E00;&#x9879;&#x7684;&#x503C;&#x53EF;&#x4EE5;&#x662F; 0~255 &#x4E4B;&#x95F4;&#x7684;&#x6574;&#x6570;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F; 0%~100% &#x7684;&#x767E;&#x5206;&#x6570;&#x3002;&#x5982;&#xFF1A;1p{color:rgb(20%,33%,25%);} 3&#x3001;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x989C;&#x8272; &#x8FD9;&#x79CD;&#x989C;&#x8272;&#x8BBE;&#x7F6E;&#x65B9;&#x6CD5;&#x662F;&#x73B0;&#x5728;&#x6BD4;&#x8F83;&#x666E;&#x904D;&#x4F7F;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5176;&#x539F;&#x7406;&#x5176;&#x5B9E;&#x4E5F;&#x662F; RGB &#x8BBE;&#x7F6E;&#xFF0C;&#x4F46;&#x662F;&#x5176;&#x6BCF;&#x4E00;&#x9879;&#x7684;&#x503C;&#x7531; 0-255 &#x53D8;&#x6210;&#x4E86;&#x5341;&#x516D;&#x8FDB;&#x5236; 00-ff&#x3002;1p{color:#00ffff;} &#x914D;&#x8272;&#x8868;&#xFF1A; 9.2 &#x957F;&#x5EA6;&#x503C;&#x957F;&#x5EA6;&#x5355;&#x4F4D;&#x603B;&#x7ED3;&#x4E00;&#x4E0B;&#xFF0C;&#x76EE;&#x524D;&#x6BD4;&#x8F83;&#x5E38;&#x7528;&#x5230;px&#xFF08;&#x50CF;&#x7D20;&#xFF09;&#x3001;em&#x3001;% &#x767E;&#x5206;&#x6BD4;&#xFF0C;&#x8981;&#x6CE8;&#x610F;&#x5176;&#x5B9E;&#x8FD9;&#x4E09;&#x79CD;&#x5355;&#x4F4D;&#x90FD;&#x662F;&#x76F8;&#x5BF9;&#x5355;&#x4F4D;&#x3002; 1&#x3001;&#x50CF;&#x7D20; &#x50CF;&#x7D20;&#x4E3A;&#x4EC0;&#x4E48;&#x662F;&#x76F8;&#x5BF9;&#x5355;&#x4F4D;&#x5462;&#xFF1F;&#x56E0;&#x4E3A;&#x50CF;&#x7D20;&#x6307;&#x7684;&#x662F;&#x663E;&#x793A;&#x5668;&#x4E0A;&#x7684;&#x5C0F;&#x70B9;&#xFF08;CSS&#x89C4;&#x8303;&#x4E2D;&#x5047;&#x8BBE;&#x201C;90&#x50CF;&#x7D20;=1&#x82F1;&#x5BF8;&#x201D;&#xFF09;&#x3002;&#x5B9E;&#x9645;&#x60C5;&#x51B5;&#x662F;&#x6D4F;&#x89C8;&#x5668;&#x4F1A;&#x4F7F;&#x7528;&#x663E;&#x793A;&#x5668;&#x7684;&#x5B9E;&#x9645;&#x50CF;&#x7D20;&#x503C;&#x6709;&#x5173;&#xFF0C;&#x5728;&#x76EE;&#x524D;&#x5927;&#x591A;&#x6570;&#x7684;&#x8BBE;&#x8BA1;&#x8005;&#x90FD;&#x503E;&#x5411;&#x4E8E;&#x4F7F;&#x7528;&#x50CF;&#x7D20;&#xFF08;px&#xFF09;&#x4F5C;&#x4E3A;&#x5355;&#x4F4D;&#x3002; 2&#x3001;em &#x5C31;&#x662F;&#x672C;&#x5143;&#x7D20;&#x7ED9;&#x5B9A;&#x5B57;&#x4F53;&#x7684; font-size &#x503C;&#xFF0C;&#x5982;&#x679C;&#x5143;&#x7D20;&#x7684; font-size &#x4E3A; 14px &#xFF0C;&#x90A3;&#x4E48; 1em = 14px&#xFF1B;&#x5982;&#x679C; font-size &#x4E3A; 18px&#xFF0C;&#x90A3;&#x4E48; 1em = 18px&#x3002;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;1p{font-size:12px;text-indent:2em;} &#x4E0A;&#x9762;&#x4EE3;&#x7801;&#x5C31;&#x662F;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x6BB5;&#x843D;&#x9996;&#x884C;&#x7F29;&#x8FDB; 24px&#xFF08;&#x4E5F;&#x5C31;&#x662F;&#x4E24;&#x4E2A;&#x5B57;&#x4F53;&#x5927;&#x5C0F;&#x7684;&#x8DDD;&#x79BB;&#xFF09;&#x3002; &#x4E0B;&#x9762;&#x6CE8;&#x610F;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x60C5;&#x51B5;&#xFF1A; &#x4F46;&#x5F53;&#x7ED9; font-size &#x8BBE;&#x7F6E;&#x5355;&#x4F4D;&#x4E3A; em &#x65F6;&#xFF0C;&#x6B64;&#x65F6;&#x8BA1;&#x7B97;&#x7684;&#x6807;&#x51C6;&#x4EE5; p &#x7684;&#x7236;&#x5143;&#x7D20;&#x7684; font-size &#x4E3A;&#x57FA;&#x7840;&#x3002;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; html:1&lt;p&gt;&#x4EE5;&#x8FD9;&#x4E2A;&lt;span&gt;&#x4F8B;&#x5B50;&lt;/span&gt;&#x4E3A;&#x4F8B;&#x3002;&lt;/p&gt; css:12p{font-size:14px}span{font-size:0.8em;} &#x7ED3;&#x679C; span &#x4E2D;&#x7684;&#x5B57;&#x4F53;&#x201C;&#x4F8B;&#x5B50;&#x201D;&#x5B57;&#x4F53;&#x5927;&#x5C0F;&#x5C31;&#x4E3A; 11.2px&#xFF08;14 * 0.8 = 11.2px&#xFF09;&#x3002; 3&#x3001;&#x767E;&#x5206;&#x6BD4;1p{font-size:12px;line-height:130%} &#x8BBE;&#x7F6E;&#x884C;&#x9AD8;&#xFF08;&#x884C;&#x95F4;&#x8DDD;&#xFF09;&#x4E3A;&#x5B57;&#x4F53;&#x7684;130%&#xFF08;12 * 1.3 = 15.6px&#xFF09;&#x3002; &#x5341;&#x3001;css&#x6837;&#x5F0F;&#x8BBE;&#x7F6E;&#x5C0F;&#x6280;&#x5DE7;10.1 &#x6C34;&#x5E73;&#x5C45;&#x4E2D;&#x8BBE;&#x7F6E;-&#x884C;&#x5185;&#x5143;&#x7D20;&#x6211;&#x4EEC;&#x5728;&#x5B9E;&#x9645;&#x5DE5;&#x4F5C;&#x4E2D;&#x5E38;&#x4F1A;&#x9047;&#x5230;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x6C34;&#x5E73;&#x5C45;&#x4E2D;&#x7684;&#x573A;&#x666F;&#xFF0C;&#x6BD4;&#x5982;&#x4E3A;&#x4E86;&#x7F8E;&#x89C2;&#xFF0C;&#x6587;&#x7AE0;&#x7684;&#x6807;&#x9898;&#x4E00;&#x822C;&#x90FD;&#x662F;&#x6C34;&#x5E73;&#x5C45;&#x4E2D;&#x663E;&#x793A;&#x7684;&#x3002; &#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x53C8;&#x5F97;&#x5206;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#xFF1A;&#x884C;&#x5185;&#x5143;&#x7D20; &#x8FD8;&#x662F; &#x5757;&#x72B6;&#x5143;&#x7D20; &#xFF0C;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x91CC;&#x9762;&#x53C8;&#x5206;&#x4E3A;&#x5B9A;&#x5BBD;&#x5757;&#x72B6;&#x5143;&#x7D20;&#xFF0C;&#x4EE5;&#x53CA;&#x4E0D;&#x5B9A;&#x5BBD;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x3002;&#x4ECA;&#x5929;&#x6211;&#x4EEC;&#x5148;&#x6765;&#x4E86;&#x89E3;&#x4E00;&#x4E0B;&#x884C;&#x5185;&#x5143;&#x7D20;&#x600E;&#x4E48;&#x8FDB;&#x884C;&#x6C34;&#x5E73;&#x5C45;&#x4E2D;&#xFF1F; &#x5982;&#x679C;&#x88AB;&#x8BBE;&#x7F6E;&#x5143;&#x7D20;&#x4E3A;&#x6587;&#x672C;&#x3001;&#x56FE;&#x7247;&#x7B49;&#x884C;&#x5185;&#x5143;&#x7D20;&#x65F6;&#xFF0C;&#x6C34;&#x5E73;&#x5C45;&#x4E2D;&#x662F;&#x901A;&#x8FC7;&#x7ED9;&#x7236;&#x5143;&#x7D20;&#x8BBE;&#x7F6E; text-align:center &#x6765;&#x5B9E;&#x73B0;&#x7684;&#x3002;(&#x7236;&#x5143;&#x7D20;&#x548C;&#x5B50;&#x5143;&#x7D20;&#xFF1A;&#x5982;&#x4E0B;&#x9762;&#x7684;html&#x4EE3;&#x7801;&#x4E2D;&#xFF0C;div&#x662F;&#x201C;&#x6211;&#x60F3;&#x8981;&#x5728;&#x7236;&#x5BB9;&#x5668;&#x4E2D;&#x6C34;&#x5E73;&#x5C45;&#x4E2D;&#x663E;&#x793A;&#x201D;&#x8FD9;&#x4E2A;&#x6587;&#x672C;&#x7684;&#x7236;&#x5143;&#x7D20;&#x3002;&#x53CD;&#x4E4B;&#x8FD9;&#x4E2A;&#x6587;&#x672C;&#x662F;div&#x7684;&#x5B50;&#x5143;&#x7D20; )&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; html&#x4EE3;&#x7801;&#xFF1A;123&lt;body&gt; &lt;div class=&quot;txtCenter&quot;&gt;&#x6211;&#x60F3;&#x8981;&#x5728;&#x7236;&#x5BB9;&#x5668;&#x4E2D;&#x6C34;&#x5E73;&#x5C45;&#x4E2D;&#x663E;&#x793A;&#x3002;&lt;/div&gt;&lt;/body&gt; css&#x4EE3;&#x7801;&#xFF1A;12345&lt;style&gt; .txtCenter{ text-align:center; }&lt;/style&gt; 10.2 &#x6C34;&#x5E73;&#x5C45;&#x4E2D;&#x8BBE;&#x7F6E;-&#x5B9A;&#x5BBD;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x5F53;&#x88AB;&#x8BBE;&#x7F6E;&#x5143;&#x7D20;&#x4E3A; &#x5757;&#x72B6;&#x5143;&#x7D20; &#x65F6;&#x7528; text-align&#xFF1A;center &#x5C31;&#x4E0D;&#x8D77;&#x4F5C;&#x7528;&#x4E86;&#xFF0C;&#x8FD9;&#x65F6;&#x4E5F;&#x5206;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#xFF1A;&#x5B9A;&#x5BBD;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x548C;&#x4E0D;&#x5B9A;&#x5BBD;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x3002; &#x8FD9;&#x4E00;&#x5C0F;&#x8282;&#x6211;&#x4EEC;&#x5148;&#x6765;&#x8BB2;&#x4E00;&#x8BB2;&#x5B9A;&#x5BBD;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x3002;(&#x5B9A;&#x5BBD;&#x5757;&#x72B6;&#x5143;&#x7D20;&#xFF1A;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x7684;&#x5BBD;&#x5EA6;width&#x4E3A;&#x56FA;&#x5B9A;&#x503C;&#x3002;) &#x6EE1;&#x8DB3;&#x5B9A;&#x5BBD;&#x548C;&#x5757;&#x72B6;&#x4E24;&#x4E2A;&#x6761;&#x4EF6;&#x7684;&#x5143;&#x7D20;&#x662F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8BBE;&#x7F6E;&#x201C;&#x5DE6;&#x53F3;margin&#x201D;&#x503C;&#x4E3A;&#x201C;auto&#x201D;&#x6765;&#x5B9E;&#x73B0;&#x5C45;&#x4E2D;&#x7684;&#x3002;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x4E2A;&#x4F8B;&#x5B50;&#x5C31;&#x662F;&#x8BBE;&#x7F6E; div &#x8FD9;&#x4E2A;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x6C34;&#x5E73;&#x5C45;&#x4E2D;&#xFF1A; html&#x4EE3;&#x7801;&#xFF1A;123&lt;body&gt; &lt;div&gt;&#x6211;&#x662F;&#x5B9A;&#x5BBD;&#x5757;&#x72B6;&#x5143;&#x7D20;&#xFF0C;&#x54C8;&#x54C8;&#xFF0C;&#x6211;&#x8981;&#x6C34;&#x5E73;&#x5C45;&#x4E2D;&#x663E;&#x793A;&#x3002;&lt;/div&gt;&lt;/body&gt; css&#x4EE3;&#x7801;&#xFF1A;123456789&lt;style&gt;div{ border:1px solid red;/*&#x4E3A;&#x4E86;&#x663E;&#x793A;&#x5C45;&#x4E2D;&#x6548;&#x679C;&#x660E;&#x663E;&#x4E3A; div &#x8BBE;&#x7F6E;&#x4E86;&#x8FB9;&#x6846;*/ width:200px;/*&#x5B9A;&#x5BBD;*/ margin:20px auto;/* margin-left &#x4E0E; margin-right &#x8BBE;&#x7F6E;&#x4E3A; auto */}&lt;/style&gt; &#x4E5F;&#x53EF;&#x4EE5;&#x5199;&#x6210;&#xFF1A;12margin-left:auto;margin-right:auto; &#x6CE8;&#x610F;&#xFF1A;&#x5143;&#x7D20;&#x7684;&#x201C;&#x4E0A;&#x4E0B; margin&#x201D; &#x662F;&#x53EF;&#x4EE5;&#x968F;&#x610F;&#x8BBE;&#x7F6E;&#x7684;&#x3002; 10.3 &#x6C34;&#x5E73;&#x5C45;&#x4E2D;&#x603B;&#x7ED3;-&#x4E0D;&#x5B9A;&#x5BBD;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x65B9;&#x6CD5;&#x5728;&#x5B9E;&#x9645;&#x5DE5;&#x4F5C;&#x4E2D;&#x6211;&#x4EEC;&#x4F1A;&#x9047;&#x5230;&#x9700;&#x8981;&#x4E3A;&#x201C;&#x4E0D;&#x5B9A;&#x5BBD;&#x5EA6;&#x7684;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x201D;&#x8BBE;&#x7F6E;&#x5C45;&#x4E2D;&#xFF0C;&#x6BD4;&#x5982;&#x7F51;&#x9875;&#x4E0A;&#x7684;&#x5206;&#x9875;&#x5BFC;&#x822A;&#xFF0C;&#x56E0;&#x4E3A;&#x5206;&#x9875;&#x7684;&#x6570;&#x91CF;&#x662F;&#x4E0D;&#x786E;&#x5B9A;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x4E0D;&#x80FD;&#x901A;&#x8FC7;&#x8BBE;&#x7F6E;&#x5BBD;&#x5EA6;&#x6765;&#x9650;&#x5236;&#x5B83;&#x7684;&#x5F39;&#x6027;&#x3002;(&#x4E0D;&#x5B9A;&#x5BBD;&#x5757;&#x72B6;&#x5143;&#x7D20;&#xFF1A;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x7684;&#x5BBD;&#x5EA6;width&#x4E0D;&#x56FA;&#x5B9A;&#x3002;) &#x4E0D;&#x5B9A;&#x5BBD;&#x5EA6;&#x7684;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x6709;&#x4E09;&#x79CD;&#x65B9;&#x6CD5;&#x5C45;&#x4E2D;&#xFF08;&#x8FD9;&#x4E09;&#x79CD;&#x65B9;&#x6CD5;&#x76EE;&#x524D;&#x4F7F;&#x7528;&#x7684;&#x90FD;&#x5F88;&#x591A;&#xFF09;&#xFF1A; 1.&#x52A0;&#x5165; table &#x6807;&#x7B7E; 2.&#x8BBE;&#x7F6E; display: inline &#x65B9;&#x6CD5;&#xFF1A;&#x4E0E;&#x7B2C;&#x4E00;&#x79CD;&#x7C7B;&#x4F3C;&#xFF0C;&#x663E;&#x793A;&#x7C7B;&#x578B;&#x8BBE;&#x4E3A; &#x884C;&#x5185;&#x5143;&#x7D20;&#xFF0C;&#x8FDB;&#x884C;&#x4E0D;&#x5B9A;&#x5BBD;&#x5143;&#x7D20;&#x7684;&#x5C5E;&#x6027;&#x8BBE;&#x7F6E; 3.&#x8BBE;&#x7F6E; position:relative &#x548C; left:50%&#xFF1A;&#x5229;&#x7528; &#x76F8;&#x5BF9;&#x5B9A;&#x4F4D; &#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x5C06;&#x5143;&#x7D20;&#x5411;&#x5DE6;&#x504F;&#x79FB; 50% &#xFF0C;&#x5373;&#x8FBE;&#x5230;&#x5C45;&#x4E2D;&#x7684;&#x76EE;&#x7684; &#x52A0;&#x5165; table &#x6807;&#x7B7E;&#x4E3A;&#x4EC0;&#x4E48;&#x9009;&#x62E9;&#x65B9;&#x6CD5;&#x4E00;&#x52A0;&#x5165;table&#x6807;&#x7B7E;? &#x662F;&#x5229;&#x7528;table&#x6807;&#x7B7E;&#x7684;&#x957F;&#x5EA6;&#x81EA;&#x9002;&#x5E94;&#x6027;&#x2014;&#x5373;&#x4E0D;&#x5B9A;&#x4E49;&#x5176;&#x957F;&#x5EA6;&#x4E5F;&#x4E0D;&#x9ED8;&#x8BA4;&#x7236;&#x5143;&#x7D20;body&#x7684;&#x957F;&#x5EA6;&#xFF08;table&#x5176;&#x957F;&#x5EA6;&#x6839;&#x636E;&#x5176;&#x5185;&#x6587;&#x672C;&#x957F;&#x5EA6;&#x51B3;&#x5B9A;&#xFF09;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x770B;&#x505A;&#x4E00;&#x4E2A;&#x5B9A;&#x5BBD;&#x5EA6;&#x5757;&#x5143;&#x7D20;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x5229;&#x7528;&#x5B9A;&#x5BBD;&#x5EA6;&#x5757;&#x72B6;&#x5C45;&#x4E2D;&#x7684;margin&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x4F7F;&#x5176;&#x6C34;&#x5E73;&#x5C45;&#x4E2D;&#x3002; &#x7B2C;&#x4E00;&#x6B65;&#xFF1A;&#x4E3A;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x7684;&#x5C45;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x5916;&#x9762;&#x52A0;&#x5165;&#x4E00;&#x4E2A; table &#x6807;&#x7B7E; ( &#x5305;&#x62EC; &#x3001;&#x3001; )&#x3002; &#x7B2C;&#x4E8C;&#x6B65;&#xFF1A;&#x4E3A;&#x8FD9;&#x4E2A; table &#x8BBE;&#x7F6E;&#x201C;&#x5DE6;&#x53F3; margin &#x5C45;&#x4E2D;&#x201D;&#xFF08;&#x8FD9;&#x4E2A;&#x548C;&#x5B9A;&#x5BBD;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x7684;&#x65B9;&#x6CD5;&#x4E00;&#x6837;&#xFF09;&#x3002; &#x4E3E;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A; html&#x4EE3;&#x7801;&#xFF1A;12345678910111213&lt;div&gt; &lt;table&gt; &lt;tbody&gt; &lt;tr&gt;&lt;td&gt; &lt;ul&gt; &lt;li&gt;&#x6211;&#x662F;&#x7B2C;&#x4E00;&#x884C;&#x6587;&#x672C;&lt;/li&gt; &lt;li&gt;&#x6211;&#x662F;&#x7B2C;&#x4E8C;&#x884C;&#x6587;&#x672C;&lt;/li&gt; &lt;li&gt;&#x6211;&#x662F;&#x7B2C;&#x4E09;&#x884C;&#x6587;&#x672C;&lt;/li&gt; &lt;/ul&gt; &lt;/td&gt;&lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt;&lt;/div&gt; css&#x4EE3;&#x7801;&#xFF1A;123456&lt;style&gt;table{ border:1px solid; margin:0 auto;}&lt;/style&gt; &#x8BBE;&#x7F6E; display: inline &#x65B9;&#x6CD5;&#x6539;&#x53D8;&#x5757;&#x7EA7;&#x5143;&#x7D20;&#x7684; display &#x4E3A; inline &#x7C7B;&#x578B;&#xFF08;&#x8BBE;&#x7F6E;&#x4E3A; &#x884C;&#x5185;&#x5143;&#x7D20; &#x663E;&#x793A;&#xFF09;&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528; text-align:center &#x6765;&#x5B9E;&#x73B0;&#x5C45;&#x4E2D;&#x6548;&#x679C;&#x3002;&#x5982;&#x4E0B;&#x4F8B;&#x5B50;&#xFF1A; html&#x4EE3;&#x7801;&#xFF1A;123456789&lt;body&gt;&lt;div class=&quot;container&quot;&gt; &lt;ul&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;1&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;2&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;3&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt;&lt;/div&gt;&lt;/body&gt; css&#x4EE3;&#x7801;&#xFF1A;1234567891011121314151617&lt;style&gt;.container{ text-align:center;}/* margin:0;padding:0&#xFF08;&#x6D88;&#x9664;&#x6587;&#x672C;&#x4E0E;div&#x8FB9;&#x6846;&#x4E4B;&#x95F4;&#x7684;&#x95F4;&#x9699;&#xFF09;*/.container ul{ list-style:none; margin:0; padding:0; display:inline;}/* margin-right:8px&#xFF08;&#x8BBE;&#x7F6E;li&#x6587;&#x672C;&#x4E4B;&#x95F4;&#x7684;&#x95F4;&#x9694;&#xFF09;*/.container li{ margin-right:8px; display:inline;}&lt;/style&gt; &#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x76F8;&#x6BD4;&#x7B2C;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#x7684;&#x4F18;&#x52BF;&#x662F;&#x4E0D;&#x7528;&#x589E;&#x52A0;&#x65E0;&#x8BED;&#x4E49;&#x6807;&#x7B7E;&#xFF0C;&#x4F46;&#x4E5F;&#x5B58;&#x5728;&#x7740;&#x4E00;&#x4E9B;&#x95EE;&#x9898;&#xFF1A;&#x5B83;&#x5C06;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x7684; display &#x7C7B;&#x578B;&#x6539;&#x4E3A; inline&#xFF0C;&#x53D8;&#x6210;&#x4E86;&#x884C;&#x5185;&#x5143;&#x7D20;&#xFF0C;&#x6240;&#x4EE5;&#x5C11;&#x4E86;&#x4E00;&#x4E9B;&#x529F;&#x80FD;&#xFF0C;&#x6BD4;&#x5982;&#x8BBE;&#x5B9A;&#x957F;&#x5EA6;&#x503C;&#x3002; &#x8BBE;&#x7F6E;&#x6D6E;&#x52A8;&#x548C;&#x76F8;&#x5BF9;&#x5B9A;&#x4F4D;&#x6765;&#x5B9E;&#x73B0;&#x65B9;&#x6CD5;&#x4E09;&#xFF1A;&#x901A;&#x8FC7;&#x7ED9;&#x7236;&#x5143;&#x7D20;&#x8BBE;&#x7F6E; float&#xFF0C;&#x7136;&#x540E;&#x7ED9;&#x7236;&#x5143;&#x7D20;&#x8BBE;&#x7F6E; position:relative &#x548C; left:50%&#xFF0C;&#x5B50;&#x5143;&#x7D20;&#x8BBE;&#x7F6E; position:relative &#x548C; left: -50% &#x6765;&#x5B9E;&#x73B0;&#x6C34;&#x5E73;&#x5C45;&#x4E2D;&#x3002; &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x7406;&#x89E3;&#xFF1A;&#x5047;&#x60F3;ul&#x5C42;&#x7684;&#x7236;&#x5C42;&#xFF08;&#x5373;&#x4E0B;&#x9762;&#x4F8B;&#x5B50;&#x4E2D;&#x7684;div&#x5C42;&#xFF09;&#x4E2D;&#x95F4;&#x6709;&#x6761;&#x5E73;&#x5206;&#x7EBF;&#x5C06;ul&#x5C42;&#x7684;&#x7236;&#x5C42;&#xFF08;div&#x5C42;&#xFF09;&#x5E73;&#x5747;&#x5206;&#x4E3A;&#x4E24;&#x4EFD;&#xFF0C;ul&#x5C42;&#x7684;css&#x4EE3;&#x7801;&#x662F;&#x5C06;ul&#x5C42;&#x7684;&#x6700;&#x5DE6;&#x7AEF;&#x4E0E;ul&#x5C42;&#x7684;&#x7236;&#x5C42;&#xFF08;div&#x5C42;&#xFF09;&#x7684;&#x5E73;&#x5206;&#x7EBF;&#x5BF9;&#x9F50;&#xFF1B;&#x800C;li&#x5C42;&#x7684;css&#x4EE3;&#x7801;&#x5219;&#x662F;&#x5C06;li&#x5C42;&#x7684;&#x5E73;&#x5206;&#x7EBF;&#x4E0E;ul&#x5C42;&#x7684;&#x6700;&#x5DE6;&#x7AEF;&#xFF08;&#x4E5F;&#x662F;div&#x5C42;&#x7684;&#x5E73;&#x5206;&#x7EBF;&#xFF09;&#x5BF9;&#x9F50;&#xFF0C;&#x4ECE;&#x800C;&#x5B9E;&#x73B0;li&#x5C42;&#x7684;&#x5C45;&#x4E2D;&#x3002; &#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;123456789&lt;body&gt;&lt;div class=&quot;container&quot;&gt; &lt;ul&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;1&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;2&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;3&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt;&lt;/div&gt;&lt;/body&gt; css&#x4EE3;&#x7801;&#xFF1A;1234567891011121314151617&lt;style&gt;.container{ float:left; position:relative; left:50%}.container ul{ list-style:none; margin:0; padding:0; position:relative; left:-50%;}.container li{float:left;display:inline;margin-right:8px;}&lt;/style&gt; &#x8FD9;&#x4E09;&#x79CD;&#x65B9;&#x6CD5;&#x4F7F;&#x7528;&#x5F97;&#x90FD;&#x975E;&#x5E38;&#x5E7F;&#x6CDB;&#xFF0C;&#x5404;&#x6709;&#x4F18;&#x7F3A;&#x70B9;&#xFF0C;&#x5177;&#x4F53;&#x9009;&#x7528;&#x54EA;&#x79CD;&#x65B9;&#x6CD5;&#xFF0C;&#x53EF;&#x4EE5;&#x89C6;&#x5177;&#x4F53;&#x60C5;&#x51B5;&#x800C;&#x5B9A;&#x3002; 10.4 &#x5782;&#x76F4;&#x5C45;&#x4E2D;-&#x7236;&#x5143;&#x7D20;&#x9AD8;&#x5EA6;&#x786E;&#x5B9A;&#x7684;&#x5355;&#x884C;&#x6587;&#x672C;&#x6211;&#x4EEC;&#x5728;&#x5B9E;&#x9645;&#x5DE5;&#x4F5C;&#x4E2D;&#x4E5F;&#x4F1A;&#x9047;&#x5230;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x5782;&#x76F4;&#x5C45;&#x4E2D;&#x7684;&#x573A;&#x666F;&#xFF0C;&#x6BD4;&#x5982;&#x597D;&#x591A;&#x62A5;&#x7EB8;&#x7684;&#x6587;&#x7AE0;&#x6807;&#x9898;&#x5728;&#x5DE6;&#x53F3;&#x4E00;&#x4FA7;&#x65F6;&#xFF0C;&#x5E38;&#x5E38;&#x4F1A;&#x8BBE;&#x7F6E;&#x4E3A;&#x5782;&#x76F4;&#x5C45;&#x4E2D;&#xFF0C;&#x4E3A;&#x4E86;&#x7528;&#x6237;&#x4F53;&#x9A8C;&#x6027;&#x597D;&#x3002; &#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x53C8;&#x5F97;&#x5206;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#xFF1A;&#x7236;&#x5143;&#x7D20;&#x9AD8;&#x5EA6;&#x786E;&#x5B9A;&#x7684;&#x5355;&#x884C;&#x6587;&#x672C;&#xFF0C;&#x4EE5;&#x53CA;&#x7236;&#x5143;&#x7D20;&#x9AD8;&#x5EA6;&#x786E;&#x5B9A;&#x7684;&#x591A;&#x884C;&#x6587;&#x672C;&#x3002; &#x672C;&#x8282;&#x6211;&#x4EEC;&#x5148;&#x6765;&#x770B;&#x7B2C;&#x4E00;&#x79CD;&#x7236;&#x5143;&#x7D20;&#x9AD8;&#x5EA6;&#x786E;&#x5B9A;&#x7684;&#x5355;&#x884C;&#x6587;&#x672C;, &#x600E;&#x4E48;&#x8BBE;&#x7F6E;&#x5B83;&#x4E3A;&#x5782;&#x76F4;&#x5C45;&#x4E2D;&#x5462;&#xFF1F; &#x7236;&#x5143;&#x7D20;&#x9AD8;&#x5EA6;&#x786E;&#x5B9A;&#x7684;&#x5355;&#x884C;&#x6587;&#x672C;&#x7684;&#x7AD6;&#x76F4;&#x5C45;&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#x901A;&#x8FC7;&#x8BBE;&#x7F6E;&#x7236;&#x5143;&#x7D20;&#x7684; height &#x548C; line-height &#x9AD8;&#x5EA6;&#x4E00;&#x81F4;&#x6765;&#x5B9E;&#x73B0;&#x7684;&#x3002;(height: &#x8BE5;&#x5143;&#x7D20;&#x7684;&#x9AD8;&#x5EA6;&#xFF0C;line-height: &#x987E;&#x540D;&#x601D;&#x4E49;&#xFF0C;&#x884C;&#x9AD8;&#xFF08;&#x884C;&#x95F4;&#x8DDD;&#xFF09;&#xFF0C;&#x6307;&#x5728;&#x6587;&#x672C;&#x4E2D;&#xFF0C;&#x884C;&#x4E0E;&#x884C;&#x4E4B;&#x95F4;&#x7684; &#x57FA;&#x7EBF;&#x95F4;&#x7684;&#x8DDD;&#x79BB; )&#x3002; line-height &#x4E0E; font-size &#x7684;&#x8BA1;&#x7B97;&#x503C;&#x4E4B;&#x5DEE;&#xFF0C;&#x5728; CSS &#x4E2D;&#x6210;&#x4E3A;&#x201C;&#x884C;&#x95F4;&#x8DDD;&#x201D;&#x3002;&#x5206;&#x4E3A;&#x4E24;&#x534A;&#xFF0C;&#x5206;&#x522B;&#x52A0;&#x5230;&#x4E00;&#x4E2A;&#x6587;&#x672C;&#x884C;&#x5185;&#x5BB9;&#x7684;&#x9876;&#x90E8;&#x548C;&#x5E95;&#x90E8;&#x3002; &#x8FD9;&#x79CD;&#x6587;&#x5B57;&#x884C;&#x9AD8;&#x4E0E;&#x5757;&#x9AD8;&#x4E00;&#x81F4;&#x5E26;&#x6765;&#x4E86;&#x4E00;&#x4E2A;&#x5F0A;&#x7AEF;&#xFF1A;&#x5F53;&#x6587;&#x5B57;&#x5185;&#x5BB9;&#x7684;&#x957F;&#x5EA6;&#x5927;&#x4E8E;&#x5757;&#x7684;&#x5BBD;&#x65F6;&#xFF0C;&#x5C31;&#x6709;&#x5185;&#x5BB9;&#x8131;&#x79BB;&#x4E86;&#x5757;&#x3002; &#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;123&lt;div class=&quot;container&quot;&gt; hi,imooc!&lt;/div&gt; css&#x4EE3;&#x7801;&#xFF1A;1234567&lt;style&gt;.container{ height:100px; line-height:100px; background:#999;}&lt;/style&gt; 10.5 &#x5782;&#x76F4;&#x5C45;&#x4E2D;-&#x7236;&#x5143;&#x7D20;&#x9AD8;&#x5EA6;&#x786E;&#x5B9A;&#x7684;&#x591A;&#x884C;&#x6587;&#x672C;&#x7236;&#x5143;&#x7D20;&#x9AD8;&#x5EA6;&#x786E;&#x5B9A;&#x7684;&#x591A;&#x884C;&#x6587;&#x672C;&#x3001;&#x56FE;&#x7247;&#x7B49;&#x7684;&#x7AD6;&#x76F4;&#x5C45;&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#x6709;&#x4E24;&#x79CD;&#xFF1A; &#x65B9;&#x6CD5;&#x4E00;&#xFF1A;&#x4F7F;&#x7528;&#x63D2;&#x5165; table (&#x5305;&#x62EC;tbody&#x3001;tr&#x3001;td)&#x6807;&#x7B7E;&#xFF0C;&#x540C;&#x65F6;&#x8BBE;&#x7F6E; vertical-align&#xFF1A;middle&#x3002;css &#x4E2D;&#x6709;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x7AD6;&#x76F4;&#x5C45;&#x4E2D;&#x7684;&#x5C5E;&#x6027; vertical-align&#xFF0C;&#x5728;&#x7236;&#x5143;&#x7D20;&#x8BBE;&#x7F6E;&#x6B64;&#x6837;&#x5F0F;&#x65F6;&#xFF0C;&#x4F1A;&#x5BF9;inline-block&#x7C7B;&#x578B;&#x7684;&#x5B50;&#x5143;&#x7D20;&#x90FD;&#x6709;&#x7528;&#x3002;&#x4E0B;&#x9762;&#x770B;&#x4E00;&#x4E0B;&#x4F8B;&#x5B50;&#xFF1A; html&#x4EE3;&#x7801;&#xFF1A;1234567&lt;body&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;wrap&quot;&gt;&lt;div&gt; &lt;p&gt;&#x770B;&#x6211;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x5C45;&#x4E2D;&#x3002;&lt;/p&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/body&gt; css&#x4EE3;&#x7801;&#xFF1A;1table td{height:500px;background:#ccc} &#x56E0;&#x4E3A; td &#x6807;&#x7B7E;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x5C31;&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;&#x4E86; vertical-align &#x4E3A; middle&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x4E0D;&#x9700;&#x8981;&#x663E;&#x5F0F;&#x5730;&#x8BBE;&#x7F6E;&#x4E86;&#x3002; &#x65B9;&#x6CD5;&#x4E8C;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x517C;&#x5BB9;&#x6027;&#x6BD4;&#x8F83;&#x5DEE;&#xFF0C;&#x53EA;&#x662F;&#x63D0;&#x4F9B;&#x5927;&#x5BB6;&#x5B66;&#x4E60;&#x53C2;&#x8003;&#x3002; &#x5728; chrome&#x3001;firefox &#x53CA; IE8 &#x4EE5;&#x4E0A;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x4E0B;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x5757;&#x7EA7;&#x5143;&#x7D20;&#x7684; display &#x4E3A; table-cell&#xFF08;&#x8BBE;&#x7F6E;&#x4E3A;&#x8868;&#x683C;&#x5355;&#x5143;&#x663E;&#x793A;&#xFF09;&#xFF0C;&#x6FC0;&#x6D3B; vertical-align &#x5C5E;&#x6027;&#xFF0C;&#x4F46;&#x6CE8;&#x610F; IE6&#x3001;7 &#x5E76;&#x4E0D;&#x652F;&#x6301;&#x8FD9;&#x4E2A;&#x6837;&#x5F0F;, &#x517C;&#x5BB9;&#x6027;&#x6BD4;&#x8F83;&#x5DEE;&#x3002; html&#x4EE3;&#x7801;&#xFF1A;1234567&lt;div class=&quot;container&quot;&gt; &lt;div&gt; &lt;p&gt;&#x770B;&#x6211;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x5C45;&#x4E2D;&#x3002;&lt;/p&gt; &lt;p&gt;&#x770B;&#x6211;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x5C45;&#x4E2D;&#x3002;&lt;/p&gt; &lt;p&gt;&#x770B;&#x6211;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x5C45;&#x4E2D;&#x3002;&lt;/p&gt; &lt;/div&gt;&lt;/div&gt; css&#x4EE3;&#x7801;&#xFF1A;12345678&lt;style&gt;.container{ height:300px; background:#ccc; display:table-cell;/*IE8&#x4EE5;&#x4E0A;&#x53CA;Chrome&#x3001;Firefox*/ vertical-align:middle;/*IE8&#x4EE5;&#x4E0A;&#x53CA;Chrome&#x3001;Firefox*/}&lt;/style&gt; &#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x7684;&#x597D;&#x5904;&#x662F;&#x4E0D;&#x7528;&#x6DFB;&#x52A0;&#x591A;&#x4F59;&#x7684;&#x65E0;&#x610F;&#x4E49;&#x7684;&#x6807;&#x7B7E;&#xFF0C;&#x4F46;&#x7F3A;&#x70B9;&#x4E5F;&#x5F88;&#x660E;&#x663E;&#xFF0C;&#x5B83;&#x7684;&#x517C;&#x5BB9;&#x6027;&#x4E0D;&#x662F;&#x5F88;&#x597D;&#xFF0C;&#x4E0D;&#x517C;&#x5BB9; IE6&#x3001;7&#x800C;&#x4E14;&#x8FD9;&#x6837;&#x4FEE;&#x6539;display&#x7684;block&#x53D8;&#x6210;&#x4E86;table-cell&#xFF0C;&#x7834;&#x574F;&#x4E86;&#x539F;&#x6709;&#x7684;&#x5757;&#x72B6;&#x5143;&#x7D20;&#x7684;&#x6027;&#x8D28;&#x3002; 10.6 &#x9690;&#x6027;&#x6539;&#x53D8;display&#x7C7B;&#x578B;&#x6709;&#x4E00;&#x4E2A;&#x6709;&#x8DA3;&#x7684;&#x73B0;&#x8C61;&#x5C31;&#x662F;&#x5F53;&#x4E3A;&#x5143;&#x7D20;&#xFF08;&#x4E0D;&#x8BBA;&#x4E4B;&#x524D;&#x662F;&#x4EC0;&#x4E48;&#x7C7B;&#x578B;&#x5143;&#x7D20;&#xFF0C;display:none &#x9664;&#x5916;&#xFF09;&#x8BBE;&#x7F6E;&#x4EE5;&#x4E0B; 2 &#x4E2A;&#x53E5;&#x4E4B;&#x4E00;&#xFF1A;121. position : absolute2. float : left &#x6216; float:right &#x7B80;&#x5355;&#x6765;&#x8BF4;&#xFF0C;&#x53EA;&#x8981;html&#x4EE3;&#x7801;&#x4E2D;&#x51FA;&#x73B0;&#x4EE5;&#x4E0A;&#x4E24;&#x53E5;&#x4E4B;&#x4E00;&#xFF0C;&#x5143;&#x7D20;&#x7684;display&#x663E;&#x793A;&#x7C7B;&#x578B;&#x5C31;&#x4F1A;&#x81EA;&#x52A8;&#x53D8;&#x4E3A;&#x4EE5; display:inline-block&#xFF08;&#x5757;&#x72B6;&#x5143;&#x7D20;&#xFF09;&#x7684;&#x65B9;&#x5F0F;&#x663E;&#x793A;&#xFF0C;&#x5F53;&#x7136;&#x5C31;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x5143;&#x7D20;&#x7684; width &#x548C; height &#x4E86;&#xFF0C;&#x4E14;&#x9ED8;&#x8BA4;&#x5BBD;&#x5EA6;&#x4E0D;&#x5360;&#x6EE1;&#x7236;&#x5143;&#x7D20;&#x3002; &#x5982;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x5C0F;&#x4F19;&#x4F34;&#x4EEC;&#x90FD;&#x77E5;&#x9053; a &#x6807;&#x7B7E;&#x662F; &#x884C;&#x5185;&#x5143;&#x7D20; &#xFF0C;&#x6240;&#x4EE5;&#x8BBE;&#x7F6E;&#x5B83;&#x7684; width &#x662F; &#x6CA1;&#x6709;&#x6548;&#x679C;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x8BBE;&#x7F6E;&#x4E3A; position:absolute &#x4EE5;&#x540E;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002; 123&lt;div class=&quot;container&quot;&gt; &lt;a href=&quot;#&quot; title=&quot;&quot;&gt;&#x8FDB;&#x5165;&#x8BFE;&#x7A0B;&#x8BF7;&#x5355;&#x51FB;&#x8FD9;&#x91CC;&lt;/a&gt;&lt;/div&gt; css&#x4EE3;&#x7801; 1234567&lt;style&gt;.container a{ position:absolute; width:200px; background:#ccc;}&lt;/style&gt;","tags":[{"name":"前端基础","slug":"前端基础","permalink":"https://marklogzhu.github.io/tags/前端基础/"},{"name":"CSS","slug":"CSS","permalink":"https://marklogzhu.github.io/tags/CSS/"}]},{"title":"HTML小结","date":"2017-08-29T09:03:00.000Z","path":"uncategorized/前端/01.HTML/01.HTML小结/","text":"&#x4E00;&#x3001;HTML&#x6982;&#x5FF5;&#x63CF;&#x8FF0;1.&#x4EC0;&#x4E48;&#x662F; HTMLHTML &#x662F;&#x82F1;&#x6587; Hyper Text Mark-up Language( &#x8D85;&#x6587;&#x672C;&#x6807;&#x8BB0;&#x8BED;&#x8A00; )&#x7684;&#x7F29;&#x5199;&#xFF0C;&#x5B83;&#x89C4;&#x5B9A;&#x4E86;&#x81EA;&#x5DF1;&#x7684;&#x8BED;&#x6CD5;&#x89C4;&#x5219;&#xFF0C;&#x7528;&#x6765;&#x8868;&#x793A;&#x6BD4;&#x201C;&#x6587;&#x672C;&#x201D;&#x66F4;&#x4E30;&#x5BCC;&#x7684;&#x610F;&#x4E49;&#xFF0C;&#x6BD4;&#x5982;&#x56FE;&#x7247;&#xFF0C;&#x8868;&#x683C;&#xFF0C;&#x94FE;&#x63A5;&#x7B49;&#x3002; &#x7B80;&#x5355;&#x6765;&#x8BF4; HTML &#x5C31;&#x662F;&#x7ED9;&#x6587;&#x672C;&#x52A0;&#x4E0A;&#x5404;&#x79CD;&#x8868;&#x660E;&#x6587;&#x672C;&#x542B;&#x4E49;&#x7684;&#x6807;&#x7B7E;&#xFF0C;&#x8BA9;&#x4EBA;&#x548C;&#x7A0B;&#x5E8F;&#x5BF9;&#x6587;&#x672C;&#x6709;&#x66F4;&#x76F4;&#x89C2;&#x7684;&#x8BA4;&#x8BC6;&#x3002; 2.&#x4EC0;&#x4E48;&#x662F; HTML &#x6807;&#x7B7E;* HTML &#x6807;&#x8BB0;&#x6807;&#x7B7E;&#x901A;&#x5E38;&#x88AB;&#x79F0;&#x4E3A; HTML &#x6807;&#x7B7E; (HTML tag)&#x3002; * HTML &#x6807;&#x7B7E;&#x662F;&#x7531;&#x5C16;&#x62EC;&#x53F7;&#x5305;&#x56F4;&#x7684;&#x5173;&#x952E;&#x8BCD;&#xFF0C;&#x6BD4;&#x5982; &lt;html&gt; * HTML &#x6807;&#x7B7E;&#x901A;&#x5E38;&#x662F;&#x6210;&#x5BF9;&#x51FA;&#x73B0;&#x7684;&#xFF0C;&#x6BD4;&#x5982; &lt;b&gt; &#x548C; &lt;/b&gt; * &#x6807;&#x7B7E;&#x5BF9;&#x4E2D;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x6807;&#x7B7E;&#x662F;&#x5F00;&#x59CB;&#x6807;&#x7B7E;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x6807;&#x7B7E;&#x662F;&#x7ED3;&#x675F;&#x6807;&#x7B7E; * &#x5F00;&#x59CB;&#x548C;&#x7ED3;&#x675F;&#x6807;&#x7B7E;&#x4E5F;&#x88AB;&#x79F0;&#x4E3A;&#x5F00;&#x653E;&#x6807;&#x7B7E;&#x548C;&#x95ED;&#x5408;&#x6807;&#x7B7E; * &#x6240;&#x6709;&#x7684;&#x6807;&#x7B7E;&#x90FD;&#x5FC5;&#x987B;&#x5173;&#x95ED;&#xFF0C;&#x4EE5;&#x53CA;&#xFF0C;&#x5927;&#x90E8;&#x5206;&#x7684;&#x5185;&#x5BB9;&#x90FD;&#x5728;&#x6807;&#x7B7E;&#x4E4B;&#x95F4;&#xFF0C;&#x4ED6;&#x4EEC;&#x7684;&#x683C;&#x5F0F;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A;&#x8D77;&#x59CB;&#x6807;&#x7B7E; - &#x5185;&#x5BB9; - &#x95ED;&#x5408;&#x6807;&#x7B7E; 3.HTML &#x5C5E;&#x6027;* HTML &#x6807;&#x7B7E;&#x53EF;&#x4EE5;&#x62E5;&#x6709;&#x5C5E;&#x6027;&#x3002;&#x5C5E;&#x6027;&#x63D0;&#x4F9B;&#x4E86;&#x6709;&#x5173; HTML &#x5143;&#x7D20;&#x7684;&#x66F4;&#x591A;&#x7684;&#x4FE1;&#x606F; * &#x5C5E;&#x6027;&#x603B;&#x662F;&#x4EE5;&#x540D;&#x79F0;/&#x503C;&#x5BF9;&#x7684;&#x5F62;&#x5F0F;&#x51FA;&#x73B0;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;name=&quot;value&quot; * &#x5C5E;&#x6027;&#x503C;&#x5E94;&#x8BE5;&#x59CB;&#x7EC8;&#x88AB;&#x5305;&#x62EC;&#x5728;&#x5F15;&#x53F7;&#x5185;&#x3002;&#x53CC;&#x5F15;&#x53F7;&#x662F;&#x6700;&#x5E38;&#x7528;&#x7684;&#xFF0C;&#x4E0D;&#x8FC7;&#x4F7F;&#x7528;&#x5355;&#x5F15;&#x53F7;&#x4E5F;&#x6CA1;&#x6709;&#x95EE;&#x9898;&#x3002; * &#x5728;&#x67D0;&#x4E9B;&#x4E2A;&#x522B;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6BD4;&#x5982;&#x5C5E;&#x6027;&#x503C;&#x672C;&#x8EAB;&#x5C31;&#x542B;&#x6709;&#x53CC;&#x5F15;&#x53F7;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x5355;&#x5F15;&#x53F7; * &#x5C5E;&#x6027;&#x603B;&#x662F;&#x5728; HTML &#x5143;&#x7D20;&#x7684;&#x5F00;&#x59CB;&#x6807;&#x7B7E;&#x4E2D;&#x89C4;&#x5B9A; &#x4E8C;&#x3001;HTML &#x7ED3;&#x6784;&lt;html&gt; &lt;head&gt; &lt;title&gt;&#x7B2C;&#x4E00;&#x4E2A;Html&#x6587;&#x6863;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x6700;&#x57FA;&#x672C;&#x7684; HTML&#x6587;&#x4EF6; &lt;/body&gt; &lt;/html&gt; &#x5982;&#x4E0A;&#x9762;&#x6240;&#x770B;&#x5230;&#x7684;&#xFF0C;&#x4E00;&#x4E2A; HTML &#x6587;&#x4EF6;&#x4E2D;&#x6709;&#x4E00;&#x4E2A;&#x6839;&#x6807;&#x7B7E; html&#xFF0C;&#x91CC;&#x9762;&#x5305;&#x542B;&#x4E86; head &#x5934;&#x90E8;&#x6807;&#x7B7E;&#x8DDF; body &#x4E3B;&#x4F53;&#x6807;&#x7B7E;&#x3002;&#x5176;&#x4E2D; head &#x6807;&#x7B7E;&#x7528;&#x6765;&#x63CF;&#x8FF0;&#x9875;&#x9762;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x9875;&#x9762;&#x6807;&#x9898;&#x3001;&#x7F16;&#x7801;&#x683C;&#x5F0F;&#x7B49;&#xFF0C;body &#x6807;&#x7B7E;&#x5185;&#x7684;&#x5185;&#x5BB9;&#x5C31;&#x662F;&#x5B9E;&#x9645;&#x88AB;&#x7528;&#x6237;&#x770B;&#x5230;&#x7684;&#x4FE1;&#x606F; &#x5E38;&#x7528; head &#x6807;&#x7B7E;&#x7ED3;&#x6784;&#x6807;&#x7B7E; &#x6807;&#x7B7E; &#x63CF;&#x8FF0; html &#x8868;&#x793A;&#x4E00;&#x4E2A;HTML &#x9875;&#x9762; head &#x5934;&#x90E8;&#x4FE1;&#x606F;&#xFF0C;&#x542B;&#x6709;&#x9875;&#x9762;&#x4FE1;&#x606F;&#x5C5E;&#x6027; body &#x4E3B;&#x9875;&#x4FE1;&#x606F;&#xFF0C;&#x542B;&#x9875;&#x9762;&#x663E;&#x793A;&#x5185;&#x5BB9; div &#x5757;&#x5BB9;&#x5668; head &#x5E38;&#x7528;&#x6807;&#x7B7E; &#x6807;&#x7B7E; &#x63CF;&#x8FF0; title &#x5B9A;&#x4E49;&#x4E86;&#x9875;&#x9762;&#x6807;&#x9898; style &#x5B9A;&#x4E49;&#x4E86;&#x9875;&#x9762;&#x6837;&#x5F0F;&#x6587;&#x4EF6; meta &#x5B9A;&#x4E49;&#x4E86;&#x9875;&#x9762;&#x4E2D;&#x7684;&#x5143;&#x6570;&#x636E; link &#x5B9A;&#x4E49;&#x4E86;&#x9875;&#x9762;&#x4E0E;&#x4E00;&#x4E2A;&#x5916;&#x90E8;&#x8D44;&#x6E90;&#x7684;&#x5173;&#x7CFB; script &#x5B9A;&#x4E49;&#x4E86;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x811A;&#x672C;&#x6587;&#x4EF6; body &#x5E38;&#x7528;&#x6807;&#x7B7E; &#x6807;&#x7B7E; &#x63CF;&#x8FF0; img &#x56FE;&#x7247;&#x6807;&#x7B7E; a &#x8D85;&#x94FE;&#x63A5; &#x5B57;&#x4F53;&#x6807;&#x7B7E; &#x6807;&#x7B7E; &#x63CF;&#x8FF0; strong &#x52A0;&#x7C97; em &#x659C;&#x4F53; &#x5217;&#x8868;&#x6807;&#x7B7E; &#x6807;&#x7B7E; &#x63CF;&#x8FF0; ol &#x6709;&#x5E8F;&#x5217;&#x8868;&#x6807;&#x7B7E; ul &#x65E0;&#x5E8F;&#x5217;&#x8868;&#x6807;&#x7B7E; li &#x5217;&#x8868;&#x5185;&#x5BB9;&#x9879; &#x5C5E;&#x6027;&#x987A;&#x5E8F;HTML &#x5C5E;&#x6027;&#x5E94;&#x5F53;&#x6309;&#x7167;&#x4EE5;&#x4E0B;&#x7ED9;&#x51FA;&#x7684;&#x987A;&#x5E8F;&#x4F9D;&#x6B21;&#x6392;&#x5217;&#xFF0C;&#x786E;&#x4FDD;&#x4EE3;&#x7801;&#x7684;&#x6613;&#x8BFB;&#x6027;&#x3002; 1.class 2.id, name 3.data-* 4.src, for, type, href 5.title, alt 6.aria-*, role","tags":[{"name":"前端基础","slug":"前端基础","permalink":"https://marklogzhu.github.io/tags/前端基础/"},{"name":"HTML","slug":"HTML","permalink":"https://marklogzhu.github.io/tags/HTML/"}]},{"title":"查看 SQL SERVER 版本信息","date":"2017-08-25T02:30:00.000Z","path":"数据库/后台/Sql/MSSQL/查看SQL SERVER 版本信息/","text":"sql &#x7248;&#x672C;&#x4FE1;&#x606F;SELECT SERVERPROPERTY(&apos;Edition&apos;) AS Edition, CASE SERVERPROPERTY(&apos;EditionID&apos;) WHEN 1804890536 THEN &apos;Enterprise Edittion: CAL Lincenseing&apos; WHEN 1872460670 THEN &apos; Enterprise Edition: Core-based Licensing&apos; WHEN 610778273 THEN &apos;Enterprise Evaluation&apos; WHEN 284895786 THEN &apos; Business Intelligence&apos; WHEN -2117995310 THEN &apos;Developer&apos; WHEN -1592396055 THEN &apos;Express&apos; WHEN -133711905 THEN &apos;Express with Advanced Services&apos; WHEN -1534726760 THEN &apos;Standard&apos; WHEN 1293598313 THEN &apos;Web&apos; ELSE &apos;&apos; END AS [Licensing Model] SELECT SERVERPROPERTY(&apos;servername&apos;) AS &#x5B9E;&#x4F8B;&#x540D;, SERVERPROPERTY(&apos;ProductVersion&apos;) AS &#x5B9E;&#x4F8B;&#x7248;&#x672C;, SERVERPROPERTY(&apos;Edition&apos;) AS &#x4EA7;&#x54C1;&#x7248;&#x672C;, SERVERPROPERTY(&apos;ProductLevel&apos;) AS &#x7248;&#x672C;&#x7EA7;&#x522B;, @@VERSION AS &#x7248;&#x672C;&#x4FE1;&#x606F; &#x67E5;&#x770B;CPU&#x6570;&#x548C;user scheduler&#x6570;&#x76EE;SELECT cpu_count,scheduler_count FROM sys.dm_os_sys_info &#x67E5;&#x770B;&#x6700;&#x5927;&#x5DE5;&#x4F5C;&#x7EBF;&#x7A0B;&#x6570;SELECT max_workers_count FROM sys.dm_os_sys_info","tags":[{"name":"SQL","slug":"SQL","permalink":"https://marklogzhu.github.io/tags/SQL/"},{"name":"SQL Server","slug":"SQL-Server","permalink":"https://marklogzhu.github.io/tags/SQL-Server/"}]},{"title":"form表单用 GET 方法进行 URL 传值时后台无法获取问题","date":"2017-08-07T14:03:00.000Z","path":"uncategorized/经验/form表单用get方法进行url传值时后台无法获取问题/","text":"&#x95EE;&#x9898;&#x63CF;&#x8FF0;&lt;a href=&quot;${pageContext.request.contextPath}/client?method=add&quot;&gt;&#x70B9;&#x6211;&lt;/a&gt; &lt;form action=&quot;${pageContext.request.contextPath }/client?method=add&quot; method=&quot;get&quot;&gt; &lt;p&gt;First name: &lt;input type=&quot;text&quot; name=&quot;fname&quot; /&gt;&lt;/p&gt; &lt;p&gt;Last name: &lt;input type=&quot;text&quot; name=&quot;lname&quot; /&gt;&lt;/p&gt; &lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt; &lt;/form&gt; form &#x8868;&#x5355;&#x4F7F;&#x7528; GET &#x65B9;&#x5F0F;&#x63D0;&#x4EA4;&#x6570;&#x636E;&#xFF0C;&#x540E;&#x53F0;&#x6253;&#x5370;&#x4E0D;&#x51FA;&#x6765;&#x53C2;&#x6570; method &#x7684;&#x503C;&#xFF0C;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x5730;&#x5740;&#x680F;&#x4E2D;&#x4E5F;&#x4E0D;&#x663E;&#x793A;&#x503C;&#xFF0C;&#x5730;&#x5740;&#x680F;&#x663E;&#x793A;&#x5982;&#x4E0B;&#xFF1A; http://localhost:8888/CRM/client?fname=1&amp;lname=1 &#x4F7F;&#x7528; POST &#x65B9;&#x5F0F;&#x5730;&#x5740;&#x680F;&#x5C31;&#x80FD;&#x663E;&#x793A;&#x53C2;&#x6570; method http://localhost:8888/CRM/client?method=addUser &#x95EE;&#x9898;&#x539F;&#x56E0;&#x8868;&#x5355;&#x63D0;&#x4EA4;&#x65F6; GET &#x662F;&#x628A;&#x53C2;&#x6570;&#x6570;&#x636E;&#x961F;&#x5217;&#x52A0;&#x5230;&#x63D0;&#x4EA4;&#x8868;&#x5355;&#x7684; ACTION &#x5C5E;&#x6027;&#x6240;&#x6307;&#x7684; URL &#x4E2D;&#xFF0C;&#x503C;&#x548C;&#x8868;&#x5355;&#x5185;&#x5404;&#x4E2A;&#x5B57;&#x6BB5;&#x4E00;&#x4E00;&#x5BF9;&#x5E94;&#xFF0C;&#x5728;URL&#x4E2D;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x3002;&#x81EA;&#x5DF1;&#x6DFB;&#x52A0;&#x7684;&#x53C2;&#x6570;&#x4F1A;&#x88AB;&#x6E05;&#x9664;&#x6389;&#x3002;&#x5982;&#x679C;&#x9700;&#x8981;&#x6DFB;&#x52A0;&#x53C2;&#x6570;&#x7684;&#x8BDD;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x4E00;&#x4E2A;&#x9690;&#x85CF;&#x7684;&#x5B57;&#x6BB5;&#x6765;&#x6DFB;&#x52A0;&#xFF0C;&#x5982;&#xFF1A; &lt;input type=&quot;hidden&quot; name=&quot;method&quot; value=&quot;add&quot;&gt;","tags":[{"name":"JAVA WEB","slug":"JAVA-WEB","permalink":"https://marklogzhu.github.io/tags/JAVA-WEB/"}]},{"title":"SQLServer 多表筛选数据","date":"2017-07-13T02:22:00.000Z","path":"数据库/后台/Sql/MSSQL/SQLServer多表筛选数据/","text":"&#x6982;&#x8FF0; &#x5728;&#x9879;&#x76EE;&#x4E2D;&#x5E38;&#x5E38;&#x51FA;&#x73B0;&#x591A;&#x8868;&#x6570;&#x636E;&#x5BF9;&#x6BD4;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x4ECA;&#x5929;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x5B8C;&#x6210;&#x4E0B;&#x8FD9;&#x4E2A;&#x9700;&#x6C42;&#x3002; &#x9700;&#x6C42;&#x67D0;&#x5C0F;&#x5B66;&#x4E00;&#x5E74;&#x7EA7;&#x6709; A&#x3001;B &#x4E24;&#x4E2A;&#x73ED;&#xFF0C;&#x5B9E;&#x73B0;&#x5982;&#x4E0B;&#x9700;&#x6C42;1.&#x67E5;&#x51FA;&#x4E24;&#x4E2A;&#x73ED;&#x76F8;&#x540C;&#x540D;&#x5B57;&#x548C;&#x5E74;&#x9F84;&#x7684;&#x5B66;&#x751F;2.&#x67E5;&#x51FA;&#x4E24;&#x4E2A;&#x73ED;&#x4E0D;&#x540C;&#x540D;&#x5B57;&#x548C;&#x5E74;&#x9F84;&#x7684;&#x5B66;&#x751F; &#x5B9E;&#x73B0;&#x9996;&#x5148;&#x6211;&#x4EEC;&#x6765;&#x751F;&#x6210;&#x4E0B;&#x6D4B;&#x8BD5;&#x6570;&#x636E;&#x3002; &#x6D4B;&#x8BD5;&#x6570;&#x636E;1234567891011121314151617-- A &#x73ED;SELECT &apos;&#x5F20;&#x4E09;&apos; AS name,&apos;18&apos; AS age INTO #TEMP_A UNION ALLSELECT &apos;&#x674E;&#x56DB;&apos; AS name,&apos;28&apos; AS ageUNION ALLSELECT &apos;&#x738B;&#x4E94;&apos; AS name,&apos;38&apos; AS ageUNION ALLSELECT &apos;&#x8D75;&#x516D;&apos; AS name,&apos;48&apos; AS age -- B &#x73ED;SELECT &apos;&#x7530;&#x4E03;&apos; AS name,&apos;18&apos; AS age INTO #TEMP_B UNION ALLSELECT &apos;&#x8001;&#x5218;&apos; AS name,&apos;28&apos; AS ageUNION ALLSELECT &apos;&#x5F20;&#x4E09;&apos; AS name,&apos;18&apos; AS ageUNION ALLSELECT &apos;&#x8D75;&#x516D;&apos; AS name,&apos;48&apos; AS age &#x67E5;&#x51FA;&#x4E24;&#x4E2A;&#x73ED;&#x76F8;&#x540C;&#x540D;&#x5B57;&#x548C;&#x5E74;&#x9F84;&#x7684;&#x5B66;&#x751F;123SELECT name,age FROM #TEMP_AINTERSECTSELECT name,age FROM #TEMP_B &#x67E5;&#x51FA;&#x4E24;&#x4E2A;&#x73ED;&#x4E0D;&#x540C;&#x540D;&#x5B57;&#x548C;&#x5E74;&#x9F84;&#x7684;&#x5B66;&#x751F;123SELECT name,age FROM #TEMP_AEXCEPT SELECT name,age FROM #TEMP_B &#x603B;&#x7ED3;&#x4EE5;&#x4E0A;&#x7684;&#x793A;&#x4F8B;&#x4E3B;&#x8981;&#x8FD0;&#x7528;&#x4E86;&#x4EE5;&#x4E0B;&#x4E24;&#x4E2A;&#x8FD0;&#x7B97;&#x7B26; INTERSECT&#xFF1A;&#x8FD4;&#x56DE;&#x7531; INTERSECT &#x8FD0;&#x7B97;&#x7B26;&#x5DE6;&#x4FA7;&#x548C;&#x53F3;&#x4FA7;&#x7684;&#x67E5;&#x8BE2;&#x90FD;&#x8FD4;&#x56DE;&#x7684;&#x6240;&#x6709;&#x975E;&#x91CD;&#x590D;&#x503C;&#x3002; EXCEPT&#xFF1A;&#x8FD4;&#x56DE;&#x7531; EXCEPT &#x8FD0;&#x7B97;&#x7B26;&#x5DE6;&#x4FA7;&#x7684;&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;&#x3001;&#x800C;&#x53C8;&#x4E0D;&#x5305;&#x542B;&#x5728;&#x53F3;&#x4FA7;&#x67E5;&#x8BE2;&#x6240;&#x8FD4;&#x56DE;&#x7684;&#x503C;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x975E;&#x91CD;&#x590D;&#x503C;&#x3002; &#x6CE8;&#xFF1A;&#x8FD9;&#x4E24;&#x4E2A;&#x8FD0;&#x7B97;&#x7B26;&#x9700;&#x8981;&#x5728; SQL SERVER 2005 &#x7248;&#x672C;&#x4E4B;&#x540E;&#xFF08;&#x5305;&#x62EC; 2005 &#x7248;&#xFF09;&#x624D;&#x80FD;&#x4F7F;&#x7528;","tags":[{"name":"SQL","slug":"SQL","permalink":"https://marklogzhu.github.io/tags/SQL/"},{"name":"SQL Server","slug":"SQL-Server","permalink":"https://marklogzhu.github.io/tags/SQL-Server/"}]},{"title":"常用小工具","date":"2017-06-30T06:06:00.000Z","path":"工具/工具/tools/","text":"&#x6240;&#x8C13;&#x5DE5;&#x6B32;&#x5584;&#x5176;&#x4E8B;&#x5FC5;&#x5148;&#x5229;&#x5176;&#x5668;&#xFF0C;&#x4ECA;&#x5929;&#x5C31;&#x4ECB;&#x7ECD;&#x4E0B;&#x7B14;&#x8005;&#x65E5;&#x5E38;&#x4F7F;&#x7528;&#x7684;&#x4E00;&#x4E9B;&#x5C0F;&#x5DE5;&#x5177; Markdown &#x7F16;&#x8F91;&#x5668;&#x4F7F;&#x7528; Markdown &#x7684;&#x4F18;&#x70B9;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x8D58;&#x8FF0;&#xFF0C;&#x4E0D;&#x4E86;&#x89E3;&#x7684;&#x670B;&#x53CB;&#x53EF;&#x4EE5;&#x770B;&#x4E0B;&#x8FD9;&#x91CC; &#x4E3A;&#x4EC0;&#x4E48;&#x6211;&#x4EEC;&#x8981;&#x5B66;&#x4E60; Markdown &#x7684;&#x4E09;&#x4E2A;&#x7406;&#x7531; Markdown &#x8BED;&#x6CD5;&#x8BF4;&#x660E;(&#x7B80;&#x4F53;&#x4E2D;&#x6587;&#x7248;) &#x4E5F;&#x53EF;&#x4EE5;&#x5148;&#x4F7F;&#x7528;&#x5728;&#x7EBF; Markdown &#x7F16;&#x8F91;&#x5668;&#x4F53;&#x9A8C;&#x4E0B; MaHua dillinger &#x7B14;&#x8005;&#x79C1;&#x5FC3;&#x91CC;&#x8BA4;&#x4E3A;&#x8FD8;&#x662F; CS &#x7248;&#x7684;&#x7F16;&#x8F91;&#x5668;&#x4E66;&#x5199;&#x66F4;&#x6D41;&#x7545;&#xFF0C;&#x8FD9;&#x91CC;&#x4E5F;&#x63A8;&#x8350;&#x4E24;&#x6B3E;&#x5BA2;&#x6237;&#x7AEF; Markdown &#x7F16;&#x8F91;&#x5668; MarkdownPad2 haroopad &#x76F8;&#x5BF9;&#x4E8E; haroopad &#x7684;&#x514D;&#x8D39;&#xFF0C; MarkdownPad2 &#x4E13;&#x4E1A;&#x7248;&#x662F;&#x6536;&#x8D39;&#x7684;&#xFF0C;&#x8FD9;&#x91CC;&#x4E5F;&#x7ED9;&#x5404;&#x4F4D;&#x51C6;&#x5907;&#x4E86;&#x4E2A; MarkdownPad2 &#x7684;&#x6388;&#x6743;&#x5BC6;&#x94A5; &#x90AE;&#x7BB1;&#x5730;&#x5740;&#xFF1A; Soar360@live.com &#x6388;&#x6743;&#x79D8;&#x94A5;&#xFF1A;1GBPduHjWfJU1mZqcPM3BikjYKF6xKhlKIys3i1MU2eJHqWGImDHzWdD6xhMNLGVpbP2M5SN6bnxn2kSE8qHqNY5QaaRxmO3YSMHxlv2EYpjdwLcPwfeTG7kUdnhKE0vVy4RidP6Y2wZ0q74f47fzsZo45JE2hfQBFi2O9Jldjp1mW8HUpTtL A2a5/sQytXJUQl/QKO0jUQY4pa5CCx20sV1ClOTZtAGngSOJtIOFXK599sBr5aIEFyH0K7H4BoNMiiDMnxt1rD8Vb/ikJdhGMMQr0R4B+L3nWU97eaVPTRKfWGDE8/eAgKzpGwrQQoDh+nzX1xoVQ8NAuH+s4UcSeQ== SpaceSniffer &#x78C1;&#x76D8;&#x6E05;&#x7406;&#x5DE5;&#x5177;SpaceSniffer &#x4E0B;&#x8F7D;&#x5730;&#x5740; &#x4E0D;&#x77E5;&#x4E0D;&#x89C9;&#x4E2D;&#x786C;&#x76D8;&#x7A7A;&#x95F4;&#x5C31;&#x6240;&#x5269;&#x65E0;&#x51E0;&#x4E86;&#xFF0C;&#x5230;&#x5E95;&#x662F;&#x4EC0;&#x4E48;&#x6587;&#x4EF6;&#x5360;&#x7528;&#x8FD9;&#x4E48;&#x9AD8;&#x5462;&#xFF0C;&#x901A;&#x8FC7; SpaceSniffer &#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x5F88;&#x6E05;&#x6670;&#x7684;&#x77E5;&#x9053;&#x5404;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x5360;&#x7528;&#x7387;&#xFF0C;&#x7136;&#x540E;&#x627E;&#x51FA;&#x7F6A;&#x9B41;&#x7978;&#x9996;&#x5C06;&#x4ED6;&#x65A9;&#x4E8E;&#x9A6C;&#x4E0B;&#x3002; SpaceSniffer &#x652F;&#x6301;&#x9009;&#x4E2D;&#x540E;&#x76F4;&#x63A5;&#x5220;&#x9664;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x6309;&#x4F4F; Shift &#x952E;&#x7684;&#x8BDD;&#x6700;&#x540E;&#x8FD8;&#x5F97;&#x624B;&#x5DE5;&#x6E05;&#x7A7A;&#x56DE;&#x6536;&#x7AD9; iNethinkSQL &#x6570;&#x636E;&#x5E93;&#x5907;&#x4EFD;&#x8F6F;&#x4EF6;SqlServer &#x6570;&#x636E;&#x5E93;&#x5907;&#x4EFD;&#x8F6F;&#x4EF6; &#x4E0B;&#x8F7D;&#x5730;&#x5740; &#x5728;&#x4FE1;&#x606F;&#x5316;&#x65F6;&#x4EE3;&#xFF0C;&#x6700;&#x8D35;&#x7684;&#x83AB;&#x8FC7;&#x4E8E;&#x6570;&#x636E;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x4E3A;&#x4E86;&#x6570;&#x636E;&#x7684;&#x5B89;&#x5168;&#xFF0C;&#x5B9A;&#x65F6;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x5E93;&#x5F53;&#x7136;&#x662F;&#x5FC5;&#x4E0D;&#x53EF;&#x5C11;&#x7684;&#x3002;&#x4F46;&#x662F;&#x5149;&#x5149;&#x53EA;&#x662F;&#x5728;&#x672C;&#x5730;&#x505A;&#x6570;&#x636E;&#x5E93;&#x5907;&#x4EFD;&#x800C;&#x4E0D;&#x505A;&#x5F02;&#x5730;&#x5907;&#x4EFD;&#x7684;&#x8BDD;&#xFF0C;&#x8FD8;&#x662F;&#x5B58;&#x5728;&#x7740;&#x5F88;&#x5927;&#x7684;&#x98CE;&#x9669;&#x3002;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x65E2;&#x8981;&#x505A;&#x5230;&#x5B9A;&#x65F6;&#x5907;&#x4EFD;&#x53C8;&#x8981;&#x505A;&#x5230;&#x5F02;&#x5730;&#x5907;&#x4EFD;. &#x867D;&#x7136; SqlServer &#x81EA;&#x5E26;&#x7684;&#x5907;&#x4EFD;&#x8BA1;&#x5212;&#x4E5F;&#x80FD;&#x505A;&#x5230;&#xFF0C;&#x4F46;&#x662F;&#x60F3;&#x8981;&#x540C;&#x65F6;&#x505A;&#x5230;&#x5F02;&#x5730;&#x5907;&#x4EFD;&#x7684;&#x8BDD;&#x8FD8;&#x9700;&#x8981;&#x989D;&#x5916;&#x7684;&#x811A;&#x672C;&#x64CD;&#x4F5C;&#x3002;&#x901A;&#x8FC7; SqlServer &#x6570;&#x636E;&#x5E93;&#x5907;&#x4EFD;&#x8F6F;&#x4EF6; &#x8F6F;&#x4EF6;&#x5C31;&#x53EF;&#x4EE5;&#x505A;&#x5230;&#x672C;&#x5730;&#x5B9A;&#x65F6;&#x5907;&#x4EFD;&#x7684;&#x540C;&#x65F6;&#x4E5F;&#x53EF;&#x4EE5;&#x5411;&#x53E6;&#x4E00;&#x53F0;&#x8BBE;&#x5907;&#x4E0A;&#x4F20;&#x8F93;&#x521A;&#x5907;&#x4EFD;&#x7684;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x3002; &#x5E02;&#x9762;&#x4E0A;&#x540C;&#x7C7B;&#x578B;&#x6570;&#x636E;&#x5E93;&#x5F02;&#x5730;&#x5907;&#x4EFD;&#x7684;&#x670D;&#x52A1;&#x7ECF;&#x8FC7;&#x8BE2;&#x95EE;&#x5728;&#x4E09;&#x4E07;&#x5143;&#x4E00;&#x4E2A;&#x70B9;&#xFF0C;&#x4F46;&#x662F;&#x4F7F;&#x7528;&#x8BE5;&#x8F6F;&#x4EF6;&#x5C06;&#x7701;&#x5374;&#x8FD9;&#x4E00;&#x7B14;&#x8D39;&#x7528;&#x3002;","tags":[{"name":"tool","slug":"tool","permalink":"https://marklogzhu.github.io/tags/tool/"}]},{"title":"批量插入数据库记录","date":"2017-06-28T13:45:00.000Z","path":"NET/后台/Net/批量插数据库数据/","text":"&#x4E00;&#x3001;&#x573A;&#x666F;&#x63CF;&#x8FF0;&#x5728;&#x751F;&#x6D3B;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x7ECF;&#x5E38;&#x770B;&#x5230;&#x5FEB;&#x9012;&#x5458;&#x62FF;&#x7740;&#x7279;&#x5236;&#x7684;&#x79FB;&#x52A8;&#x7EC8;&#x7AEF;&#xFF0C;&#x626B;&#x63CF;&#x7740;&#x591A;&#x4E2A;&#x5FEB;&#x9012;&#x9762;&#x5355;&#x5B9E;&#x73B0;&#x5FEB;&#x9012;&#x5355;&#x7684;&#x8FD0;&#x8F93;&#x8BB0;&#x5F55;&#x3002; &#x5F53;&#x6CA1;&#x6709;&#x7F51;&#x7EDC;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x79FB;&#x52A8;&#x7EC8;&#x7AEF;&#x4F1A;&#x5C06;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x5728;&#x672C;&#x5730;&#xFF0C;&#x7B49;&#x6709;&#x7F51;&#x7EDC;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4F1A;&#x5C06;&#x6570;&#x636E;&#x7EDF;&#x4E00;&#x63D0;&#x4EA4;&#x5230;&#x540E;&#x53F0;&#x3002;&#x800C;&#x8FD9;&#x4E2A;&#x4E5F;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x4ECA;&#x5929;&#x8981;&#x505A;&#x7684;&#x5C06;&#x6279;&#x91CF;&#x6570;&#x636E;&#x63D2;&#x5165;&#x5230;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x53BB;&#x3002; &#x4E8C;&#x3001;ScanLog&#x8868;&#x7ED3;&#x6784; &#x5B57;&#x6BB5;&#x540D; &#x5B57;&#x6BB5;&#x7C7B;&#x578B; &#x5B57;&#x6BB5;&#x542B;&#x4E49; rowId INT &#x81EA;&#x589E;&#x4E3B;&#x952E; barcode NVACHAR(30) &#x5FEB;&#x9012;&#x5355;&#x53F7; jobNumer NVACHAR(20) &#x64CD;&#x4F5C;&#x4EBA;&#x5458;&#x7F16;&#x53F7; state INT &#x5355;&#x636E;&#x72B6;&#x6001; doTime DATATIME &#x64CD;&#x4F5C;&#x65F6;&#x95F4; doPlace NVACHAR(10) &#x6240;&#x5728;&#x7F51;&#x70B9;&#x7F16;&#x53F7; Tel NVACHAR(15) &#x8054;&#x7CFB;&#x7535;&#x8BDD; &#x4E09;&#x3001;&#x6CE8;&#x610F;&#x70B9;1.&#x6570;&#x636E;&#x4E0D;&#x662F;&#x5355;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x800C;&#x662F;&#x6279;&#x91CF;&#x64CD;&#x4F5C; 2.&#x8868;&#x4E2D;&#x53EF;&#x80FD;&#x5DF2;&#x5B58;&#x5728;&#x76F8;&#x540C;&#x5FEB;&#x9012;&#x5355;&#x53F7;&#x7684;&#x8BB0;&#x5F55; 3.&#x672C;&#x6B21;&#x63D0;&#x4EA4;&#x6570;&#x636E;&#x4E2D;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x91CD;&#x590D;&#x8BB0;&#x5F55; 4.&#x6267;&#x884C;&#x6548;&#x7387;&#xFF0C;&#x79FB;&#x52A8;&#x7EC8;&#x7AEF;&#x4E0D;&#x53EF;&#x80FD;&#x957F;&#x65F6;&#x95F4;&#x7B49;&#x5F85;&#x540E;&#x53F0;&#x7684;&#x8FD4;&#x56DE;&#xFF0C;&#x6240;&#x4EE5;&#x8981;&#x5728;&#x51E0;&#x79D2;&#x5185;&#x5C31;&#x80FD;&#x5C06;&#x54CD;&#x5E94;&#x7ED3;&#x679C;&#x8FD4;&#x56DE;&#x81F3;&#x7EC8;&#x7AEF;&#x53BB; &#x56DB;&#x3001;&#x5B9E;&#x73B0;&#x903B;&#x8F91;1.&#x5148;&#x5C06;&#x6570;&#x636E;&#x901A;&#x8FC7;for&#x5FAA;&#x73AF;&#x62FC;&#x63A5;&#x63D2;&#x5165;&#x4E34;&#x65F6;&#x8868;&#x4E2D;&#x53BB; 2.&#x5C06;&#x4E34;&#x65F6;&#x8868;&#x4E0E;ScanLog&#x8868;&#x8FDE;&#x63A5;&#xFF0C;&#x5C06;&#x975E;&#x91CD;&#x590D;&#x6570;&#x636E;&#x63D2;&#x5165;&#x8868;&#x4E2D; 3.&#x5C06;&#x7ED3;&#x679C;&#x8FD4;&#x56DE;&#x7ED9;&#x7EC8;&#x7AEF; &#x4E94;&#x3001;&#x5B9E;&#x73B0;&#x4EE3;&#x7801;12345678910111213141516171819202122232425#region &#x6DFB;&#x52A0;&#x626B;&#x63CF;&#x8BB0;&#x5F55;/// &lt;summary&gt;/// &#x6DFB;&#x52A0;&#x626B;&#x63CF;&#x8BB0;&#x5F55;/// &lt;/summary&gt;/// &lt;param name=&quot;scanList&quot;&gt;&lt;/param&gt;/// &lt;returns&gt;&lt;/returns&gt;public bool addRecord(List&lt;ScanRecordModel&gt; scanList) { bool flag = false; StringBuilder strSql = new StringBuilder(); StringBuilder sql = new StringBuilder(); String s = String.Empty; String DoTime = DateTime.Now.ToString(); strSql.Append(&quot; SELECT * INTO #temp FROM ( &quot;); foreach (ScanRecordModel scan in scanList) { s = &quot; SELECT &apos;{0}&apos;as barcode ,&apos;{1}&apos; as jobnumer,&apos;{2}&apos; as doTime,&apos;{3}&apos; as doPlace,&apos;{4}&apos; as Tel UNION ALL &quot;; strSql.Append(String.Format(s, scan.barcode, scan.user.jobNumber, DoTime, scan.netPoint.rowId,scan.tel)); } sql.Append(StringUtils.removeLastChar(strSql.ToString(), &quot;UNION ALL&quot;)); sql.Append(&quot; )a &quot;); sql.Append(&quot; INSERT INTO ScanRecord(Barcode,JobNumer,DoTime,DoPlace,tel) &quot;); sql.Append(&quot; SELECT DISTINCT * FROM #temp WHERE NOT EXISTS (SELECT 1 FROM ScanRecord where ScanRecord.Barcode=#temp.Barcode) &quot;); flag = SqlHelper.ExecCmd(sql.ToString()) &gt; 0; return flag;}#endregion","tags":[{"name":"SQL","slug":"SQL","permalink":"https://marklogzhu.github.io/tags/SQL/"},{"name":"C#","slug":"C","permalink":"https://marklogzhu.github.io/tags/C/"}]},{"title":"SQL小技巧之统计SQL执行时间","date":"2017-06-27T13:25:00.000Z","path":"数据库/后台/Sql/MSSQL/SQL小技巧之统计SQL执行时间/","text":"1.&#x8BA1;&#x7B97;&#x6267;&#x884C;SQL&#x8BED;&#x53E5;&#x6240;&#x9700;&#x65F6;&#x95F4;&#x8861;&#x91CF;SQL&#x8BED;&#x53E5;&#x5199;&#x7684;&#x600E;&#x4E48;&#x6837;&#xFF0C;&#x9664;&#x4E86;&#x6027;&#x80FD;&#x65B9;&#x9762;&#x7684;&#x8003;&#x8651;&#xFF0C;SQL&#x7684;&#x6267;&#x884C;&#x65F6;&#x95F4;&#x4E5F;&#x5E38;&#x5E38;&#x53EF;&#x4EE5;&#x4F53;&#x73B0;&#x3002; &#x901A;&#x8FC7; SQL&#x7684;&#x5185;&#x7F6E;&#x51FD;&#x6570; GETDATE() &#x5C31;&#x53EF;&#x4EE5;&#x5F88;&#x65B9;&#x4FBF;&#x7684;&#x83B7;&#x53D6;SQL&#x6267;&#x884C;&#x65F6;&#x95F4;&#x4E86; &#x4F8B;&#x5982;&#xFF1A; 1234DECLARE @runTime DATETIMESET @runTime = GETDATE()SELECT COUNT(*) FROM SysUserSELECT DATEDIFF(MS,@runTime,GETDATE()) as &#x6BEB;&#x79D2; &#x7ED3;&#x679C;&#xFF1A; 2.&#x8BA1;&#x7B97;&#x6267;&#x884C;SQL&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x6240;&#x9700;&#x65F6;&#x95F4;&#x540C;&#x7406;,&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x7EDF;&#x8BA1;&#x6267;&#x884C;&#x4E00;&#x4E2A;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x6240;&#x9700;&#x65F6;&#x95F4; 1234declare @runTime datetimeset @runTime = GETDATE()EXEC [dbo].[proc_test]SELECT DATEDIFF(MS,@runTime,GETDATE()) as &#x6BEB;&#x79D2; &#x7ED3;&#x679C;&#xFF1A;","tags":[{"name":"SQL","slug":"SQL","permalink":"https://marklogzhu.github.io/tags/SQL/"}]},{"title":"hexo","date":"2017-05-24T11:45:00.000Z","path":"uncategorized/前端/hexo/hexo/","text":"&#x4EC0;&#x4E48;&#x662F; hexohexo &#x662F;&#x535A;&#x5BA2;&#x6846;&#x67B6;&#xFF0C;&#x5C06;&#x652F;&#x6301;&#x7684;&#x7C7B;&#x578B;&#x7684;&#x6587;&#x4EF6;&#x8F6C;&#x6362;&#x6210;&#x9759;&#x6001;Web&#x9875;&#x9762;&#xFF08;html+css+JavaScript&#xFF09;&#x3002; &#x5E38;&#x7528;&#x547D;&#x4EE4; hexo n &#x201C;&#x6211;&#x7684;&#x535A;&#x5BA2;&#x201D; == hexo new &#x201C;&#x6211;&#x7684;&#x535A;&#x5BA2;&#x201D; #&#x65B0;&#x5EFA;&#x6587;&#x7AE0; hexo p == hexo publish hexo g == hexo generate :&#x751F;&#x6210; hexo s == hexo server :&#x542F;&#x52A8;&#x670D;&#x52A1;&#x9884;&#x89C8; hexo s -p 5000 == hexo server :&#x542F;&#x52A8;&#x670D;&#x52A1;&#x4FEE;&#x6539;&#x7AEF;&#x53E3;&#x4E3A;5000&#x9884;&#x89C8; hexo d == hexo deploy :&#x90E8;&#x7F72; &#x672A;&#x5B8C;&#x5F85;&#x7EED; &#x2026;&#x2026;","tags":[{"name":"hexo","slug":"hexo","permalink":"https://marklogzhu.github.io/tags/hexo/"}]},{"title":"JSP","date":"2017-04-08T08:13:00.000Z","path":"Java/后台/Java/JavaWeb/07.JSP/","text":"&#x4E00;&#x3001;JSP&#x4ECB;&#x7ECD;&#x4EC0;&#x4E48;&#x662F; JSP&#xFF1F;JSP&#x5168;&#x79F0;&#x662F; Java Server Pages&#xFF0C;&#x5B83;&#x548C; servle &#x6280;&#x672F;&#x4E00;&#x6837;&#xFF0C;&#x90FD;&#x662F; SUN &#x516C;&#x53F8;&#x5B9A;&#x4E49;&#x7684;&#x4E00;&#x79CD;&#x7528;&#x4E8E;&#x5F00;&#x53D1;&#x52A8;&#x6001; web &#x8D44;&#x6E90;&#x7684;&#x6280;&#x672F;&#x3002; JSP &#x7528;&#x6765;&#x5E72;&#x4EC0;&#x4E48;&#xFF1F;&#x76F8;&#x5BF9;&#x4E8E; HTML &#x53EA;&#x80FD;&#x4E3A;&#x7528;&#x6237;&#x63D0;&#x4F9B;&#x9759;&#x6001;&#x6570;&#x636E;&#xFF0C;Jsp &#x6280;&#x672F;&#x5141;&#x8BB8;&#x5728;&#x9875;&#x9762;&#x4E2D;&#x5D4C;&#x5957; java &#x4EE3;&#x7801;&#xFF0C;&#x4E3A;&#x7528;&#x6237;&#x63D0;&#x4F9B;&#x52A8;&#x6001;&#x6570;&#x636E;&#x3002;&#x5B9E;&#x73B0;&#x5C06;&#x5185;&#x5BB9;&#x7684;&#x751F;&#x6210;&#x548C;&#x4FE1;&#x606F;&#x7684;&#x5C55;&#x793A;&#x76F8;&#x5206;&#x79BB;&#x3002; &#x4E8C;&#x3001;JSP &#x8BED;&#x6CD5;&#x5728; JSP &#x4E2D;&#x6240;&#x6709; JAVA &#x8BED;&#x6CD5;&#x90FD;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x3002; &lt;% &#x2026; %&gt;java&#x4EE3;&#x7801;&#x7247;&#x6BB5; &lt;%= &#x2026; %&gt;&#x8F93;&#x51FA;&#x8868;&#x8FBE;&#x5F0F; &#x76F8;&#x5F53;&#x4E8E;out.print(); &lt;%! &#x2026; %&gt;&#x58F0;&#x660E;&#x6210;&#x5458; &lt;%&#x2013; &#x6CE8;&#x91CA;&#x5185;&#x5BB9; &#x2013;%&gt;JSP &#x6CE8;&#x91CA; JSP &#x539F;&#x7406;JSP &#x4E5F;&#x662F;&#x4E00;&#x4E2A; Servlet&#xFF0C;&#x5F53;&#x8BBF;&#x95EE; JSP &#x9875;&#x9762;&#x65F6;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x4F1A;&#x5C06; JSP &#x9875;&#x9762;&#x8F6C;&#x4E3A;&#x4E00;&#x4E2A; Servlet&#x3002;&#x5728; Tomcat &#x670D;&#x52A1;&#x5668;&#x7684; work\\Catalina\\localhost\\&#x9879;&#x76EE;&#x540D;\\org\\apache\\jsp &#x76EE;&#x5F55;&#x4E0B;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x8F6C;&#x6362;&#x540E;&#x7684; Servlet &#x6E90;&#x7801;&#x3002; &#x793A;&#x4F8B;&#xFF1A; HelloJsp.jsp12345678910111213141516171819&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;&lt;html&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;&lt;title&gt;Insert title here&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;%-- &#x58F0;&#x660E;&#x6210;&#x5458;&#x53D8;&#x91CF; --%&gt; &lt;%!int wage = 2500;%&gt; &lt;%-- &#x58F0;&#x660E;&#x6210;&#x5458;&#x53D8;&#x91CF; --%&gt; &lt;% int alimony = 3000; %&gt; &lt;%-- &#x4E24;&#x8005;&#x6BD4;&#x8F83; --%&gt; &lt;%=wage &gt; alimony%&gt;&lt;/body&gt;&lt;/html&gt; index_jsp.java12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697package org.apache.jsp;import javax.servlet.*;import javax.servlet.http.*;import javax.servlet.jsp.*;public final class HelloJsp_jsp extends org.apache.jasper.runtime.HttpJspBase implements org.apache.jasper.runtime.JspSourceDependent { int wage = 2500; private static final javax.servlet.jsp.JspFactory _jspxFactory = javax.servlet.jsp.JspFactory.getDefaultFactory(); private static java.util.Map&lt;java.lang.String,java.lang.Long&gt; _jspx_dependants; private javax.el.ExpressionFactory _el_expressionfactory; private org.apache.tomcat.InstanceManager _jsp_instancemanager; public java.util.Map&lt;java.lang.String,java.lang.Long&gt; getDependants() { return _jspx_dependants; } public void _jspInit() { _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory(); _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig()); } public void _jspDestroy() { } public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response) throws java.io.IOException, javax.servlet.ServletException { final javax.servlet.jsp.PageContext pageContext; javax.servlet.http.HttpSession session = null; final javax.servlet.ServletContext application; final javax.servlet.ServletConfig config; javax.servlet.jsp.JspWriter out = null; final java.lang.Object page = this; javax.servlet.jsp.JspWriter _jspx_out = null; javax.servlet.jsp.PageContext _jspx_page_context = null; try { response.setContentType(&quot;text/html; charset=UTF-8&quot;); pageContext = _jspxFactory.getPageContext(this, request, response, null, true, 8192, true); _jspx_page_context = pageContext; application = pageContext.getServletContext(); config = pageContext.getServletConfig(); session = pageContext.getSession(); out = pageContext.getOut(); _jspx_out = out; out.write(&quot;\\r\\n&quot;); out.write(&quot;&lt;!DOCTYPE html PUBLIC \\&quot;-//W3C//DTD HTML 4.01 Transitional//EN\\&quot; \\&quot;http://www.w3.org/TR/html4/loose.dtd\\&quot;&gt;\\r\\n&quot;); out.write(&quot;&lt;html&gt;\\r\\n&quot;); out.write(&quot;&lt;head&gt;\\r\\n&quot;); out.write(&quot;&lt;meta http-equiv=\\&quot;Content-Type\\&quot; content=\\&quot;text/html; charset=UTF-8\\&quot;&gt;\\r\\n&quot;); out.write(&quot;&lt;title&gt;Insert title here&lt;/title&gt;\\r\\n&quot;); out.write(&quot;&lt;/head&gt;\\r\\n&quot;); out.write(&quot;&lt;body&gt;\\r\\n&quot;); out.write(&quot;\\t&quot;); out.write(&apos;\\r&apos;); out.write(&apos;\\n&apos;); out.write(&apos; &apos;); out.write(&apos;\\r&apos;); out.write(&apos;\\n&apos;); out.write(&apos; &apos;); out.write(&apos;\\r&apos;); out.write(&apos;\\n&apos;); out.write(&apos; &apos;); int alimony = 3000; out.write(&apos;\\r&apos;); out.write(&apos;\\n&apos;); out.write(&apos; &apos;); out.write(&apos;\\r&apos;); out.write(&apos;\\n&apos;); out.write(&apos; &apos;); out.print(wage &gt; alimony); out.write(&quot;\\r\\n&quot;); out.write(&quot;&lt;/body&gt;\\r\\n&quot;); out.write(&quot;&lt;/html&gt;&quot;); } catch (java.lang.Throwable t) { if (!(t instanceof javax.servlet.jsp.SkipPageException)){ out = _jspx_out; if (out != null &amp;&amp; out.getBufferSize() != 0) try { out.clearBuffer(); } catch (java.io.IOException e) {} if (_jspx_page_context != null) _jspx_page_context.handlePageException(t); else throw new ServletException(t); } } finally { _jspxFactory.releasePageContext(_jspx_page_context); } }} &#x4E09;&#x3001;JSP &#x6307;&#x4EE4;JSP &#x6307;&#x4EE4;&#xFF08;directive&#xFF09;&#x662F;&#x4E3A; JSP &#x5F15;&#x64CE;&#x800C;&#x8BBE;&#x8BA1;&#x7684;&#xFF0C;&#x5B83;&#x4EEC;&#x5E76;&#x4E0D;&#x76F4;&#x63A5;&#x4EA7;&#x751F;&#x4EFB;&#x4F55;&#x53EF;&#x89C1;&#x8F93;&#x51FA;&#xFF0C;&#x800C;&#x53EA;&#x662F;&#x544A;&#x8BC9;&#x5F15;&#x64CE;&#x5982;&#x4F55;&#x5904;&#x7406; JSP &#x9875;&#x9762;&#x4E2D;&#x7684;&#x5176;&#x4F59;&#x90E8;&#x5206;&#x3002; &#x683C;&#x5F0F;:&lt;%@&#x6307;&#x4EE4;&#x540D;&#x79F0; &#x5C5E;&#x6027;=&quot;&#x503C;&quot; &#x5C5E;&#x6027;=&quot;&#x503C;&quot;%&gt; jsp&#x6307;&#x4EE4;&#x5206;&#x7C7B;:* page * include * taglib &#x6CE8;&#x610F;: &#x4E00;&#x4E2A;&#x9875;&#x9762;&#x4E2D;&#x53EF;&#x4EE5;&#x51FA;&#x73B0;&#x591A;&#x4E2A;&#x6307;&#x4EE4; &#x6307;&#x4EE4;&#x53EF;&#x4EE5;&#x653E;&#x5728;&#x4EFB;&#x610F;&#x4F4D;&#x7F6E;,&#x4E00;&#x822C;&#x90FD;&#x653E;&#x5728; JSP &#x9875;&#x9762;&#x6700;&#x4E0A;&#x9762;. page &#x6307;&#x4EE4;page &#x6307;&#x4EE4;&#x4E3B;&#x8981;&#x58F0;&#x660E; JSP &#x9875;&#x9762;&#x7684;&#x4E00;&#x4E9B;&#x5C5E;&#x6027; &#x5E38;&#x7528;&#x5C5E;&#x6027; contentType&#x8BBE;&#x7F6E;&#x54CD;&#x5E94;&#x6D41;&#x7684;&#x7F16;&#x7801;,&#x53CA;&#x901A;&#x77E5;&#x6D4F;&#x89C8;&#x5668;&#x7528;&#x4EC0;&#x4E48;&#x7F16;&#x7801;&#x6253;&#x5F00;.&#x8BBE;&#x7F6E;&#x6587;&#x4EF6;&#x7684;mimetype pageEncoding&#x8BBE;&#x7F6E;&#x9875;&#x9762;&#x7684;&#x7F16;&#x7801; import&#x5BFC;&#x5165;&#x6240;&#x9700;&#x8981;&#x7684;&#x5305; ontentType&#x548C;pageEncoding&#x82E5;&#x4E24;&#x8005;&#x90FD;&#x51FA;&#x73B0;&#x7684;&#x65F6;&#x5019;,&#x5404;&#x81EA;&#x4F7F;&#x7528;&#x5404;&#x81EA;&#x7684;&#x7F16;&#x7801; &#x82E5;&#x53EA;&#x51FA;&#x73B0;&#x4E00;&#x8005;,&#x4E24;&#x4E2A;&#x90FD;&#x4F7F;&#x7528;&#x51FA;&#x73B0;&#x7684;&#x8FD9;&#x4E2A;&#x7F16;&#x7801; &#x82E5;&#x4E24;&#x8005;&#x90FD;&#x4E0D;&#x51FA;&#x73B0;,&#x4F7F;&#x7528;&#x670D;&#x52A1;&#x5668;&#x9ED8;&#x8BA4;&#x7684;&#x7F16;&#x7801; tomcat7&#x4F7F;&#x7528;&#x7684;iso-8859-1 language&#x5F53;&#x524D;jsp&#x9875;&#x9762;&#x91CC;&#x9762;&#x53EF;&#x4EE5;&#x5D4C;&#x5957;&#x7684;&#x8BED;&#x8A00; buffer&#x8BBE;&#x7F6E;jsp&#x9875;&#x9762;&#x7684;&#x6D41;&#x7684;&#x7F13;&#x51B2;&#x533A;&#x7684;&#x5927;&#x5C0F; autoFlush&#x662F;&#x5426;&#x81EA;&#x52A8;&#x5237;&#x65B0; extends&#x58F0;&#x660E;&#x5F53;&#x524D;jsp&#x7684;&#x9875;&#x9762;&#x7EE7;&#x627F;&#x4E8E;&#x90A3;&#x4E2A;&#x7C7B;.&#x5FC5;&#x987B;&#x7EE7;&#x627F;&#x7684;&#x662F;httpservlet &#x53CA;&#x5176;&#x5B50;&#x7C7B; session&#x8BBE;&#x7F6E;jsp&#x9875;&#x9762;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;session&#x5185;&#x7F6E;&#x5BF9;&#x8C61; isELIgnored&#x662F;&#x5426;&#x5FFD;&#x7565;el&#x8868;&#x8FBE;&#x5F0F; errorPage&#x5F53;&#x524D;jsp&#x9875;&#x9762;&#x51FA;&#x73B0;&#x5F02;&#x5E38;&#x7684;&#x65F6;&#x5019;&#x8981;&#x8DF3;&#x8F6C;&#x5230;&#x7684;jsp&#x9875;&#x9762; isErrorPage&#x5F53;&#x524D;jsp&#x9875;&#x9762;&#x662F;&#x5426;&#x662F;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#x9875;&#x9762;,&#x82E5;&#x503C;&#x4E3A;true,&#x53EF;&#x4EE5;&#x4F7F;&#x7528;jsp&#x9875;&#x9762;&#x7684;&#x4E00;&#x4E2A;&#x5185;&#x7F6E;&#x5BF9;&#x8C61; exception include &#x6307;&#x4EE4;&#x9759;&#x6001;&#x5305;&#x542B;,&#x5C31;&#x662F;&#x5C06;&#x5176;&#x4ED6;&#x9875;&#x9762;&#x6216;&#x8005;servlet&#x7684;&#x5185;&#x5BB9;&#x5305;&#x542B;&#x8FDB;&#x6765;,&#x4E00;&#x8D77;&#x8FDB;&#x884C;&#x7F16;&#x8BD1;&#x8FD0;&#x884C;.&#x751F;&#x6210;&#x4E00;&#x4E2A;java&#x6587;&#x4EF6;.&#x683C;&#x5F0F;: &lt;%@include file=&quot;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#x6216;&#x8005;&#x662F;&#x5185;&#x90E8;&#x8DEF;&#x5F84;&quot; %&gt; taglib&#x6307;&#x4EE4;&#x5BFC;&#x5165;&#x6807;&#x7B7E;&#x5E93;&#xFF0C;&#x683C;&#x5F0F;: &lt;%@taglib prefix=&quot;&#x524D;&#x7F00;&#x540D;&quot; uri=&quot;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&quot; %&gt; &#x4F7F;&#x7528;&#x683C;&#x5F0F;&#xFF1A; &lt;&#x524D;&#x7F00;&#x540D;:&#x6807;&#x7B7E; .. &gt; &#x56DB;&#x3001;JSP &#x4E5D;&#x5927;&#x5185;&#x7F6E;&#x5BF9;&#x8C61;JSP &#x5F15;&#x64CE;&#x5728;&#x8C03;&#x7528; JSP &#x5BF9;&#x5E94;&#x7684; _jspServlet &#x65F6;&#xFF0C;&#x4F1A;&#x4F20;&#x9012;&#x6216;&#x521B;&#x5EFA;9&#x4E2A;&#x4E0E; web &#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684;&#x5BF9;&#x8C61;&#x4F9B; _jspServlet&#x4F7F;&#x7528;&#x3002; NO &#x5185;&#x7F6E;&#x5BF9;&#x8C61; &#x7C7B;&#x578B; 1 pageContext javax.servlet.jsp.PageContext 2 request javax.servlet.http.HttpServletRequest 3 response javax.servlet.http.HttpServletResponse 4 session javax.servlet.http.HttpSession 5 application javax.servlet.ServletContext 6 config javax.servlet.ServletConfig 7 out javax.servlet.jsp.JspWriter 8 page java.lang.Object 9 exception java.lang.Throwable pageContext &#x5BF9;&#x8C61;pageContext &#x5BF9;&#x8C61;&#x662F;JSP&#x6280;&#x672F;&#x4E2D;&#x6700;&#x91CD;&#x8981;&#x7684;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x5B83;&#x4EE3;&#x8868; JSP &#x9875;&#x9762;&#x7684;&#x8FD0;&#x884C;&#x73AF;&#x5883;&#xFF0C;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x4E0D;&#x4EC5;&#x5C01;&#x88C5;&#x4E86;&#x5BF9;&#x5176;&#x5B83; 8 &#x5927;&#x9690;&#x5F0F;&#x5BF9;&#x8C61;&#x7684;&#x5F15;&#x7528;&#xFF0C;&#x5B83;&#x81EA;&#x8EAB;&#x8FD8;&#x662F;&#x4E00;&#x4E2A;&#x57DF;&#x5BF9;&#x8C61;(&#x5BB9;&#x5668;)&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x4FDD;&#x5B58;&#x6570;&#x636E;&#x3002;&#x5E76;&#x4E14;&#xFF0C;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x8FD8;&#x5C01;&#x88C5;&#x4E86; web &#x5F00;&#x53D1;&#x4E2D;&#x7ECF;&#x5E38;&#x6D89;&#x53CA;&#x5230;&#x7684;&#x4E00;&#x4E9B;&#x5E38;&#x7528;&#x64CD;&#x4F5C;&#xFF0C;&#x4F8B;&#x5982;&#x5F15;&#x5165;&#x548C;&#x8DF3;&#x8F6C;&#x5176;&#x5B83;&#x8D44;&#x6E90;&#x3001;&#x68C0;&#x7D22;&#x5176;&#x5B83;&#x57DF;&#x5BF9;&#x8C61;&#x4E2D;&#x7684;&#x5C5E;&#x6027;&#x7B49;&#x3002; &#x901A;&#x8FC7; pageContext &#x83B7;&#x5F97;&#x5176;&#x4ED6;&#x5BF9;&#x8C61; * getException &#x65B9;&#x6CD5;&#x8FD4;&#x56DE; exception &#x9690;&#x5F0F;&#x5BF9;&#x8C61; * getPage &#x65B9;&#x6CD5;&#x8FD4;&#x56DE; page &#x9690;&#x5F0F;&#x5BF9;&#x8C61; * getRequest &#x65B9;&#x6CD5;&#x8FD4;&#x56DE; request &#x9690;&#x5F0F;&#x5BF9;&#x8C61; * getResponse &#x65B9;&#x6CD5;&#x8FD4;&#x56DE; response &#x9690;&#x5F0F;&#x5BF9;&#x8C61; * getServletConfig &#x65B9;&#x6CD5;&#x8FD4;&#x56DE; config &#x9690;&#x5F0F;&#x5BF9;&#x8C61; * getServletContext &#x65B9;&#x6CD5;&#x8FD4;&#x56DE; application &#x9690;&#x5F0F;&#x5BF9;&#x8C61; * getSession &#x65B9;&#x6CD5;&#x8FD4;&#x56DE; session &#x9690;&#x5F0F;&#x5BF9;&#x8C61; * getOut &#x65B9;&#x6CD5;&#x8FD4;&#x56DE; out &#x9690;&#x5F0F;&#x5BF9;&#x8C61; pageContext&#x5BF9;&#x8C61;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x5BB9;&#x5668;&#x6765;&#x4F7F;&#x7528;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x5C06;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x5728;pageContext&#x5BF9;&#x8C61;&#x4E2D;&#x3002;&#x5E38;&#x7528;&#x65B9;&#x6CD5;&#xFF1A; void setAttribute(java.lang.String name,java.lang.Object value)&#x6CE8;&#x518C;&#x4F7F;&#x7528;&#x9875;&#x9762;&#x8303;&#x56F4;&#x8BED;&#x4E49;&#x6307;&#x5B9A;&#x7684;&#x540D;&#x79F0;&#x548C;&#x503C;&#x3002;&#x5982;&#x679C;&#x4F20;&#x5165;&#x7684;&#x503C;&#x4E3A; null&#xFF0C;&#x5219;&#x8C03;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x4E0E;&#x8C03;&#x7528; removeAttribute( name, PageContext.PAGE_SCOPE ) &#x4EA7;&#x751F;&#x7684;&#x6548;&#x679C;&#x76F8;&#x540C;&#x3002; java.lang.Object getAttribute(java.lang.String name)&#x4ECE;&#x6240;&#x6709;&#x8303;&#x56F4;&#x4E2D;&#x79FB;&#x9664;&#x4E0E;&#x7ED9;&#x5B9A;&#x540D;&#x79F0;&#x5173;&#x8054;&#x7684;&#x5BF9;&#x8C61;&#x5F15;&#x7528;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6B64;&#x7C7B;&#x5BF9;&#x8C61;&#xFF0C;&#x5219;&#x4E0D;&#x6267;&#x884C;&#x4EFB;&#x4F55;&#x64CD;&#x4F5C;&#x3002; void removeAttribute(java.lang.String name)&#x4ECE;&#x6240;&#x6709;&#x8303;&#x56F4;&#x4E2D;&#x79FB;&#x9664;&#x4E0E;&#x7ED9;&#x5B9A;&#x540D;&#x79F0;&#x5173;&#x8054;&#x7684;&#x5BF9;&#x8C61;&#x5F15;&#x7528;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6B64;&#x7C7B;&#x5BF9;&#x8C61;&#xFF0C;&#x5219;&#x4E0D;&#x6267;&#x884C;&#x4EFB;&#x4F55;&#x64CD;&#x4F5C;&#x3002; java.lang.Object findAttribute(java.lang.String name)&#x6309;&#x987A;&#x5E8F;&#x5728;&#x9875;&#x9762;&#x3001;&#x8BF7;&#x6C42;&#x3001;&#x4F1A;&#x8BDD;&#xFF08;&#x5982;&#x679C;&#x6709;&#x6548;&#xFF09;&#x548C;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x8303;&#x56F4;&#x4E2D;&#x641C;&#x7D22;&#x6307;&#x5B9A;&#x5C5E;&#x6027;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x5173;&#x8054;&#x7684;&#x503C;&#x6216; null&#x3002; out &#x5BF9;&#x8C61;out &#x5BF9;&#x8C61;&#x7528;&#x4E8E;&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001;&#x6587;&#x672C;&#x6570;&#x636E;&#x3002;out &#x5BF9;&#x8C61;&#x662F;&#x901A;&#x8FC7;&#x8C03;&#x7528; pageContext &#x5BF9;&#x8C61;&#x7684; getOut &#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x7684;&#xFF0C;&#x5176;&#x4F5C;&#x7528;&#x548C;&#x7528;&#x6CD5;&#x4E0E; ServletResponse.getWriter &#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x7684; PrintWriter &#x5BF9;&#x8C61;&#x975E;&#x5E38;&#x76F8;&#x4F3C;&#x3002; page &#x5BF9;&#x8C61;page&#x5BF9;&#x8C61;&#x8868;&#x793A;&#x5F53;&#x524D;&#x4E00;&#x4E2A; JSP &#x9875;&#x9762;&#xFF0C;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x672C;&#x8EAB;&#xFF0C;&#x5373;&#xFF1A;&#x628A;&#x4E00;&#x4E2A; JSP &#x5F53;&#x4F5C;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x6765;&#x770B;&#x5F85;&#x3002;page &#x5BF9;&#x8C61;&#x5728;&#x5F00;&#x53D1;&#x4E2D;&#x51E0;&#x4E4E;&#x4E0D;&#x7528;&#xFF0C;&#x4E86;&#x89E3;&#x4E00;&#x4E0B;&#x5373;&#x53EF; &#x793A;&#x4F8B;:123456789101112131415161718&lt;%--&#x8BBE;&#x7F6E;&#x5C5E;&#x6027; --%&gt;&lt;% pageContext.setAttribute(&quot;name&quot;, &quot;&#x4E14;&#x542C;&#x98CE;&#x541F;&quot;); request.setAttribute(&quot;value1&quot;, 1); application.setAttribute(&quot;value2&quot;, 2); session.setAttribute(&quot;value3&quot;, 3);%&gt;&lt;%-- &#x83B7;&#x53D6;&#x5C5E;&#x6027; --%&gt;name:&lt;%=pageContext.getAttribute(&quot;name&quot;)%&gt;&lt;br&gt;value1:&lt;%=pageContext.findAttribute(&quot;value1&quot;)%&gt;&lt;br&gt;value2:&lt;%=pageContext.findAttribute(&quot;value2&quot;)%&gt;&lt;br&gt;value3:&lt;%=pageContext.findAttribute(&quot;value3&quot;)%&gt;&lt;br&gt;&lt;%--&#x67E5;&#x627E;&#x4E00;&#x4E2A;&#x6CA1;&#x6709;&#x7684;&#x5C5E;&#x6027; --%&gt;value4:&lt;%=pageContext.findAttribute(&quot;value4&quot;)%&gt; &#x4E94;&#x3001;JSP &#x5C5E;&#x6027;&#x8303;&#x56F4;&#x6240;&#x8C13;&#x7684;&#x5C5E;&#x6027;&#x8303;&#x56F4;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#x8BBE;&#x7F6E;&#x4E4B;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x7ECF;&#x8FC7;&#x591A;&#x5C11;&#x4E2A;&#x5176;&#x4ED6;&#x9875;&#x9762;&#x540E;&#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x7684;&#x4FDD;&#x5B58;&#x8303;&#x56F4;&#x3002;&#x8303;&#x56F4;&#x5206;&#x7C7B;&#xFF1A; &#x5F53;&#x524D;&#x9875;&#xFF1A;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#x53EA;&#x80FD;&#x5728;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#x4E2D;&#x53D6;&#x5F97;&#xFF0C;&#x8DF3;&#x8F6C;&#x5230;&#x5176;&#x4ED6;&#x9875;&#x9762;&#x65E0;&#x6CD5;&#x53D6;&#x5F97; &#x4E00;&#x6B21;&#x670D;&#x52A1;&#x5668;&#x8BF7;&#x6C42;&#xFF1A;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#x4E2D;&#x8BBE;&#x7F6E;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x53EA;&#x8981;&#x7ECF;&#x8FC7;&#x4E86;&#x670D;&#x52A1;&#x5668;&#x8DF3;&#x8F6C;&#xFF0C;&#x5219;&#x8DF3;&#x8F6C;&#x4E4B;&#x540E;&#x7684;&#x9875;&#x9762;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x53D6;&#x5F97;&#x3002; &#x4E00;&#x6B21;&#x4F1A;&#x8BDD;&#xFF1A;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x8BBE;&#x7F6E;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x53EA;&#x8981;&#x662F;&#x4E0E;&#x6B64;&#x7528;&#x6237;&#x76F8;&#x5173;&#x7684;&#x9875;&#x9762;&#x90FD;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#xFF08;&#x4E00;&#x4E2A;&#x4F1A;&#x8BDD;&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x4EBA;&#xFF0C;&#x8FD9;&#x4E2A;&#x4EBA;&#x8BBE;&#x7F6E;&#x7684;&#x4E1C;&#x897F;&#x53EA;&#x8981;&#x8FD9;&#x4E2A;&#x4EBA;&#x4E0D;&#x8D70;&#xFF0C;&#x5C31;&#x4F9D;&#x7136;&#x6709;&#x6548;&#xFF09; &#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#xFF1A;&#x5728;&#x6574;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x8BBE;&#x7F6E;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x6240;&#x6709;&#x4EBA;&#x90FD;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE; &#x4EE5;&#x4E0B;&#x56DB;&#x4E2A;&#x5BF9;&#x8C61;&#x4F5C;&#x7528;&#x57DF;&#xFF1A; * application &#x6574;&#x4E2A;&#x9879;&#x76EE; * session &#x4E00;&#x6B21;&#x4F1A;&#x8BDD; * request &#x4E00;&#x6B21;&#x8BF7;&#x6C42; * pageContext &#x4E00;&#x4E2A;&#x9875;&#x9762; &#x516D;&#x3001;JSP &#x6807;&#x7B7E;JSP &#x6807;&#x7B7E;&#x4E5F;&#x79F0;&#x4E4B;&#x4E3A; Jsp Action(JSP&#x52A8;&#x4F5C;)&#x5143;&#x7D20;&#xFF0C;&#x5B83;&#x7528;&#x4E8E;&#x5728; JSP &#x9875;&#x9762;&#x4E2D;&#x63D0;&#x4F9B;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x529F;&#x80FD;&#xFF0C;&#x907F;&#x514D;&#x5728; JSP &#x9875;&#x9762;&#x4E2D;&#x76F4;&#x63A5;&#x7F16;&#x5199; JAVA &#x4EE3;&#x7801;&#xFF0C;&#x9020;&#x6210; JSP &#x9875;&#x9762;&#x96BE;&#x4EE5;&#x7EF4;&#x62A4;&#x3002; JSP &#x7684;&#x5E38;&#x7528;&#x6807;&#x7B7E;: * &lt;jsp:include&gt;&#x6807;&#x7B7E; * &lt;jsp:forward&gt;&#x6807;&#x7B7E; * &lt;jsp:param&gt;&#x6807;&#x7B7E; &lt; jsp:include &gt;&#x6807;&#x7B7E;&#x6B64;&#x6807;&#x7B7E;&#x7528;&#x4E8E;&#x628A;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x8D44;&#x6E90;&#x7684;&#x8F93;&#x51FA;&#x5185;&#x5BB9;&#x63D2;&#x5165;&#x8FDB;&#x5F53;&#x524D; JSP &#x9875;&#x9762;&#x7684;&#x8F93;&#x51FA;&#x5185;&#x5BB9;&#x4E4B;&#x4E2D;&#xFF0C;&#x8FD9;&#x79CD;&#x5728;JSP&#x9875;&#x9762;&#x6267;&#x884C;&#x65F6;&#x7684;&#x5F15;&#x5165;&#x65B9;&#x5F0F;&#x79F0;&#x4E4B;&#x4E3A;&#x52A8;&#x6001;&#x5F15;&#x5165;&#x3002;&#x8BED;&#x6CD5;&#xFF1A; &lt;jsp:include page=&quot;relativeURL | &lt;%=expression%&gt;&quot; flush=&quot;true|false&quot; /&gt; page &#x5C5E;&#x6027;&#x7528;&#x4E8E;&#x6307;&#x5B9A;&#x88AB;&#x5F15;&#x5165;&#x8D44;&#x6E90;&#x7684;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#xFF0C;&#x5B83;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6267;&#x884C;&#x4E00;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x6765;&#x83B7;&#x5F97;&#x3002;flush &#x5C5E;&#x6027;&#x6307;&#x5B9A;&#x5728;&#x63D2;&#x5165;&#x5176;&#x4ED6;&#x8D44;&#x6E90;&#x7684;&#x8F93;&#x51FA;&#x5185;&#x5BB9;&#x65F6;&#xFF0C;&#x662F;&#x5426;&#x5148;&#x5C06;&#x5F53;&#x524D;JSP&#x9875;&#x9762;&#x7684;&#x5DF2;&#x8F93;&#x51FA;&#x7684;&#x5185;&#x5BB9;&#x5237;&#x65B0;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x3002; &lt; jsp:include&gt;&#x6807;&#x7B7E;&#x4E0E;include&#x6307;&#x4EE4;&#x7684;&#x533A;&#x522B;&#x3000;&#x3000;&lt; jsp:include&gt; &#x6807;&#x7B7E;&#x662F;&#x52A8;&#x6001;&#x5F15;&#x5165;&#xFF0C; &#x6807;&#x7B7E;&#x6D89;&#x53CA;&#x5230;&#x7684;2&#x4E2A;JSP&#x9875;&#x9762;&#x4F1A;&#x88AB;&#x7FFB;&#x8BD1;&#x6210;2&#x4E2A;servlet&#xFF0C;&#x8FD9;2&#x4E2A;servlet&#x7684;&#x5185;&#x5BB9;&#x5728;&#x6267;&#x884C;&#x65F6;&#x8FDB;&#x884C;&#x5408;&#x5E76;&#x3002;&#x3000;&#x3000;&#x800C;include&#x6307;&#x4EE4;&#x662F;&#x9759;&#x6001;&#x5F15;&#x5165;&#xFF0C;&#x6D89;&#x53CA;&#x5230;&#x7684;2&#x4E2A;JSP&#x9875;&#x9762;&#x4F1A;&#x88AB;&#x7FFB;&#x8BD1;&#x6210;&#x4E00;&#x4E2A;servlet&#xFF0C;&#x5176;&#x5185;&#x5BB9;&#x662F;&#x5728;&#x6E90;&#x6587;&#x4EF6;&#x7EA7;&#x522B;&#x8FDB;&#x884C;&#x5408;&#x5E76;&#x3002; &#x793A;&#x4F8B;&#xFF1A; 1234567891011121314 &lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;&lt;html&gt; &lt;head&gt; &lt;title&gt;jsp&#x7684;jsp:include&#x6807;&#x7B7E;&#x6D4B;&#x8BD5;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;%--&#x4F7F;&#x7528;jsp:include&#x6807;&#x7B7E;&#x5F15;&#x5165;&#x5176;&#x5B83;JSP&#x9875;&#x9762;--%&gt; &lt;jsp:include page=&quot;/head.jsp&quot;/&gt; &lt;h1&gt;&#x7F51;&#x9875;&#x4E3B;&#x4F53;&#x5185;&#x5BB9;&lt;/h1&gt; &lt;jsp:include page=&quot;/foot.jsp&quot;/&gt; &lt;/body&gt;&lt;/html&gt; ###&lt; jsp:forward&gt;&#x6807;&#x7B7E; &lt; jsp:forward&gt;&#x6807;&#x7B7E;&#x7528;&#x4E8E;&#x628A;&#x8BF7;&#x6C42;&#x8F6C;&#x53D1;&#x7ED9;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x8D44;&#x6E90;&#x3002;&#x8BED;&#x6CD5;&#xFF1A; &lt;jsp:forward page=&quot;relativeURL | &lt;%=expression%&gt;&quot; /&gt; page&#x5C5E;&#x6027;&#x7528;&#x4E8E;&#x6307;&#x5B9A;&#x8BF7;&#x6C42;&#x8F6C;&#x53D1;&#x5230;&#x7684;&#x8D44;&#x6E90;&#x7684;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#xFF0C;&#x5B83;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6267;&#x884C;&#x4E00;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x6765;&#x83B7;&#x5F97;&#x3002; &#x793A;&#x4F8B;&#xFF1A;123&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&lt;%--&#x4F7F;&#x7528;&lt;jsp:forward&gt;&#x6807;&#x7B7E;&#x8DF3;&#x8F6C;&#x5230;forwarddemo02.jsp--%&gt;&lt;jsp:forward page=&quot;/forwarddemo02.jsp&quot;/&gt; &lt; jsp:param&gt;&#x6807;&#x7B7E;&#x5F53;&#x4F7F;&#x7528;&lt; jsp:include&gt; &#x548C; &lt; jsp:forward&gt; &#x6807;&#x7B7E;&#x5F15;&#x5165;&#x6216;&#x5C06;&#x8BF7;&#x6C42;&#x8F6C;&#x53D1;&#x7ED9;&#x5176;&#x5B83;&#x8D44;&#x6E90;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; &lt; jsp:param&gt; &#x6807;&#x7B7E;&#x5411;&#x8FD9;&#x4E2A;&#x8D44;&#x6E90;&#x4F20;&#x9012;&#x53C2;&#x6570;&#x3002;&#x8BED;&#x6CD5;1&#xFF1A; 123&lt;jsp:include page=&quot;relativeURL | &lt;%=expression%&gt;&quot;&gt; &lt;jsp:param name=&quot;parameterName&quot; value=&quot;parameterValue|&lt;%= expression %&gt;&quot; /&gt;&lt;/jsp:include&gt; &#x8BED;&#x6CD5;2&#xFF1A;123&lt;jsp:forward page=&quot;relativeURL | &lt;%=expression%&gt;&quot;&gt; &lt;jsp:param name=&quot;parameterName&quot; value=&quot;parameterValue|&lt;%= expression %&gt;&quot; /&gt;&lt;/jsp:include&gt; &lt; jsp:param&gt;&#x6807;&#x7B7E;&#x7684; name &#x5C5E;&#x6027;&#x7528;&#x4E8E;&#x6307;&#x5B9A;&#x53C2;&#x6570;&#x540D;&#xFF0C;value &#x5C5E;&#x6027;&#x7528;&#x4E8E;&#x6307;&#x5B9A;&#x53C2;&#x6570;&#x503C;&#x3002;&#x5728;&lt; jsp:include&gt;&#x548C;&lt; jsp:forward&gt;&#x6807;&#x7B7E;&#x4E2D;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x591A;&#x4E2A;&lt; jsp:param&gt;&#x6807;&#x7B7E;&#x6765;&#x4F20;&#x9012;&#x591A;&#x4E2A;&#x53C2;&#x6570;&#x3002;","tags":[{"name":"JAVA WEB","slug":"JAVA-WEB","permalink":"https://marklogzhu.github.io/tags/JAVA-WEB/"}]},{"title":"会话技术之 Cookie 和 Session","date":"2017-04-07T13:34:00.000Z","path":"Java/后台/Java/JavaWeb/06.会话技术之Cookie和Session/","text":"&#x4E00;&#x3001;&#x4F1A;&#x8BDD;&#x4F1A;&#x8BDD;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;&#x4F1A;&#x8BDD;&#x53EF;&#x7B80;&#x5355;&#x7406;&#x89E3;&#x4E3A;&#xFF1A;&#x7528;&#x6237;&#x5F00;&#x4E00;&#x4E2A;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x70B9;&#x51FB;&#x591A;&#x4E2A;&#x8D85;&#x94FE;&#x63A5;&#xFF0C;&#x8BBF;&#x95EE;&#x670D;&#x52A1;&#x5668;&#x591A;&#x4E2A;web&#x8D44;&#x6E90;&#xFF0C;&#x7136;&#x540E;&#x5173;&#x95ED;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x6574;&#x4E2A;&#x8FC7;&#x7A0B;&#x79F0;&#x4E4B;&#x4E3A;&#x4E00;&#x4E2A;&#x4F1A;&#x8BDD;&#x3002; &#x6709;&#x72B6;&#x6001;&#x4F1A;&#x8BDD;&#xFF1A;&#x4E00;&#x4E2A;&#x540C;&#x5B66;&#x6765;&#x8FC7;&#x6559;&#x5BA4;&#xFF0C;&#x4E0B;&#x6B21;&#x518D;&#x6765;&#x6559;&#x5BA4;&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x77E5;&#x9053;&#x8FD9;&#x4E2A;&#x540C;&#x5B66;&#x66FE;&#x7ECF;&#x6765;&#x8FC7;&#xFF0C;&#x8FD9;&#x79F0;&#x4E4B;&#x4E3A;&#x6709;&#x72B6;&#x6001;&#x4F1A;&#x8BDD;&#x3002; &#x4F1A;&#x8BDD;&#x7528;&#x6765;&#x5E72;&#x4EC0;&#x4E48;&#xFF1F;&#x4FDD;&#x5B58;&#x6D4F;&#x89C8;&#x5668;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x901A;&#x4FE1;&#x65F6;&#x4EA7;&#x751F;&#x7684;&#x6570;&#x636E; &#x6709;&#x54EA;&#x4E9B;&#x4F1A;&#x8BDD;&#x6280;&#x672F;&#xFF1F; Cookie Cookie &#x662F;&#x5BA2;&#x6237;&#x7AEF;&#x6280;&#x672F;&#xFF0C;&#x7A0B;&#x5E8F;&#x628A;&#x6BCF;&#x4E2A;&#x7528;&#x6237;&#x7684;&#x6570;&#x636E;&#x4EE5; cookie &#x7684;&#x5F62;&#x5F0F;&#x5199;&#x7ED9;&#x7528;&#x6237;&#x5404;&#x81EA;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x3002;&#x5F53;&#x7528;&#x6237;&#x4F7F;&#x7528;&#x6D4F;&#x89C8;&#x5668;&#x518D;&#x53BB;&#x8BBF;&#x95EE;&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x7684;web&#x8D44;&#x6E90;&#x65F6;&#xFF0C;&#x5C31;&#x4F1A;&#x5E26;&#x7740;&#x5404;&#x81EA;&#x7684;&#x6570;&#x636E;&#x53BB;&#x3002;&#x8FD9;&#x6837;&#xFF0C;web&#x8D44;&#x6E90;&#x5904;&#x7406;&#x7684;&#x5C31;&#x662F;&#x7528;&#x6237;&#x5404;&#x81EA;&#x7684;&#x6570;&#x636E;&#x4E86;&#x3002; Session Session &#x662F;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x6280;&#x672F;&#xFF0C;&#x5229;&#x7528;&#x8FD9;&#x4E2A;&#x6280;&#x672F;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x53EF;&#x4EE5;&#x4E3A;&#x6BCF;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5176;&#x72EC;&#x4EAB;&#x7684; session &#x5BF9;&#x8C61;&#xFF0C;&#x7531;&#x4E8E; session &#x4E3A;&#x7528;&#x6237;&#x6D4F;&#x89C8;&#x5668;&#x72EC;&#x4EAB;&#xFF0C;&#x6240;&#x4EE5;&#x7528;&#x6237;&#x5728;&#x8BBF;&#x95EE;&#x670D;&#x52A1;&#x5668;&#x7684;web&#x8D44;&#x6E90;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x628A;&#x5404;&#x81EA;&#x7684;&#x6570;&#x636E;&#x653E;&#x5728;&#x5404;&#x81EA;&#x7684; session &#x4E2D;&#xFF0C;&#x5F53;&#x7528;&#x6237;&#x518D;&#x53BB;&#x8BBF;&#x95EE;&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x7684;&#x5176;&#x5B83;web&#x8D44;&#x6E90;&#x65F6;&#xFF0C;&#x5176;&#x5B83;web&#x8D44;&#x6E90;&#x518D;&#x4ECE;&#x7528;&#x6237;&#x5404;&#x81EA;&#x7684; session &#x4E2D;&#x53D6;&#x51FA;&#x6570;&#x636E;&#x4E3A;&#x7528;&#x6237;&#x670D;&#x52A1;&#x3002; Cookie &#x4E0E; Session&#x7684;&#x533A;&#x522B; Cookie &#x662F;&#x628A;&#x6570;&#x636E;&#x5199;&#x7ED9;&#x6D4F;&#x89C8;&#x5668;&#x3002; Session &#x628A;&#x6570;&#x636E;&#x5199;&#x5230;&#x6BCF;&#x4E00;&#x4E2A;&#x6D4F;&#x89C8;&#x5668;&#x5BF9;&#x5E94;&#x7684;&#x72EC;&#x5360; session &#x4E2D;&#x3002; Session &#x5BF9;&#x8C61;&#x7531;&#x670D;&#x52A1;&#x5668;&#x521B;&#x5EFA;&#xFF0C;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x53EF;&#x4EE5;&#x8C03;&#x7528; request &#x5BF9;&#x8C61;&#x7684; getSession &#x65B9;&#x6CD5;&#x5F97;&#x5230;session&#x5BF9;&#x8C61;&#x3002; &#x4E8C;&#x3001;&#x5E38;&#x7528;&#x65B9;&#x6CD5;Cookie &#x5E38;&#x7528;&#x65B9;&#x6CD5; Cookie(String name, String value)&#x6784;&#x9020;&#x5E26;&#x6307;&#x5B9A;&#x540D;&#x79F0;&#x548C;&#x503C;&#x7684; cookie,cookie &#x7684;&#x540D;&#x79F0;&#x5728;&#x521B;&#x5EFA;&#x4E4B;&#x540E;&#x4E0D;&#x5F97;&#x66F4;&#x6539;&#x3002; void setComment(String purpose)&#x6307;&#x5B9A;&#x4E00;&#x4E2A; cookie &#x7528;&#x9014;&#x7684;&#x6CE8;&#x91CA;&#x3002; String getComment()&#x8FD4;&#x56DE;&#x63CF;&#x8FF0;&#x6B64; cookie &#x7528;&#x9014;&#x7684;&#x6CE8;&#x91CA;&#xFF1B;&#x5982;&#x679C;&#x8BE5; cookie &#x6CA1;&#x6709;&#x6CE8;&#x91CA;&#xFF0C;&#x5219;&#x8FD4;&#x56DE; null&#x3002; setDomain(String pattern)&#x6307;&#x5B9A;&#x5E94;&#x5728;&#x5176;&#x4E2D;&#x663E;&#x793A;&#x6B64; cookie &#x7684;&#x57DF;&#x3002; String getDomain()&#x8FD4;&#x56DE;&#x4E3A;&#x6B64; cookie &#x8BBE;&#x7F6E;&#x7684;&#x57DF;&#x540D;&#x3002; void setMaxAge(int expiry)&#x8BBE;&#x7F6E; cookie &#x7684;&#x6700;&#x5927;&#x751F;&#x5B58;&#x65F6;&#x95F4;&#xFF0C;&#x4EE5;&#x79D2;&#x4E3A;&#x5355;&#x4F4D;&#x3002;0 &#x503C;&#x4F1A;&#x5BFC;&#x81F4;&#x5220;&#x9664; cookie&#x3002; int getMaxAge()&#x8FD4;&#x56DE;&#x4EE5;&#x79D2;&#x4E3A;&#x5355;&#x4F4D;&#x6307;&#x5B9A;&#x7684; cookie &#x7684;&#x6700;&#x5927;&#x751F;&#x5B58;&#x65F6;&#x95F4;&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;-1 &#x6307;&#x793A;&#x8BE5; cookie &#x5C06;&#x4FDD;&#x7559;&#x5230;&#x6D4F;&#x89C8;&#x5668;&#x5173;&#x95ED;&#x4E3A;&#x6B62;&#x3002; setPath(String uri)&#x8BBE;&#x7F6E;cookie &#x7684;&#x8DEF;&#x5F84;&#x3002; String getPath()&#x8FD4;&#x56DE;&#x6D4F;&#x89C8;&#x5668;&#x5C06;&#x6B64; cookie &#x8FD4;&#x56DE;&#x5230;&#x7684;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x8DEF;&#x5F84;&#x3002; void setSecure(boolean flag)&#x6307;&#x793A;&#x6D4F;&#x89C8;&#x5668;&#x662F;&#x5426;&#x53EA;&#x80FD;&#x4F7F;&#x7528;&#x5B89;&#x5168;&#x534F;&#x8BAE;&#xFF08;&#x5982; HTTPS &#x6216; SSL&#xFF09;&#x53D1;&#x9001; cookie&#x3002; boolean getSecure()&#x5982;&#x679C;&#x6D4F;&#x89C8;&#x5668;&#x4EC5;&#x901A;&#x8FC7;&#x5B89;&#x5168;&#x534F;&#x8BAE;&#x53D1;&#x9001; cookie&#xFF0C;&#x5219;&#x8FD4;&#x56DE; true&#xFF1B;&#x5982;&#x679C;&#x6D4F;&#x89C8;&#x5668;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4EFB;&#x4F55;&#x534F;&#x8BAE;&#x53D1;&#x9001; cookie&#xFF0C;&#x5219;&#x8FD4;&#x56DE; false&#x3002; String getName()&#x8FD4;&#x56DE; cookie &#x7684;&#x540D;&#x79F0;&#x3002;&#x540D;&#x79F0;&#x5728;&#x521B;&#x5EFA;&#x4E4B;&#x540E;&#x4E0D;&#x5F97;&#x66F4;&#x6539;&#x3002; void setValue(String newValue)&#x5728;&#x521B;&#x5EFA; cookie &#x4E4B;&#x540E;&#x5C06;&#x65B0;&#x503C;&#x5206;&#x914D;&#x7ED9; cookie String getValue()&#x8FD4;&#x56DE; cookie &#x7684;&#x503C;&#x3002; int getVersion()&#x8FD4;&#x56DE;&#x6B64; cookie &#x9075;&#x5B88;&#x7684;&#x534F;&#x8BAE;&#x7248;&#x672C;&#x3002; void setVersion(int v)&#x8BBE;&#x7F6E;&#x6B64; cookie &#x9075;&#x5B88;&#x7684; cookie &#x534F;&#x8BAE;&#x7248;&#x672C;&#x3002; clone()&#x91CD;&#x5199;&#x6807;&#x51C6; java.lang.Object.clone &#x65B9;&#x6CD5;&#x4EE5;&#x8FD4;&#x56DE;&#x6B64; cookie &#x7684;&#x526F;&#x672C;&#x3002; Session &#x5E38;&#x7528;&#x65B9;&#x6CD5; long getCreationTime()&#x8FD4;&#x56DE;&#x521B;&#x5EFA;&#x6B64;&#x4F1A;&#x8BDD;&#x7684;&#x65F6;&#x95F4; String getId()&#x8FD4;&#x56DE;&#x5305;&#x542B;&#x5206;&#x914D;&#x7ED9;&#x6B64;&#x4F1A;&#x8BDD;&#x7684;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#x7B26;&#x7684;&#x5B57;&#x7B26;&#x4E32; long getLastAccessedTime()&#x8FD4;&#x56DE;&#x5BA2;&#x6237;&#x7AEF;&#x4E0A;&#x4E00;&#x6B21;&#x53D1;&#x9001;&#x4E0E;&#x6B64;&#x4F1A;&#x8BDD;&#x5173;&#x8054;&#x7684;&#x8BF7;&#x6C42;&#x7684;&#x65F6;&#x95F4; ServletContext getServletContext()&#x8FD4;&#x56DE;&#x6B64;&#x4F1A;&#x8BDD;&#x6240;&#x5C5E;&#x7684; ServletContext void setMaxInactiveInterval(int interval)&#x6307;&#x5B9A;&#x5728; servlet &#x5BB9;&#x5668;&#x4F7F;&#x6B64;&#x4F1A;&#x8BDD;&#x5931;&#x6548;&#x4E4B;&#x524D;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x4E4B;&#x95F4;&#x7684;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#xFF0C;&#x4EE5;&#x79D2;&#x4E3A;&#x5355;&#x4F4D;&#x3002;&#x8D1F;&#x6570;&#x65F6;&#x95F4;&#x6307;&#x793A;&#x4F1A;&#x8BDD;&#x6C38;&#x8FDC;&#x4E0D;&#x4F1A;&#x8D85;&#x65F6;&#x3002; int getMaxInactiveInterval()&#x8FD4;&#x56DE; servlet &#x5BB9;&#x5668;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x8BBF;&#x95EE;&#x4E4B;&#x95F4;&#x5C06;&#x4F7F;&#x6B64;&#x4F1A;&#x8BDD;&#x4FDD;&#x6301;&#x6253;&#x5F00;&#x72B6;&#x6001;&#x7684;&#x6700;&#x5927;&#x65F6;&#x95F4;&#x95F4;&#x9694;&#xFF0C;&#x4EE5;&#x79D2;&#x4E3A;&#x5355;&#x4F4D;&#x3002; Object getAttribute(String name)&#x8FD4;&#x56DE;&#x4E0E;&#x6B64;&#x4F1A;&#x8BDD;&#x4E2D;&#x7684;&#x6307;&#x5B9A;&#x540D;&#x79F0;&#x7ED1;&#x5B9A;&#x5728;&#x4E00;&#x8D77;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5BF9;&#x8C61;&#x7ED1;&#x5B9A;&#x5728;&#x8BE5;&#x540D;&#x79F0;&#x4E0B;&#xFF0C;&#x5219;&#x8FD4;&#x56DE; null&#x3002; java.util.Enumeration getAttributeNames()&#x8FD4;&#x56DE;&#x5305;&#x542B;&#x7ED1;&#x5B9A;&#x5230;&#x6B64;&#x4F1A;&#x8BDD;&#x7684;&#x6240;&#x6709;&#x5BF9;&#x8C61;&#x7684;&#x540D;&#x79F0;&#x7684; String &#x5BF9;&#x8C61;&#x7684; Enumeration&#x3002; void setAttribute(String name, Object value)&#x4F7F;&#x7528;&#x6307;&#x5B9A;&#x540D;&#x79F0;&#x5C06;&#x5BF9;&#x8C61;&#x7ED1;&#x5B9A;&#x5230;&#x6B64;&#x4F1A;&#x8BDD;&#x3002;&#x5982;&#x679C;&#x5177;&#x6709;&#x540C;&#x6837;&#x540D;&#x79F0;&#x7684;&#x5BF9;&#x8C61;&#x5DF2;&#x7ECF;&#x7ED1;&#x5B9A;&#x5230;&#x8BE5;&#x4F1A;&#x8BDD;&#xFF0C;&#x5219;&#x66FF;&#x6362;&#x8BE5;&#x5BF9;&#x8C61;&#x3002; void removeAttribute(String name)&#x4ECE;&#x6B64;&#x4F1A;&#x8BDD;&#x4E2D;&#x79FB;&#x9664;&#x4E0E;&#x6307;&#x5B9A;&#x540D;&#x79F0;&#x7ED1;&#x5B9A;&#x5728;&#x4E00;&#x8D77;&#x7684;&#x5BF9;&#x8C61;&#x3002;&#x5982;&#x679C;&#x4F1A;&#x8BDD;&#x6CA1;&#x6709;&#x4E0E;&#x6307;&#x5B9A;&#x540D;&#x79F0;&#x7ED1;&#x5B9A;&#x5728;&#x4E00;&#x8D77;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x5219;&#x6B64;&#x65B9;&#x6CD5;&#x4E0D;&#x6267;&#x884C;&#x4EFB;&#x4F55;&#x64CD;&#x4F5C;&#x3002; void invalidate()&#x4F7F;&#x6B64;&#x4F1A;&#x8BDD;&#x65E0;&#x6548;&#xFF0C;&#x7136;&#x540E;&#x53D6;&#x6D88;&#x5BF9;&#x4EFB;&#x4F55;&#x7ED1;&#x5B9A;&#x5230;&#x5B83;&#x7684;&#x5BF9;&#x8C61;&#x7684;&#x7ED1;&#x5B9A;&#x3002; boolean isNew()&#x5982;&#x679C;&#x5BA2;&#x6237;&#x7AEF;&#x8FD8;&#x4E0D;&#x77E5;&#x9053;&#x8BE5;&#x4F1A;&#x8BDD;&#xFF0C;&#x6216;&#x8005;&#x5BA2;&#x6237;&#x7AEF;&#x9009;&#x62E9;&#x4E0D;&#x52A0;&#x5165;&#x8BE5;&#x4F1A;&#x8BDD;&#xFF0C;&#x5219;&#x8FD4;&#x56DE; true&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x679C;&#x670D;&#x52A1;&#x5668;&#x4EC5;&#x4F7F;&#x7528;&#x57FA;&#x4E8E; cookie &#x7684;&#x4F1A;&#x8BDD;&#xFF0C;&#x800C;&#x5BA2;&#x6237;&#x7AEF;&#x5DF2;&#x7ECF;&#x7981;&#x6B62;&#x4E86; cookie &#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x5219;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x4E0A;&#x7684;&#x4F1A;&#x8BDD;&#x90FD;&#x5C06;&#x662F;&#x65B0;&#x4F1A;&#x8BDD;&#x3002; &#x4E09;&#x3001;&#x7F16;&#x7801;&#x5B9E;&#x8DF5; &#x83B7;&#x53D6;&#x4E0A;&#x4E00;&#x6B21;&#x8BBF;&#x95EE;&#x65F6;&#x95F4; 123456789101112131415161718192021222324252627private static final String LAST_ACCESS_TIME = &quot;lastAccessTime&quot;;protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { // &#x8BBE;&#x7F6E;&#x8F93;&#x51FA;&#x5B57;&#x7B26;&#x96C6; response.setCharacterEncoding(&quot;utf-8&quot;); // &#x83B7;&#x53D6;&#x8F93;&#x51FA;&#x6D41; PrintWriter writer = response.getWriter(); // &#x83B7;&#x53D6;Cookie&#x6570;&#x7EC4; Cookie[] cookies = request.getCookies(); if (cookies == null) { writer.write(&quot;&#x7B2C;&#x4E00;&#x6B21;&#x8BBF;&#x95EE;...&quot;); } else { writer.write(&quot;&#x4E0A;&#x6B21;&#x8BBF;&#x95EE;&#x65F6;&#x95F4;&#x4E3A;&#xFF1A;&quot;); for (Cookie cookie : cookies) { if (LAST_ACCESS_TIME.equals(cookie.getName())) { Long lastAccessTime = Long.parseLong(cookie.getValue()); Date date = new Date(lastAccessTime); java.text.DateFormat format1 = new java.text.SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;); writer.write(format1.format(date)); } } } Cookie cookie = new Cookie(LAST_ACCESS_TIME, &quot;&quot; + System.currentTimeMillis()); response.addCookie(cookie);} ####&#x7ED3;&#x679C;&#xFF1A; &#x7B2C;&#x4E00;&#x6B21;&#x8BBF;&#x95EE;&#xFF1A; &#x7B2C;&#x4E8C;&#x6B21;&#x8BBF;&#x95EE;&#xFF1A; cookie&#x4E2D;&#x5B58;&#x53D6;&#x4E2D;&#x6587; 12Cookie cookie = new Cookie(&quot;userName&quot;, URLEncoder.encode(&quot;&#x4E14;&#x542C;&#x98CE;&#x541F;&quot;, &quot;UTF-8&quot;));response.addCookie(cookie); cookie&#x4E2D;&#x83B7;&#x53D6;&#x4E2D;&#x6587; 1URLDecoder.decode(cookie.getValue(), &quot;UTF-8&quot;) session &#x57FA;&#x672C;&#x4F7F;&#x7528; 1&#x670D;&#x52A1;&#x5668;&#x521B;&#x5EFA; session &#x51FA;&#x6765;&#x540E;&#xFF0C;&#x4F1A;&#x628A; session &#x7684;id&#x53F7;&#xFF0C;&#x4EE5; cookie &#x7684;&#x5F62;&#x5F0F;&#x56DE;&#x5199;&#x7ED9;&#x5BA2;&#x6237;&#x673A;&#xFF0C;&#x8FD9;&#x6837;&#xFF0C;&#x53EA;&#x8981;&#x5BA2;&#x6237;&#x673A;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x4E0D;&#x5173;&#xFF0C;&#x518D;&#x53BB;&#x8BBF;&#x95EE;&#x670D;&#x52A1;&#x5668;&#x65F6;&#xFF0C;&#x90FD;&#x4F1A;&#x5E26;&#x7740; session &#x7684; id &#x53F7;&#x53BB;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x73B0;&#x5BA2;&#x6237;&#x673A;&#x6D4F;&#x89C8;&#x5668;&#x5E26; session id &#x8FC7;&#x6765;&#x4E86;&#xFF0C;&#x5C31;&#x4F1A;&#x4F7F;&#x7528;&#x5185;&#x5B58;&#x4E2D;&#x4E0E;&#x4E4B;&#x5BF9;&#x5E94;&#x7684; session &#x4E3A;&#x4E4B;&#x670D;&#x52A1;&#x3002; 12345678910111213141516171819protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { // &#x8BBE;&#x7F6E;&#x7F16;&#x7801;&#x683C;&#x5F0F; response.setCharacterEncoding(&quot;UTF-8&quot;); // &#x83B7;&#x53D6;&#x8F93;&#x51FA;&#x6D41; PrintWriter writer = response.getWriter(); // &#x83B7;&#x53D6;Session,&#x82E5;&#x6CA1;&#x6709;&#x5219;&#x65B0;&#x5EFA; HttpSession session = request.getSession(); // &#x8BBE;&#x7F6E;&#x503C; session.setAttribute(&quot;name&quot;, &quot;&#x4E14;&#x542C;&#x98CE;&#x541F;&quot;); // &#x83B7;&#x53D6;SessionId String sessionId = session.getId(); // &#x5224;&#x65AD;&#x662F;&#x5426;&#x7B2C;&#x4E00;&#x6B21;&#x521B;&#x5EFA;Session if (session.isNew()) { writer.print(&quot;&#x7B2C;&#x4E00;&#x6B21;&#x521B;&#x5EFA;Session&#xFF0C;id&#x4E3A;:&quot; + sessionId); } else { writer.print(&quot;&#x5DF2;&#x5B58;&#x5728;Session&#xFF0C;id&#x4E3A;:&quot; + sessionId); }} &#x7ED3;&#x679C;&#xFF1A; &#x56DB;&#x3001;&#x6CE8;&#x610F;Cookie &#x5728;&#x8BFB;&#x53D6;Cookie&#xFF0C;&#x7136;&#x540E;&#x64CD;&#x4F5C;&#x65F6;&#xFF0C;&#x9664;&#x4E86;getName(),getValue()&#x5916;&#xFF0C;&#x4E0D;&#x8981;&#x5984;&#x56FE;&#x5F97;&#x5230;&#x5176;&#x4ED6;&#x4FE1;&#x606F;&#xFF0C;&#x5176;&#x4ED6;&#x65B9;&#x6CD5;&#x4E0D;&#x4F1A;&#x5F97;&#x5230;&#x503C;&#x7684; &#x4E00;&#x4E2A;Cookie&#x53EA;&#x80FD;&#x6807;&#x8BC6;&#x4E00;&#x79CD;&#x4FE1;&#x606F;&#xFF0C;&#x5B83;&#x81F3;&#x5C11;&#x542B;&#x6709;&#x4E00;&#x4E2A;&#x6807;&#x8BC6;&#x8BE5;&#x4FE1;&#x606F;&#x7684;&#x540D;&#x79F0;&#xFF08;NAME&#xFF09;&#x548C;&#x8BBE;&#x7F6E;&#x503C;&#xFF08;VALUE&#xFF09;&#x3002; &#x4E00;&#x4E2A;WEB&#x7AD9;&#x70B9;&#x53EF;&#x4EE5;&#x7ED9;&#x4E00;&#x4E2A;WEB&#x6D4F;&#x89C8;&#x5668;&#x53D1;&#x9001;&#x591A;&#x4E2A;Cookie&#xFF0C;&#x4E00;&#x4E2A;WEB&#x6D4F;&#x89C8;&#x5668;&#x4E5F;&#x53EF;&#x4EE5;&#x5B58;&#x50A8;&#x591A;&#x4E2A;WEB&#x7AD9;&#x70B9;&#x63D0;&#x4F9B;&#x7684;Cookie&#x3002; &#x6D4F;&#x89C8;&#x5668;&#x4E00;&#x822C;&#x53EA;&#x5141;&#x8BB8;&#x5B58;&#x653E;300&#x4E2A;Cookie&#xFF0C;&#x6BCF;&#x4E2A;&#x7AD9;&#x70B9;&#x6700;&#x591A;&#x5B58;&#x653E;20&#x4E2A;Cookie&#xFF0C;&#x6BCF;&#x4E2A;Cookie&#x7684;&#x5927;&#x5C0F;&#x9650;&#x5236;&#x4E3A;4KB&#x3002; &#x5982;&#x679C;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;cookie&#xFF0C;&#x5E76;&#x5C06;&#x4ED6;&#x53D1;&#x9001;&#x5230;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x4F1A;&#x8BDD;&#x7EA7;&#x522B;&#x7684;cookie&#xFF08;&#x5373;&#x5B58;&#x50A8;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x5185;&#x5B58;&#x4E2D;&#xFF09;&#xFF0C;&#x7528;&#x6237;&#x9000;&#x51FA;&#x6D4F;&#x89C8;&#x5668;&#x4E4B;&#x540E;&#x5373;&#x88AB;&#x5220;&#x9664;&#x3002;&#x82E5;&#x5E0C;&#x671B;&#x6D4F;&#x89C8;&#x5668;&#x5C06;&#x8BE5;cookie&#x5B58;&#x50A8;&#x5728;&#x78C1;&#x76D8;&#x4E0A;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x4F7F;&#x7528;maxAge&#xFF0C;&#x5E76;&#x7ED9;&#x51FA;&#x4E00;&#x4E2A;&#x4EE5;&#x79D2;&#x4E3A;&#x5355;&#x4F4D;&#x7684;&#x65F6;&#x95F4;&#x3002;&#x5C06;&#x6700;&#x5927;&#x65F6;&#x6548;&#x8BBE;&#x4E3A;0&#x5219;&#x662F;&#x547D;&#x4EE4;&#x6D4F;&#x89C8;&#x5668;&#x5220;&#x9664;&#x8BE5;cookie&#x3002; Session session&#x5BF9;&#x8C61;&#x7684;&#x521B;&#x5EFA;&#x65F6;&#x673A;&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x7B2C;&#x4E00;&#x6B21;&#x8C03;&#x7528;request.getSession()&#x65B9;&#x6CD5;&#x65F6;&#x5C31;&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;Session&#xFF0C;&#x53EF;&#x4EE5;&#x7528;isNew()&#x65B9;&#x6CD5;&#x6765;&#x5224;&#x65AD;Session&#x662F;&#x4E0D;&#x662F;&#x65B0;&#x521B;&#x5EFA;&#x7684; session&#x5BF9;&#x8C61;&#x7684;&#x9500;&#x6BC1;&#x65F6;&#x673A;session&#x5BF9;&#x8C61;&#x9ED8;&#x8BA4;30&#x5206;&#x949F;&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#xFF0C;&#x5219;&#x670D;&#x52A1;&#x5668;&#x4F1A;&#x81EA;&#x52A8;&#x9500;&#x6BC1;session&#xFF0C;&#x5728;web.xml&#x6587;&#x4EF6;&#x4E2D;&#x53EF;&#x4EE5;&#x624B;&#x5DE5;&#x914D;&#x7F6E;session&#x7684;&#x5931;&#x6548;&#x65F6;&#x95F4;.&#x5982;&#xFF1A;1234&lt;!-- &#x8BBE;&#x7F6E;Session&#x7684;&#x6709;&#x6548;&#x65F6;&#x95F4;:&#x4EE5;&#x5206;&#x949F;&#x4E3A;&#x5355;&#x4F4D;--&gt;&lt;session-config&gt; &lt;session-timeout&gt;15&lt;/session-timeout&gt;&lt;/session-config&gt; &#x5F53;&#x9700;&#x8981;&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x624B;&#x52A8;&#x8BBE;&#x7F6E;Session&#x5931;&#x6548;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x624B;&#x5DE5;&#x8C03;&#x7528;session.invalidate&#x65B9;&#x6CD5;&#xFF0C;&#x6467;&#x6BC1;session&#x3002;123HttpSession session = request.getSession();// &#x624B;&#x5DE5;&#x8C03;&#x7528;session.invalidate&#x65B9;&#x6CD5;&#xFF0C;&#x6467;&#x6BC1;sessionsession.invalidate();","tags":[{"name":"JAVA WEB","slug":"JAVA-WEB","permalink":"https://marklogzhu.github.io/tags/JAVA-WEB/"}]},{"title":"Hibernate 框架","date":"2017-04-07T13:34:00.000Z","path":"uncategorized/后台/Java/Hibernate/01.Hibernate/","text":"&#x4E00;&#x3001;Hibernate &#x7B80;&#x4ECB;&#x5728;&#x4E86;&#x89E3; Hibernate &#x4E4B;&#x524D;&#xFF0C;&#x6211;&#x4EEC;&#x5148;&#x4E86;&#x89E3;&#x4E0B;&#x4EC0;&#x4E48;&#x662F; ORM &#x3002; 1.1 ORM &#x6982;&#x8FF0;ORM &#x5168;&#x79F0;&#x4E3A; Object Relational Mapping&#xFF0C;&#x7FFB;&#x8BD1;&#x8FC7;&#x6765;&#x5C31;&#x662F;&#x5BF9;&#x8C61;&#x5173;&#x7CFB;&#x6620;&#x5C04; * O&#xFF1A;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x9886;&#x57DF;&#x7684; Object&#xFF08;JavaBean&#x5BF9;&#x8C61;&#xFF09; * R&#xFF1A;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#x9886;&#x57DF;&#x7684; Relational&#xFF08;&#x8868;&#x7684;&#x7ED3;&#x6784;&#xFF09; * M&#xFF1A;&#x6620;&#x5C04; Mapping&#xFF08;XML&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF09; 1.2 &#x4EC0;&#x4E48;&#x662F; HibernateHibernate &#x662F;&#x4E00;&#x4E2A;&#x5F00;&#x653E;&#x6E90;&#x4EE3;&#x7801;&#x7684;&#x5BF9;&#x8C61;&#x5173;&#x7CFB;&#x6620;&#x5C04;&#x6846;&#x67B6;&#x3002;&#x5B83;&#x5BF9; JDBC &#x8FDB;&#x884C;&#x4E86;&#x975E;&#x5E38;&#x8F7B;&#x91CF;&#x7EA7;&#x7684;&#x5BF9;&#x8C61;&#x5C01;&#x88C5;&#xFF0C;&#x5B83;&#x5C06; POJO &#x4E0E;&#x6570;&#x636E;&#x5E93;&#x8868;&#x5EFA;&#x7ACB;&#x6620;&#x5C04;&#x5173;&#x7CFB;&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x5168;&#x81EA;&#x52A8;&#x7684; ORM &#x6846;&#x67B6;&#x3002; 1.3 Hibernate &#x80FD;&#x5E72;&#x4EC0;&#x4E48; &#x81EA;&#x52A8;&#x751F;&#x6210; SQL &#x8BED;&#x53E5;&#x5E76;&#x6267;&#x884C; &#x6570;&#x636E;&#x6301;&#x4E45;&#x5316; 1.4 Hibernate &#x4F18;&#x70B9; Hibernate &#x5BF9; JDBC &#x8BBF;&#x95EE;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4EE3;&#x7801;&#x505A;&#x4E86;&#x5C01;&#x88C5;&#xFF0C;&#x5927;&#x5927;&#x7B80;&#x5316;&#x4E86;&#x6570;&#x636E;&#x8BBF;&#x95EE;&#x5C42;&#x7E41;&#x7410;&#x7684;&#x91CD;&#x590D;&#x6027;&#x4EE3;&#x7801; Hibernate&#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E; JDBC &#x7684;&#x4E3B;&#x6D41;&#x6301;&#x4E45;&#x5316;&#x6846;&#x67B6;&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x4F18;&#x79C0;&#x7684; ORM &#x5B9E;&#x73B0;&#xFF0C;&#x5B83;&#x5F88;&#x5927;&#x7A0B;&#x5EA6;&#x7684;&#x7B80;&#x5316;&#x4E86; DAO &#x5C42;&#x7F16;&#x7801;&#x5DE5;&#x4F5C; Hibernate &#x7684;&#x6027;&#x80FD;&#x975E;&#x5E38;&#x597D;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x8F7B;&#x91CF;&#x7EA7;&#x6846;&#x67B6;&#x3002;&#x6620;&#x5C04;&#x7684;&#x7075;&#x6D3B;&#x6027;&#x5F88;&#x51FA;&#x8272;&#x3002;&#x5B83;&#x652F;&#x6301;&#x5F88;&#x591A;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x4ECE;&#x4E00;&#x5BF9;&#x4E00;&#x5230;&#x591A;&#x5BF9;&#x591A;&#x7684;&#x5404;&#x79CD;&#x590D;&#x6742;&#x5173;&#x7CFB; &#x7B80;&#x5355;&#x6765;&#x8BF4;&#xFF0C;Hibernate &#x6846;&#x67B6;&#x5C31;&#x662F;&#x4F7F;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x64CD;&#x4F5C;&#x5BF9;&#x8C61;&#x7684;&#x65B9;&#x5F0F;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;&#x3002; &#x4E8C;&#x3001;Hibernate &#x73AF;&#x5883;&#x642D;&#x5EFA;1.1 &#x4E0B;&#x8F7D; Hibernate &#x5F00;&#x53D1;&#x5305;Hibernate&#x5F00;&#x53D1;&#x5305; 1.2 Hibernate &#x5305;&#x7ED3;&#x6784;&#x8BF4;&#x660E;1.2 eclipse &#x642D;&#x5EFA;","tags":[{"name":"JAVA","slug":"JAVA","permalink":"https://marklogzhu.github.io/tags/JAVA/"}]},{"title":"Servlet之response","date":"2017-03-31T13:00:00.000Z","path":"Java/后台/Java/JavaWeb/05.Servlet之response/","text":"&#x4E00;&#x3001;Response&#x7B80;&#x4ECB;Response&#x662F;&#x4EC0;&#x4E48;&#xFF1F;Request&#x4EE3;&#x8868;&#x7740;&#x4E00;&#x4E2A; HTTP &#x54CD;&#x5E94;&#x5BF9;&#x8C61;&#xFF0C;&#x91CC;&#x9762;&#x5B58;&#x653E;&#x7740; HTTP &#x7684;&#x54CD;&#x5E94;&#x6D88;&#x606F; &#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x88AB;&#x521B;&#x5EFA;&#xFF1F;&#x5F53;&#x8C03;&#x7528; Servlet &#x7684; service() &#x65B9;&#x6CD5;&#x65F6;&#x521B;&#x5EFA; &#x8C01;&#x521B;&#x5EFA;&#xFF1F;&#x7531;Servlet&#x5BB9;&#x5668;&#x521B;&#x5EFA; &#x80FD;&#x5E72;&#x4EC0;&#x4E48;&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x8F93;&#x51FA;&#x6570;&#x636E; Response&#x7684;&#x5C42;&#x6B21;&#x7ED3;&#x6784;-- javax.servlet.ServletResponse -- javax.servlet.http.HttpServletResponse &#x4E8C;&#x3001;&#x5E38;&#x7528;&#x65B9;&#x6CD5; &#x8BBE;&#x7F6E;&#x54CD;&#x5E94;&#x7F16;&#x7801;&#x683C;&#x5F0F; setCharacterEncoding(&#x201C;UTF-8&#x201D;) &#x53EA;&#x80FD;&#x8BBE;&#x7F6E;&#x8F93;&#x51FA;&#x6D41;&#x4E2D;&#x5B57;&#x7B26;&#x7684;&#x7F16;&#x7801;&#x683C;&#x5F0F;&#xFF0C;&#x4F18;&#x5148;&#x7EA7;&#x6700;&#x9AD8;&#xFF0C;&#x53EF;&#x4EE5;&#x8986;&#x76D6;&#x5176;&#x4ED6;&#x65B9;&#x6CD5;&#x7684;&#x8BBE;&#x7F6E; setContentType(&#x201C;text/html;charset=UTF-8&#x201D;) &#x8BBE;&#x7F6E;&#x8F93;&#x51FA;&#x6D41;&#x5B57;&#x7B26;&#x7684;&#x7F16;&#x7801;&#x683C;&#x5F0F;&#x7684;&#x540C;&#x65F6;&#x4E5F;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x89E3;&#x7801;&#x683C;&#x5F0F;&#xFF0C;&#x4F18;&#x5148;&#x7EA7;&#x5176;&#x6B21;&#xFF0C;&#x53EA;&#x80FD;&#x8986;&#x76D6;&#x6BD4;&#x4ED6;&#x4F18;&#x5148;&#x7EA7;&#x4F4E;&#x7684;&#x65B9;&#x6CD5; setLocale(new java.util.Locale(&#x201C;zh&#x201D;,&#x201D;CN&#x201D;)) &#x53EA;&#x80FD;&#x8BBE;&#x7F6E;&#x8F93;&#x51FA;&#x6D41;&#x4E2D;&#x5B57;&#x7B26;&#x7684;&#x7F16;&#x7801;&#x683C;&#x5F0F; &#xFF0C;&#x4F18;&#x5148;&#x7EA7;&#x6700;&#x4F4E; &#x8D1F;&#x8D23;&#x5411;&#x5BA2;&#x6237;&#x7AEF;(&#x6D4F;&#x89C8;&#x5668;)&#x53D1;&#x9001;&#x6570;&#x636E;&#x7684;&#x76F8;&#x5173;&#x65B9;&#x6CD5; ServletOutputStream getOutputStream()&#x8FD4;&#x56DE;&#x9002;&#x7528;&#x4E8E;&#x5728;&#x54CD;&#x5E94;&#x4E2D;&#x7F16;&#x5199;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;&#x7684; ServletOutputStream PrintWriter getWriter()&#x8FD4;&#x56DE;&#x53EF;&#x5C06;&#x5B57;&#x7B26;&#x6587;&#x672C;&#x53D1;&#x9001;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x7684; PrintWriter &#x5BF9;&#x8C61;,&#x9ED8;&#x8BA4;&#x5B57;&#x7B26;&#x96C6;&#x4E3A; ISO-8859-1 &#x8D1F;&#x8D23;&#x5411;&#x5BA2;&#x6237;&#x7AEF;(&#x6D4F;&#x89C8;&#x5668;)&#x53D1;&#x9001;&#x54CD;&#x5E94;&#x5934;&#x7684;&#x76F8;&#x5173;&#x65B9;&#x6CD5; void addCookie(Cookie cookie)&#x6DFB;&#x52A0; Cookie &#x5BF9;&#x8C61;&#xFF0C;&#x540C;&#x540D;&#x7684; Cookie &#x4F1A;&#x8986;&#x76D6; void addDateHeader(String name, long date)&#x4EE5; KEY_VALUE &#x7684;&#x5F62;&#x5F0F;&#x6DFB;&#x52A0;&#x65E5;&#x671F;&#x54CD;&#x5E94;&#x5934; void addHeader(String name, String value)&#x4EE5; KEY_VALUE &#x7684;&#x5F62;&#x5F0F;&#x6DFB;&#x52A0;&#x54CD;&#x5E94;&#x5934; &#x8D1F;&#x8D23;&#x5411;&#x5BA2;&#x6237;&#x7AEF;(&#x6D4F;&#x89C8;&#x5668;)&#x53D1;&#x9001;&#x54CD;&#x5E94;&#x72B6;&#x6001;&#x7801;&#x7684;&#x76F8;&#x5173;&#x65B9;&#x6CD5; void setStatus(int sc)&#x8BBE;&#x7F6E;&#x54CD;&#x5E94;&#x72B6;&#x6001;&#x7801; &#x54CD;&#x5E94;&#x72B6;&#x6001;&#x7801;&#x7684;&#x5E38;&#x91CF; int SC_OK 200:&#x6B63;&#x5E38;&#x54CD;&#x5E94; int SC_NOT_FOUND 404:&#x7528;&#x6237;&#x64CD;&#x4F5C;&#x9519;&#x8BEF; int SC_METHOD_NOT_ALLOWED405:&#x8BBF;&#x95EE;&#x7684;&#x65B9;&#x6CD5;&#x4E0D;&#x5B58;&#x5728; int SC_INTERNAL_SERVER_ERROR500:&#x5185;&#x90E8;&#x9519;&#x8BEF; &#x4E09;&#x3001;&#x7F16;&#x7801;&#x5B9E;&#x8DF5; &#x4F7F;&#x7528; getWriter() &#x5411;&#x9875;&#x9762;&#x8F93;&#x51FA;&#x6C49;&#x5B57; 1234567protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { response.setCharacterEncoding(&quot;utf-8&quot;); PrintWriter writer = response.getWriter(); writer.print(&quot;&#x4E14;&#x542C;&#x98CE;&#x541F;,&#x4E14;&#x5F85;&#x7434;&#x7EC8;&#x3002;&quot;); writer.close();} &#x7ED3;&#x679C;&#xFF1A; &#x4F7F;&#x7528; getOutputStream() &#x5411;&#x9875;&#x9762;&#x8F93;&#x51FA;&#x6C49;&#x5B57; 123456789protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { String data = &quot;&#x4E14;&#x542C;&#x98CE;&#x541F;,&#x4E14;&#x5F85;&#x7434;&#x7EC8;&#x3002;&quot;; // &#x901A;&#x8FC7;&#x8BBE;&#x7F6E;&#x54CD;&#x5E94;&#x5934;&#x63A7;&#x5236;&#x6D4F;&#x89C8;&#x5668;&#x4EE5;UTF-8&#x7684;&#x7F16;&#x7801;&#x663E;&#x793A;&#x6570;&#x636E; response.setHeader(&quot;content-type&quot;, &quot;text/html;charset=UTF-8&quot;); ServletOutputStream out = response.getOutputStream(); out.write(data.getBytes(&quot;UTF-8&quot;)); out.close();} &#x7ED3;&#x679C;&#xFF1A; ![](/img/responseDemo01.png) &#x6587;&#x4EF6;&#x4E0B;&#x8F7D; 1234567891011121314151617181920212223protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { // 1.&#x83B7;&#x53D6;&#x8981;&#x4E0B;&#x8F7D;&#x7684;&#x6587;&#x4EF6;&#x7684;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84; String realPath = this.getServletContext().getRealPath(&quot;/download/&#x4E2D;&#x6587;&#x6587;&#x4EF6;&#x540D;.TXT&quot;); // 2.&#x83B7;&#x53D6;&#x8981;&#x4E0B;&#x8F7D;&#x7684;&#x6587;&#x4EF6;&#x540D; String fileName = realPath.substring(realPath.lastIndexOf(&quot;\\\\&quot;) + 1); // 3.&#x8BBE;&#x7F6E;content-disposition&#x54CD;&#x5E94;&#x5934;&#x63A7;&#x5236;&#x6D4F;&#x89C8;&#x5668;&#x4EE5;&#x4E0B;&#x8F7D;&#x7684;&#x5F62;&#x5F0F;&#x6253;&#x5F00;&#x6587;&#x4EF6;,&#x6CE8;&#x610F;&#x4E2D;&#x6587;&#x6587;&#x4EF6;&#x540D;&#x8981;&#x8F6C;&#x7801; response.setHeader(&quot;content-disposition&quot;, &quot;attachment;filename=&quot; + URLEncoder.encode(fileName, &quot;UTF-8&quot;)); // 4.&#x83B7;&#x53D6;&#x8981;&#x4E0B;&#x8F7D;&#x7684;&#x6587;&#x4EF6;&#x8F93;&#x5165;&#x6D41; InputStream in = new FileInputStream(realPath); int len = 0; // 5.&#x521B;&#x5EFA;&#x6570;&#x636E;&#x7F13;&#x51B2;&#x533A; byte[] buffer = new byte[1024]; // 6.&#x901A;&#x8FC7;response&#x5BF9;&#x8C61;&#x83B7;&#x53D6;OutputStream&#x6D41; OutputStream out = response.getOutputStream(); // 7.&#x5C06;FileInputStream&#x6D41;&#x5199;&#x5165;&#x5230;buffer&#x7F13;&#x51B2;&#x533A; while ((len = in.read(buffer)) &gt; 0) { // 8.&#x4F7F;&#x7528;OutputStream&#x5C06;&#x7F13;&#x51B2;&#x533A;&#x7684;&#x6570;&#x636E;&#x8F93;&#x51FA;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x6D4F;&#x89C8;&#x5668; out.write(buffer, 0, len); } in.close();} &#x7ED3;&#x679C;&#xFF1A; &#x6CE8;&#xFF1A;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#x65F6;&#x907F;&#x514D;&#x4F7F;&#x7528; PrintWriter &#x6D41;&#xFF0C;&#x56E0;&#x4E3A; PrintWriter &#x6D41;&#x662F;&#x5B57;&#x7B26;&#x6D41;&#xFF0C;&#x53EA;&#x80FD;&#x5904;&#x7406;&#x5B57;&#x7B26;&#x6570;&#x636E;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;&#x6570;&#x636E;&#x4E22;&#x5931;&#x3002;&#x800C; OutputStream &#x6D41;&#x662F;&#x5B57;&#x8282;&#x6D41;&#xFF0C;&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x4EFB;&#x4F55;&#x6570;&#x636E;&#xFF0C;&#x6240;&#x4EE5;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#x8981;&#x4F7F;&#x7528; OutputStream &#x6D41;&#x3002; &#x751F;&#x6210;&#x968F;&#x673A;&#x6570;&#x5B57;&#x9A8C;&#x8BC1;&#x7801; protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { response.setHeader(&quot;refresh&quot;, &quot;5&quot;);// &#x8BBE;&#x7F6E;refresh&#x54CD;&#x5E94;&#x5934;&#x63A7;&#x5236;&#x6D4F;&#x89C8;&#x5668;&#x6BCF;&#x9694;5&#x79D2;&#x949F;&#x5237;&#x65B0;&#x4E00;&#x6B21; // 1.&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x521B;&#x5EFA;&#x4E00;&#x5F20;&#x56FE;&#x7247; BufferedImage image = new BufferedImage(80, 20, BufferedImage.TYPE_INT_RGB); // 2.&#x5F97;&#x5230;&#x56FE;&#x7247; Graphics2D g = (Graphics2D) image.getGraphics(); g.setColor(Color.WHITE);// &#x8BBE;&#x7F6E;&#x56FE;&#x7247;&#x7684;&#x80CC;&#x666F;&#x8272; g.fillRect(0, 0, 80, 20);// &#x586B;&#x5145;&#x80CC;&#x666F;&#x8272; // 3.&#x5411;&#x56FE;&#x7247;&#x4E0A;&#x5199;&#x6570;&#x636E; g.setColor(Color.BLUE);// &#x8BBE;&#x7F6E;&#x56FE;&#x7247;&#x4E0A;&#x5B57;&#x4F53;&#x7684;&#x989C;&#x8272; g.setFont(new Font(null, Font.BOLD, 20)); g.drawString(getRandomCode(), 0, 20); // 4.&#x8BBE;&#x7F6E;&#x54CD;&#x5E94;&#x5934;&#x63A7;&#x5236;&#x6D4F;&#x89C8;&#x5668;&#x6D4F;&#x89C8;&#x5668;&#x4EE5;&#x56FE;&#x7247;&#x7684;&#x65B9;&#x5F0F;&#x6253;&#x5F00; response.setContentType(&quot;image/jpeg&quot;); // &#x7B49;&#x540C;&#x4E8E;response.setHeader(&quot;Content-Type&quot;,&quot;image/jpeg&quot;); // 5.&#x8BBE;&#x7F6E;&#x54CD;&#x5E94;&#x5934;&#x63A7;&#x5236;&#x6D4F;&#x89C8;&#x5668;&#x4E0D;&#x7F13;&#x5B58;&#x56FE;&#x7247;&#x6570;&#x636E; response.setDateHeader(&quot;expries&quot;, -1); response.setHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;); response.setHeader(&quot;Pragma&quot;, &quot;no-cache&quot;); // 6.&#x5C06;&#x56FE;&#x7247;&#x5199;&#x7ED9;&#x6D4F;&#x89C8;&#x5668; ImageIO.write(image, &quot;jpg&quot;, response.getOutputStream()); } 12345private String getRandomCode() { Random ran = new Random(); String num = (ran.nextInt(8999999) + 1000000) + &quot;&quot;; return num;} &#x7ED3;&#x679C;&#xFF1A; ![](/img/RandomCode.gif) &#x8BBE;&#x7F6E;&#x54CD;&#x5E94;&#x5934;&#x63A7;&#x5236;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x884C;&#x4E3A; &#x8BBE;&#x7F6E;http&#x54CD;&#x5E94;&#x5934;&#x63A7;&#x5236;&#x6D4F;&#x89C8;&#x5668;&#x7981;&#x6B62;&#x7F13;&#x5B58;&#x5F53;&#x524D;&#x6587;&#x6863;&#x5185;&#x5BB9; 123 response.setDateHeader(&quot;expries&quot;, -1);response.setHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);response.setHeader(&quot;Pragma&quot;, &quot;no-cache&quot;); &#x8BBE;&#x7F6E;http&#x54CD;&#x5E94;&#x5934;&#x63A7;&#x5236;&#x6D4F;&#x89C8;&#x5668;&#x5B9A;&#x65F6;&#x5237;&#x65B0;&#x7F51;&#x9875;(refresh) 12//&#x8BBE;&#x7F6E;refresh&#x54CD;&#x5E94;&#x5934;&#x63A7;&#x5236;&#x6D4F;&#x89C8;&#x5668;&#x6BCF;&#x9694;5&#x79D2;&#x949F;&#x5237;&#x65B0;&#x4E00;&#x6B21;response.setHeader(&quot;refresh&quot;, &quot;5&quot;); &#x901A;&#x8FC7;response&#x5B9E;&#x73B0;&#x8BF7;&#x6C42;&#x91CD;&#x5B9A;&#x5411; &#x8BF7;&#x6C42;&#x91CD;&#x5B9A;&#x5411;&#x6307;&#xFF1A;&#x4E00;&#x4E2A;web&#x8D44;&#x6E90;&#x6536;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x540E;&#xFF0C;&#x901A;&#x77E5;&#x5BA2;&#x6237;&#x7AEF;&#x53BB;&#x8BBF;&#x95EE;&#x53E6;&#x5916;&#x4E00;&#x4E2A;web&#x8D44;&#x6E90;&#xFF0C;&#x8FD9;&#x79F0;&#x4E4B;&#x4E3A;&#x8BF7;&#x6C42;&#x91CD;&#x5B9A;&#x5411;&#x3002; &#x5E94;&#x7528;&#x573A;&#x666F;&#xFF1A;&#x7528;&#x6237;&#x767B;&#x9646;&#xFF0C;&#x7528;&#x6237;&#x9996;&#x5148;&#x8BBF;&#x95EE;&#x767B;&#x5F55;&#x9875;&#x9762;&#xFF0C;&#x767B;&#x5F55;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x5C31;&#x4F1A;&#x8DF3;&#x8F6C;&#x5230;&#x67D0;&#x4E2A;&#x9875;&#x9762;&#xFF0C;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x91CD;&#x5B9A;&#x5411;&#x7684;&#x8FC7;&#x7A0B; &#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#xFF1A;response.sendRedirect(String location)&#xFF0C;&#x5373;&#x8C03;&#x7528; response &#x5BF9;&#x8C61;&#x7684; sendRedirect &#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x8BF7;&#x6C42;&#x91CD;&#x5B9A;&#x5411; sendRedirect&#x5185;&#x90E8;&#x7684;&#x5B9E;&#x73B0;&#x539F;&#x7406;&#xFF1A;&#x4F7F;&#x7528; response &#x8BBE;&#x7F6E; 302 &#x72B6;&#x6001;&#x7801;&#x548C;&#x8BBE;&#x7F6E;location&#x54CD;&#x5E94;&#x5934;&#x5B9E;&#x73B0;&#x91CD;&#x5B9A;&#x5411; 1234 protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { response.sendRedirect(&quot;/day01_Servlet/hello.html&quot;);}","tags":[{"name":"JAVA WEB","slug":"JAVA-WEB","permalink":"https://marklogzhu.github.io/tags/JAVA-WEB/"}]},{"title":"Servlet之request","date":"2017-03-30T13:00:00.000Z","path":"Java/后台/Java/JavaWeb/04.Servlet之request/","text":"&#x4E00;&#x3001;Request&#x7B80;&#x4ECB;Request&#x662F;&#x4EC0;&#x4E48;&#xFF1F;Request&#x4EE3;&#x8868;&#x7740;&#x4E00;&#x4E2A;HTTP&#x8BF7;&#x6C42;&#x5BF9;&#x8C61;&#xFF0C;&#x91CC;&#x9762;&#x5B58;&#x653E;&#x7740;&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#x548C;&#x5C5E;&#x6027;&#x3002; &#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x88AB;&#x521B;&#x5EFA;&#xFF1F;&#x5F53;&#x8C03;&#x7528; Servlet &#x7684; service() &#x65B9;&#x6CD5;&#x65F6;&#x521B;&#x5EFA; &#x8C01;&#x521B;&#x5EFA;&#xFF1F;&#x7531;Servlet&#x5BB9;&#x5668;&#x521B;&#x5EFA;&#xFF0C;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x81EA;&#x52A8;&#x5C01;&#x88C5;&#x4E86;&#x8BF7;&#x6C42;&#x65B9;&#x5F0F;&#x53CA;&#x53C2;&#x6570;&#x7B49;&#x4FE1;&#x606F; &#x80FD;&#x5E72;&#x4EC0;&#x4E48;&#x53EF;&#x4EE5;&#x627E;&#x5230;&#x8BF7;&#x6C42;&#x4ECE;&#x54EA;&#x91CC;&#x53D1;&#x51FA;&#xFF0C;&#x8BF7;&#x6C42;&#x4EC0;&#x4E48;&#x8D44;&#x6E90;&#xFF0C;&#x5E26;&#x4EC0;&#x4E48;&#x53C2;&#x6570;&#xFF0C;&#x83B7;&#x53D6;Session&#x5BF9;&#x8C61;&#x548C;&#x5BA2;&#x6237;&#x7AEF;&#x7684;Cookie ServletRequest&#x7684;&#x5C42;&#x6B21;&#x7ED3;&#x6784;-- javax.servlet.ServletRequest -- javax.servlet.http.HttpServletRequest &#x4E8C;&#x3001;&#x5E38;&#x7528;&#x65B9;&#x6CD5; void setAttribute(String name,Object o)&#x4EE5; KEY-VLUE &#x7684;&#x5F62;&#x5F0F;&#x8BBE;&#x7F6E;&#x5C5E;&#x6027; Object getAttribute(String name)&#x4EE5; Object &#x5F62;&#x5F0F;&#x8FD4;&#x56DE;&#x6307;&#x5B9A;&#x5C5E;&#x6027;&#x7684;&#x503C;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x7ED9;&#x5B9A;&#x540D;&#x79F0;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x5219;&#x8FD4;&#x56DE; null&#x3002; void removeAttribute(String name)&#x79FB;&#x9664;&#x6307;&#x5B9A;&#x5C5E;&#x6027; Enumeration getAttributeNames()&#x8FD4;&#x56DE;&#x5305;&#x542B;&#x6B64;&#x8BF7;&#x6C42;&#x53EF;&#x7528;&#x5C5E;&#x6027;&#x7684;&#x540D;&#x79F0;&#x7684; Enumeration&#x3002;&#x5982;&#x679C;&#x8BE5;&#x8BF7;&#x6C42;&#x6CA1;&#x6709;&#x53EF;&#x7528;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x5219;&#x6B64;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7A7A;&#x7684; Enumeration void setCharacterEncoding(String env)&#x8BBE;&#x7F6E;&#x8BF7;&#x6C42;&#x6B63;&#x6587;&#x7F16;&#x7801;&#x5B57;&#x7B26;&#x96C6; String getCharacterEncoding()&#x83B7;&#x53D6;&#x8BF7;&#x6C42;&#x6B63;&#x6587;&#x7F16;&#x7801;&#x5B57;&#x7B26;&#x96C6; String getContentType()&#x83B7;&#x53D6;&#x8FD4;&#x56DE;&#x8BF7;&#x6C42;&#x4E3B;&#x4F53;&#x7684;MIME&#x7C7B;&#x578B; String getParameter(String name)&#x4EE5; String &#x5F62;&#x5F0F;&#x8FD4;&#x56DE;&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#x7684;&#x503C;&#xFF0C;&#x5982;&#x679C;&#x8BE5;&#x53C2;&#x6570;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x5219;&#x8FD4;&#x56DE; null String[] getParameterValues(String name)&#x8FD4;&#x56DE;&#x5305;&#x542B;&#x7ED9;&#x5B9A;&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#x62E5;&#x6709;&#x7684;&#x6240;&#x6709;&#x503C;&#x7684; String &#x5BF9;&#x8C61;&#x6570;&#x7EC4;&#xFF0C;&#x5982;&#x679C;&#x8BE5;&#x53C2;&#x6570;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x5219;&#x8FD4;&#x56DE; null String getMethod()&#x83B7;&#x53D6;&#x8BF7;&#x6C42;&#x7684; HTTP &#x65B9;&#x6CD5;&#x7684;&#x540D;&#x79F0;&#xFF0C;&#x4F8B;&#x5982;GET&#xFF0C;POST&#x6216;PUT String getRequestURI()&#x83B7;&#x53D6;&#x8BF7;&#x6C42;URI,&#x83B7;&#x53D6;&#x7684;&#x662F; &#x4ECE;&#x9879;&#x76EE;&#x540D;&#x5230;&#x53C2;&#x6570;&#x4E4B;&#x524D;&#x7684;&#x5185;&#x5BB9; StringBuffer getRequestURL()&#x83B7;&#x53D6;&#x8BF7;&#x6C42;URL,&#x83B7;&#x53D6;&#x7684;&#x5E26;&#x534F;&#x8BAE;&#x7684;&#x5B8C;&#x6574;&#x8DEF;&#x5F84; String getQueryString()get&#x8BF7;&#x6C42;&#x7684;&#x6240;&#x6709;&#x53C2;&#x6570; String getProtocol()&#x83B7;&#x53D6;&#x534F;&#x8BAE;&#x548C;&#x7248;&#x672C; String getScheme()&#x83B7;&#x53D6;&#x8BF7;&#x6C42;&#x65B9;&#x6848;&#x540D;&#x79F0;&#xFF0C;&#x5982; http&#x3001;https &#x6216; ftp String getServerName()&#x83B7;&#x53D6;&#x5305;&#x542B;&#x670D;&#x52A1;&#x5668;&#x540D;&#x79F0;&#x7684; String&#xFF0C;&#x5982; IP &#x5730;&#x5740; int getServerPort()&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x53E3;&#x53F7; String getRemoteAddr()&#x83B7;&#x53D6;&#x5BA2;&#x6237;&#x7AEF;IP&#x5730;&#x5740; java.util.Locale getLocale()&#x57FA;&#x4E8E; Accept-Language &#x5934;&#xFF0C;&#x8FD4;&#x56DE;&#x5BA2;&#x6237;&#x7AEF;&#x5C06;&#x7528;&#x6765;&#x63A5;&#x53D7;&#x5185;&#x5BB9;&#x7684;&#x9996;&#x9009; Locale boolean isSecure()&#x8FD4;&#x56DE;&#x4E00;&#x4E2A; boolean &#x503C;&#xFF0C;&#x6307;&#x793A;&#x6B64;&#x8BF7;&#x6C42;&#x662F;&#x5426;&#x662F;&#x4F7F;&#x7528;&#x5B89;&#x5168;&#x901A;&#x9053;&#xFF08;&#x6BD4;&#x5982; HTTPS&#xFF09;&#x53D1;&#x51FA;&#x7684; &#x4E09;&#x3001;&#x7F16;&#x7801;&#x5B9E;&#x8DF5; &#x5C5E;&#x6027;&#x8BBE;&#x7F6E;&#x3001;&#x83B7;&#x53D6;&#x3001;&#x79FB;&#x9664; 1234567protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { String tag = &quot;name&quot;; request.setAttribute(tag, &quot;&#x5F20;&#x4E09;&quot;); System.out.println(tag + request.getAttribute(tag)); request.removeAttribute(tag); System.out.println(tag + request.getAttribute(tag));} &#x7ED3;&#x679C;&#xFF1A; 12name:&#x5F20;&#x4E09;name:null &#x5B57;&#x7B26;&#x96C6;&#x7684;&#x83B7;&#x53D6;&#x4E0E;&#x8BBE;&#x7F6E; 12345protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { System.out.println(&quot;&#x6B63;&#x6587;&#x7F16;&#x7801;&#x5B57;&#x7B26;&#x96C6;&#xFF1A;&quot; + request.getCharacterEncoding()); request.setCharacterEncoding(&quot;utf-8&quot;); System.out.println(&quot;&#x6B63;&#x6587;&#x7F16;&#x7801;&#x5B57;&#x7B26;&#x96C6;&#xFF1A;&quot; + request.getCharacterEncoding());} &#x7ED3;&#x679C;&#xFF1A; 12&#x6B63;&#x6587;&#x7F16;&#x7801;&#x5B57;&#x7B26;&#x96C6;&#xFF1A;null&#x6B63;&#x6587;&#x7F16;&#x7801;&#x5B57;&#x7B26;&#x96C6;&#xFF1A;utf-8 &#x83B7;&#x53D6;&#x5BA2;&#x6237;&#x7AEF;&#x4FE1;&#x606F; 123456protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { System.out.println(&quot;&#x5BA2;&#x6237;&#x7AEF;IP&#x5730;&#x5740;&#xFF1A;&quot; + request.getRemoteAddr()); System.out.println(&quot;&#x8BF7;&#x6C42;&#x65B9;&#x5F0F;&#xFF1A;&quot; + request.getScheme()); System.out.println(&quot;&#x662F;&#x5426;&#x662F;HTTPS&#x8BF7;&#x6C42;&#xFF1A;&quot; + request.isSecure()); System.out.println(&quot;&#x8BF7;&#x6C42;&#x65B9;&#x5F0F;&#xFF1A;&quot; + request.getMethod());} &#x7ED3;&#x679C;&#xFF1A; 1234&#x5BA2;&#x6237;&#x7AEF;IP&#x5730;&#x5740;&#xFF1A;0:0:0:0:0:0:0:1&#x8BF7;&#x6C42;&#x65B9;&#x5F0F;&#xFF1A;http&#x662F;&#x5426;&#x662F;HTTPS&#x8BF7;&#x6C42;&#xFF1A;false&#x8BF7;&#x6C42;&#x65B9;&#x5F0F;&#xFF1A;GET &#x83B7;&#x53D6;&#x670D;&#x52A1;&#x7AEF;&#x4FE1;&#x606F; 123456protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { System.out.println(&quot;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x53E3;&#x53F7;&#xFF1A;&quot; + request.getServerPort()); System.out.println(&quot;&#x670D;&#x52A1;&#x5668;&#x540D;&#x79F0;&#xFF1A;&quot; + request.getServerName()); System.out.println(&quot;&#x9879;&#x76EE;&#x540D;&#x79F0;&#xFF1A;&quot; + request.getContextPath());} &#x7ED3;&#x679C;&#xFF1A; 123&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x53E3;&#x53F7;&#xFF1A;8888&#x670D;&#x52A1;&#x5668;&#x540D;&#x79F0;&#xFF1A;localhost&#x9879;&#x76EE;&#x540D;&#x79F0;&#xFF1A;/day01_Servlet &#x83B7;&#x53D6;&#x8BF7;&#x6C42;&#x6D88;&#x606F;12345678protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { System.out.println(&quot;&#x4E0D;&#x5E26;&#x534F;&#x8BAE;&#x8DEF;&#x5F84;&#xFF1A;&quot; + request.getRequestURI()); System.out.println(&quot;&#x5E26;&#x534F;&#x8BAE;&#x8DEF;&#x5F84;&#xFF1A;&quot; + request.getRequestURL()); System.out.println(&quot;&#x8BF7;&#x6C42;&#x65B9;&#x5F0F;&#xFF1A;&quot; + request.getMethod()); System.out.println(&quot;get&#x8BF7;&#x6C42;&#x7684;&#x6240;&#x6709;&#x53C2;&#x6570;:&quot; + request.getQueryString()); System.out.println(&quot;&#x534F;&#x8BAE;&#x548C;&#x7248;&#x672C;&#xFF1A;&quot; + request.getProtocol());} &#x7ED3;&#x679C;&#xFF1A; 12345&#x4E0D;&#x5E26;&#x534F;&#x8BAE;&#x8DEF;&#x5F84;&#xFF1A;/day01_Servlet/request&#x5E26;&#x534F;&#x8BAE;&#x8DEF;&#x5F84;&#xFF1A;http://localhost:8888/day01_Servlet/request&#x8BF7;&#x6C42;&#x65B9;&#x5F0F;&#xFF1A;GETget&#x8BF7;&#x6C42;&#x7684;&#x6240;&#x6709;&#x53C2;&#x6570;:null&#x534F;&#x8BAE;&#x548C;&#x7248;&#x672C;&#xFF1A;HTTP/1.1","tags":[{"name":"JAVA WEB","slug":"JAVA-WEB","permalink":"https://marklogzhu.github.io/tags/JAVA-WEB/"}]},{"title":"Servlet之ServletConfig与ServletContext对象","date":"2017-03-19T13:00:00.000Z","path":"Java/后台/Java/JavaWeb/03.Servlet之ServletConfig和ServletContext对象/","text":"&#x5728; Servlet&#x4E4B;&#x751F;&#x547D;&#x5468;&#x671F; &#x4E2D;&#x6211;&#x4EEC;&#x9664;&#x4E86;&#x63D0;&#x5230;&#x4E09;&#x4E2A;&#x751F;&#x547D;&#x5468;&#x671F;&#x65B9;&#x6CD5;&#x4E4B;&#x5916;&#xFF0C;&#x8FD8;&#x63D0;&#x5230;&#x4E86;&#x4E8C;&#x4E2A;&#x65B9;&#x6CD5; getServletConfig()&#x548C;getServletInfo()&#xFF0C;&#x4ED6;&#x8FD4;&#x56DE;&#x7684;&#x5BF9;&#x8C61;&#x5206;&#x522B;&#x662F;ServletConfig&#x548C;ServletContext&#x5BF9;&#x8C61;&#xFF0C;&#x4ECA;&#x5929;&#x5C31;&#x8BA9;&#x6211;&#x4EEC;&#x6765;&#x5B66;&#x4E60;&#x4E0B;&#x8FD9;&#x4E24;&#x4E2A;&#x5BF9;&#x8C61; &#x4E00;&#x3001;ServletConfig&#x7B80;&#x4ECB;&#x5B98;&#x65B9;&#x5B9A;&#x4E49;&#xFF1A;A servlet configuration object used by a servlet container to pass information to a servlet during initialization.&#x4E2D;&#x6587;&#x7FFB;&#x8BD1;&#xFF1A;&#x4E00;&#x4E2A;servlet&#x7684;&#x914D;&#x7F6E;&#x5BF9;&#x8C61;&#xFF0C;&#x7528;&#x6765;&#x7ED9;servlet&#x5BB9;&#x5668;&#x4F20;&#x9012;&#x4FE1;&#x606F;&#x5230;servlet&#xFF0C;&#x5728;Servlet&#x521D;&#x59CB;&#x5316;&#x7684;&#x65F6;&#x5019;&#x3002; &#x7B80;&#x5355;&#x6765;&#x8BF4; ServletConfig &#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x914D;&#x7F6E;&#x5BF9;&#x8C61;&#xFF0C;&#x901A;&#x8FC7;&#x5B83;&#x53EF;&#x4EE5;&#x5F88;&#x65B9;&#x4FBF;&#x7684;&#x83B7;&#x53D6; web.xml &#x4E2D;&#x914D;&#x7F6E;&#x7684;&#x4FE1;&#x606F; &#x4E8C;&#x3001;ServletConfig&#x5E38;&#x7528;&#x65B9;&#x6CD5;* String getInitParameter(java.lang.String name) &#x4F5C;&#x7528;&#xFF1A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5305;&#x542B;&#x6307;&#x5B9A;&#x521D;&#x59CB;&#x5316;&#x53C2;&#x6570;&#x503C;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5982;&#x679C;&#x53C2;&#x6570;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;null&#x3002; * Enumeration&lt;String&gt; getInitParameterNames() &#x4F5C;&#x7528;&#xFF1A; &#x8FD4;&#x56DE;servlet&#x7684;&#x521D;&#x59CB;&#x5316;&#x53C2;&#x6570;&#x7684;&#x540D;&#x79F0;&#x4F5C;&#x4E3A;String&#x5BF9;&#x8C61;&#x7684;&#x679A;&#x4E3E;&#xFF0C;&#x5982;&#x679C;servlet&#x6CA1;&#x6709;&#x521D;&#x59CB;&#x5316;&#x53C2;&#x6570;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x7A7A;&#x679A;&#x4E3E;&#x3002; * ServletContext getServletContext() &#x4F5C;&#x7528;&#xFF1A;&#x8FD4;&#x56DE;&#x5BF9;&#x8C03;&#x7528;&#x8005;&#x6B63;&#x5728;&#x6267;&#x884C;&#x7684;ServletContext&#x7684;&#x5F15;&#x7528;&#x3002; * String getServletName() &#x4F5C;&#x7528;&#xFF1A;&#x83B7;&#x53D6;servlet&#x5B9E;&#x4F8B;&#x7684;&#x540D;&#x79F0; &#x4E09;&#x3001;&#x7F16;&#x7801;&#x5B9E;&#x8DF5; 1.&#x7F16;&#x5199;Servlet&#x7C7B; 12345678910111213141516171819202122232425262728import java.io.IOException;import java.util.Enumeration;import javax.servlet.ServletConfig;import javax.servlet.ServletException;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;public class ServletConfigDemo extends HttpServlet { protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { // 1.getServletConfig() ServletConfig config = this.getServletConfig(); // 2.getServletName() System.out.println(&quot;ServletName:&quot; + config.getServletName()); // 3.getInitParameter() System.out.println(&quot;&#x5927;&#x5199;KEY&#x503C;:&quot; + config.getInitParameter(&quot;NAME&quot;)); System.out.println(&quot;&#x5C0F;&#x5199;KEY&#x503C;:&quot; + config.getInitParameter(&quot;name&quot;)); // 4.getInitParameterNames() Enumeration&lt;String&gt; enumeration = config.getInitParameterNames(); while (enumeration.hasMoreElements()) { String name = enumeration.nextElement(); String value = config.getInitParameter(name); System.out.println(&quot;name-----------&gt;&quot; + name); System.out.println(&quot;value-----------&gt;&quot; + value); } }} 2.&#x7F16;&#x5199;web.xml&#x914D;&#x7F6E; 1234567891011121314&lt;servlet&gt; &lt;description&gt;&lt;/description&gt; &lt;display-name&gt;ServletConfigDemo&lt;/display-name&gt; &lt;servlet-name&gt;ServletConfigDemo&lt;/servlet-name&gt; &lt;servlet-class&gt;com.mark.day01.ServletConfigDemo&lt;/servlet-class&gt; &lt;init-param&gt; &lt;param-name&gt;name&lt;/param-name&gt; &lt;param-value&gt;markLogZhu&lt;/param-value&gt; &lt;/init-param&gt;&lt;/servlet&gt;&lt;servlet-mapping&gt; &lt;servlet-name&gt;ServletConfigDemo&lt;/servlet-name&gt; &lt;url-pattern&gt;/servletConfig&lt;/url-pattern&gt;&lt;/servlet-mapping&gt; 3.&#x8FD0;&#x884C;&#xFF0C;&#x67E5;&#x770B;&#x7ED3;&#x679C; 4.&#x6CE8; &#x4F8B;&#x5B50;&#x4E2D; getInitParameter() &#x65B9;&#x6CD5;&#x7684; key &#x53C2;&#x6570;&#x4E3A;&#x5927;&#x5199;&#xFF0C;&#x800C; web.xml &#x4E2D; key &#x4E3A;&#x5C0F;&#x5199;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x8FD4;&#x56DE;&#x7684;&#x503C;&#x4E3A;null&#xFF0C;&#x8BC1;&#x660E;&#x53C2;&#x6570;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199; &#x56DB;&#x3001;ServletContext&#x7B80;&#x4ECB;&#x5728;&#x6574;&#x4E2A;web&#x5E94;&#x7528;&#x4E2D;&#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x4E2A;ServletContext&#xFF0C;WEB&#x5BB9;&#x5668;&#x5728;&#x542F;&#x52A8;&#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x4E3A;&#x6BCF;&#x4E2A;WEB&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x90FD;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5BF9;&#x5E94;&#x7684;ServletContext&#x5BF9;&#x8C61;&#xFF0C;&#x5B83;&#x4EE3;&#x8868;&#x5F53;&#x524D;web&#x5E94;&#x7528;&#x3002;&#x5F53;&#x9879;&#x76EE;&#x88AB;&#x79FB;&#x9664;&#x7684;&#x65F6;&#x5019;&#x6216;&#x8005;&#x670D;&#x52A1;&#x5668;&#x5173;&#x95ED;&#x7684;&#x65F6;&#x5019;servletcontext&#x4E5F;&#x540C;&#x65F6;&#x88AB;&#x9500;&#x6BC1; &#x4E94;&#x3001;ServletContext&#x7684;&#x5E38;&#x7528;&#x65B9;&#x6CD5; 1.&#x83B7;&#x53D6;ServletContext&#x5B9E;&#x4F8B; &#x65B9;&#x5F0F;&#x4E00;&#xFF1A; 1ServletContext servletContext = this.getServletContext(); &#x65B9;&#x5F0F;&#x4E8C;&#xFF1A; 1ServletContext servletContext = this.getServletConfig().getServletContext(); 2.&#x5229;&#x7528;ServletContext&#x5B9E;&#x73B0;&#x6570;&#x636E;&#x5171;&#x4EAB; &#x5199;&#x6570;&#x636E; 12ServletContext servletContext = config.getServletContext();servletContext.setAttribute(&quot;name&quot;, &quot;markLogZhu&quot;); &#x8BFB;&#x6570;&#x636E; 12ServletContext servletContext = getServletConfig().getServletContext(); System.out.println(&quot;value:&quot;+servletContext.getAttribute(&quot;name&quot;)); 3.&#x83B7;&#x53D6; web.xml &#x914D;&#x7F6E;&#x4FE1;&#x606F;(&#x8DDF; ServletConfig &#x5BF9;&#x8C61;&#x7684; getInitParameterNames()&#x65B9;&#x6CD5;&#x4E00;&#x6837;) web.xml&#x914D;&#x7F6E; 1234567891011121314&lt;servlet&gt; &lt;description&gt;&lt;/description&gt; &lt;display-name&gt;ServletConfigDemo&lt;/display-name&gt; &lt;servlet-name&gt;ServletConfigDemo&lt;/servlet-name&gt; &lt;servlet-class&gt;com.mark.day01.ServletConfigDemo&lt;/servlet-class&gt; &lt;init-param&gt; &lt;param-name&gt;name&lt;/param-name&gt; &lt;param-value&gt;markLogZhu&lt;/param-value&gt; &lt;/init-param&gt;&lt;/servlet&gt;&lt;servlet-mapping&gt; &lt;servlet-name&gt;ServletConfigDemo&lt;/servlet-name&gt; &lt;url-pattern&gt;/servletConfig&lt;/url-pattern&gt;&lt;/servlet-mapping&gt; &#x83B7;&#x53D6;&#x914D;&#x7F6E;&#x4FE1;&#x606F; 12345678ServletContext context = this.getServletContext();Enumeration enumeration = context.getInitParameterNames();while(enumeration.hasMoreElements()){ String name = (String) enumeration.nextElement(); String value = (String) context.getInitParameter(name); System.out.println(&quot;name&#xFF1A;&quot;+name); System.out.println(&quot;value&#xFF1A;&quot;+value.toString());} 4.Servlet&#x7684;&#x8F6C;&#x53D1; Servlet&#x7C7B; 12345 ServletContext context = this.getServletContext(); //&#x5728;request&#x8BBE;&#x7F6E;&#x53C2;&#x6570;&#xFF0C;&#x7136;&#x540E;&#x5728;jsp&#x754C;&#x9762;&#x4E2D;&#x83B7;&#x53D6;&#x3002; req.setAttribute(&quot;name&quot;, &quot;value&quot;);RequestDispatcher requestDispatcher = context.getRequestDispatcher(&quot;/index.jsp&quot;);requestDispatcher.forward(req,resp); jsp&#x754C;&#x9762;&#x83B7;&#x53D6;&#x6570;&#x636E;&#xFF1A; 1234&lt;% String value = (String)request.getAttribute(&quot;name&quot;); System.out.println(&quot;value&#xFF1A;&quot;+value);%&gt; 5.&#x8BFB;&#x53D6;&#x8D44;&#x6E90;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6; 123456789101112ServletContext context = this.getServletContext();InputStream inputStream = context.getResourceAsStream(&quot;/db.properties&quot;);ByteArrayOutputStream outStream = new ByteArrayOutputStream();byte[] by = new byte[1024];int len = 0;while((len = inputStream.read(by))!= -1){ outStream.write(by, 0, len);}String content = new String(outStream.toByteArray());System.out.println(&quot;content&#xFF1A;&quot;+content);outStream.close();inputStream.close(); &#x516D;&#x3001;&#x53C2;&#x8003;&#xFF1A;java_web&#x5B66;&#x4E60;&#x7B2C;&#x4E8C;&#x5929;(ServletConfig&#x548C;ServletContext&#x5BF9;&#x8C61;&#x7684;&#x4F5C;&#x7528;&#x548C;&#x4F7F;&#x7528;)","tags":[{"name":"JAVA WEB","slug":"JAVA-WEB","permalink":"https://marklogzhu.github.io/tags/JAVA-WEB/"}]},{"title":"Servlet之生命周期","date":"2017-03-19T10:10:00.000Z","path":"Java/后台/Java/JavaWeb/02.Servlet之生命周期/","text":"&#x4E00;&#x3001;Servlet&#x7B80;&#x4ECB;JavaServlet &#x662F;&#x7528; Java &#x8BED;&#x8A00;&#x7F16;&#x5199;&#x7684;&#x670D;&#x52A1;&#x7AEF;&#x7A0B;&#x5E8F;&#x3002;&#x5176;&#x4E3B;&#x8981;&#x529F;&#x80FD;&#x662F;&#x63A5;&#x6536;&#x548C;&#x54CD;&#x5E94;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8BF7;&#x6C42;&#x3002; &#x4E8C;&#x3001;Servlet&#x7ED3;&#x6784;-- Servlet &#x63A5;&#x53E3; -- GenericServlet &#x62BD;&#x8C61;&#x7C7B; -- HttpServlet &#x62BD;&#x8C61;&#x7C7B; -- &#x81EA;&#x5B9A;&#x4E49;&#x4E1A;&#x52A1;Servlet &#x4E1A;&#x52A1;&#x7C7B; &#x4E09;&#x3001;Servlet&#x63A5;&#x53E3;&#x65B9;&#x6CD5;=======================&#x751F;&#x547D;&#x5468;&#x671F;&#x65B9;&#x6CD5;&#x5F00;&#x59CB;====================================== * void init(ServletConfig config) &#x4F5C;&#x7528;&#xFF1A;&#x521D;&#x59CB;&#x5316;&#x65B9;&#x6CD5; &#x8C03;&#x7528;&#x8005;&#xFF1A;&#x670D;&#x52A1;&#x5668; &#x8C03;&#x7528;&#x65F6;&#x673A;&#xFF1A;&#x9ED8;&#x8BA4;&#x7B2C;&#x4E00;&#x6B21;&#x8BBF;&#x95EE;&#x7684;&#x65F6;&#x5019;&#x6216;load-on-startup&#x4E2D;&#x8BBE;&#x7F6E;&#x6B63;&#x6574;&#x6570;&#x503C;&#x65F6;(&#x503C;&#x8D8A;&#x5927;&#x4F18;&#x5148;&#x7EA7;&#x8D8A;&#x4F4E;) &#x8C03;&#x7528;&#x6B21;&#x6570;&#xFF1A;&#x4E00;&#x6B21; * void service(ServletRequest req, ServletResponse res) &#x4F5C;&#x7528;&#xFF1A;&#x5904;&#x7406;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x65B9;&#x6CD5; &#x8C03;&#x7528;&#x8005;&#xFF1A;&#x670D;&#x52A1;&#x5668; &#x8C03;&#x7528;&#x65F6;&#x673A;&#xFF1A;&#x8BF7;&#x6C42;&#x6765;&#x7684;&#x65F6;&#x5019; &#x8C03;&#x7528;&#x6B21;&#x6570;&#xFF1A;&#x8BF7;&#x6C42;&#x6765;&#x4E00;&#x6B21;&#x8C03;&#x7528;&#x4E00;&#x6B21; * void destroy() &#x4F5C;&#x7528;&#xFF1A;&#x521D;&#x59CB;&#x5316;&#x65B9;&#x6CD5; &#x8C03;&#x7528;&#x8005;&#xFF1A;&#x670D;&#x52A1;&#x5668; &#x8C03;&#x7528;&#x65F6;&#x673A;&#xFF1A;Service&#x88AB;&#x79FB;&#x9664;&#x6216;&#x670D;&#x52A1;&#x5668;&#x6B63;&#x5E38;&#x5173;&#x95ED;&#x65F6; &#x8C03;&#x7528;&#x6B21;&#x6570;&#xFF1A;&#x4E00;&#x6B21; =======================&#x751F;&#x547D;&#x5468;&#x671F;&#x65B9;&#x6CD5;&#x7ED3;&#x675F;====================================== * ServletConfig getServletConfig() &#x4F5C;&#x7528;&#xFF1A;&#x83B7;&#x5F97;&#x4EFB;&#x4F55;&#x521D;&#x59CB;&#x5316;&#x548C;&#x542F;&#x52A8;&#x53C2;&#x6570;&#x4FE1;&#x606F; * String getServletInfo() &#x4F5C;&#x7528;&#xFF1A;&#x83B7;&#x53D6;&#x6709;&#x5173;&#x5176;&#x81EA;&#x8EAB;&#x7684;&#x57FA;&#x672C;&#x4FE1;&#x606F;&#xFF0C;&#x6BD4;&#x5982;&#x4F5C;&#x8005;&#x3001;&#x7248;&#x672C;&#x548C;&#x7248;&#x6743; &#x56DB;&#x3001;&#x7F16;&#x7801;&#x5B9E;&#x8DF5;Servlet&#x751F;&#x547D;&#x5468;&#x671F; 1.&#x7F16;&#x5199;&#x7C7B; 123456789101112131415161718192021222324252627282930313233import java.io.IOException;import javax.servlet.Servlet;import javax.servlet.ServletConfig;import javax.servlet.ServletException;import javax.servlet.ServletRequest;import javax.servlet.ServletResponse;public class LifeServlet implements Servlet { @Override public void init(ServletConfig config) throws ServletException { System.out.println(&quot;init()&#x8C03;&#x7528;&quot;); } @Override public ServletConfig getServletConfig() { return null; } @Override public void service(ServletRequest req, ServletResponse res) throws ServletException, IOException { System.out.println(&quot;service()&#x8C03;&#x7528;&quot;); } @Override public String getServletInfo() { return null; } @Override public void destroy() { System.out.println(&quot;destroy()&#x8C03;&#x7528;&quot;); }} 2.&#x914D;&#x7F6E;web.xml&#x6587;&#x4EF6;(&#x82E5;new&#x7C7B;&#x4E3A;Servlet&#xFF0C;IDE&#x9ED8;&#x8BA4;&#x5DF2;&#x914D;&#x7F6E;&#xFF0C;&#x53EF;&#x8DF3;&#x8FC7;&#x6B64;&#x6B65;) 12345678910&lt;servlet&gt; &lt;description&gt;&lt;/description&gt; &lt;display-name&gt;LifeServlet&lt;/display-name&gt; &lt;servlet-name&gt;LifeServlet&lt;/servlet-name&gt; &lt;servlet-class&gt;com.mark.day01.LifeServlet&lt;/servlet-class&gt;&lt;/servlet&gt;&lt;servlet-mapping&gt; &lt;servlet-name&gt;LifeServlet&lt;/servlet-name&gt; &lt;url-pattern&gt;/life&lt;/url-pattern&gt;&lt;/servlet-mapping&gt; 3.&#x542F;&#x52A8;Tomcat 4.&#x6309;&#x6B65;&#x9AA4;&#x64CD;&#x4F5C;&#x5BF9;&#x7167;&#x7ED3;&#x679C; 4.1 &#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8F93;&#x5165;&#x9879;&#x76EE;&#x5730;&#x5740;(http://localhost:8888/day01_Servlet/life) &#x6CE8;1&#xFF1A;&#x56E0;&#x7B14;&#x8005;&#x7535;&#x8111;&#x4E2D;&#x5148;&#x5B89;&#x88C5;&#x4E86; IIS&#xFF0C;&#x540E;&#x5B89;&#x88C5; Tomcat&#xFF0C;&#x6240;&#x4EE5;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x7AEF;&#x53E3;&#x51B2;&#x7A81;&#x6240;&#x4EE5;&#x5C06;&#x7AEF;&#x53E3;&#x8BBE;&#x4E3A;8888 &#x6CE8;2&#xFF1A;&#x6BCF;&#x4E2A;&#x4EBA;&#x7684;&#x9879;&#x76EE;&#x540D;&#x79F0;&#x548C;&#x5305;&#x540D;&#x4E0D;&#x540C;&#xFF0C;&#x8BF7;&#x6309;&#x81EA;&#x5DF1;&#x7684;&#x5B9E;&#x9645;&#x9879;&#x76EE;&#x4FEE;&#x6539;web.xml&#x8DDF;&#x6D4F;&#x89C8;&#x5668;&#x5730;&#x5740; 4.2 &#x67E5;&#x770B;&#x63A7;&#x5236;&#x5668;&#x8F93;&#x51FA; 4.3 &#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5237;&#x65B0;&#x9875;&#x9762;&#xFF0C;&#x7136;&#x540E;&#x67E5;&#x770B;&#x63A7;&#x5236;&#x5668;&#x8F93;&#x51FA; &#x53EF;&#x4EE5;&#x53D1;&#x73B0;service&#x65B9;&#x6CD5;&#x53C8;&#x4E00;&#x6B21;&#x88AB;&#x8C03;&#x7528;&#x4E86;&#xFF0C;&#x800C;init()&#x65B9;&#x6CD5;&#x53EA;&#x5728;&#x7B2C;&#x4E00;&#x6B21;&#x8BBF;&#x95EE;&#x65F6;&#x8C03;&#x7528; 4.4 &#x5173;&#x95ED;Tomcat,&#x67E5;&#x770B;&#x63A7;&#x5236;&#x5668;&#x8F93;&#x51FA; &#x6CE8;&#xFF1A; &#x4E94;&#x3001;&#x603B;&#x7ED3;serlvet&#x662F;&#x4E00;&#x4E2A;&#x5355;&#x5B9E;&#x4F8B;&#x591A;&#x7EBF;&#x7A0B;&#x5BF9;&#x8C61;&#xFF0C;&#x9ED8;&#x8BA4;&#x7B2C;&#x4E00;&#x6B21;&#x8BBF;&#x95EE;&#x7684;&#x65F6;&#x5019;,&#x670D;&#x52A1;&#x5668;&#x521B;&#x5EFA;servlet,&#x5E76;&#x8C03;&#x7528;init&#x5B9E;&#x73B0;&#x521D;&#x59CB;&#x5316;&#x64CD;&#x4F5C;.&#x5E76;&#x8C03;&#x7528;&#x4E00;&#x6B21;service&#x65B9;&#x6CD5;&#x3002;&#x6BCF;&#x5F53;&#x8BF7;&#x6C42;&#x6765;&#x7684;&#x65F6;&#x5019;,&#x670D;&#x52A1;&#x5668;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;,&#x8C03;&#x7528;service&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x81EA;&#x5DF1;&#x7684;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x3002;&#x5F53;serlvet&#x88AB;&#x79FB;&#x9664;&#x7684;&#x65F6;&#x5019;&#x670D;&#x52A1;&#x5668;&#x6B63;&#x5E38;&#x5173;&#x95ED;&#x7684;&#x65F6;&#x5019;,&#x670D;&#x52A1;&#x5668;&#x8C03;&#x7528;servlet&#x7684;destroy&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x9500;&#x6BC1;&#x64CD;&#x4F5C;.","tags":[{"name":"JAVA WEB","slug":"JAVA-WEB","permalink":"https://marklogzhu.github.io/tags/JAVA-WEB/"}]},{"title":"web.xml","date":"2017-03-19T03:11:00.000Z","path":"Java/后台/Java/JavaWeb/01.web,xml/","text":"&#x4E00;&#x3001;web.xml&#x7B80;&#x4ECB;web.xml&#x662F;JavaWeb&#x9879;&#x76EE;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x4E3B;&#x8981;&#x7528;&#x6765;&#x914D;&#x7F6E;&#x6B22;&#x8FCE;&#x9875;&#x3001;servlet&#x3001;filter&#x7B49;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x7684;&#x9879;&#x76EE;&#x4E0D;&#x9700;&#x8981;&#x914D;&#x7F6E;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x7684;&#x8BDD;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4E0D;&#x521B;&#x5EFA;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6; &#x4E8C;&#x3001;&#x5E38;&#x7528;&#x6807;&#x7B7E; &#x6307;&#x5B9A;&#x6B22;&#x8FCE;&#x9875;&#x9762; 1234&lt;welcome-file-list&gt; &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt; &lt;welcome-file&gt;index1.jsp&lt;/welcome-file&gt;&lt;/welcome-file-list&gt; &#x6CE8;&#xFF1A;&#x6307;&#x5B9A;&#x4E24;&#x4E2A;&#x6B22;&#x8FCE;&#x9875;&#xFF0C;&#x5982;&#x679C;index.jsp&#x4E0D;&#x5B58;&#x5728;&#x5C31;&#x5BFB;&#x627E;index1.jsp &#x547D;&#x540D;&#x4E0E;&#x5B9A;&#x5236;URL(&#x5982;&#xFF1A;Servlet&#x548C;JSP) &#x547D;&#x540D; 123456&lt;servlet&gt; &lt;!-- Servlet&#x540D;&#x5B57;&#xFF0C;&#x53EF;&#x4EE5;&#x968F;&#x4FBF;&#x53D6;&#xFF0C;&#x6709;&#x591A;&#x4E2A;Servlet&#x65F6;&#x4E0D;&#x5141;&#x8BB8;&#x91CD;&#x540D; --&gt; &lt;servlet-name&gt;servlet1&lt;/servlet-name&gt; &lt;!-- &#x6307;&#x5B9A;&#x5B9E;&#x73B0;&#x8FD9;&#x4E2A;Servlet&#x7684;&#x7C7B;&#x3002;&#x5B8C;&#x6574;&#x7684;&#x5305;&#x540D;+&#x7C7B;&#x540D; --&gt; &lt;servlet-class&gt;net.test.TestServlet&lt;/servlet-class&gt;&lt;/servlet&gt; &#x5B9A;&#x4E49;URL 123456&lt;servlet-mapping&gt; &lt;!--&#x5FC5;&#x987B;&#x548C;&lt;servlet&gt;&#x91CC;&#x7684;&lt;servlet-name&gt;&#x5185;&#x5BB9;&#x4E00;&#x6837;--&gt; &lt;servlet-name&gt;servlet1&lt;/servlet-name&gt; &lt;!-- &#x6307;&#x5B9A;&#x8BBF;&#x95EE;&#x8FD9;&#x4E2A;Servlet&#x7684;URL&#x3002;&#x8FD9;&#x91CC;&#x7ED9;&#x51FA;&#x7684;&#x662F;&#x5BF9;&#x4E8E;&#x6574;&#x4E2A;Web&#x5E94;&#x7528;&#x7684;&#x76F8;&#x5BF9;URL&#x8DEF;&#x5F84; --&gt; &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;&lt; /servlet-mapping&gt; &#x5B9A;&#x5236;&#x521D;&#x59CB;&#x5316;&#x53C2;&#x6570; 1234567891011121314&lt;servlet&gt; &lt;servlet-name&gt;servlet1&lt;/servlet-name&gt; &lt;servlet-class&gt;net.test.TestServlet&lt;/servlet-class&gt; &lt;init-param&gt; &lt;!-- &#x53C2;&#x6570;&#x540D; --&gt; &lt;param-name&gt;E-mail&lt;/param-name&gt; &lt;!-- &#x53C2;&#x6570;&#x503C; --&gt; &lt;param-value&gt;Tommy@163.com&lt;/param-value&gt; &lt;/init-param&gt; &lt;init-param&gt; &lt;param-name&gt;userName&lt;/param-name&gt; &lt;param-value&gt;Tommy&lt;/param-value&gt; &lt;/init-param&gt;&lt; /servlet&gt; &#x5728;Servlet&#x7C7B;&#x4E2D;&#x53D6;&#x503C;&#xFF1A;getServletConfig().getInitParameter(&quot;E-mail&quot;) &#x6307;&#x5B9A;&#x9519;&#x8BEF;&#x5904;&#x7406;&#x9875;&#x9762; 12345&lt;!-- &#x9519;&#x8BEF;&#x7801; --&gt;&lt;error-page&gt; &lt;error-code&gt;404&lt;/error-code&gt; &lt;location&gt;/error404.jsp&lt;/location&gt;&lt;/error-page&gt; 12345&lt;!-- &#x5F02;&#x5E38;&#x7C7B;&#x578B; --&gt;&lt;error-page&gt; &lt;exception-type&gt;Java.lang.Exception&lt;exception-type&gt; &lt;location&gt;/exception.jsp&lt;location&gt;&lt;/error-page&gt; &#x8FC7;&#x6EE4;&#x5668; 12345678910111213&lt;filter&gt; &lt;!--&#x8FC7;&#x6EE4;&#x5668;&#x540D;&#xFF0C;&#x53EF;&#x4EE5;&#x968F;&#x4FBF;&#x53D6;&#xFF0C;&#x5F53;web&#x5E94;&#x7528;&#x4E2D;&#x6709;&#x591A;&#x4E2A;&#x8FC7;&#x6EE4;&#x5668;&#x65F6;&#x4E0D;&#x5141;&#x8BB8;&#x91CD;&#x540D; --&gt; &lt;filter-name&gt;XXXCharaSetFilter&lt;/filter-name&gt; &lt;!-- &#x5177;&#x4F53;&#x7684;&#x8FC7;&#x6EE4;&#x5668;&#x7684;&#x7C7B;&#x7684;&#x5B8C;&#x6574;&#x7684;&#x5305;&#x540D;+&#x7C7B;&#x540D;&#x3002;&#x6CE8;&#x610F;&#xFF1A;&#x4E0D;&#x80FD;&#x5199;&#x9519;&#x4E86;&#x3002;&#x5426;&#x5219;&#x5BB9;&#x5668;&#x4E0D;&#x80FD;&#x6B63;&#x786E;&#x7684;&#x5B9E;&#x4F8B;&#x5316;&#x8FC7;&#x6EE4;&#x5668; --&gt; &lt;filter-class&gt;net.test.CharSetFilter&lt;/filter-class&gt;&lt;/filter&gt;&lt;filter-mapping&gt; &lt;!-- &#x8FC7;&#x6EE4;&#x5668;&#x540D;&#xFF0C;&#x6CE8;&#x610F;&#x8981;&#x548C;&#x4E0A;&#x9762;&#x7684;&lt;filter-name&gt;&#x91CC;&#x7684;&#x540D;&#x5B57;&#x4E00;&#x6837; --&gt; &lt;filter-name&gt;XXXCharaSetFilter&lt;/filter-name&gt; &lt;!-- &#x6307;&#x5B9A;&#x8FC7;&#x6EE4;&#x5668;&#x8D1F;&#x8D23;&#x8FC7;&#x6EE4;&#x7684;URL&#x3002;&#x8FD9;&#x91CC;&#x6307;&#x5B9A;&#x4E86;*.jsp&#x8868;&#x793A;&#x5728;&#x8BBF;&#x95EE;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;jsp&#x9875;&#x9762;&#x65F6;&#x90FD;&#x4F1A;&#x5148;&#x4F7F;&#x7528;mypack.SampleFilter&#x8FC7;&#x6EE4;&#x5668;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;&#x3002;&#x5982;&#x679C;&#x5199;&#x6210;login.jsp.&#x5219;&#x53EA;&#x6709;&#x5728;&#x8BBF;&#x95EE;login.jsp&#x65F6;&#x624D;&#x4F1A;&#x8C03;&#x7528;&#x8BE5;&#x8FC7;&#x6EE4;&#x5668;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4; --&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt;&lt;/filter-mapping&gt; &#x76D1;&#x542C;&#x5668; 1234&lt;listener&gt; &lt;!-- &#x914D;&#x7F6E;&#x4F1A;&#x8BDD;&#x4FA6;&#x542C;&#x5668;&#xFF0C;class&#x8868;&#x793A;&#x4E00;&#x4E2A;HttpSessionListener&#x6216; HttpSessionActivationListener &#x6216; HttpSessionAttributeListener&#x6216; HttpSessionBindingListener&#x7684;&#x5B9E;&#x73B0;&#x7C7B;&#x3002;&#x8BE5;&#x8282;&#x70B9;&#x5141;&#x8BB8;&#x591A;&#x4E2A; --&gt; &lt;listener-class&gt;net.test.XXXLisenet&lt;/listener-class&gt;&lt;/listener&gt; &#x4F1A;&#x8BDD;(Session)&#x8FC7;&#x671F;&#x65F6;&#x95F4; 1234&lt;session-config&gt; &lt;!-- &#x8BBE;&#x5B9A; HttpSession &#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#x3002;&#x65F6;&#x95F4;&#x4EE5;&#x5206;&#x949F;&#x4E3A;&#x5355;&#x4F4D; --&gt; &lt;session-timeout&gt;60&lt;/session-timeout&gt;&lt;/session-config&gt; &#x4E09;&#x3001;&#x53C2;&#x8003;&#x6587;&#x7AE0;&#xFF1A; web&#x5DE5;&#x7A0B;&#x4E2D;&#x7684;web.xml&#x6587;&#x4EF6;&#x6709;&#x4EC0;&#x4E48;&#x4F5C;&#x7528;&#x5462;&#xFF1F; &#x4E00;&#x4E2A;&#x5F88;&#x8BE6;&#x7EC6;&#x7684;web.xml&#x8BB2;&#x89E3;","tags":[{"name":"JAVA WEB","slug":"JAVA-WEB","permalink":"https://marklogzhu.github.io/tags/JAVA-WEB/"}]},{"title":"条码的生成与打印输出","date":"2016-08-29T12:11:00.000Z","path":"NET/后台/Net/条码生成与打印/","text":"&#x73B0;&#x5982;&#x4ECA;&#x6761;&#x7801;&#x7684;&#x4F7F;&#x7528;&#x573A;&#x666F;&#x76F8;&#x5F53;&#x9891;&#x7E41;&#xFF0C;&#x4ECA;&#x5929;&#x5C31;&#x8BA9;&#x6211;&#x4EEC;&#x6765;&#x5B66;&#x4E60;&#x4E00;&#x4E0B;&#x6761;&#x7801;&#x7684;&#x751F;&#x6210;&#x4E0E;&#x6253;&#x5370; &#x6D89;&#x53CA;&#x77E5;&#x8BC6;&#x70B9; zxing&#x7684;&#x4F7F;&#x7528; zxing&#x7684;&#x6765;&#x7531; DLL&#x5F15;&#x7528; CODE_128&#x7801; DataMatrix&#x7801; &#x6253;&#x5370;&#x8F93;&#x51FA; &#x6253;&#x5370;&#x5DE5;&#x5177;&#x7C7B; &#x6253;&#x5370;&#x673A;&#x8BBE;&#x7F6E; &#x4E00;&#x3001;zxing&#x7684;&#x4F7F;&#x7528;zxing&#x7684;&#x6765;&#x7531;zxing &#x6700;&#x5F00;&#x59CB;&#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;Java&#x8BED;&#x8A00;&#x7F16;&#x5199;&#x7684;&#x5F00;&#x6E90;&#x7C7B;&#x5E93;&#xFF0C;&#x7528;&#x4E8E;&#x751F;&#x6210;/&#x89E3;&#x6790;&#x591A;&#x79CD;&#x683C;&#x5F0F;&#x7684;1D/2D&#x6761;&#x7801;&#x56FE;&#x50CF;&#x5904;&#x7406;&#x5E93;&#xFF0C;&#x540E;&#x9762;&#x63D0;&#x4F9B;&#x4E86;&#x591A;&#x4E2A;&#x5E73;&#x53F0;&#x7248;&#x672C;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x5982;&#x672C;&#x7BC7;&#x7528;&#x5230;&#x7684;.Net&#x7248;&#x672C;&#x3002; DLL&#x5F15;&#x7528; &#x9996;&#x5148;&#x53BB;&#x4ED6;&#x7684;&#x5B98;&#x7F51;&#x4E0B;&#x8F7D;dll&#x6587;&#x4EF6; &#x6DFB;&#x52A0;&#x5BF9;&#x5E94;.NET&#x7248;&#x672C;&#x7684;DLL CODE_128&#x7801;1234567891011121314151617181920212223242526272829/// &lt;summary&gt;/// &#x751F;&#x6210;&#x4E8C;&#x7EF4;&#x7801;/// &lt;/summary&gt;/// &lt;param name=&quot;data&quot;&gt;&#x6570;&#x636E;&#x6E90;&lt;/param&gt;/// &lt;param name=&quot;format&quot;&gt;&#x7F16;&#x7801;&#x683C;&#x5F0F;&lt;/param&gt;/// &lt;param name=&quot;width&quot;&gt;&#x6761;&#x7801;&#x5BBD;&#x5EA6;&lt;/param&gt;/// &lt;param name=&quot;height&quot;&gt;&#x6761;&#x7801;&#x9AD8;&#x5EA6;&lt;/param&gt; public Bitmap generationGraph(string data, BarcodeFormat format, int width, int height) { QrCodeEncodingOptions options = new QrCodeEncodingOptions { // &#x6392;&#x9519;&#x7387;&#x8D8A;&#x9AD8;&#xFF0C;&#x5B58;&#x50A8;&#x4FE1;&#x606F;&#x8D8A;&#x5C11;&#xFF0C;&#x4F46;&#x5BF9;&#x6E05;&#x6670;&#x5EA6;&#x8981;&#x6C42;&#x8D8A;&#x4F4E; ErrorCorrection = ErrorCorrectionLevel.H, DisableECI = true, // &#x8BBE;&#x7F6E;&#x5185;&#x5BB9;&#x7F16;&#x7801; CharacterSet = &quot;UTF-8&quot;, // &#x8BBE;&#x7F6E;&#x4E8C;&#x7EF4;&#x7801;&#x5BBD;&#x5EA6; Width = width, // &#x8BBE;&#x7F6E;&#x4E8C;&#x7EF4;&#x7801;&#x9AD8;&#x5EA6; Height = height, // &#x8BBE;&#x7F6E;&#x4E8C;&#x7EF4;&#x7801;&#x7684;&#x8FB9;&#x8DDD;,&#x5355;&#x4F4D;&#x4E0D;&#x662F;&#x56FA;&#x5B9A;&#x50CF;&#x7D20; Margin = 1, //&#x5E95;&#x90E8;&#x663E;&#x793A;&#x5185;&#x5BB9; PureBarcode = false }; BarcodeWriter writer = new BarcodeWriter(); // &#x8BBE;&#x7F6E;&#x7F16;&#x7801;&#x683C;&#x5F0F; writer.Format = format; writer.Options = options; return writer.Write(data); } &#x8C03;&#x7528;:1Bitmap bitmap = generationGraph(&quot;1234567890987654321&quot;,BarcodeFormat.CODE_128,100,200); DataMatrix&#x7801;123456789101112131415public Bitmap getDataMatrix(string inputData, int barcodeWidth, int barcodeHeight){ DatamatrixEncodingOptions options = new DatamatrixEncodingOptions() { Width = barcodeWidth,//&#x5BBD;&#x5EA6; Height = barcodeHeight,//&#x9AD8;&#x5EA6; Margin = 0, PureBarcode = true, SymbolShape = SymbolShapeHint.FORCE_SQUARE }; options.Hints.Add(EncodeHintType.ERROR_CORRECTION, ErrorCorrectionLevel.H); BarcodeWriter writer = new BarcodeWriter() { Format = BarcodeFormat.DATA_MATRIX, Options = options }; return writer.Write(inputData);} &#x8C03;&#x7528;: 1Bitmap bitmap = getDataMatrix(&quot;1234567890987654321&quot;,100,200); &#x6548;&#x679C;&#x56FE;&#xFF1A; &#x4E8C;&#x3001;&#x6253;&#x5370;&#x8F93;&#x51FA;&#x6253;&#x5370;&#x5DE5;&#x5177;&#x7C7B;&#x6761;&#x7801;&#x56FE;&#x7247;&#x751F;&#x6210;&#x4E86;&#x63A5;&#x4E0B;&#x6765;&#x81EA;&#x7136;&#x5C31;&#x662F;&#x6253;&#x5370;&#x8F93;&#x51FA;&#x5230;&#x7EB8;&#x5F20;&#x4E0A;&#x4E86;&#xFF0C;NET &#x6253;&#x5370;&#x65B9;&#x5F0F;&#x6709;&#x5F88;&#x591A;&#xFF0C;&#x8FD9;&#x6B21;&#x6211;&#x4EEC;&#x91C7;&#x7528; PrintDocument &#x6765;&#x8F93;&#x51FA;&#x6253;&#x5370;&#x3002;&#x4E8C;&#x8BDD;&#x4E0D;&#x8BF4;&#xFF0C;&#x76F4;&#x63A5;&#x4E0A;&#x4EE3;&#x7801;&#xFF01; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126namespace Barcode.util{ class PrintUtils { public static PrintUtils Instance = new PrintUtils(); private PrintDocument printDocument = null; /// &lt;summary&gt; /// &#x6761;&#x7801;&#x56FE;&#x7247; /// &lt;/summary&gt; private Image mBitmpa; /// &lt;summary&gt; /// &#x7EB8;&#x5F20;&#x5BBD;&#x5EA6; &#x5355;&#x4F4D;&#x5B9A;&#x4E49;&#x4E3A;&#x6BEB;&#x7C73;mm /// &lt;/summary&gt; public int paperWidth; /// &lt;summary&gt; /// &#x7EB8;&#x5F20;&#x9AD8;&#x5EA6; &#x5355;&#x4F4D;&#x5B9A;&#x4E49;&#x4E3A;&#x6BEB;&#x7C73;mm /// &lt;/summary&gt; public int paperHeight; private PrintUtils() { printDocument = new PrintDocument(); #region &#x6DFB;&#x52A0;&#x4E8B;&#x4EF6;&#x76D1;&#x542C; printDocument.BeginPrint += new PrintEventHandler(printDocument_BeginPrint); printDocument.PrintPage += new PrintPageEventHandler(printDocument_PrintPage); printDocument.EndPrint += new PrintEventHandler(printDocument_EndPrint); #endregion } #region &#x8BBE;&#x7F6E;&#x6253;&#x5370;&#x5C5E;&#x6027;&#x8BBE;&#x7F6E; /// &lt;summary&gt; /// &#x8BBE;&#x7F6E;&#x6253;&#x5370;&#x5C5E;&#x6027; /// &lt;/summary&gt; private void setPrintProperties() { // &#x8BBE;&#x7F6E;&#x6587;&#x6863;&#x540D; printDocument.DocumentName = &quot;&#x6761;&#x7801;&#x6253;&#x5370;&quot;;//&#x8BBE;&#x7F6E;&#x5B8C;&#x540E;&#x53EF;&#x5728;&#x6253;&#x5370;&#x5BF9;&#x8BDD;&#x6846;&#x53CA;&#x961F;&#x5217;&#x4E2D;&#x663E;&#x793A;&#xFF08;&#x9ED8;&#x8BA4;&#x663E;&#x793A;document&#xFF09; // &#x8BBE;&#x7F6E;&#x9009;&#x62E9;&#x7684;&#x6253;&#x5370;&#x673A;&#x540D;&#x79F0; printDocument.PrinterSettings.PrinterName = &quot;TEC B-SX5&quot;; // &#x8BBE;&#x7F6E;&#x7EB8;&#x5F20;&#x5927;&#x5C0F;&#xFF08;&#x53EF;&#x4EE5;&#x4E0D;&#x8BBE;&#x7F6E;&#x53D6;&#xFF0C;&#x53D6;&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;&#xFF09; PaperSize ps = new PaperSize(&quot;Your Paper Name&quot;, (int)(paperWidth / 25.4 * 100), (int)(paperHeight / 25.4 * 100)); ps.RawKind = 150; //&#x5982;&#x679C;&#x662F;&#x81EA;&#x5B9A;&#x4E49;&#x7EB8;&#x5F20;&#xFF0C;&#x5C31;&#x8981;&#x5927;&#x4E8E;118 printDocument.DefaultPageSettings.PaperSize = ps; printDocument.DefaultPageSettings.Landscape = true; } #endregion #region &#x6253;&#x5370;&#x673A;&#x4E8B;&#x4EF6;&#x76D1;&#x542C; #region &#x6253;&#x5370;&#x524D;&#x4E8B;&#x4EF6; /// &lt;summary&gt; /// &#x6253;&#x5370;&#x524D;&#x4E8B;&#x4EF6; /// &lt;/summary&gt; /// &lt;param name=&quot;sender&quot;&gt;&lt;/param&gt; /// &lt;param name=&quot;e&quot;&gt;&lt;/param&gt; void printDocument_BeginPrint(object sender, PrintEventArgs e) { //&#x8BBE;&#x7F6E;&#x6253;&#x5370;&#x5C5E;&#x6027; setPrintProperties(); } #endregion #region &#x6253;&#x5370;&#x8F93;&#x51FA;&#x65F6;(&#x8FC7;&#x7A0B;)&#x4E8B;&#x4EF6; /// &lt;summary&gt; /// &#x6253;&#x5370;&#x8F93;&#x51FA;&#x65F6;(&#x8FC7;&#x7A0B;)&#x4E8B;&#x4EF6; /// &lt;/summary&gt; /// &lt;param name=&quot;sender&quot;&gt;&lt;/param&gt; /// &lt;param name=&quot;e&quot;&gt;&lt;/param&gt; void printDocument_PrintPage(object sender, PrintPageEventArgs e) { // &#x6253;&#x5370;&#x8F93;&#x51FA;&#x4FE1;&#x606F; Graphics g = e.Graphics; g.SmoothingMode = System.Drawing.Drawing2D.SmoothingMode.AntiAlias; #region &#x5728;&#x753B;&#x5E03;&#x4E0A;&#x753B;&#x56FE;&#x7247; g.DrawImage( mBitmpa, new System.Drawing.Rectangle(5, 5, mBitmpa.Width, mBitmpa.Height), new System.Drawing.Rectangle(0, 0, mBitmpa.Width, mBitmpa.Height), System.Drawing.GraphicsUnit.Pixel); #endregion } #endregion #region &#x6253;&#x5370;&#x7ED3;&#x675F;&#x4E8B;&#x4EF6; /// &lt;summary&gt; /// &#x6253;&#x5370;&#x7ED3;&#x675F;&#x4E8B;&#x4EF6; /// &lt;/summary&gt; /// &lt;param name=&quot;sender&quot;&gt;&lt;/param&gt; /// &lt;param name=&quot;e&quot;&gt;&lt;/param&gt; void printDocument_EndPrint(object sender, PrintEventArgs e) { // &#x6253;&#x5370;&#x7ED3;&#x675F;&#x540E;&#x76F8;&#x5173;&#x64CD;&#x4F5C; } #endregion #endregion #region &#x6253;&#x5370;&#x9884;&#x89C8; /// &lt;summary&gt; /// &#x6253;&#x5370;&#x9884;&#x89C8; /// &lt;/summary&gt; /// &lt;param name=&quot;mBitmpa&quot;&gt;&lt;/param&gt; public void printPreview(Image mBitmpa, int paperWidth, int paperHeight) { this.mBitmpa = mBitmpa; this.paperWidth = paperWidth; this.paperHeight = paperHeight; PrintPreviewDialog ppd = new PrintPreviewDialog(); ppd.Document = printDocument; ppd.ShowDialog(); } #endregion #region &#x6253;&#x5370;&#x56FE;&#x7247; /// &lt;summary&gt; /// &#x6253;&#x5370;&#x56FE;&#x7247; /// &lt;/summary&gt; /// &lt;param name=&quot;mBitmpa&quot;&gt;&#x56FE;&#x7247;&#x6E90;&lt;/param&gt; /// &lt;param name=&quot;mModel&quot;&gt;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&lt;/param&gt; public void printPicture(Image mBitmpa, int paperWidth, int paperHeight) { this.mBitmpa = mBitmpa; this.paperWidth = paperWidth; this.paperHeight = paperHeight; printDocument.Print(); } #endregion }} &#x8C03;&#x7528;:1PrintUtils.Instance.printPreview(this.pictureBox1.Image, pictureBox1.Width, pictureBox1.Height); &#x6253;&#x5370;&#x673A;&#x8BBE;&#x7F6E;&#x672C;&#x6B21;&#x6253;&#x5370;&#x673A;&#x91C7;&#x7528; &#x4E1C;&#x829D;B-SX5&#xFF0C;&#x7EB8;&#x5F20;&#x5F62;&#x72B6;&#x4E3A;&#x5377;&#x72B6;&#xFF0C;&#x5E76;&#x4E14;&#x4E24;&#x5F20;&#x4E4B;&#x95F4;&#x6709;&#x95F4;&#x9694;&#x3002;&#x6253;&#x5370;&#x673A;&#x5982;&#x679C;&#x672A;&#x8BBE;&#x7F6E;&#x597D;&#x7684;&#x8BDD;&#xFF0C;&#x4F1A;&#x51FA;&#x73B0;&#x51FA;&#x7EB8;&#x957F;&#x5EA6;&#x4E0D;&#x4E00;&#x7684;&#x73B0;&#x8C61;&#x3002;","tags":[{"name":"C#","slug":"C","permalink":"https://marklogzhu.github.io/tags/C/"}]}]